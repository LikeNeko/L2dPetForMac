/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/dist/";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/main.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./Framework/src/cubismdefaultparameterid.ts":
/*!***************************************************!*\
  !*** ./Framework/src/cubismdefaultparameterid.ts ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    Live2DCubismFramework.HitAreaPrefix = 'HitArea';\n    Live2DCubismFramework.HitAreaHead = 'Head';\n    Live2DCubismFramework.HitAreaBody = 'Body';\n    Live2DCubismFramework.PartsIdCore = 'Parts01Core';\n    Live2DCubismFramework.PartsArmPrefix = 'Parts01Arm_';\n    Live2DCubismFramework.PartsArmLPrefix = 'Parts01ArmL_';\n    Live2DCubismFramework.PartsArmRPrefix = 'Parts01ArmR_';\n    Live2DCubismFramework.ParamAngleX = 'ParamAngleX';\n    Live2DCubismFramework.ParamAngleY = 'ParamAngleY';\n    Live2DCubismFramework.ParamAngleZ = 'ParamAngleZ';\n    Live2DCubismFramework.ParamEyeLOpen = 'ParamEyeLOpen';\n    Live2DCubismFramework.ParamEyeLSmile = 'ParamEyeLSmile';\n    Live2DCubismFramework.ParamEyeROpen = 'ParamEyeROpen';\n    Live2DCubismFramework.ParamEyeRSmile = 'ParamEyeRSmile';\n    Live2DCubismFramework.ParamEyeBallX = 'ParamEyeBallX';\n    Live2DCubismFramework.ParamEyeBallY = 'ParamEyeBallY';\n    Live2DCubismFramework.ParamEyeBallForm = 'ParamEyeBallForm';\n    Live2DCubismFramework.ParamBrowLY = 'ParamBrowLY';\n    Live2DCubismFramework.ParamBrowRY = 'ParamBrowRY';\n    Live2DCubismFramework.ParamBrowLX = 'ParamBrowLX';\n    Live2DCubismFramework.ParamBrowRX = 'ParamBrowRX';\n    Live2DCubismFramework.ParamBrowLAngle = 'ParamBrowLAngle';\n    Live2DCubismFramework.ParamBrowRAngle = 'ParamBrowRAngle';\n    Live2DCubismFramework.ParamBrowLForm = 'ParamBrowLForm';\n    Live2DCubismFramework.ParamBrowRForm = 'ParamBrowRForm';\n    Live2DCubismFramework.ParamMouthForm = 'ParamMouthForm';\n    Live2DCubismFramework.ParamMouthOpenY = 'ParamMouthOpenY';\n    Live2DCubismFramework.ParamCheek = 'ParamCheek';\n    Live2DCubismFramework.ParamBodyAngleX = 'ParamBodyAngleX';\n    Live2DCubismFramework.ParamBodyAngleY = 'ParamBodyAngleY';\n    Live2DCubismFramework.ParamBodyAngleZ = 'ParamBodyAngleZ';\n    Live2DCubismFramework.ParamBreath = 'ParamBreath';\n    Live2DCubismFramework.ParamArmLA = 'ParamArmLA';\n    Live2DCubismFramework.ParamArmRA = 'ParamArmRA';\n    Live2DCubismFramework.ParamArmLB = 'ParamArmLB';\n    Live2DCubismFramework.ParamArmRB = 'ParamArmRB';\n    Live2DCubismFramework.ParamHandL = 'ParamHandL';\n    Live2DCubismFramework.ParamHandR = 'ParamHandR';\n    Live2DCubismFramework.ParamHairFront = 'ParamHairFront';\n    Live2DCubismFramework.ParamHairSide = 'ParamHairSide';\n    Live2DCubismFramework.ParamHairBack = 'ParamHairBack';\n    Live2DCubismFramework.ParamHairFluffy = 'ParamHairFluffy';\n    Live2DCubismFramework.ParamShoulderY = 'ParamShoulderY';\n    Live2DCubismFramework.ParamBustX = 'ParamBustX';\n    Live2DCubismFramework.ParamBustY = 'ParamBustY';\n    Live2DCubismFramework.ParamBaseX = 'ParamBaseX';\n    Live2DCubismFramework.ParamBaseY = 'ParamBaseY';\n    Live2DCubismFramework.ParamNONE = 'NONE:';\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL2N1YmlzbWRlZmF1bHRwYXJhbWV0ZXJpZC50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL0ZyYW1ld29yay9zcmMvY3ViaXNtZGVmYXVsdHBhcmFtZXRlcmlkLnRzPzEyODciXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTGl2ZTJEIE9wZW4gU29mdHdhcmUgbGljZW5zZVxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXG4gKi9cblxuLyoqXG4gKiBAYnJpZWYg44OR44Op44Oh44O844K/SUTjga7jg4fjg5Xjgqnjg6vjg4jlgKTjgpLkv53mjIHjgZnjgovlrprmlbA8YnI+XG4gKiAgICAgICAgIOODh+ODleOCqeODq+ODiOWApOOBruS7leanmOOBr+S7peS4i+OBruODnuODi+ODpeOCouODq+OBq+WfuuOBpeOBjzxicj5cbiAqICAgICAgICAgaHR0cHM6Ly9kb2NzLmxpdmUyZC5jb20vY3ViaXNtLWVkaXRvci1tYW51YWwvc3RhbmRhcmQtcGFyYW1ldG9yLWxpc3QvXG4gKi9cbmV4cG9ydCBuYW1lc3BhY2UgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIHtcbiAgLy8g44OR44O844OESURcbiAgZXhwb3J0IGNvbnN0IEhpdEFyZWFQcmVmaXggPSAnSGl0QXJlYSc7XG4gIGV4cG9ydCBjb25zdCBIaXRBcmVhSGVhZCA9ICdIZWFkJztcbiAgZXhwb3J0IGNvbnN0IEhpdEFyZWFCb2R5ID0gJ0JvZHknO1xuICBleHBvcnQgY29uc3QgUGFydHNJZENvcmUgPSAnUGFydHMwMUNvcmUnO1xuICBleHBvcnQgY29uc3QgUGFydHNBcm1QcmVmaXggPSAnUGFydHMwMUFybV8nO1xuICBleHBvcnQgY29uc3QgUGFydHNBcm1MUHJlZml4ID0gJ1BhcnRzMDFBcm1MXyc7XG4gIGV4cG9ydCBjb25zdCBQYXJ0c0FybVJQcmVmaXggPSAnUGFydHMwMUFybVJfJztcblxuICAvLyDjg5Hjg6njg6Hjg7zjgr9JRFxuICBleHBvcnQgY29uc3QgUGFyYW1BbmdsZVggPSAnUGFyYW1BbmdsZVgnO1xuICBleHBvcnQgY29uc3QgUGFyYW1BbmdsZVkgPSAnUGFyYW1BbmdsZVknO1xuICBleHBvcnQgY29uc3QgUGFyYW1BbmdsZVogPSAnUGFyYW1BbmdsZVonO1xuICBleHBvcnQgY29uc3QgUGFyYW1FeWVMT3BlbiA9ICdQYXJhbUV5ZUxPcGVuJztcbiAgZXhwb3J0IGNvbnN0IFBhcmFtRXllTFNtaWxlID0gJ1BhcmFtRXllTFNtaWxlJztcbiAgZXhwb3J0IGNvbnN0IFBhcmFtRXllUk9wZW4gPSAnUGFyYW1FeWVST3Blbic7XG4gIGV4cG9ydCBjb25zdCBQYXJhbUV5ZVJTbWlsZSA9ICdQYXJhbUV5ZVJTbWlsZSc7XG4gIGV4cG9ydCBjb25zdCBQYXJhbUV5ZUJhbGxYID0gJ1BhcmFtRXllQmFsbFgnO1xuICBleHBvcnQgY29uc3QgUGFyYW1FeWVCYWxsWSA9ICdQYXJhbUV5ZUJhbGxZJztcbiAgZXhwb3J0IGNvbnN0IFBhcmFtRXllQmFsbEZvcm0gPSAnUGFyYW1FeWVCYWxsRm9ybSc7XG4gIGV4cG9ydCBjb25zdCBQYXJhbUJyb3dMWSA9ICdQYXJhbUJyb3dMWSc7XG4gIGV4cG9ydCBjb25zdCBQYXJhbUJyb3dSWSA9ICdQYXJhbUJyb3dSWSc7XG4gIGV4cG9ydCBjb25zdCBQYXJhbUJyb3dMWCA9ICdQYXJhbUJyb3dMWCc7XG4gIGV4cG9ydCBjb25zdCBQYXJhbUJyb3dSWCA9ICdQYXJhbUJyb3dSWCc7XG4gIGV4cG9ydCBjb25zdCBQYXJhbUJyb3dMQW5nbGUgPSAnUGFyYW1Ccm93TEFuZ2xlJztcbiAgZXhwb3J0IGNvbnN0IFBhcmFtQnJvd1JBbmdsZSA9ICdQYXJhbUJyb3dSQW5nbGUnO1xuICBleHBvcnQgY29uc3QgUGFyYW1Ccm93TEZvcm0gPSAnUGFyYW1Ccm93TEZvcm0nO1xuICBleHBvcnQgY29uc3QgUGFyYW1Ccm93UkZvcm0gPSAnUGFyYW1Ccm93UkZvcm0nO1xuICBleHBvcnQgY29uc3QgUGFyYW1Nb3V0aEZvcm0gPSAnUGFyYW1Nb3V0aEZvcm0nO1xuICBleHBvcnQgY29uc3QgUGFyYW1Nb3V0aE9wZW5ZID0gJ1BhcmFtTW91dGhPcGVuWSc7XG4gIGV4cG9ydCBjb25zdCBQYXJhbUNoZWVrID0gJ1BhcmFtQ2hlZWsnO1xuICBleHBvcnQgY29uc3QgUGFyYW1Cb2R5QW5nbGVYID0gJ1BhcmFtQm9keUFuZ2xlWCc7XG4gIGV4cG9ydCBjb25zdCBQYXJhbUJvZHlBbmdsZVkgPSAnUGFyYW1Cb2R5QW5nbGVZJztcbiAgZXhwb3J0IGNvbnN0IFBhcmFtQm9keUFuZ2xlWiA9ICdQYXJhbUJvZHlBbmdsZVonO1xuICBleHBvcnQgY29uc3QgUGFyYW1CcmVhdGggPSAnUGFyYW1CcmVhdGgnO1xuICBleHBvcnQgY29uc3QgUGFyYW1Bcm1MQSA9ICdQYXJhbUFybUxBJztcbiAgZXhwb3J0IGNvbnN0IFBhcmFtQXJtUkEgPSAnUGFyYW1Bcm1SQSc7XG4gIGV4cG9ydCBjb25zdCBQYXJhbUFybUxCID0gJ1BhcmFtQXJtTEInO1xuICBleHBvcnQgY29uc3QgUGFyYW1Bcm1SQiA9ICdQYXJhbUFybVJCJztcbiAgZXhwb3J0IGNvbnN0IFBhcmFtSGFuZEwgPSAnUGFyYW1IYW5kTCc7XG4gIGV4cG9ydCBjb25zdCBQYXJhbUhhbmRSID0gJ1BhcmFtSGFuZFInO1xuICBleHBvcnQgY29uc3QgUGFyYW1IYWlyRnJvbnQgPSAnUGFyYW1IYWlyRnJvbnQnO1xuICBleHBvcnQgY29uc3QgUGFyYW1IYWlyU2lkZSA9ICdQYXJhbUhhaXJTaWRlJztcbiAgZXhwb3J0IGNvbnN0IFBhcmFtSGFpckJhY2sgPSAnUGFyYW1IYWlyQmFjayc7XG4gIGV4cG9ydCBjb25zdCBQYXJhbUhhaXJGbHVmZnkgPSAnUGFyYW1IYWlyRmx1ZmZ5JztcbiAgZXhwb3J0IGNvbnN0IFBhcmFtU2hvdWxkZXJZID0gJ1BhcmFtU2hvdWxkZXJZJztcbiAgZXhwb3J0IGNvbnN0IFBhcmFtQnVzdFggPSAnUGFyYW1CdXN0WCc7XG4gIGV4cG9ydCBjb25zdCBQYXJhbUJ1c3RZID0gJ1BhcmFtQnVzdFknO1xuICBleHBvcnQgY29uc3QgUGFyYW1CYXNlWCA9ICdQYXJhbUJhc2VYJztcbiAgZXhwb3J0IGNvbnN0IFBhcmFtQmFzZVkgPSAnUGFyYW1CYXNlWSc7XG4gIGV4cG9ydCBjb25zdCBQYXJhbU5PTkUgPSAnTk9ORTonO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7QUFZQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Framework/src/cubismdefaultparameterid.ts\n");

/***/ }),

/***/ "./Framework/src/cubismframeworkconfig.ts":
/*!************************************************!*\
  !*** ./Framework/src/cubismframeworkconfig.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CSM_LOG_LEVEL = exports.CSM_LOG_LEVEL_OFF = exports.CSM_LOG_LEVEL_ERROR = exports.CSM_LOG_LEVEL_WARNING = exports.CSM_LOG_LEVEL_INFO = exports.CSM_LOG_LEVEL_DEBUG = exports.CSM_LOG_LEVEL_VERBOSE = void 0;\nexports.CSM_LOG_LEVEL_VERBOSE = 0;\nexports.CSM_LOG_LEVEL_DEBUG = 1;\nexports.CSM_LOG_LEVEL_INFO = 2;\nexports.CSM_LOG_LEVEL_WARNING = 3;\nexports.CSM_LOG_LEVEL_ERROR = 4;\nexports.CSM_LOG_LEVEL_OFF = 5;\nexports.CSM_LOG_LEVEL = exports.CSM_LOG_LEVEL_VERBOSE;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL2N1YmlzbWZyYW1ld29ya2NvbmZpZy50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL0ZyYW1ld29yay9zcmMvY3ViaXNtZnJhbWV3b3JrY29uZmlnLnRzP2U4MGYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTGl2ZTJEIE9wZW4gU29mdHdhcmUgbGljZW5zZVxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXG4gKi9cblxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gIOODreOCsOWHuuWKm+mWouaVsOOBruioreWumlxuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vLy0tLS0tLS0tLS0g44Ot44Kw5Ye65Yqb44Os44OZ44OrIOmBuOaKnumgheebriDlrprnvqkgLS0tLS0tLS0tLVxuLy8g6Kmz57Sw44Ot44Kw5Ye65Yqb6Kit5a6aXG5leHBvcnQgY29uc3QgQ1NNX0xPR19MRVZFTF9WRVJCT1NFID0gMDtcbi8vIOODh+ODkOODg+OCsOODreOCsOWHuuWKm+ioreWumlxuZXhwb3J0IGNvbnN0IENTTV9MT0dfTEVWRUxfREVCVUcgPSAxO1xuLy8gSW5mb+ODreOCsOWHuuWKm+ioreWumlxuZXhwb3J0IGNvbnN0IENTTV9MT0dfTEVWRUxfSU5GTyA9IDI7XG4vLyDorablkYrjg63jgrDlh7rlipvoqK3lrppcbmV4cG9ydCBjb25zdCBDU01fTE9HX0xFVkVMX1dBUk5JTkcgPSAzO1xuLy8g44Ko44Op44O844Ot44Kw5Ye65Yqb6Kit5a6aXG5leHBvcnQgY29uc3QgQ1NNX0xPR19MRVZFTF9FUlJPUiA9IDQ7XG4vLyDjg63jgrDlh7rlipvjgqrjg5XoqK3lrppcbmV4cG9ydCBjb25zdCBDU01fTE9HX0xFVkVMX09GRiA9IDU7XG5cbi8qKlxuICog44Ot44Kw5Ye65Yqb44Os44OZ44Or6Kit5a6a44CCXG4gKlxuICog5by35Yi255qE44Gr44Ot44Kw5Ye65Yqb44Os44OZ44Or44KS5aSJ44GI44KL5pmC44Gr5a6a576p44KS5pyJ5Yq544Gr44GZ44KL44CCXG4gKiBDU01fTE9HX0xFVkVMX1ZFUkJPU0Ug772eIENTTV9MT0dfTEVWRUxfT0ZGIOOCkumBuOaKnuOBmeOCi+OAglxuICovXG5leHBvcnQgY29uc3QgQ1NNX0xPR19MRVZFTDogbnVtYmVyID0gQ1NNX0xPR19MRVZFTF9WRVJCT1NFO1xuIl0sIm1hcHBpbmdzIjoiOzs7QUFhQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFRQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Framework/src/cubismframeworkconfig.ts\n");

/***/ }),

/***/ "./Framework/src/cubismmodelsettingjson.ts":
/*!*************************************************!*\
  !*** ./Framework/src/cubismmodelsettingjson.ts ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar live2dcubismframework_1 = __webpack_require__(/*! ./live2dcubismframework */ \"./Framework/src/live2dcubismframework.ts\");\nvar icubismmodelsetting_1 = __webpack_require__(/*! ./icubismmodelsetting */ \"./Framework/src/icubismmodelsetting.ts\");\nvar cubismjson_1 = __webpack_require__(/*! ./utils/cubismjson */ \"./Framework/src/utils/cubismjson.ts\");\nvar csmvector_1 = __webpack_require__(/*! ./type/csmvector */ \"./Framework/src/type/csmvector.ts\");\nvar csmVector = csmvector_1.Live2DCubismFramework.csmVector;\nvar CubismFramework = live2dcubismframework_1.Live2DCubismFramework.CubismFramework;\nvar CubismJson = cubismjson_1.Live2DCubismFramework.CubismJson;\nvar ICubismModelSetting = icubismmodelsetting_1.Live2DCubismFramework.ICubismModelSetting;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var Version = 'Version';\n    var FileReferences = 'FileReferences';\n    var Groups = 'Groups';\n    var Layout = 'Layout';\n    var HitAreas = 'HitAreas';\n    var Moc = 'Moc';\n    var Textures = 'Textures';\n    var Physics = 'Physics';\n    var Pose = 'Pose';\n    var Expressions = 'Expressions';\n    var Motions = 'Motions';\n    var UserData = 'UserData';\n    var Name = 'Name';\n    var FilePath = 'File';\n    var Id = 'Id';\n    var Ids = 'Ids';\n    var Target = 'Target';\n    var Idle = 'Idle';\n    var TapBody = 'TapBody';\n    var PinchIn = 'PinchIn';\n    var PinchOut = 'PinchOut';\n    var Shake = 'Shake';\n    var FlickHead = 'FlickHead';\n    var Parameter = 'Parameter';\n    var SoundPath = 'Sound';\n    var FadeInTime = 'FadeInTime';\n    var FadeOutTime = 'FadeOutTime';\n    var CenterX = 'CenterX';\n    var CenterY = 'CenterY';\n    var X = 'X';\n    var Y = 'Y';\n    var Width = 'Width';\n    var Height = 'Height';\n    var LipSync = 'LipSync';\n    var EyeBlink = 'EyeBlink';\n    var InitParameter = 'init_param';\n    var InitPartsVisible = 'init_parts_visible';\n    var Val = 'val';\n    var FrequestNode;\n    (function (FrequestNode) {\n        FrequestNode[FrequestNode[\"FrequestNode_Groups\"] = 0] = \"FrequestNode_Groups\";\n        FrequestNode[FrequestNode[\"FrequestNode_Moc\"] = 1] = \"FrequestNode_Moc\";\n        FrequestNode[FrequestNode[\"FrequestNode_Motions\"] = 2] = \"FrequestNode_Motions\";\n        FrequestNode[FrequestNode[\"FrequestNode_Expressions\"] = 3] = \"FrequestNode_Expressions\";\n        FrequestNode[FrequestNode[\"FrequestNode_Textures\"] = 4] = \"FrequestNode_Textures\";\n        FrequestNode[FrequestNode[\"FrequestNode_Physics\"] = 5] = \"FrequestNode_Physics\";\n        FrequestNode[FrequestNode[\"FrequestNode_Pose\"] = 6] = \"FrequestNode_Pose\";\n        FrequestNode[FrequestNode[\"FrequestNode_HitAreas\"] = 7] = \"FrequestNode_HitAreas\";\n    })(FrequestNode || (FrequestNode = {}));\n    var CubismModelSettingJson = (function (_super) {\n        __extends(CubismModelSettingJson, _super);\n        function CubismModelSettingJson(buffer, size) {\n            var _this = _super.call(this) || this;\n            _this._json = CubismJson.create(buffer, size);\n            if (_this._json) {\n                _this._jsonValue = new csmVector();\n                _this._jsonValue.pushBack(_this._json.getRoot().getValueByString(Groups));\n                _this._jsonValue.pushBack(_this._json\n                    .getRoot()\n                    .getValueByString(FileReferences)\n                    .getValueByString(Moc));\n                _this._jsonValue.pushBack(_this._json\n                    .getRoot()\n                    .getValueByString(FileReferences)\n                    .getValueByString(Motions));\n                _this._jsonValue.pushBack(_this._json\n                    .getRoot()\n                    .getValueByString(FileReferences)\n                    .getValueByString(Expressions));\n                _this._jsonValue.pushBack(_this._json\n                    .getRoot()\n                    .getValueByString(FileReferences)\n                    .getValueByString(Textures));\n                _this._jsonValue.pushBack(_this._json\n                    .getRoot()\n                    .getValueByString(FileReferences)\n                    .getValueByString(Physics));\n                _this._jsonValue.pushBack(_this._json\n                    .getRoot()\n                    .getValueByString(FileReferences)\n                    .getValueByString(Pose));\n                _this._jsonValue.pushBack(_this._json.getRoot().getValueByString(HitAreas));\n            }\n            return _this;\n        }\n        CubismModelSettingJson.prototype.release = function () {\n            CubismJson.delete(this._json);\n            this._jsonValue = null;\n        };\n        CubismModelSettingJson.prototype.GetJson = function () {\n            return this._json;\n        };\n        CubismModelSettingJson.prototype.getModelFileName = function () {\n            if (!this.isExistModelFile()) {\n                return '';\n            }\n            return this._jsonValue.at(FrequestNode.FrequestNode_Moc).getRawString();\n        };\n        CubismModelSettingJson.prototype.getTextureCount = function () {\n            if (!this.isExistTextureFiles()) {\n                return 0;\n            }\n            return this._jsonValue.at(FrequestNode.FrequestNode_Textures).getSize();\n        };\n        CubismModelSettingJson.prototype.getTextureDirectory = function () {\n            return this._jsonValue\n                .at(FrequestNode.FrequestNode_Textures)\n                .getRawString();\n        };\n        CubismModelSettingJson.prototype.getTextureFileName = function (index) {\n            return this._jsonValue\n                .at(FrequestNode.FrequestNode_Textures)\n                .getValueByIndex(index)\n                .getRawString();\n        };\n        CubismModelSettingJson.prototype.getHitAreasCount = function () {\n            if (!this.isExistHitAreas()) {\n                return 0;\n            }\n            return this._jsonValue.at(FrequestNode.FrequestNode_HitAreas).getSize();\n        };\n        CubismModelSettingJson.prototype.getHitAreaId = function (index) {\n            return CubismFramework.getIdManager().getId(this._jsonValue\n                .at(FrequestNode.FrequestNode_HitAreas)\n                .getValueByIndex(index)\n                .getValueByString(Id)\n                .getRawString());\n        };\n        CubismModelSettingJson.prototype.getHitAreaName = function (index) {\n            return this._jsonValue\n                .at(FrequestNode.FrequestNode_HitAreas)\n                .getValueByIndex(index)\n                .getValueByString(Name)\n                .getRawString();\n        };\n        CubismModelSettingJson.prototype.getPhysicsFileName = function () {\n            if (!this.isExistPhysicsFile()) {\n                return '';\n            }\n            return this._jsonValue\n                .at(FrequestNode.FrequestNode_Physics)\n                .getRawString();\n        };\n        CubismModelSettingJson.prototype.getPoseFileName = function () {\n            if (!this.isExistPoseFile()) {\n                return '';\n            }\n            return this._jsonValue.at(FrequestNode.FrequestNode_Pose).getRawString();\n        };\n        CubismModelSettingJson.prototype.getExpressionCount = function () {\n            if (!this.isExistExpressionFile()) {\n                return 0;\n            }\n            return this._jsonValue\n                .at(FrequestNode.FrequestNode_Expressions)\n                .getSize();\n        };\n        CubismModelSettingJson.prototype.getExpressionName = function (index) {\n            return this._jsonValue\n                .at(FrequestNode.FrequestNode_Expressions)\n                .getValueByIndex(index)\n                .getValueByString(Name)\n                .getRawString();\n        };\n        CubismModelSettingJson.prototype.getExpressionFileName = function (index) {\n            return this._jsonValue\n                .at(FrequestNode.FrequestNode_Expressions)\n                .getValueByIndex(index)\n                .getValueByString(FilePath)\n                .getRawString();\n        };\n        CubismModelSettingJson.prototype.getMotionGroupCount = function () {\n            if (!this.isExistMotionGroups()) {\n                return 0;\n            }\n            return this._jsonValue\n                .at(FrequestNode.FrequestNode_Motions)\n                .getKeys()\n                .getSize();\n        };\n        CubismModelSettingJson.prototype.getMotionGroupName = function (index) {\n            if (!this.isExistMotionGroups()) {\n                return null;\n            }\n            return this._jsonValue\n                .at(FrequestNode.FrequestNode_Motions)\n                .getKeys()\n                .at(index);\n        };\n        CubismModelSettingJson.prototype.getMotionCount = function (groupName) {\n            if (!this.isExistMotionGroupName(groupName)) {\n                return 0;\n            }\n            return this._jsonValue\n                .at(FrequestNode.FrequestNode_Motions)\n                .getValueByString(groupName)\n                .getSize();\n        };\n        CubismModelSettingJson.prototype.getMotionFileName = function (groupName, index) {\n            if (!this.isExistMotionGroupName(groupName)) {\n                return '';\n            }\n            return this._jsonValue\n                .at(FrequestNode.FrequestNode_Motions)\n                .getValueByString(groupName)\n                .getValueByIndex(index)\n                .getValueByString(FilePath)\n                .getRawString();\n        };\n        CubismModelSettingJson.prototype.getMotionSoundFileName = function (groupName, index) {\n            if (!this.isExistMotionSoundFile(groupName, index)) {\n                return '';\n            }\n            return this._jsonValue\n                .at(FrequestNode.FrequestNode_Motions)\n                .getValueByString(groupName)\n                .getValueByIndex(index)\n                .getValueByString(SoundPath)\n                .getRawString();\n        };\n        CubismModelSettingJson.prototype.getMotionFadeInTimeValue = function (groupName, index) {\n            if (!this.isExistMotionFadeIn(groupName, index)) {\n                return -1.0;\n            }\n            return this._jsonValue\n                .at(FrequestNode.FrequestNode_Motions)\n                .getValueByString(groupName)\n                .getValueByIndex(index)\n                .getValueByString(FadeInTime)\n                .toFloat();\n        };\n        CubismModelSettingJson.prototype.getMotionFadeOutTimeValue = function (groupName, index) {\n            if (!this.isExistMotionFadeOut(groupName, index)) {\n                return -1.0;\n            }\n            return this._jsonValue\n                .at(FrequestNode.FrequestNode_Motions)\n                .getValueByString(groupName)\n                .getValueByIndex(index)\n                .getValueByString(FadeOutTime)\n                .toFloat();\n        };\n        CubismModelSettingJson.prototype.getUserDataFile = function () {\n            if (!this.isExistUserDataFile()) {\n                return '';\n            }\n            return this._json\n                .getRoot()\n                .getValueByString(FileReferences)\n                .getValueByString(UserData)\n                .getRawString();\n        };\n        CubismModelSettingJson.prototype.getLayoutMap = function (outLayoutMap) {\n            var map = this._json\n                .getRoot()\n                .getValueByString(Layout)\n                .getMap();\n            if (map == null) {\n                return false;\n            }\n            var ret = false;\n            for (var ite = map.begin(); ite.notEqual(map.end()); ite.preIncrement()) {\n                outLayoutMap.setValue(ite.ptr().first, ite.ptr().second.toFloat());\n                ret = true;\n            }\n            return ret;\n        };\n        CubismModelSettingJson.prototype.getEyeBlinkParameterCount = function () {\n            if (!this.isExistEyeBlinkParameters()) {\n                return 0;\n            }\n            var num = 0;\n            for (var i = 0; i < this._jsonValue.at(FrequestNode.FrequestNode_Groups).getSize(); i++) {\n                var refI = this._jsonValue\n                    .at(FrequestNode.FrequestNode_Groups)\n                    .getValueByIndex(i);\n                if (refI.isNull() || refI.isError()) {\n                    continue;\n                }\n                if (refI.getValueByString(Name).getRawString() == EyeBlink) {\n                    num = refI\n                        .getValueByString(Ids)\n                        .getVector()\n                        .getSize();\n                    break;\n                }\n            }\n            return num;\n        };\n        CubismModelSettingJson.prototype.getEyeBlinkParameterId = function (index) {\n            if (!this.isExistEyeBlinkParameters()) {\n                return null;\n            }\n            for (var i = 0; i < this._jsonValue.at(FrequestNode.FrequestNode_Groups).getSize(); i++) {\n                var refI = this._jsonValue\n                    .at(FrequestNode.FrequestNode_Groups)\n                    .getValueByIndex(i);\n                if (refI.isNull() || refI.isError()) {\n                    continue;\n                }\n                if (refI.getValueByString(Name).getRawString() == EyeBlink) {\n                    return CubismFramework.getIdManager().getId(refI\n                        .getValueByString(Ids)\n                        .getValueByIndex(index)\n                        .getRawString());\n                }\n            }\n            return null;\n        };\n        CubismModelSettingJson.prototype.getLipSyncParameterCount = function () {\n            if (!this.isExistLipSyncParameters()) {\n                return 0;\n            }\n            var num = 0;\n            for (var i = 0; i < this._jsonValue.at(FrequestNode.FrequestNode_Groups).getSize(); i++) {\n                var refI = this._jsonValue\n                    .at(FrequestNode.FrequestNode_Groups)\n                    .getValueByIndex(i);\n                if (refI.isNull() || refI.isError()) {\n                    continue;\n                }\n                if (refI.getValueByString(Name).getRawString() == LipSync) {\n                    num = refI\n                        .getValueByString(Ids)\n                        .getVector()\n                        .getSize();\n                    break;\n                }\n            }\n            return num;\n        };\n        CubismModelSettingJson.prototype.getLipSyncParameterId = function (index) {\n            if (!this.isExistLipSyncParameters()) {\n                return null;\n            }\n            for (var i = 0; i < this._jsonValue.at(FrequestNode.FrequestNode_Groups).getSize(); i++) {\n                var refI = this._jsonValue\n                    .at(FrequestNode.FrequestNode_Groups)\n                    .getValueByIndex(i);\n                if (refI.isNull() || refI.isError()) {\n                    continue;\n                }\n                if (refI.getValueByString(Name).getRawString() == LipSync) {\n                    return CubismFramework.getIdManager().getId(refI\n                        .getValueByString(Ids)\n                        .getValueByIndex(index)\n                        .getRawString());\n                }\n            }\n            return null;\n        };\n        CubismModelSettingJson.prototype.isExistModelFile = function () {\n            var node = this._jsonValue.at(FrequestNode.FrequestNode_Moc);\n            return !node.isNull() && !node.isError();\n        };\n        CubismModelSettingJson.prototype.isExistTextureFiles = function () {\n            var node = this._jsonValue.at(FrequestNode.FrequestNode_Textures);\n            return !node.isNull() && !node.isError();\n        };\n        CubismModelSettingJson.prototype.isExistHitAreas = function () {\n            var node = this._jsonValue.at(FrequestNode.FrequestNode_HitAreas);\n            return !node.isNull() && !node.isError();\n        };\n        CubismModelSettingJson.prototype.isExistPhysicsFile = function () {\n            var node = this._jsonValue.at(FrequestNode.FrequestNode_Physics);\n            return !node.isNull() && !node.isError();\n        };\n        CubismModelSettingJson.prototype.isExistPoseFile = function () {\n            var node = this._jsonValue.at(FrequestNode.FrequestNode_Pose);\n            return !node.isNull() && !node.isError();\n        };\n        CubismModelSettingJson.prototype.isExistExpressionFile = function () {\n            var node = this._jsonValue.at(FrequestNode.FrequestNode_Expressions);\n            return !node.isNull() && !node.isError();\n        };\n        CubismModelSettingJson.prototype.isExistMotionGroups = function () {\n            var node = this._jsonValue.at(FrequestNode.FrequestNode_Motions);\n            return !node.isNull() && !node.isError();\n        };\n        CubismModelSettingJson.prototype.isExistMotionGroupName = function (groupName) {\n            var node = this._jsonValue\n                .at(FrequestNode.FrequestNode_Motions)\n                .getValueByString(groupName);\n            return !node.isNull() && !node.isError();\n        };\n        CubismModelSettingJson.prototype.isExistMotionSoundFile = function (groupName, index) {\n            var node = this._jsonValue\n                .at(FrequestNode.FrequestNode_Motions)\n                .getValueByString(groupName)\n                .getValueByIndex(index)\n                .getValueByString(SoundPath);\n            return !node.isNull() && !node.isError();\n        };\n        CubismModelSettingJson.prototype.isExistMotionFadeIn = function (groupName, index) {\n            var node = this._jsonValue\n                .at(FrequestNode.FrequestNode_Motions)\n                .getValueByString(groupName)\n                .getValueByIndex(index)\n                .getValueByString(FadeInTime);\n            return !node.isNull() && !node.isError();\n        };\n        CubismModelSettingJson.prototype.isExistMotionFadeOut = function (groupName, index) {\n            var node = this._jsonValue\n                .at(FrequestNode.FrequestNode_Motions)\n                .getValueByString(groupName)\n                .getValueByIndex(index)\n                .getValueByString(FadeOutTime);\n            return !node.isNull() && !node.isError();\n        };\n        CubismModelSettingJson.prototype.isExistUserDataFile = function () {\n            var node = this._json\n                .getRoot()\n                .getValueByString(FileReferences)\n                .getValueByString(UserData);\n            return !node.isNull() && !node.isError();\n        };\n        CubismModelSettingJson.prototype.isExistEyeBlinkParameters = function () {\n            if (this._jsonValue.at(FrequestNode.FrequestNode_Groups).isNull() ||\n                this._jsonValue.at(FrequestNode.FrequestNode_Groups).isError()) {\n                return false;\n            }\n            for (var i = 0; i < this._jsonValue.at(FrequestNode.FrequestNode_Groups).getSize(); ++i) {\n                if (this._jsonValue\n                    .at(FrequestNode.FrequestNode_Groups)\n                    .getValueByIndex(i)\n                    .getValueByString(Name)\n                    .getRawString() == EyeBlink) {\n                    return true;\n                }\n            }\n            return false;\n        };\n        CubismModelSettingJson.prototype.isExistLipSyncParameters = function () {\n            if (this._jsonValue.at(FrequestNode.FrequestNode_Groups).isNull() ||\n                this._jsonValue.at(FrequestNode.FrequestNode_Groups).isError()) {\n                return false;\n            }\n            for (var i = 0; i < this._jsonValue.at(FrequestNode.FrequestNode_Groups).getSize(); ++i) {\n                if (this._jsonValue\n                    .at(FrequestNode.FrequestNode_Groups)\n                    .getValueByIndex(i)\n                    .getValueByString(Name)\n                    .getRawString() == LipSync) {\n                    return true;\n                }\n            }\n            return false;\n        };\n        return CubismModelSettingJson;\n    }(ICubismModelSetting));\n    Live2DCubismFramework.CubismModelSettingJson = CubismModelSettingJson;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL2N1YmlzbW1vZGVsc2V0dGluZ2pzb24udHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9GcmFtZXdvcmsvc3JjL2N1YmlzbW1vZGVsc2V0dGluZ2pzb24udHM/M2U2NSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodChjKSBMaXZlMkQgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IHRoZSBMaXZlMkQgT3BlbiBTb2Z0d2FyZSBsaWNlbnNlXG4gKiB0aGF0IGNhbiBiZSBmb3VuZCBhdCBodHRwczovL3d3dy5saXZlMmQuY29tL2V1bGEvbGl2ZTJkLW9wZW4tc29mdHdhcmUtbGljZW5zZS1hZ3JlZW1lbnRfZW4uaHRtbC5cbiAqL1xuXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtZnJhbWV3b3JrIH0gZnJvbSAnLi9saXZlMmRjdWJpc21mcmFtZXdvcmsnO1xuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGljdWJpc21tb2RlbHNldHRpbmcgfSBmcm9tICcuL2ljdWJpc21tb2RlbHNldHRpbmcnO1xuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbWlkIH0gZnJvbSAnLi9pZC9jdWJpc21pZCc7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtanNvbiB9IGZyb20gJy4vdXRpbHMvY3ViaXNtanNvbic7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3NtbWFwIH0gZnJvbSAnLi90eXBlL2NzbW1hcCc7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3NtdmVjdG9yIH0gZnJvbSAnLi90eXBlL2NzbXZlY3Rvcic7XG5pbXBvcnQgY3NtVmVjdG9yID0gY3NtdmVjdG9yLmNzbVZlY3RvcjtcbmltcG9ydCBjc21NYXAgPSBjc21tYXAuY3NtTWFwO1xuaW1wb3J0IGl0ZXJhdG9yID0gY3NtbWFwLml0ZXJhdG9yO1xuaW1wb3J0IEN1YmlzbUZyYW1ld29yayA9IGN1YmlzbWZyYW1ld29yay5DdWJpc21GcmFtZXdvcms7XG5pbXBvcnQgQ3ViaXNtSWRIYW5kbGUgPSBjdWJpc21pZC5DdWJpc21JZEhhbmRsZTtcbmltcG9ydCBDdWJpc21Kc29uID0gY3ViaXNtanNvbi5DdWJpc21Kc29uO1xuaW1wb3J0IFZhbHVlID0gY3ViaXNtanNvbi5WYWx1ZTtcbmltcG9ydCBJQ3ViaXNtTW9kZWxTZXR0aW5nID0gaWN1YmlzbW1vZGVsc2V0dGluZy5JQ3ViaXNtTW9kZWxTZXR0aW5nO1xuXG5leHBvcnQgbmFtZXNwYWNlIExpdmUyREN1YmlzbUZyYW1ld29yayB7XG4gIC8qKlxuICAgKiBNb2RlbDNKc29u44Gu44Kt44O85paH5a2X5YiXXG4gICAqL1xuXG4gIC8vIEpTT04gS2V5c1xuICBjb25zdCBWZXJzaW9uID0gJ1ZlcnNpb24nO1xuICBjb25zdCBGaWxlUmVmZXJlbmNlcyA9ICdGaWxlUmVmZXJlbmNlcyc7XG4gIGNvbnN0IEdyb3VwcyA9ICdHcm91cHMnO1xuICBjb25zdCBMYXlvdXQgPSAnTGF5b3V0JztcbiAgY29uc3QgSGl0QXJlYXMgPSAnSGl0QXJlYXMnO1xuXG4gIGNvbnN0IE1vYyA9ICdNb2MnO1xuICBjb25zdCBUZXh0dXJlcyA9ICdUZXh0dXJlcyc7XG4gIGNvbnN0IFBoeXNpY3MgPSAnUGh5c2ljcyc7XG4gIGNvbnN0IFBvc2UgPSAnUG9zZSc7XG4gIGNvbnN0IEV4cHJlc3Npb25zID0gJ0V4cHJlc3Npb25zJztcbiAgY29uc3QgTW90aW9ucyA9ICdNb3Rpb25zJztcblxuICBjb25zdCBVc2VyRGF0YSA9ICdVc2VyRGF0YSc7XG4gIGNvbnN0IE5hbWUgPSAnTmFtZSc7XG4gIGNvbnN0IEZpbGVQYXRoID0gJ0ZpbGUnO1xuICBjb25zdCBJZCA9ICdJZCc7XG4gIGNvbnN0IElkcyA9ICdJZHMnO1xuICBjb25zdCBUYXJnZXQgPSAnVGFyZ2V0JztcblxuICAvLyBNb3Rpb25zXG4gIGNvbnN0IElkbGUgPSAnSWRsZSc7XG4gIGNvbnN0IFRhcEJvZHkgPSAnVGFwQm9keSc7XG4gIGNvbnN0IFBpbmNoSW4gPSAnUGluY2hJbic7XG4gIGNvbnN0IFBpbmNoT3V0ID0gJ1BpbmNoT3V0JztcbiAgY29uc3QgU2hha2UgPSAnU2hha2UnO1xuICBjb25zdCBGbGlja0hlYWQgPSAnRmxpY2tIZWFkJztcbiAgY29uc3QgUGFyYW1ldGVyID0gJ1BhcmFtZXRlcic7XG5cbiAgY29uc3QgU291bmRQYXRoID0gJ1NvdW5kJztcbiAgY29uc3QgRmFkZUluVGltZSA9ICdGYWRlSW5UaW1lJztcbiAgY29uc3QgRmFkZU91dFRpbWUgPSAnRmFkZU91dFRpbWUnO1xuXG4gIC8vIExheW91dFxuICBjb25zdCBDZW50ZXJYID0gJ0NlbnRlclgnO1xuICBjb25zdCBDZW50ZXJZID0gJ0NlbnRlclknO1xuICBjb25zdCBYID0gJ1gnO1xuICBjb25zdCBZID0gJ1knO1xuICBjb25zdCBXaWR0aCA9ICdXaWR0aCc7XG4gIGNvbnN0IEhlaWdodCA9ICdIZWlnaHQnO1xuXG4gIGNvbnN0IExpcFN5bmMgPSAnTGlwU3luYyc7XG4gIGNvbnN0IEV5ZUJsaW5rID0gJ0V5ZUJsaW5rJztcblxuICBjb25zdCBJbml0UGFyYW1ldGVyID0gJ2luaXRfcGFyYW0nO1xuICBjb25zdCBJbml0UGFydHNWaXNpYmxlID0gJ2luaXRfcGFydHNfdmlzaWJsZSc7XG4gIGNvbnN0IFZhbCA9ICd2YWwnO1xuXG4gIGVudW0gRnJlcXVlc3ROb2RlIHtcbiAgICBGcmVxdWVzdE5vZGVfR3JvdXBzLCAvLyBnZXRSb290KCkuZ2V0VmFsdWVCeVN0cmluZyhHcm91cHMpXG4gICAgRnJlcXVlc3ROb2RlX01vYywgLy8gZ2V0Um9vdCgpLmdldFZhbHVlQnlTdHJpbmcoRmlsZVJlZmVyZW5jZXMpLmdldFZhbHVlQnlTdHJpbmcoTW9jKVxuICAgIEZyZXF1ZXN0Tm9kZV9Nb3Rpb25zLCAvLyBnZXRSb290KCkuZ2V0VmFsdWVCeVN0cmluZyhGaWxlUmVmZXJlbmNlcykuZ2V0VmFsdWVCeVN0cmluZyhNb3Rpb25zKVxuICAgIEZyZXF1ZXN0Tm9kZV9FeHByZXNzaW9ucywgLy8gZ2V0Um9vdCgpLmdldFZhbHVlQnlTdHJpbmcoRmlsZVJlZmVyZW5jZXMpLmdldFZhbHVlQnlTdHJpbmcoRXhwcmVzc2lvbnMpXG4gICAgRnJlcXVlc3ROb2RlX1RleHR1cmVzLCAvLyBnZXRSb290KCkuZ2V0VmFsdWVCeVN0cmluZyhGaWxlUmVmZXJlbmNlcykuZ2V0VmFsdWVCeVN0cmluZyhUZXh0dXJlcylcbiAgICBGcmVxdWVzdE5vZGVfUGh5c2ljcywgLy8gZ2V0Um9vdCgpLmdldFZhbHVlQnlTdHJpbmcoRmlsZVJlZmVyZW5jZXMpLmdldFZhbHVlQnlTdHJpbmcoUGh5c2ljcylcbiAgICBGcmVxdWVzdE5vZGVfUG9zZSwgLy8gZ2V0Um9vdCgpLmdldFZhbHVlQnlTdHJpbmcoRmlsZVJlZmVyZW5jZXMpLmdldFZhbHVlQnlTdHJpbmcoUG9zZSlcbiAgICBGcmVxdWVzdE5vZGVfSGl0QXJlYXMgLy8gZ2V0Um9vdCgpLmdldFZhbHVlQnlTdHJpbmcoSGl0QXJlYXMpXG4gIH1cblxuICAvKipcbiAgICogTW9kZWwzSnNvbuODkeODvOOCteODvFxuICAgKlxuICAgKiBtb2RlbDMuanNvbuODleOCoeOCpOODq+OCkuODkeODvOOCueOBl+OBpuWApOOCkuWPluW+l+OBmeOCi1xuICAgKi9cbiAgZXhwb3J0IGNsYXNzIEN1YmlzbU1vZGVsU2V0dGluZ0pzb24gZXh0ZW5kcyBJQ3ViaXNtTW9kZWxTZXR0aW5nIHtcbiAgICAvKipcbiAgICAgKiDlvJXmlbDku5jjgY3jgrPjg7Pjgrnjg4jjg6njgq/jgr9cbiAgICAgKlxuICAgICAqIEBwYXJhbSBidWZmZXIgICAgTW9kZWwzSnNvbuOCkuODkOOCpOODiOmFjeWIl+OBqOOBl+OBpuiqreOBv+i+vOOCk+OBoOODh+ODvOOCv+ODkOODg+ODleOCoVxuICAgICAqIEBwYXJhbSBzaXplICAgICAgTW9kZWwzSnNvbuOBruODh+ODvOOCv+OCteOCpOOCulxuICAgICAqL1xuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihidWZmZXI6IEFycmF5QnVmZmVyLCBzaXplOiBudW1iZXIpIHtcbiAgICAgIHN1cGVyKCk7XG4gICAgICB0aGlzLl9qc29uID0gQ3ViaXNtSnNvbi5jcmVhdGUoYnVmZmVyLCBzaXplKTtcblxuICAgICAgaWYgKHRoaXMuX2pzb24pIHtcbiAgICAgICAgdGhpcy5fanNvblZhbHVlID0gbmV3IGNzbVZlY3RvcjxWYWx1ZT4oKTtcblxuICAgICAgICAvLyDpoIbnlarjga9lbnVtIEZyZXF1ZXN0Tm9kZeOBqOS4gOiHtOOBleOBm+OCi1xuICAgICAgICB0aGlzLl9qc29uVmFsdWUucHVzaEJhY2sodGhpcy5fanNvbi5nZXRSb290KCkuZ2V0VmFsdWVCeVN0cmluZyhHcm91cHMpKTtcbiAgICAgICAgdGhpcy5fanNvblZhbHVlLnB1c2hCYWNrKFxuICAgICAgICAgIHRoaXMuX2pzb25cbiAgICAgICAgICAgIC5nZXRSb290KClcbiAgICAgICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKEZpbGVSZWZlcmVuY2VzKVxuICAgICAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoTW9jKVxuICAgICAgICApO1xuICAgICAgICB0aGlzLl9qc29uVmFsdWUucHVzaEJhY2soXG4gICAgICAgICAgdGhpcy5fanNvblxuICAgICAgICAgICAgLmdldFJvb3QoKVxuICAgICAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoRmlsZVJlZmVyZW5jZXMpXG4gICAgICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhNb3Rpb25zKVxuICAgICAgICApO1xuICAgICAgICB0aGlzLl9qc29uVmFsdWUucHVzaEJhY2soXG4gICAgICAgICAgdGhpcy5fanNvblxuICAgICAgICAgICAgLmdldFJvb3QoKVxuICAgICAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoRmlsZVJlZmVyZW5jZXMpXG4gICAgICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhFeHByZXNzaW9ucylcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5fanNvblZhbHVlLnB1c2hCYWNrKFxuICAgICAgICAgIHRoaXMuX2pzb25cbiAgICAgICAgICAgIC5nZXRSb290KClcbiAgICAgICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKEZpbGVSZWZlcmVuY2VzKVxuICAgICAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoVGV4dHVyZXMpXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuX2pzb25WYWx1ZS5wdXNoQmFjayhcbiAgICAgICAgICB0aGlzLl9qc29uXG4gICAgICAgICAgICAuZ2V0Um9vdCgpXG4gICAgICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhGaWxlUmVmZXJlbmNlcylcbiAgICAgICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFBoeXNpY3MpXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuX2pzb25WYWx1ZS5wdXNoQmFjayhcbiAgICAgICAgICB0aGlzLl9qc29uXG4gICAgICAgICAgICAuZ2V0Um9vdCgpXG4gICAgICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhGaWxlUmVmZXJlbmNlcylcbiAgICAgICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFBvc2UpXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuX2pzb25WYWx1ZS5wdXNoQmFjayhcbiAgICAgICAgICB0aGlzLl9qc29uLmdldFJvb3QoKS5nZXRWYWx1ZUJ5U3RyaW5nKEhpdEFyZWFzKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODh+OCueODiOODqeOCr+OCv+ebuOW9k+OBruWHpueQhlxuICAgICAqL1xuICAgIHB1YmxpYyByZWxlYXNlKCk6IHZvaWQge1xuICAgICAgQ3ViaXNtSnNvbi5kZWxldGUodGhpcy5fanNvbik7XG5cbiAgICAgIHRoaXMuX2pzb25WYWx1ZSA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3ViaXNtSnNvbuOCquODluOCuOOCp+OCr+ODiOOCkuWPluW+l+OBmeOCi1xuICAgICAqXG4gICAgICogQHJldHVybiBDdWJpc21Kc29uXG4gICAgICovXG4gICAgcHVibGljIEdldEpzb24oKTogQ3ViaXNtSnNvbiB7XG4gICAgICByZXR1cm4gdGhpcy5fanNvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNb2Pjg5XjgqHjgqTjg6vjga7lkI3liY3jgpLlj5blvpfjgZnjgotcbiAgICAgKiBAcmV0dXJuIE1vY+ODleOCoeOCpOODq+OBruWQjeWJjVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRNb2RlbEZpbGVOYW1lKCk6IHN0cmluZyB7XG4gICAgICBpZiAoIXRoaXMuaXNFeGlzdE1vZGVsRmlsZSgpKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl9qc29uVmFsdWUuYXQoRnJlcXVlc3ROb2RlLkZyZXF1ZXN0Tm9kZV9Nb2MpLmdldFJhd1N0cmluZygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODouODh+ODq+OBjOS9v+eUqOOBmeOCi+ODhuOCr+OCueODgeODo+OBruaVsOOCkuWPluW+l+OBmeOCi1xuICAgICAqIOODhuOCr+OCueODgeODo+OBruaVsFxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRUZXh0dXJlQ291bnQoKTogbnVtYmVyIHtcbiAgICAgIGlmICghdGhpcy5pc0V4aXN0VGV4dHVyZUZpbGVzKCkpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLl9qc29uVmFsdWUuYXQoRnJlcXVlc3ROb2RlLkZyZXF1ZXN0Tm9kZV9UZXh0dXJlcykuZ2V0U2l6ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODhuOCr+OCueODgeODo+OBjOmFjee9ruOBleOCjOOBn+ODh+OCo+ODrOOCr+ODiOODquOBruWQjeWJjeOCkuWPluW+l+OBmeOCi1xuICAgICAqIEByZXR1cm4g44OG44Kv44K544OB44Oj44GM6YWN572u44GV44KM44Gf44OH44Kj44Os44Kv44OI44Oq44Gu5ZCN5YmNXG4gICAgICovXG4gICAgcHVibGljIGdldFRleHR1cmVEaXJlY3RvcnkoKTogc3RyaW5nIHtcbiAgICAgIHJldHVybiB0aGlzLl9qc29uVmFsdWVcbiAgICAgICAgLmF0KEZyZXF1ZXN0Tm9kZS5GcmVxdWVzdE5vZGVfVGV4dHVyZXMpXG4gICAgICAgIC5nZXRSYXdTdHJpbmcoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6Ljg4fjg6vjgYzkvb/nlKjjgZnjgovjg4bjgq/jgrnjg4Hjg6Pjga7lkI3liY3jgpLlj5blvpfjgZnjgotcbiAgICAgKiBAcGFyYW0gaW5kZXgg6YWN5YiX44Gu44Kk44Oz44OH44OD44Kv44K55YCkXG4gICAgICogQHJldHVybiDjg4bjgq/jgrnjg4Hjg6Pjga7lkI3liY1cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0VGV4dHVyZUZpbGVOYW1lKGluZGV4OiBudW1iZXIpOiBzdHJpbmcge1xuICAgICAgcmV0dXJuIHRoaXMuX2pzb25WYWx1ZVxuICAgICAgICAuYXQoRnJlcXVlc3ROb2RlLkZyZXF1ZXN0Tm9kZV9UZXh0dXJlcylcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChpbmRleClcbiAgICAgICAgLmdldFJhd1N0cmluZygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODouODh+ODq+OBq+ioreWumuOBleOCjOOBn+W9k+OBn+OCiuWIpOWumuOBruaVsOOCkuWPluW+l+OBmeOCi1xuICAgICAqIEByZXR1cm4g44Oi44OH44Or44Gr6Kit5a6a44GV44KM44Gf5b2T44Gf44KK5Yik5a6a44Gu5pWwXG4gICAgICovXG4gICAgcHVibGljIGdldEhpdEFyZWFzQ291bnQoKTogbnVtYmVyIHtcbiAgICAgIGlmICghdGhpcy5pc0V4aXN0SGl0QXJlYXMoKSkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuX2pzb25WYWx1ZS5hdChGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX0hpdEFyZWFzKS5nZXRTaXplKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5b2T44Gf44KK5Yik5a6a44Gr6Kit5a6a44GV44KM44GfSUTjgpLlj5blvpfjgZnjgotcbiAgICAgKlxuICAgICAqIEBwYXJhbSBpbmRleCDphY3liJfjga5pbmRleFxuICAgICAqIEByZXR1cm4g5b2T44Gf44KK5Yik5a6a44Gr6Kit5a6a44GV44KM44GfSURcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0SGl0QXJlYUlkKGluZGV4OiBudW1iZXIpOiBDdWJpc21JZEhhbmRsZSB7XG4gICAgICByZXR1cm4gQ3ViaXNtRnJhbWV3b3JrLmdldElkTWFuYWdlcigpLmdldElkKFxuICAgICAgICB0aGlzLl9qc29uVmFsdWVcbiAgICAgICAgICAuYXQoRnJlcXVlc3ROb2RlLkZyZXF1ZXN0Tm9kZV9IaXRBcmVhcylcbiAgICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KGluZGV4KVxuICAgICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKElkKVxuICAgICAgICAgIC5nZXRSYXdTdHJpbmcoKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlvZPjgZ/jgorliKTlrprjgavoqK3lrprjgZXjgozjgZ/lkI3liY3jgpLlj5blvpfjgZnjgotcbiAgICAgKiBAcGFyYW0gaW5kZXgg6YWN5YiX44Gu44Kk44Oz44OH44OD44Kv44K55YCkXG4gICAgICogQHJldHVybiDlvZPjgZ/jgorliKTlrprjgavoqK3lrprjgZXjgozjgZ/lkI3liY1cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0SGl0QXJlYU5hbWUoaW5kZXg6IG51bWJlcik6IHN0cmluZyB7XG4gICAgICByZXR1cm4gdGhpcy5fanNvblZhbHVlXG4gICAgICAgIC5hdChGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX0hpdEFyZWFzKVxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KGluZGV4KVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhOYW1lKVxuICAgICAgICAuZ2V0UmF3U3RyaW5nKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog54mp55CG5ryU566X6Kit5a6a44OV44Kh44Kk44Or44Gu5ZCN5YmN44KS5Y+W5b6X44GZ44KLXG4gICAgICogQHJldHVybiDniannkIbmvJTnrpfoqK3lrprjg5XjgqHjgqTjg6vjga7lkI3liY1cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0UGh5c2ljc0ZpbGVOYW1lKCk6IHN0cmluZyB7XG4gICAgICBpZiAoIXRoaXMuaXNFeGlzdFBoeXNpY3NGaWxlKCkpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5fanNvblZhbHVlXG4gICAgICAgIC5hdChGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX1BoeXNpY3MpXG4gICAgICAgIC5nZXRSYXdTdHJpbmcoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg5Hjg7zjg4TliIfjgormm7/jgYjoqK3lrprjg5XjgqHjgqTjg6vjga7lkI3liY3jgpLlj5blvpfjgZnjgotcbiAgICAgKiBAcmV0dXJuIOODkeODvOODhOWIh+OCiuabv+OBiOioreWumuODleOCoeOCpOODq+OBruWQjeWJjVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRQb3NlRmlsZU5hbWUoKTogc3RyaW5nIHtcbiAgICAgIGlmICghdGhpcy5pc0V4aXN0UG9zZUZpbGUoKSkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLl9qc29uVmFsdWUuYXQoRnJlcXVlc3ROb2RlLkZyZXF1ZXN0Tm9kZV9Qb3NlKS5nZXRSYXdTdHJpbmcoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDooajmg4XoqK3lrprjg5XjgqHjgqTjg6vjga7mlbDjgpLlj5blvpfjgZnjgotcbiAgICAgKiBAcmV0dXJuIOihqOaDheioreWumuODleOCoeOCpOODq+OBruaVsFxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRFeHByZXNzaW9uQ291bnQoKTogbnVtYmVyIHtcbiAgICAgIGlmICghdGhpcy5pc0V4aXN0RXhwcmVzc2lvbkZpbGUoKSkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuX2pzb25WYWx1ZVxuICAgICAgICAuYXQoRnJlcXVlc3ROb2RlLkZyZXF1ZXN0Tm9kZV9FeHByZXNzaW9ucylcbiAgICAgICAgLmdldFNpemUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDooajmg4XoqK3lrprjg5XjgqHjgqTjg6vjgpLorZjliKXjgZnjgovlkI3liY3vvIjliKXlkI3vvInjgpLlj5blvpfjgZnjgotcbiAgICAgKiBAcGFyYW0gaW5kZXgg6YWN5YiX44Gu44Kk44Oz44OH44OD44Kv44K55YCkXG4gICAgICogQHJldHVybiDooajmg4Xjga7lkI3liY1cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0RXhwcmVzc2lvbk5hbWUoaW5kZXg6IG51bWJlcik6IHN0cmluZyB7XG4gICAgICByZXR1cm4gdGhpcy5fanNvblZhbHVlXG4gICAgICAgIC5hdChGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX0V4cHJlc3Npb25zKVxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KGluZGV4KVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhOYW1lKVxuICAgICAgICAuZ2V0UmF3U3RyaW5nKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6KGo5oOF6Kit5a6a44OV44Kh44Kk44Or44Gu5ZCN5YmN44KS5Y+W5b6X44GZ44KLXG4gICAgICogQHBhcmFtIGluZGV4IOmFjeWIl+OBruOCpOODs+ODh+ODg+OCr+OCueWApFxuICAgICAqIEByZXR1cm4g6KGo5oOF6Kit5a6a44OV44Kh44Kk44Or44Gu5ZCN5YmNXG4gICAgICovXG4gICAgcHVibGljIGdldEV4cHJlc3Npb25GaWxlTmFtZShpbmRleDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICAgIHJldHVybiB0aGlzLl9qc29uVmFsdWVcbiAgICAgICAgLmF0KEZyZXF1ZXN0Tm9kZS5GcmVxdWVzdE5vZGVfRXhwcmVzc2lvbnMpXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgoaW5kZXgpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKEZpbGVQYXRoKVxuICAgICAgICAuZ2V0UmF3U3RyaW5nKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Oi44O844K344On44Oz44Kw44Or44O844OX44Gu5pWw44KS5Y+W5b6X44GZ44KLXG4gICAgICogQHJldHVybiDjg6Ljg7zjgrfjg6fjg7PjgrDjg6vjg7zjg5fjga7mlbBcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0TW90aW9uR3JvdXBDb3VudCgpOiBudW1iZXIge1xuICAgICAgaWYgKCF0aGlzLmlzRXhpc3RNb3Rpb25Hcm91cHMoKSkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuX2pzb25WYWx1ZVxuICAgICAgICAuYXQoRnJlcXVlc3ROb2RlLkZyZXF1ZXN0Tm9kZV9Nb3Rpb25zKVxuICAgICAgICAuZ2V0S2V5cygpXG4gICAgICAgIC5nZXRTaXplKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Oi44O844K344On44Oz44Kw44Or44O844OX44Gu5ZCN5YmN44KS5Y+W5b6X44GZ44KLXG4gICAgICogQHBhcmFtIGluZGV4IOmFjeWIl+OBruOCpOODs+ODh+ODg+OCr+OCueWApFxuICAgICAqIEByZXR1cm4g44Oi44O844K344On44Oz44Kw44Or44O844OX44Gu5ZCN5YmNXG4gICAgICovXG4gICAgcHVibGljIGdldE1vdGlvbkdyb3VwTmFtZShpbmRleDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICAgIGlmICghdGhpcy5pc0V4aXN0TW90aW9uR3JvdXBzKCkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLl9qc29uVmFsdWVcbiAgICAgICAgLmF0KEZyZXF1ZXN0Tm9kZS5GcmVxdWVzdE5vZGVfTW90aW9ucylcbiAgICAgICAgLmdldEtleXMoKVxuICAgICAgICAuYXQoaW5kZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODouODvOOCt+ODp+ODs+OCsOODq+ODvOODl+OBq+WQq+OBvuOCjOOCi+ODouODvOOCt+ODp+ODs+OBruaVsOOCkuWPluW+l+OBmeOCi1xuICAgICAqIEBwYXJhbSBncm91cE5hbWUg44Oi44O844K344On44Oz44Kw44Or44O844OX44Gu5ZCN5YmNXG4gICAgICogQHJldHVybiDjg6Ljg7zjgrfjg6fjg7PjgrDjg6vjg7zjg5fjga7mlbBcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0TW90aW9uQ291bnQoZ3JvdXBOYW1lOiBzdHJpbmcpOiBudW1iZXIge1xuICAgICAgaWYgKCF0aGlzLmlzRXhpc3RNb3Rpb25Hcm91cE5hbWUoZ3JvdXBOYW1lKSkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuX2pzb25WYWx1ZVxuICAgICAgICAuYXQoRnJlcXVlc3ROb2RlLkZyZXF1ZXN0Tm9kZV9Nb3Rpb25zKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhncm91cE5hbWUpXG4gICAgICAgIC5nZXRTaXplKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Kw44Or44O844OX5ZCN44Go44Kk44Oz44OH44OD44Kv44K55YCk44GL44KJ44Oi44O844K344On44Oz44OV44Kh44Kk44Or5ZCN44KS5Y+W5b6X44GZ44KLXG4gICAgICogQHBhcmFtIGdyb3VwTmFtZSDjg6Ljg7zjgrfjg6fjg7PjgrDjg6vjg7zjg5fjga7lkI3liY1cbiAgICAgKiBAcGFyYW0gaW5kZXggICAgIOmFjeWIl+OBruOCpOODs+ODh+ODg+OCr+OCueWApFxuICAgICAqIEByZXR1cm4g44Oi44O844K344On44Oz44OV44Kh44Kk44Or44Gu5ZCN5YmNXG4gICAgICovXG4gICAgcHVibGljIGdldE1vdGlvbkZpbGVOYW1lKGdyb3VwTmFtZTogc3RyaW5nLCBpbmRleDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICAgIGlmICghdGhpcy5pc0V4aXN0TW90aW9uR3JvdXBOYW1lKGdyb3VwTmFtZSkpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5fanNvblZhbHVlXG4gICAgICAgIC5hdChGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX01vdGlvbnMpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKGdyb3VwTmFtZSlcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChpbmRleClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoRmlsZVBhdGgpXG4gICAgICAgIC5nZXRSYXdTdHJpbmcoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Pjgavlr77lv5zjgZnjgovjgrXjgqbjg7Pjg4njg5XjgqHjgqTjg6vjga7lkI3liY3jgpLlj5blvpfjgZnjgotcbiAgICAgKiBAcGFyYW0gZ3JvdXBOYW1lIOODouODvOOCt+ODp+ODs+OCsOODq+ODvOODl+OBruWQjeWJjVxuICAgICAqIEBwYXJhbSBpbmRleCDphY3liJfjga7jgqTjg7Pjg4fjg4Pjgq/jgrnlgKRcbiAgICAgKiBAcmV0dXJuIOOCteOCpuODs+ODieODleOCoeOCpOODq+OBruWQjeWJjVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRNb3Rpb25Tb3VuZEZpbGVOYW1lKGdyb3VwTmFtZTogc3RyaW5nLCBpbmRleDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICAgIGlmICghdGhpcy5pc0V4aXN0TW90aW9uU291bmRGaWxlKGdyb3VwTmFtZSwgaW5kZXgpKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuX2pzb25WYWx1ZVxuICAgICAgICAuYXQoRnJlcXVlc3ROb2RlLkZyZXF1ZXN0Tm9kZV9Nb3Rpb25zKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhncm91cE5hbWUpXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgoaW5kZXgpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFNvdW5kUGF0aClcbiAgICAgICAgLmdldFJhd1N0cmluZygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODouODvOOCt+ODp+ODs+mWi+Wni+aZguOBruODleOCp+ODvOODieOCpOODs+WHpueQhuaZgumWk+OCkuWPluW+l+OBmeOCi1xuICAgICAqIEBwYXJhbSBncm91cE5hbWUg44Oi44O844K344On44Oz44Kw44Or44O844OX44Gu5ZCN5YmNXG4gICAgICogQHBhcmFtIGluZGV4IOmFjeWIl+OBruOCpOODs+ODh+ODg+OCr+OCueWApFxuICAgICAqIEByZXR1cm4g44OV44Kn44O844OJ44Kk44Oz5Yem55CG5pmC6ZaTW+enkl1cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0TW90aW9uRmFkZUluVGltZVZhbHVlKGdyb3VwTmFtZTogc3RyaW5nLCBpbmRleDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgIGlmICghdGhpcy5pc0V4aXN0TW90aW9uRmFkZUluKGdyb3VwTmFtZSwgaW5kZXgpKSB7XG4gICAgICAgIHJldHVybiAtMS4wO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5fanNvblZhbHVlXG4gICAgICAgIC5hdChGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX01vdGlvbnMpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKGdyb3VwTmFtZSlcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChpbmRleClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoRmFkZUluVGltZSlcbiAgICAgICAgLnRvRmxvYXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7PntYLkuobmmYLjga7jg5Xjgqfjg7zjg4njgqLjgqbjg4jlh6bnkIbmmYLplpPjgpLlj5blvpfjgZnjgotcbiAgICAgKiBAcGFyYW0gZ3JvdXBOYW1lIOODouODvOOCt+ODp+ODs+OCsOODq+ODvOODl+OBruWQjeWJjVxuICAgICAqIEBwYXJhbSBpbmRleCDphY3liJfjga7jgqTjg7Pjg4fjg4Pjgq/jgrnlgKRcbiAgICAgKiBAcmV0dXJuIOODleOCp+ODvOODieOCouOCpuODiOWHpueQhuaZgumWk1vnp5JdXG4gICAgICovXG4gICAgcHVibGljIGdldE1vdGlvbkZhZGVPdXRUaW1lVmFsdWUoZ3JvdXBOYW1lOiBzdHJpbmcsIGluZGV4OiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgaWYgKCF0aGlzLmlzRXhpc3RNb3Rpb25GYWRlT3V0KGdyb3VwTmFtZSwgaW5kZXgpKSB7XG4gICAgICAgIHJldHVybiAtMS4wO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5fanNvblZhbHVlXG4gICAgICAgIC5hdChGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX01vdGlvbnMpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKGdyb3VwTmFtZSlcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChpbmRleClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoRmFkZU91dFRpbWUpXG4gICAgICAgIC50b0Zsb2F0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Om44O844K244O844OH44O844K/44Gu44OV44Kh44Kk44Or5ZCN44KS5Y+W5b6X44GZ44KLXG4gICAgICogQHJldHVybiDjg6bjg7zjgrbjg7zjg4fjg7zjgr/jga7jg5XjgqHjgqTjg6vlkI1cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0VXNlckRhdGFGaWxlKCk6IHN0cmluZyB7XG4gICAgICBpZiAoIXRoaXMuaXNFeGlzdFVzZXJEYXRhRmlsZSgpKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cbiAgICAgICAgLmdldFJvb3QoKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhGaWxlUmVmZXJlbmNlcylcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoVXNlckRhdGEpXG4gICAgICAgIC5nZXRSYXdTdHJpbmcoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6zjgqTjgqLjgqbjg4jmg4XloLHjgpLlj5blvpfjgZnjgotcbiAgICAgKiBAcGFyYW0gb3V0TGF5b3V0TWFwIGNzbU1hcOOCr+ODqeOCueOBruOCpOODs+OCueOCv+ODs+OCuVxuICAgICAqIEByZXR1cm4gdHJ1ZSDjg6zjgqTjgqLjgqbjg4jmg4XloLHjgYzlrZjlnKjjgZnjgotcbiAgICAgKiBAcmV0dXJuIGZhbHNlIOODrOOCpOOCouOCpuODiOaDheWgseOBjOWtmOWcqOOBl+OBquOBhFxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRMYXlvdXRNYXAob3V0TGF5b3V0TWFwOiBjc21NYXA8c3RyaW5nLCBudW1iZXI+KTogYm9vbGVhbiB7XG4gICAgICAvLyDlrZjlnKjjgZfjgarjgYTopoHntKDjgavjgqLjgq/jgrvjgrnjgZnjgovjgajjgqjjg6njg7zjgavjgarjgovjgZ/jgoFWYWx1ZeOBjG51bGzjga7loLTlkIjjga9udWxs44KS5Luj5YWl44GZ44KLXG4gICAgICBjb25zdCBtYXA6IGNzbU1hcDxzdHJpbmcsIFZhbHVlPiA9IHRoaXMuX2pzb25cbiAgICAgICAgLmdldFJvb3QoKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhMYXlvdXQpXG4gICAgICAgIC5nZXRNYXAoKTtcblxuICAgICAgaWYgKG1hcCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgbGV0IHJldCA9IGZhbHNlO1xuXG4gICAgICBmb3IgKFxuICAgICAgICBjb25zdCBpdGU6IGl0ZXJhdG9yPHN0cmluZywgVmFsdWU+ID0gbWFwLmJlZ2luKCk7XG4gICAgICAgIGl0ZS5ub3RFcXVhbChtYXAuZW5kKCkpO1xuICAgICAgICBpdGUucHJlSW5jcmVtZW50KClcbiAgICAgICkge1xuICAgICAgICBvdXRMYXlvdXRNYXAuc2V0VmFsdWUoaXRlLnB0cigpLmZpcnN0LCBpdGUucHRyKCkuc2Vjb25kLnRvRmxvYXQoKSk7XG4gICAgICAgIHJldCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog55uu44OR44OB44Gr6Zai6YCj5LuY44GR44KJ44KM44Gf44OR44Op44Oh44O844K/44Gu5pWw44KS5Y+W5b6X44GZ44KLXG4gICAgICogQHJldHVybiDnm67jg5Hjg4HjgavplqLpgKPku5jjgZHjgonjgozjgZ/jg5Hjg6njg6Hjg7zjgr/jga7mlbBcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0RXllQmxpbmtQYXJhbWV0ZXJDb3VudCgpOiBudW1iZXIge1xuICAgICAgaWYgKCF0aGlzLmlzRXhpc3RFeWVCbGlua1BhcmFtZXRlcnMoKSkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cblxuICAgICAgbGV0IG51bSA9IDA7XG4gICAgICBmb3IgKFxuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGkgPCB0aGlzLl9qc29uVmFsdWUuYXQoRnJlcXVlc3ROb2RlLkZyZXF1ZXN0Tm9kZV9Hcm91cHMpLmdldFNpemUoKTtcbiAgICAgICAgaSsrXG4gICAgICApIHtcbiAgICAgICAgY29uc3QgcmVmSTogVmFsdWUgPSB0aGlzLl9qc29uVmFsdWVcbiAgICAgICAgICAuYXQoRnJlcXVlc3ROb2RlLkZyZXF1ZXN0Tm9kZV9Hcm91cHMpXG4gICAgICAgICAgLmdldFZhbHVlQnlJbmRleChpKTtcbiAgICAgICAgaWYgKHJlZkkuaXNOdWxsKCkgfHwgcmVmSS5pc0Vycm9yKCkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZWZJLmdldFZhbHVlQnlTdHJpbmcoTmFtZSkuZ2V0UmF3U3RyaW5nKCkgPT0gRXllQmxpbmspIHtcbiAgICAgICAgICBudW0gPSByZWZJXG4gICAgICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhJZHMpXG4gICAgICAgICAgICAuZ2V0VmVjdG9yKClcbiAgICAgICAgICAgIC5nZXRTaXplKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDnm67jg5Hjg4HjgavplqLpgKPku5jjgZHjgonjgozjgZ/jg5Hjg6njg6Hjg7zjgr/jga5JROOCkuWPluW+l+OBmeOCi1xuICAgICAqIEBwYXJhbSBpbmRleCDphY3liJfjga7jgqTjg7Pjg4fjg4Pjgq/jgrnlgKRcbiAgICAgKiBAcmV0dXJuIOODkeODqeODoeODvOOCv0lEXG4gICAgICovXG4gICAgcHVibGljIGdldEV5ZUJsaW5rUGFyYW1ldGVySWQoaW5kZXg6IG51bWJlcik6IEN1YmlzbUlkSGFuZGxlIHtcbiAgICAgIGlmICghdGhpcy5pc0V4aXN0RXllQmxpbmtQYXJhbWV0ZXJzKCkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGZvciAoXG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgaSA8IHRoaXMuX2pzb25WYWx1ZS5hdChGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX0dyb3VwcykuZ2V0U2l6ZSgpO1xuICAgICAgICBpKytcbiAgICAgICkge1xuICAgICAgICBjb25zdCByZWZJOiBWYWx1ZSA9IHRoaXMuX2pzb25WYWx1ZVxuICAgICAgICAgIC5hdChGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX0dyb3VwcylcbiAgICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KGkpO1xuICAgICAgICBpZiAocmVmSS5pc051bGwoKSB8fCByZWZJLmlzRXJyb3IoKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlZkkuZ2V0VmFsdWVCeVN0cmluZyhOYW1lKS5nZXRSYXdTdHJpbmcoKSA9PSBFeWVCbGluaykge1xuICAgICAgICAgIHJldHVybiBDdWJpc21GcmFtZXdvcmsuZ2V0SWRNYW5hZ2VyKCkuZ2V0SWQoXG4gICAgICAgICAgICByZWZJXG4gICAgICAgICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKElkcylcbiAgICAgICAgICAgICAgLmdldFZhbHVlQnlJbmRleChpbmRleClcbiAgICAgICAgICAgICAgLmdldFJhd1N0cmluZygpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Oq44OD44OX44K344Oz44Kv44Gr6Zai6YCj5LuY44GR44KJ44KM44Gf44OR44Op44Oh44O844K/44Gu5pWw44KS5Y+W5b6X44GZ44KLXG4gICAgICogQHJldHVybiDjg6rjg4Pjg5fjgrfjg7Pjgq/jgavplqLpgKPku5jjgZHjgonjgozjgZ/jg5Hjg6njg6Hjg7zjgr/jga7mlbBcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0TGlwU3luY1BhcmFtZXRlckNvdW50KCk6IG51bWJlciB7XG4gICAgICBpZiAoIXRoaXMuaXNFeGlzdExpcFN5bmNQYXJhbWV0ZXJzKCkpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG5cbiAgICAgIGxldCBudW0gPSAwO1xuICAgICAgZm9yIChcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBpIDwgdGhpcy5fanNvblZhbHVlLmF0KEZyZXF1ZXN0Tm9kZS5GcmVxdWVzdE5vZGVfR3JvdXBzKS5nZXRTaXplKCk7XG4gICAgICAgIGkrK1xuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IHJlZkk6IFZhbHVlID0gdGhpcy5fanNvblZhbHVlXG4gICAgICAgICAgLmF0KEZyZXF1ZXN0Tm9kZS5GcmVxdWVzdE5vZGVfR3JvdXBzKVxuICAgICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgoaSk7XG4gICAgICAgIGlmIChyZWZJLmlzTnVsbCgpIHx8IHJlZkkuaXNFcnJvcigpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVmSS5nZXRWYWx1ZUJ5U3RyaW5nKE5hbWUpLmdldFJhd1N0cmluZygpID09IExpcFN5bmMpIHtcbiAgICAgICAgICBudW0gPSByZWZJXG4gICAgICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhJZHMpXG4gICAgICAgICAgICAuZ2V0VmVjdG9yKClcbiAgICAgICAgICAgIC5nZXRTaXplKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6rjg4Pjg5fjgrfjg7Pjgq/jgavplqLpgKPku5jjgZHjgonjgozjgZ/jg5Hjg6njg6Hjg7zjgr/jga7mlbDjgpLlj5blvpfjgZnjgotcbiAgICAgKiBAcGFyYW0gaW5kZXgg6YWN5YiX44Gu44Kk44Oz44OH44OD44Kv44K55YCkXG4gICAgICogQHJldHVybiDjg5Hjg6njg6Hjg7zjgr9JRFxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRMaXBTeW5jUGFyYW1ldGVySWQoaW5kZXg6IG51bWJlcik6IEN1YmlzbUlkSGFuZGxlIHtcbiAgICAgIGlmICghdGhpcy5pc0V4aXN0TGlwU3luY1BhcmFtZXRlcnMoKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgZm9yIChcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBpIDwgdGhpcy5fanNvblZhbHVlLmF0KEZyZXF1ZXN0Tm9kZS5GcmVxdWVzdE5vZGVfR3JvdXBzKS5nZXRTaXplKCk7XG4gICAgICAgIGkrK1xuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IHJlZkk6IFZhbHVlID0gdGhpcy5fanNvblZhbHVlXG4gICAgICAgICAgLmF0KEZyZXF1ZXN0Tm9kZS5GcmVxdWVzdE5vZGVfR3JvdXBzKVxuICAgICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgoaSk7XG4gICAgICAgIGlmIChyZWZJLmlzTnVsbCgpIHx8IHJlZkkuaXNFcnJvcigpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVmSS5nZXRWYWx1ZUJ5U3RyaW5nKE5hbWUpLmdldFJhd1N0cmluZygpID09IExpcFN5bmMpIHtcbiAgICAgICAgICByZXR1cm4gQ3ViaXNtRnJhbWV3b3JrLmdldElkTWFuYWdlcigpLmdldElkKFxuICAgICAgICAgICAgcmVmSVxuICAgICAgICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhJZHMpXG4gICAgICAgICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgoaW5kZXgpXG4gICAgICAgICAgICAgIC5nZXRSYXdTdHJpbmcoKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODouODh+ODq+ODleOCoeOCpOODq+OBruOCreODvOOBjOWtmOWcqOOBmeOCi+OBi+OBqeOBhuOBi+OCkueiuuiqjeOBmeOCi1xuICAgICAqIEByZXR1cm4gdHJ1ZSDjgq3jg7zjgYzlrZjlnKjjgZnjgotcbiAgICAgKiBAcmV0dXJuIGZhbHNlIOOCreODvOOBjOWtmOWcqOOBl+OBquOBhFxuICAgICAqL1xuICAgIHByaXZhdGUgaXNFeGlzdE1vZGVsRmlsZSgpOiBib29sZWFuIHtcbiAgICAgIGNvbnN0IG5vZGU6IFZhbHVlID0gdGhpcy5fanNvblZhbHVlLmF0KEZyZXF1ZXN0Tm9kZS5GcmVxdWVzdE5vZGVfTW9jKTtcbiAgICAgIHJldHVybiAhbm9kZS5pc051bGwoKSAmJiAhbm9kZS5pc0Vycm9yKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44OG44Kv44K544OB44Oj44OV44Kh44Kk44Or44Gu44Kt44O844GM5a2Y5Zyo44GZ44KL44GL44Gp44GG44GL44KS56K66KqN44GZ44KLXG4gICAgICogQHJldHVybiB0cnVlIOOCreODvOOBjOWtmOWcqOOBmeOCi1xuICAgICAqIEByZXR1cm4gZmFsc2Ug44Kt44O844GM5a2Y5Zyo44GX44Gq44GEXG4gICAgICovXG4gICAgcHJpdmF0ZSBpc0V4aXN0VGV4dHVyZUZpbGVzKCk6IGJvb2xlYW4ge1xuICAgICAgY29uc3Qgbm9kZTogVmFsdWUgPSB0aGlzLl9qc29uVmFsdWUuYXQoXG4gICAgICAgIEZyZXF1ZXN0Tm9kZS5GcmVxdWVzdE5vZGVfVGV4dHVyZXNcbiAgICAgICk7XG4gICAgICByZXR1cm4gIW5vZGUuaXNOdWxsKCkgJiYgIW5vZGUuaXNFcnJvcigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOW9k+OBn+OCiuWIpOWumuOBruOCreODvOOBjOWtmOWcqOOBmeOCi+OBi+OBqeOBhuOBi+OCkueiuuiqjeOBmeOCi1xuICAgICAqIEByZXR1cm4gdHJ1ZSDjgq3jg7zjgYzlrZjlnKjjgZnjgotcbiAgICAgKiBAcmV0dXJuIGZhbHNlIOOCreODvOOBjOWtmOWcqOOBl+OBquOBhFxuICAgICAqL1xuICAgIHByaXZhdGUgaXNFeGlzdEhpdEFyZWFzKCk6IGJvb2xlYW4ge1xuICAgICAgY29uc3Qgbm9kZTogVmFsdWUgPSB0aGlzLl9qc29uVmFsdWUuYXQoXG4gICAgICAgIEZyZXF1ZXN0Tm9kZS5GcmVxdWVzdE5vZGVfSGl0QXJlYXNcbiAgICAgICk7XG4gICAgICByZXR1cm4gIW5vZGUuaXNOdWxsKCkgJiYgIW5vZGUuaXNFcnJvcigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOeJqeeQhua8lOeul+ODleOCoeOCpOODq+OBruOCreODvOOBjOWtmOWcqOOBmeOCi+OBi+OBqeOBhuOBi+OCkueiuuiqjeOBmeOCi1xuICAgICAqIEByZXR1cm4gdHJ1ZSDjgq3jg7zjgYzlrZjlnKjjgZnjgotcbiAgICAgKiBAcmV0dXJuIGZhbHNlIOOCreODvOOBjOWtmOWcqOOBl+OBquOBhFxuICAgICAqL1xuICAgIHByaXZhdGUgaXNFeGlzdFBoeXNpY3NGaWxlKCk6IGJvb2xlYW4ge1xuICAgICAgY29uc3Qgbm9kZTogVmFsdWUgPSB0aGlzLl9qc29uVmFsdWUuYXQoRnJlcXVlc3ROb2RlLkZyZXF1ZXN0Tm9kZV9QaHlzaWNzKTtcbiAgICAgIHJldHVybiAhbm9kZS5pc051bGwoKSAmJiAhbm9kZS5pc0Vycm9yKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Od44O844K66Kit5a6a44OV44Kh44Kk44Or44Gu44Kt44O844GM5a2Y5Zyo44GZ44KL44GL44Gp44GG44GL44KS56K66KqN44GZ44KLXG4gICAgICogQHJldHVybiB0cnVlIOOCreODvOOBjOWtmOWcqOOBmeOCi1xuICAgICAqIEByZXR1cm4gZmFsc2Ug44Kt44O844GM5a2Y5Zyo44GX44Gq44GEXG4gICAgICovXG4gICAgcHJpdmF0ZSBpc0V4aXN0UG9zZUZpbGUoKTogYm9vbGVhbiB7XG4gICAgICBjb25zdCBub2RlOiBWYWx1ZSA9IHRoaXMuX2pzb25WYWx1ZS5hdChGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX1Bvc2UpO1xuICAgICAgcmV0dXJuICFub2RlLmlzTnVsbCgpICYmICFub2RlLmlzRXJyb3IoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDooajmg4XoqK3lrprjg5XjgqHjgqTjg6vjga7jgq3jg7zjgYzlrZjlnKjjgZnjgovjgYvjganjgYbjgYvjgpLnorroqo3jgZnjgotcbiAgICAgKiBAcmV0dXJuIHRydWUg44Kt44O844GM5a2Y5Zyo44GZ44KLXG4gICAgICogQHJldHVybiBmYWxzZSDjgq3jg7zjgYzlrZjlnKjjgZfjgarjgYRcbiAgICAgKi9cbiAgICBwcml2YXRlIGlzRXhpc3RFeHByZXNzaW9uRmlsZSgpOiBib29sZWFuIHtcbiAgICAgIGNvbnN0IG5vZGU6IFZhbHVlID0gdGhpcy5fanNvblZhbHVlLmF0KFxuICAgICAgICBGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX0V4cHJlc3Npb25zXG4gICAgICApO1xuICAgICAgcmV0dXJuICFub2RlLmlzTnVsbCgpICYmICFub2RlLmlzRXJyb3IoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7PjgrDjg6vjg7zjg5fjga7jgq3jg7zjgYzlrZjlnKjjgZnjgovjgYvjganjgYbjgYvjgpLnorroqo3jgZnjgotcbiAgICAgKiBAcmV0dXJuIHRydWUg44Kt44O844GM5a2Y5Zyo44GZ44KLXG4gICAgICogQHJldHVybiBmYWxzZSDjgq3jg7zjgYzlrZjlnKjjgZfjgarjgYRcbiAgICAgKi9cbiAgICBwcml2YXRlIGlzRXhpc3RNb3Rpb25Hcm91cHMoKTogYm9vbGVhbiB7XG4gICAgICBjb25zdCBub2RlOiBWYWx1ZSA9IHRoaXMuX2pzb25WYWx1ZS5hdChGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX01vdGlvbnMpO1xuICAgICAgcmV0dXJuICFub2RlLmlzTnVsbCgpICYmICFub2RlLmlzRXJyb3IoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlvJXmlbDjgafmjIflrprjgZfjgZ/jg6Ljg7zjgrfjg6fjg7PjgrDjg6vjg7zjg5fjga7jgq3jg7zjgYzlrZjlnKjjgZnjgovjgYvjganjgYbjgYvjgpLnorroqo3jgZnjgotcbiAgICAgKiBAcGFyYW0gZ3JvdXBOYW1lICDjgrDjg6vjg7zjg5flkI1cbiAgICAgKiBAcmV0dXJuIHRydWUg44Kt44O844GM5a2Y5Zyo44GZ44KLXG4gICAgICogQHJldHVybiBmYWxzZSDjgq3jg7zjgYzlrZjlnKjjgZfjgarjgYRcbiAgICAgKi9cbiAgICBwcml2YXRlIGlzRXhpc3RNb3Rpb25Hcm91cE5hbWUoZ3JvdXBOYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgIGNvbnN0IG5vZGU6IFZhbHVlID0gdGhpcy5fanNvblZhbHVlXG4gICAgICAgIC5hdChGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX01vdGlvbnMpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKGdyb3VwTmFtZSk7XG4gICAgICByZXR1cm4gIW5vZGUuaXNOdWxsKCkgJiYgIW5vZGUuaXNFcnJvcigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOW8leaVsOOBp+aMh+WumuOBl+OBn+ODouODvOOCt+ODp+ODs+OBq+WvvuW/nOOBmeOCi+OCteOCpuODs+ODieODleOCoeOCpOODq+OBruOCreODvOOBjOWtmOWcqOOBmeOCi+OBi+OBqeOBhuOBi+OCkueiuuiqjeOBmeOCi1xuICAgICAqIEBwYXJhbSBncm91cE5hbWUgIOOCsOODq+ODvOODl+WQjVxuICAgICAqIEBwYXJhbSBpbmRleCDphY3liJfjga7jgqTjg7Pjg4fjg4Pjgq/jgrnlgKRcbiAgICAgKiBAcmV0dXJuIHRydWUg44Kt44O844GM5a2Y5Zyo44GZ44KLXG4gICAgICogQHJldHVybiBmYWxzZSDjgq3jg7zjgYzlrZjlnKjjgZfjgarjgYRcbiAgICAgKi9cbiAgICBwcml2YXRlIGlzRXhpc3RNb3Rpb25Tb3VuZEZpbGUoZ3JvdXBOYW1lOiBzdHJpbmcsIGluZGV4OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgIGNvbnN0IG5vZGU6IFZhbHVlID0gdGhpcy5fanNvblZhbHVlXG4gICAgICAgIC5hdChGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX01vdGlvbnMpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKGdyb3VwTmFtZSlcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChpbmRleClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoU291bmRQYXRoKTtcbiAgICAgIHJldHVybiAhbm9kZS5pc051bGwoKSAmJiAhbm9kZS5pc0Vycm9yKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5byV5pWw44Gn5oyH5a6a44GX44Gf44Oi44O844K344On44Oz44Gr5a++5b+c44GZ44KL44OV44Kn44O844OJ44Kk44Oz5pmC6ZaT44Gu44Kt44O844GM5a2Y5Zyo44GZ44KL44GL44Gp44GG44GL44KS56K66KqN44GZ44KLXG4gICAgICogQHBhcmFtIGdyb3VwTmFtZSAg44Kw44Or44O844OX5ZCNXG4gICAgICogQHBhcmFtIGluZGV4IOmFjeWIl+OBruOCpOODs+ODh+ODg+OCr+OCueWApFxuICAgICAqIEByZXR1cm4gdHJ1ZSDjgq3jg7zjgYzlrZjlnKjjgZnjgotcbiAgICAgKiBAcmV0dXJuIGZhbHNlIOOCreODvOOBjOWtmOWcqOOBl+OBquOBhFxuICAgICAqL1xuICAgIHByaXZhdGUgaXNFeGlzdE1vdGlvbkZhZGVJbihncm91cE5hbWU6IHN0cmluZywgaW5kZXg6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgY29uc3Qgbm9kZTogVmFsdWUgPSB0aGlzLl9qc29uVmFsdWVcbiAgICAgICAgLmF0KEZyZXF1ZXN0Tm9kZS5GcmVxdWVzdE5vZGVfTW90aW9ucylcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoZ3JvdXBOYW1lKVxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KGluZGV4KVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhGYWRlSW5UaW1lKTtcbiAgICAgIHJldHVybiAhbm9kZS5pc051bGwoKSAmJiAhbm9kZS5pc0Vycm9yKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5byV5pWw44Gn5oyH5a6a44GX44Gf44Oi44O844K344On44Oz44Gr5a++5b+c44GZ44KL44OV44Kn44O844OJ44Ki44Km44OI5pmC6ZaT44Gu44Kt44O844GM5a2Y5Zyo44GZ44KL44GL44Gp44GG44GL44KS56K66KqN44GZ44KLXG4gICAgICogQHBhcmFtIGdyb3VwTmFtZSAg44Kw44Or44O844OX5ZCNXG4gICAgICogQHBhcmFtIGluZGV4IOmFjeWIl+OBruOCpOODs+ODh+ODg+OCr+OCueWApFxuICAgICAqIEByZXR1cm4gdHJ1ZSDjgq3jg7zjgYzlrZjlnKjjgZnjgotcbiAgICAgKiBAcmV0dXJuIGZhbHNlIOOCreODvOOBjOWtmOWcqOOBl+OBquOBhFxuICAgICAqL1xuICAgIHByaXZhdGUgaXNFeGlzdE1vdGlvbkZhZGVPdXQoZ3JvdXBOYW1lOiBzdHJpbmcsIGluZGV4OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgIGNvbnN0IG5vZGU6IFZhbHVlID0gdGhpcy5fanNvblZhbHVlXG4gICAgICAgIC5hdChGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX01vdGlvbnMpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKGdyb3VwTmFtZSlcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChpbmRleClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoRmFkZU91dFRpbWUpO1xuICAgICAgcmV0dXJuICFub2RlLmlzTnVsbCgpICYmICFub2RlLmlzRXJyb3IoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VyRGF0YeOBruODleOCoeOCpOODq+WQjeOBjOWtmOWcqOOBmeOCi+OBi+OBqeOBhuOBi+OCkueiuuiqjeOBmeOCi1xuICAgICAqIEByZXR1cm4gdHJ1ZSDjgq3jg7zjgYzlrZjlnKjjgZnjgotcbiAgICAgKiBAcmV0dXJuIGZhbHNlIOOCreODvOOBjOWtmOWcqOOBl+OBquOBhFxuICAgICAqL1xuICAgIHByaXZhdGUgaXNFeGlzdFVzZXJEYXRhRmlsZSgpOiBib29sZWFuIHtcbiAgICAgIGNvbnN0IG5vZGU6IFZhbHVlID0gdGhpcy5fanNvblxuICAgICAgICAuZ2V0Um9vdCgpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKEZpbGVSZWZlcmVuY2VzKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhVc2VyRGF0YSk7XG4gICAgICByZXR1cm4gIW5vZGUuaXNOdWxsKCkgJiYgIW5vZGUuaXNFcnJvcigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOebruOBseOBoeOBq+WvvuW/nOS7mOOBkeOCieOCjOOBn+ODkeODqeODoeODvOOCv+OBjOWtmOWcqOOBmeOCi+OBi+OBqeOBhuOBi+OCkueiuuiqjeOBmeOCi1xuICAgICAqIEByZXR1cm4gdHJ1ZSDjgq3jg7zjgYzlrZjlnKjjgZnjgotcbiAgICAgKiBAcmV0dXJuIGZhbHNlIOOCreODvOOBjOWtmOWcqOOBl+OBquOBhFxuICAgICAqL1xuICAgIHByaXZhdGUgaXNFeGlzdEV5ZUJsaW5rUGFyYW1ldGVycygpOiBib29sZWFuIHtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5fanNvblZhbHVlLmF0KEZyZXF1ZXN0Tm9kZS5GcmVxdWVzdE5vZGVfR3JvdXBzKS5pc051bGwoKSB8fFxuICAgICAgICB0aGlzLl9qc29uVmFsdWUuYXQoRnJlcXVlc3ROb2RlLkZyZXF1ZXN0Tm9kZV9Hcm91cHMpLmlzRXJyb3IoKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgZm9yIChcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBpIDwgdGhpcy5fanNvblZhbHVlLmF0KEZyZXF1ZXN0Tm9kZS5GcmVxdWVzdE5vZGVfR3JvdXBzKS5nZXRTaXplKCk7XG4gICAgICAgICsraVxuICAgICAgKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aGlzLl9qc29uVmFsdWVcbiAgICAgICAgICAgIC5hdChGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX0dyb3VwcylcbiAgICAgICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgoaSlcbiAgICAgICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKE5hbWUpXG4gICAgICAgICAgICAuZ2V0UmF3U3RyaW5nKCkgPT0gRXllQmxpbmtcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODquODg+ODl+OCt+ODs+OCr+OBq+WvvuW/nOS7mOOBkeOCieOCjOOBn+ODkeODqeODoeODvOOCv+OBjOWtmOWcqOOBmeOCi+OBi+OBqeOBhuOBi+OCkueiuuiqjeOBmeOCi1xuICAgICAqIEByZXR1cm4gdHJ1ZSDjgq3jg7zjgYzlrZjlnKjjgZnjgotcbiAgICAgKiBAcmV0dXJuIGZhbHNlIOOCreODvOOBjOWtmOWcqOOBl+OBquOBhFxuICAgICAqL1xuICAgIHByaXZhdGUgaXNFeGlzdExpcFN5bmNQYXJhbWV0ZXJzKCk6IGJvb2xlYW4ge1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLl9qc29uVmFsdWUuYXQoRnJlcXVlc3ROb2RlLkZyZXF1ZXN0Tm9kZV9Hcm91cHMpLmlzTnVsbCgpIHx8XG4gICAgICAgIHRoaXMuX2pzb25WYWx1ZS5hdChGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX0dyb3VwcykuaXNFcnJvcigpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgZm9yIChcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBpIDwgdGhpcy5fanNvblZhbHVlLmF0KEZyZXF1ZXN0Tm9kZS5GcmVxdWVzdE5vZGVfR3JvdXBzKS5nZXRTaXplKCk7XG4gICAgICAgICsraVxuICAgICAgKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aGlzLl9qc29uVmFsdWVcbiAgICAgICAgICAgIC5hdChGcmVxdWVzdE5vZGUuRnJlcXVlc3ROb2RlX0dyb3VwcylcbiAgICAgICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgoaSlcbiAgICAgICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKE5hbWUpXG4gICAgICAgICAgICAuZ2V0UmF3U3RyaW5nKCkgPT0gTGlwU3luY1xuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2pzb246IEN1YmlzbUpzb247XG4gICAgcHJpdmF0ZSBfanNvblZhbHVlOiBjc21WZWN0b3I8VmFsdWU+O1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBR0E7QUFFQTtBQUVBO0FBRUE7QUFBQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFBQTtBQU9BO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7O0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFRQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBR0E7QUFDQTtBQU9BO0FBQ0E7QUFHQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFHQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBT0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUFBO0FBNXVCQTtBQTZ1QkE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Framework/src/cubismmodelsettingjson.ts\n");

/***/ }),

/***/ "./Framework/src/effect/cubismbreath.ts":
/*!**********************************************!*\
  !*** ./Framework/src/effect/cubismbreath.ts ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var CubismBreath = (function () {\n        function CubismBreath() {\n            this._currentTime = 0.0;\n        }\n        CubismBreath.create = function () {\n            return new CubismBreath();\n        };\n        CubismBreath.delete = function (instance) {\n            if (instance != null) {\n                instance = null;\n            }\n        };\n        CubismBreath.prototype.setParameters = function (breathParameters) {\n            this._breathParameters = breathParameters;\n        };\n        CubismBreath.prototype.getParameters = function () {\n            return this._breathParameters;\n        };\n        CubismBreath.prototype.updateParameters = function (model, deltaTimeSeconds) {\n            this._currentTime += deltaTimeSeconds;\n            var t = this._currentTime * 2.0 * 3.14159;\n            for (var i = 0; i < this._breathParameters.getSize(); ++i) {\n                var data = this._breathParameters.at(i);\n                model.addParameterValueById(data.parameterId, data.offset + data.peak * Math.sin(t / data.cycle), data.weight);\n            }\n        };\n        return CubismBreath;\n    }());\n    Live2DCubismFramework.CubismBreath = CubismBreath;\n    var BreathParameterData = (function () {\n        function BreathParameterData(parameterId, offset, peak, cycle, weight) {\n            this.parameterId = parameterId == undefined ? null : parameterId;\n            this.offset = offset == undefined ? 0.0 : offset;\n            this.peak = peak == undefined ? 0.0 : peak;\n            this.cycle = cycle == undefined ? 0.0 : cycle;\n            this.weight = weight == undefined ? 0.0 : weight;\n        }\n        return BreathParameterData;\n    }());\n    Live2DCubismFramework.BreathParameterData = BreathParameterData;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL2VmZmVjdC9jdWJpc21icmVhdGgudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9GcmFtZXdvcmsvc3JjL2VmZmVjdC9jdWJpc21icmVhdGgudHM/YWRiZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodChjKSBMaXZlMkQgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IHRoZSBMaXZlMkQgT3BlbiBTb2Z0d2FyZSBsaWNlbnNlXG4gKiB0aGF0IGNhbiBiZSBmb3VuZCBhdCBodHRwczovL3d3dy5saXZlMmQuY29tL2V1bGEvbGl2ZTJkLW9wZW4tc29mdHdhcmUtbGljZW5zZS1hZ3JlZW1lbnRfZW4uaHRtbC5cbiAqL1xuXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3NtdmVjdG9yIH0gZnJvbSAnLi4vdHlwZS9jc212ZWN0b3InO1xuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbW1vZGVsIH0gZnJvbSAnLi4vbW9kZWwvY3ViaXNtbW9kZWwnO1xuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbWlkIH0gZnJvbSAnLi4vaWQvY3ViaXNtaWQnO1xuaW1wb3J0IEN1YmlzbUlkSGFuZGxlID0gY3ViaXNtaWQuQ3ViaXNtSWRIYW5kbGU7XG5pbXBvcnQgQ3ViaXNtTW9kZWwgPSBjdWJpc21tb2RlbC5DdWJpc21Nb2RlbDtcbmltcG9ydCBjc21WZWN0b3IgPSBjc212ZWN0b3IuY3NtVmVjdG9yO1xuXG5leHBvcnQgbmFtZXNwYWNlIExpdmUyREN1YmlzbUZyYW1ld29yayB7XG4gIC8qKlxuICAgKiDlkbzlkLjmqZ/og71cbiAgICpcbiAgICog5ZG85ZC45qmf6IO944KS5o+Q5L6b44GZ44KL44CCXG4gICAqL1xuICBleHBvcnQgY2xhc3MgQ3ViaXNtQnJlYXRoIHtcbiAgICAvKipcbiAgICAgKiDjgqTjg7Pjgrnjgr/jg7Pjgrnjga7kvZzmiJBcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpOiBDdWJpc21CcmVhdGgge1xuICAgICAgcmV0dXJuIG5ldyBDdWJpc21CcmVhdGgoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjgqTjg7Pjgrnjgr/jg7Pjgrnjga7noLTmo4RcbiAgICAgKiBAcGFyYW0gaW5zdGFuY2Ug5a++6LGh44GuQ3ViaXNtQnJlYXRoXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBkZWxldGUoaW5zdGFuY2U6IEN1YmlzbUJyZWF0aCk6IHZvaWQge1xuICAgICAgaWYgKGluc3RhbmNlICE9IG51bGwpIHtcbiAgICAgICAgaW5zdGFuY2UgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWRvOWQuOOBruODkeODqeODoeODvOOCv+OBrue0kOOBpeOBkVxuICAgICAqIEBwYXJhbSBicmVhdGhQYXJhbWV0ZXJzIOWRvOWQuOOCkue0kOOBpeOBkeOBn+OBhOODkeODqeODoeODvOOCv+OBruODquOCueODiFxuICAgICAqL1xuICAgIHB1YmxpYyBzZXRQYXJhbWV0ZXJzKFxuICAgICAgYnJlYXRoUGFyYW1ldGVyczogY3NtVmVjdG9yPEJyZWF0aFBhcmFtZXRlckRhdGE+XG4gICAgKTogdm9pZCB7XG4gICAgICB0aGlzLl9icmVhdGhQYXJhbWV0ZXJzID0gYnJlYXRoUGFyYW1ldGVycztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlkbzlkLjjgavntJDjgaXjgYTjgabjgYTjgovjg5Hjg6njg6Hjg7zjgr/jga7lj5blvpdcbiAgICAgKiBAcmV0dXJuIOWRvOWQuOOBq+e0kOOBpeOBhOOBpuOBhOOCi+ODkeODqeODoeODvOOCv+OBruODquOCueODiFxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRQYXJhbWV0ZXJzKCk6IGNzbVZlY3RvcjxCcmVhdGhQYXJhbWV0ZXJEYXRhPiB7XG4gICAgICByZXR1cm4gdGhpcy5fYnJlYXRoUGFyYW1ldGVycztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6Ljg4fjg6vjga7jg5Hjg6njg6Hjg7zjgr/jga7mm7TmlrBcbiAgICAgKiBAcGFyYW0gbW9kZWwg5a++6LGh44Gu44Oi44OH44OrXG4gICAgICogQHBhcmFtIGRlbHRhVGltZVNlY29uZHMg44OH44Or44K/5pmC6ZaTW+enkl1cbiAgICAgKi9cbiAgICBwdWJsaWMgdXBkYXRlUGFyYW1ldGVycyhcbiAgICAgIG1vZGVsOiBDdWJpc21Nb2RlbCxcbiAgICAgIGRlbHRhVGltZVNlY29uZHM6IG51bWJlclxuICAgICk6IHZvaWQge1xuICAgICAgdGhpcy5fY3VycmVudFRpbWUgKz0gZGVsdGFUaW1lU2Vjb25kcztcblxuICAgICAgY29uc3QgdDogbnVtYmVyID0gdGhpcy5fY3VycmVudFRpbWUgKiAyLjAgKiAzLjE0MTU5O1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2JyZWF0aFBhcmFtZXRlcnMuZ2V0U2l6ZSgpOyArK2kpIHtcbiAgICAgICAgY29uc3QgZGF0YTogQnJlYXRoUGFyYW1ldGVyRGF0YSA9IHRoaXMuX2JyZWF0aFBhcmFtZXRlcnMuYXQoaSk7XG5cbiAgICAgICAgbW9kZWwuYWRkUGFyYW1ldGVyVmFsdWVCeUlkKFxuICAgICAgICAgIGRhdGEucGFyYW1ldGVySWQsXG4gICAgICAgICAgZGF0YS5vZmZzZXQgKyBkYXRhLnBlYWsgKiBNYXRoLnNpbih0IC8gZGF0YS5jeWNsZSksXG4gICAgICAgICAgZGF0YS53ZWlnaHRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr9cbiAgICAgKi9cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgICB0aGlzLl9jdXJyZW50VGltZSA9IDAuMDtcbiAgICB9XG5cbiAgICBfYnJlYXRoUGFyYW1ldGVyczogY3NtVmVjdG9yPEJyZWF0aFBhcmFtZXRlckRhdGE+OyAvLyDlkbzlkLjjgavjgbLjgoLjgaXjgYTjgabjgYTjgovjg5Hjg6njg6Hjg7zjgr/jga7jg6rjgrnjg4hcbiAgICBfY3VycmVudFRpbWU6IG51bWJlcjsgLy8g56mN566X5pmC6ZaTW+enkl1cbiAgfVxuXG4gIC8qKlxuICAgKiDlkbzlkLjjga7jg5Hjg6njg6Hjg7zjgr/mg4XloLFcbiAgICovXG4gIGV4cG9ydCBjbGFzcyBCcmVhdGhQYXJhbWV0ZXJEYXRhIHtcbiAgICAvKipcbiAgICAgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr9cbiAgICAgKiBAcGFyYW0gcGFyYW1ldGVySWQgICDlkbzlkLjjgpLjgbLjgoLjgaXjgZHjgovjg5Hjg6njg6Hjg7zjgr9JRFxuICAgICAqIEBwYXJhbSBvZmZzZXQgICAgICAgIOWRvOWQuOOCkuato+W8puazouOBqOOBl+OBn+OBqOOBjeOBruOAgeazouOBruOCquODleOCu+ODg+ODiFxuICAgICAqIEBwYXJhbSBwZWFrICAgICAgICAgIOWRvOWQuOOCkuato+W8puazouOBqOOBl+OBn+OBqOOBjeOBruOAgeazouOBrumrmOOBlVxuICAgICAqIEBwYXJhbSBjeWNsZSAgICAgICAgIOWRvOWQuOOCkuato+W8puazouOBqOOBl+OBn+OBqOOBjeOBruOAgeazouOBruWRqOacn1xuICAgICAqIEBwYXJhbSB3ZWlnaHQgICAgICAgIOODkeODqeODoeODvOOCv+OBuOOBrumHjeOBv1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgcGFyYW1ldGVySWQ/OiBDdWJpc21JZEhhbmRsZSxcbiAgICAgIG9mZnNldD86IG51bWJlcixcbiAgICAgIHBlYWs/OiBudW1iZXIsXG4gICAgICBjeWNsZT86IG51bWJlcixcbiAgICAgIHdlaWdodD86IG51bWJlclxuICAgICkge1xuICAgICAgdGhpcy5wYXJhbWV0ZXJJZCA9IHBhcmFtZXRlcklkID09IHVuZGVmaW5lZCA/IG51bGwgOiBwYXJhbWV0ZXJJZDtcbiAgICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0ID09IHVuZGVmaW5lZCA/IDAuMCA6IG9mZnNldDtcbiAgICAgIHRoaXMucGVhayA9IHBlYWsgPT0gdW5kZWZpbmVkID8gMC4wIDogcGVhaztcbiAgICAgIHRoaXMuY3ljbGUgPSBjeWNsZSA9PSB1bmRlZmluZWQgPyAwLjAgOiBjeWNsZTtcbiAgICAgIHRoaXMud2VpZ2h0ID0gd2VpZ2h0ID09IHVuZGVmaW5lZCA/IDAuMCA6IHdlaWdodDtcbiAgICB9XG5cbiAgICBwYXJhbWV0ZXJJZDogQ3ViaXNtSWRIYW5kbGU7IC8vIOWRvOWQuOOCkuOBsuOCguOBpeOBkeOCi+ODkeODqeODoeODvOOCv0lEXFxcbiAgICBvZmZzZXQ6IG51bWJlcjsgLy8g5ZG85ZC444KS5q2j5bym5rOi44Go44GX44Gf44Go44GN44Gu44CB5rOi44Gu44Kq44OV44K744OD44OIXG4gICAgcGVhazogbnVtYmVyOyAvLyDlkbzlkLjjgpLmraPlvKbms6LjgajjgZfjgZ/jgajjgY3jga7jgIHms6Ljga7pq5jjgZVcbiAgICBjeWNsZTogbnVtYmVyOyAvLyDlkbzlkLjjgpLmraPlvKbms6LjgajjgZfjgZ/jgajjgY3jga7jgIHms6Ljga7lkajmnJ9cbiAgICB3ZWlnaHQ6IG51bWJlcjsgLy8g44OR44Op44Oh44O844K/44G444Gu6YeN44G/XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7O0FBY0E7QUFBQTtBQU1BO0FBK0RBO0FBQ0E7QUFDQTtBQTdEQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFHQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBT0E7QUFJQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQVdBO0FBQUE7QUFyRUE7QUEwRUE7QUFTQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQUE7QUE1QkE7QUE2QkE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Framework/src/effect/cubismbreath.ts\n");

/***/ }),

/***/ "./Framework/src/effect/cubismeyeblink.ts":
/*!************************************************!*\
  !*** ./Framework/src/effect/cubismeyeblink.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./Framework/src/type/csmvector.ts\");\nvar csmVector = csmvector_1.Live2DCubismFramework.csmVector;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var CubismEyeBlink = (function () {\n        function CubismEyeBlink(modelSetting) {\n            this._blinkingState = EyeState.EyeState_First;\n            this._nextBlinkingTime = 0.0;\n            this._stateStartTimeSeconds = 0.0;\n            this._blinkingIntervalSeconds = 4.0;\n            this._closingSeconds = 0.1;\n            this._closedSeconds = 0.05;\n            this._openingSeconds = 0.15;\n            this._userTimeSeconds = 0.0;\n            this._parameterIds = new csmVector();\n            if (modelSetting == null) {\n                return;\n            }\n            for (var i = 0; i < modelSetting.getEyeBlinkParameterCount(); ++i) {\n                this._parameterIds.pushBack(modelSetting.getEyeBlinkParameterId(i));\n            }\n        }\n        CubismEyeBlink.create = function (modelSetting) {\n            if (modelSetting === void 0) { modelSetting = null; }\n            return new CubismEyeBlink(modelSetting);\n        };\n        CubismEyeBlink.delete = function (eyeBlink) {\n            if (eyeBlink != null) {\n                eyeBlink = null;\n            }\n        };\n        CubismEyeBlink.prototype.setBlinkingInterval = function (blinkingInterval) {\n            this._blinkingIntervalSeconds = blinkingInterval;\n        };\n        CubismEyeBlink.prototype.setBlinkingSetting = function (closing, closed, opening) {\n            this._closingSeconds = closing;\n            this._closedSeconds = closed;\n            this._openingSeconds = opening;\n        };\n        CubismEyeBlink.prototype.setParameterIds = function (parameterIds) {\n            this._parameterIds = parameterIds;\n        };\n        CubismEyeBlink.prototype.getParameterIds = function () {\n            return this._parameterIds;\n        };\n        CubismEyeBlink.prototype.updateParameters = function (model, deltaTimeSeconds) {\n            this._userTimeSeconds += deltaTimeSeconds;\n            var parameterValue;\n            var t = 0.0;\n            switch (this._blinkingState) {\n                case EyeState.EyeState_Closing:\n                    t =\n                        (this._userTimeSeconds - this._stateStartTimeSeconds) /\n                            this._closingSeconds;\n                    if (t >= 1.0) {\n                        t = 1.0;\n                        this._blinkingState = EyeState.EyeState_Closed;\n                        this._stateStartTimeSeconds = this._userTimeSeconds;\n                    }\n                    parameterValue = 1.0 - t;\n                    break;\n                case EyeState.EyeState_Closed:\n                    t =\n                        (this._userTimeSeconds - this._stateStartTimeSeconds) /\n                            this._closedSeconds;\n                    if (t >= 1.0) {\n                        this._blinkingState = EyeState.EyeState_Opening;\n                        this._stateStartTimeSeconds = this._userTimeSeconds;\n                    }\n                    parameterValue = 0.0;\n                    break;\n                case EyeState.EyeState_Opening:\n                    t =\n                        (this._userTimeSeconds - this._stateStartTimeSeconds) /\n                            this._openingSeconds;\n                    if (t >= 1.0) {\n                        t = 1.0;\n                        this._blinkingState = EyeState.EyeState_Interval;\n                        this._nextBlinkingTime = this.determinNextBlinkingTiming();\n                    }\n                    parameterValue = t;\n                    break;\n                case EyeState.EyeState_Interval:\n                    if (this._nextBlinkingTime < this._userTimeSeconds) {\n                        this._blinkingState = EyeState.EyeState_Closing;\n                        this._stateStartTimeSeconds = this._userTimeSeconds;\n                    }\n                    parameterValue = 1.0;\n                    break;\n                case EyeState.EyeState_First:\n                default:\n                    this._blinkingState = EyeState.EyeState_Interval;\n                    this._nextBlinkingTime = this.determinNextBlinkingTiming();\n                    parameterValue = 1.0;\n                    break;\n            }\n            if (!CubismEyeBlink.CloseIfZero) {\n                parameterValue = -parameterValue;\n            }\n            for (var i = 0; i < this._parameterIds.getSize(); ++i) {\n                model.setParameterValueById(this._parameterIds.at(i), parameterValue);\n            }\n        };\n        CubismEyeBlink.prototype.determinNextBlinkingTiming = function () {\n            var r = Math.random();\n            return (this._userTimeSeconds + r * (2.0 * this._blinkingIntervalSeconds - 1.0));\n        };\n        CubismEyeBlink.CloseIfZero = true;\n        return CubismEyeBlink;\n    }());\n    Live2DCubismFramework.CubismEyeBlink = CubismEyeBlink;\n    var EyeState;\n    (function (EyeState) {\n        EyeState[EyeState[\"EyeState_First\"] = 0] = \"EyeState_First\";\n        EyeState[EyeState[\"EyeState_Interval\"] = 1] = \"EyeState_Interval\";\n        EyeState[EyeState[\"EyeState_Closing\"] = 2] = \"EyeState_Closing\";\n        EyeState[EyeState[\"EyeState_Closed\"] = 3] = \"EyeState_Closed\";\n        EyeState[EyeState[\"EyeState_Opening\"] = 4] = \"EyeState_Opening\";\n    })(EyeState = Live2DCubismFramework.EyeState || (Live2DCubismFramework.EyeState = {}));\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL2VmZmVjdC9jdWJpc21leWVibGluay50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL0ZyYW1ld29yay9zcmMvZWZmZWN0L2N1YmlzbWV5ZWJsaW5rLnRzP2Q4NjMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTGl2ZTJEIE9wZW4gU29mdHdhcmUgbGljZW5zZVxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXG4gKi9cblxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGNzbXZlY3RvciB9IGZyb20gJy4uL3R5cGUvY3NtdmVjdG9yJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBpY3ViaXNtbW9kZWxzZXR0aW5nIH0gZnJvbSAnLi4vaWN1YmlzbW1vZGVsc2V0dGluZyc7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtaWQgfSBmcm9tICcuLi9pZC9jdWJpc21pZCc7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtbW9kZWwgfSBmcm9tICcuLi9tb2RlbC9jdWJpc21tb2RlbCc7XG5pbXBvcnQgQ3ViaXNtTW9kZWwgPSBjdWJpc21tb2RlbC5DdWJpc21Nb2RlbDtcbmltcG9ydCBDdWJpc21JZEhhbmRsZSA9IGN1YmlzbWlkLkN1YmlzbUlkSGFuZGxlO1xuaW1wb3J0IElDdWJpc21Nb2RlbFNldHRpbmcgPSBpY3ViaXNtbW9kZWxzZXR0aW5nLklDdWJpc21Nb2RlbFNldHRpbmc7XG5pbXBvcnQgY3NtVmVjdG9yID0gY3NtdmVjdG9yLmNzbVZlY3RvcjtcblxuZXhwb3J0IG5hbWVzcGFjZSBMaXZlMkRDdWJpc21GcmFtZXdvcmsge1xuICAvKipcbiAgICog6Ieq5YuV44G+44Gw44Gf44GN5qmf6IO9XG4gICAqXG4gICAqIOiHquWLleOBvuOBsOOBn+OBjeapn+iDveOCkuaPkOS+m+OBmeOCi+OAglxuICAgKi9cbiAgZXhwb3J0IGNsYXNzIEN1YmlzbUV5ZUJsaW5rIHtcbiAgICAvKipcbiAgICAgKiDjgqTjg7Pjgrnjgr/jg7PjgrnjgpLkvZzmiJDjgZnjgotcbiAgICAgKiBAcGFyYW0gbW9kZWxTZXR0aW5nIOODouODh+ODq+OBruioreWumuaDheWgsVxuICAgICAqIEByZXR1cm4g5L2c5oiQ44GV44KM44Gf44Kk44Oz44K544K/44Oz44K5XG4gICAgICogQG5vdGUg5byV5pWw44GMTlVMTOOBruWgtOWQiOOAgeODkeODqeODoeODvOOCv0lE44GM6Kit5a6a44GV44KM44Gm44GE44Gq44GE56m644Gu44Kk44Oz44K544K/44Oz44K544KS5L2c5oiQ44GZ44KL44CCXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGUoXG4gICAgICBtb2RlbFNldHRpbmc6IElDdWJpc21Nb2RlbFNldHRpbmcgPSBudWxsXG4gICAgKTogQ3ViaXNtRXllQmxpbmsge1xuICAgICAgcmV0dXJuIG5ldyBDdWJpc21FeWVCbGluayhtb2RlbFNldHRpbmcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOOCpOODs+OCueOCv+ODs+OCueOBruegtOajhFxuICAgICAqIEBwYXJhbSBleWVCbGluayDlr77osaHjga5DdWJpc21FeWVCbGlua1xuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgZGVsZXRlKGV5ZUJsaW5rOiBDdWJpc21FeWVCbGluayk6IHZvaWQge1xuICAgICAgaWYgKGV5ZUJsaW5rICE9IG51bGwpIHtcbiAgICAgICAgZXllQmxpbmsgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOOBvuOBsOOBn+OBjeOBrumWk+malOOBruioreWumlxuICAgICAqIEBwYXJhbSBibGlua2luZ0ludGVydmFsIOOBvuOBsOOBn+OBjeOBrumWk+malOOBruaZgumWk1vnp5JdXG4gICAgICovXG4gICAgcHVibGljIHNldEJsaW5raW5nSW50ZXJ2YWwoYmxpbmtpbmdJbnRlcnZhbDogbnVtYmVyKTogdm9pZCB7XG4gICAgICB0aGlzLl9ibGlua2luZ0ludGVydmFsU2Vjb25kcyA9IGJsaW5raW5nSW50ZXJ2YWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44G+44Gw44Gf44GN44Gu44Oi44O844K344On44Oz44Gu6Kmz57Sw6Kit5a6aXG4gICAgICogQHBhcmFtIGNsb3NpbmcgICDjgb7jgbbjgZ/jgpLplonjgZjjgovli5XkvZzjga7miYDopoHmmYLplpNb56eSXVxuICAgICAqIEBwYXJhbSBjbG9zZWQgICAg44G+44G244Gf44KS6ZaJ44GY44Gm44GE44KL5YuV5L2c44Gu5omA6KaB5pmC6ZaTW+enkl1cbiAgICAgKiBAcGFyYW0gb3BlbmluZyAgIOOBvuOBtuOBn+OCkumWi+OBj+WLleS9nOOBruaJgOimgeaZgumWk1vnp5JdXG4gICAgICovXG4gICAgcHVibGljIHNldEJsaW5raW5nU2V0dGluZyhcbiAgICAgIGNsb3Npbmc6IG51bWJlcixcbiAgICAgIGNsb3NlZDogbnVtYmVyLFxuICAgICAgb3BlbmluZzogbnVtYmVyXG4gICAgKTogdm9pZCB7XG4gICAgICB0aGlzLl9jbG9zaW5nU2Vjb25kcyA9IGNsb3Npbmc7XG4gICAgICB0aGlzLl9jbG9zZWRTZWNvbmRzID0gY2xvc2VkO1xuICAgICAgdGhpcy5fb3BlbmluZ1NlY29uZHMgPSBvcGVuaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOOBvuOBsOOBn+OBjeOBleOBm+OCi+ODkeODqeODoeODvOOCv0lE44Gu44Oq44K544OI44Gu6Kit5a6aXG4gICAgICogQHBhcmFtIHBhcmFtZXRlcklkcyDjg5Hjg6njg6Hjg7zjgr/jga5JROOBruODquOCueODiFxuICAgICAqL1xuICAgIHB1YmxpYyBzZXRQYXJhbWV0ZXJJZHMocGFyYW1ldGVySWRzOiBjc21WZWN0b3I8Q3ViaXNtSWRIYW5kbGU+KTogdm9pZCB7XG4gICAgICB0aGlzLl9wYXJhbWV0ZXJJZHMgPSBwYXJhbWV0ZXJJZHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44G+44Gw44Gf44GN44GV44Gb44KL44OR44Op44Oh44O844K/SUTjga7jg6rjgrnjg4jjga7lj5blvpdcbiAgICAgKiBAcmV0dXJuIOODkeODqeODoeODvOOCv0lE44Gu44Oq44K544OIXG4gICAgICovXG4gICAgcHVibGljIGdldFBhcmFtZXRlcklkcygpOiBjc21WZWN0b3I8Q3ViaXNtSWRIYW5kbGU+IHtcbiAgICAgIHJldHVybiB0aGlzLl9wYXJhbWV0ZXJJZHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Oi44OH44Or44Gu44OR44Op44Oh44O844K/44Gu5pu05pawXG4gICAgICogQHBhcmFtIG1vZGVsIOWvvuixoeOBruODouODh+ODq1xuICAgICAqIEBwYXJhbSBkZWx0YVRpbWVTZWNvbmRzIOODh+ODq+OCv+aZgumWk1vnp5JdXG4gICAgICovXG4gICAgcHVibGljIHVwZGF0ZVBhcmFtZXRlcnMoXG4gICAgICBtb2RlbDogQ3ViaXNtTW9kZWwsXG4gICAgICBkZWx0YVRpbWVTZWNvbmRzOiBudW1iZXJcbiAgICApOiB2b2lkIHtcbiAgICAgIHRoaXMuX3VzZXJUaW1lU2Vjb25kcyArPSBkZWx0YVRpbWVTZWNvbmRzO1xuICAgICAgbGV0IHBhcmFtZXRlclZhbHVlOiBudW1iZXI7XG4gICAgICBsZXQgdCA9IDAuMDtcblxuICAgICAgc3dpdGNoICh0aGlzLl9ibGlua2luZ1N0YXRlKSB7XG4gICAgICAgIGNhc2UgRXllU3RhdGUuRXllU3RhdGVfQ2xvc2luZzpcbiAgICAgICAgICB0ID1cbiAgICAgICAgICAgICh0aGlzLl91c2VyVGltZVNlY29uZHMgLSB0aGlzLl9zdGF0ZVN0YXJ0VGltZVNlY29uZHMpIC9cbiAgICAgICAgICAgIHRoaXMuX2Nsb3NpbmdTZWNvbmRzO1xuXG4gICAgICAgICAgaWYgKHQgPj0gMS4wKSB7XG4gICAgICAgICAgICB0ID0gMS4wO1xuICAgICAgICAgICAgdGhpcy5fYmxpbmtpbmdTdGF0ZSA9IEV5ZVN0YXRlLkV5ZVN0YXRlX0Nsb3NlZDtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlU3RhcnRUaW1lU2Vjb25kcyA9IHRoaXMuX3VzZXJUaW1lU2Vjb25kcztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwYXJhbWV0ZXJWYWx1ZSA9IDEuMCAtIHQ7XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBFeWVTdGF0ZS5FeWVTdGF0ZV9DbG9zZWQ6XG4gICAgICAgICAgdCA9XG4gICAgICAgICAgICAodGhpcy5fdXNlclRpbWVTZWNvbmRzIC0gdGhpcy5fc3RhdGVTdGFydFRpbWVTZWNvbmRzKSAvXG4gICAgICAgICAgICB0aGlzLl9jbG9zZWRTZWNvbmRzO1xuXG4gICAgICAgICAgaWYgKHQgPj0gMS4wKSB7XG4gICAgICAgICAgICB0aGlzLl9ibGlua2luZ1N0YXRlID0gRXllU3RhdGUuRXllU3RhdGVfT3BlbmluZztcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlU3RhcnRUaW1lU2Vjb25kcyA9IHRoaXMuX3VzZXJUaW1lU2Vjb25kcztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwYXJhbWV0ZXJWYWx1ZSA9IDAuMDtcblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEV5ZVN0YXRlLkV5ZVN0YXRlX09wZW5pbmc6XG4gICAgICAgICAgdCA9XG4gICAgICAgICAgICAodGhpcy5fdXNlclRpbWVTZWNvbmRzIC0gdGhpcy5fc3RhdGVTdGFydFRpbWVTZWNvbmRzKSAvXG4gICAgICAgICAgICB0aGlzLl9vcGVuaW5nU2Vjb25kcztcblxuICAgICAgICAgIGlmICh0ID49IDEuMCkge1xuICAgICAgICAgICAgdCA9IDEuMDtcbiAgICAgICAgICAgIHRoaXMuX2JsaW5raW5nU3RhdGUgPSBFeWVTdGF0ZS5FeWVTdGF0ZV9JbnRlcnZhbDtcbiAgICAgICAgICAgIHRoaXMuX25leHRCbGlua2luZ1RpbWUgPSB0aGlzLmRldGVybWluTmV4dEJsaW5raW5nVGltaW5nKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcGFyYW1ldGVyVmFsdWUgPSB0O1xuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgRXllU3RhdGUuRXllU3RhdGVfSW50ZXJ2YWw6XG4gICAgICAgICAgaWYgKHRoaXMuX25leHRCbGlua2luZ1RpbWUgPCB0aGlzLl91c2VyVGltZVNlY29uZHMpIHtcbiAgICAgICAgICAgIHRoaXMuX2JsaW5raW5nU3RhdGUgPSBFeWVTdGF0ZS5FeWVTdGF0ZV9DbG9zaW5nO1xuICAgICAgICAgICAgdGhpcy5fc3RhdGVTdGFydFRpbWVTZWNvbmRzID0gdGhpcy5fdXNlclRpbWVTZWNvbmRzO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHBhcmFtZXRlclZhbHVlID0gMS4wO1xuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgRXllU3RhdGUuRXllU3RhdGVfRmlyc3Q6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhpcy5fYmxpbmtpbmdTdGF0ZSA9IEV5ZVN0YXRlLkV5ZVN0YXRlX0ludGVydmFsO1xuICAgICAgICAgIHRoaXMuX25leHRCbGlua2luZ1RpbWUgPSB0aGlzLmRldGVybWluTmV4dEJsaW5raW5nVGltaW5nKCk7XG5cbiAgICAgICAgICBwYXJhbWV0ZXJWYWx1ZSA9IDEuMDtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgaWYgKCFDdWJpc21FeWVCbGluay5DbG9zZUlmWmVybykge1xuICAgICAgICBwYXJhbWV0ZXJWYWx1ZSA9IC1wYXJhbWV0ZXJWYWx1ZTtcbiAgICAgIH1cblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9wYXJhbWV0ZXJJZHMuZ2V0U2l6ZSgpOyArK2kpIHtcbiAgICAgICAgbW9kZWwuc2V0UGFyYW1ldGVyVmFsdWVCeUlkKHRoaXMuX3BhcmFtZXRlcklkcy5hdChpKSwgcGFyYW1ldGVyVmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOOCs+ODs+OCueODiOODqeOCr+OCv1xuICAgICAqIEBwYXJhbSBtb2RlbFNldHRpbmcg44Oi44OH44Or44Gu6Kit5a6a5oOF5aCxXG4gICAgICovXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKG1vZGVsU2V0dGluZzogSUN1YmlzbU1vZGVsU2V0dGluZykge1xuICAgICAgdGhpcy5fYmxpbmtpbmdTdGF0ZSA9IEV5ZVN0YXRlLkV5ZVN0YXRlX0ZpcnN0O1xuICAgICAgdGhpcy5fbmV4dEJsaW5raW5nVGltZSA9IDAuMDtcbiAgICAgIHRoaXMuX3N0YXRlU3RhcnRUaW1lU2Vjb25kcyA9IDAuMDtcbiAgICAgIHRoaXMuX2JsaW5raW5nSW50ZXJ2YWxTZWNvbmRzID0gNC4wO1xuICAgICAgdGhpcy5fY2xvc2luZ1NlY29uZHMgPSAwLjE7XG4gICAgICB0aGlzLl9jbG9zZWRTZWNvbmRzID0gMC4wNTtcbiAgICAgIHRoaXMuX29wZW5pbmdTZWNvbmRzID0gMC4xNTtcbiAgICAgIHRoaXMuX3VzZXJUaW1lU2Vjb25kcyA9IDAuMDtcbiAgICAgIHRoaXMuX3BhcmFtZXRlcklkcyA9IG5ldyBjc21WZWN0b3I8Q3ViaXNtSWRIYW5kbGU+KCk7XG5cbiAgICAgIGlmIChtb2RlbFNldHRpbmcgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbW9kZWxTZXR0aW5nLmdldEV5ZUJsaW5rUGFyYW1ldGVyQ291bnQoKTsgKytpKSB7XG4gICAgICAgIHRoaXMuX3BhcmFtZXRlcklkcy5wdXNoQmFjayhtb2RlbFNldHRpbmcuZ2V0RXllQmxpbmtQYXJhbWV0ZXJJZChpKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5qyh44Gu556s44GN44Gu44K/44Kk44Of44Oz44Kw44Gu5rG65a6aXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIOasoeOBruOBvuOBsOOBn+OBjeOCkuihjOOBhuaZguWIu1vnp5JdXG4gICAgICovXG4gICAgcHVibGljIGRldGVybWluTmV4dEJsaW5raW5nVGltaW5nKCk6IG51bWJlciB7XG4gICAgICBjb25zdCByOiBudW1iZXIgPSBNYXRoLnJhbmRvbSgpO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgdGhpcy5fdXNlclRpbWVTZWNvbmRzICsgciAqICgyLjAgKiB0aGlzLl9ibGlua2luZ0ludGVydmFsU2Vjb25kcyAtIDEuMClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgX2JsaW5raW5nU3RhdGU6IG51bWJlcjsgLy8g54++5Zyo44Gu54q25oWLXG4gICAgX3BhcmFtZXRlcklkczogY3NtVmVjdG9yPEN1YmlzbUlkSGFuZGxlPjsgLy8g5pON5L2c5a++6LGh44Gu44OR44Op44Oh44O844K/44GuSUTjga7jg6rjgrnjg4hcbiAgICBfbmV4dEJsaW5raW5nVGltZTogbnVtYmVyOyAvLyDmrKHjga7jgb7jgbDjgZ/jgY3jga7mmYLliLtb56eSXVxuICAgIF9zdGF0ZVN0YXJ0VGltZVNlY29uZHM6IG51bWJlcjsgLy8g54++5Zyo44Gu54q25oWL44GM6ZaL5aeL44GX44Gf5pmC5Yi7W+enkl1cbiAgICBfYmxpbmtpbmdJbnRlcnZhbFNlY29uZHM6IG51bWJlcjsgLy8g44G+44Gw44Gf44GN44Gu6ZaT6ZqUW+enkl1cbiAgICBfY2xvc2luZ1NlY29uZHM6IG51bWJlcjsgLy8g44G+44G244Gf44KS6ZaJ44GY44KL5YuV5L2c44Gu5omA6KaB5pmC6ZaTW+enkl1cbiAgICBfY2xvc2VkU2Vjb25kczogbnVtYmVyOyAvLyDjgb7jgbbjgZ/jgpLplonjgZjjgabjgYTjgovli5XkvZzjga7miYDopoHmmYLplpNb56eSXVxuICAgIF9vcGVuaW5nU2Vjb25kczogbnVtYmVyOyAvLyDjgb7jgbbjgZ/jgpLplovjgY/li5XkvZzjga7miYDopoHmmYLplpNb56eSXVxuICAgIF91c2VyVGltZVNlY29uZHM6IG51bWJlcjsgLy8g44OH44Or44K/5pmC6ZaT44Gu56mN566X5YCkW+enkl1cblxuICAgIC8qKlxuICAgICAqIElE44Gn5oyH5a6a44GV44KM44Gf55uu44Gu44OR44Op44Oh44O844K/44GM44CBMOOBruOBqOOBjeOBq+mWieOBmOOCi+OBquOCiSB0cnVlIOOAgTHjga7mmYLjgavplonjgZjjgovjgarjgokgZmFsc2Ug44CCXG4gICAgICovXG4gICAgc3RhdGljIHJlYWRvbmx5IENsb3NlSWZaZXJvOiBib29sZWFuID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiDjgb7jgbDjgZ/jgY3jga7nirbmhYtcbiAgICpcbiAgICog44G+44Gw44Gf44GN44Gu54q25oWL44KS6KGo44GZ5YiX5oyZ5Z6LXG4gICAqL1xuICBleHBvcnQgZW51bSBFeWVTdGF0ZSB7XG4gICAgRXllU3RhdGVfRmlyc3QgPSAwLCAvLyDliJ3mnJ/nirbmhYtcbiAgICBFeWVTdGF0ZV9JbnRlcnZhbCwgLy8g44G+44Gw44Gf44GN44GX44Gm44GE44Gq44GE54q25oWLXG4gICAgRXllU3RhdGVfQ2xvc2luZywgLy8g44G+44G244Gf44GM6ZaJ44GY44Gm44GE44GP6YCU5Lit44Gu54q25oWLXG4gICAgRXllU3RhdGVfQ2xvc2VkLCAvLyDjgb7jgbbjgZ/jgYzplonjgZjjgabjgYTjgovnirbmhYtcbiAgICBFeWVTdGF0ZV9PcGVuaW5nIC8vIOOBvuOBtuOBn+OBjOmWi+OBhOOBpuOBhOOBj+mAlOS4reOBrueKtuaFi1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7OztBQU9BO0FBT0E7QUFFQTtBQUFBO0FBTUE7QUFxSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQWhLQTtBQUNBO0FBRUE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFRQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBT0E7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUErQkE7QUFDQTtBQUNBO0FBR0E7QUFlQTtBQUNBO0FBQUE7QUFuTUE7QUEwTUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/effect/cubismeyeblink.ts\n");

/***/ }),

/***/ "./Framework/src/effect/cubismpose.ts":
/*!********************************************!*\
  !*** ./Framework/src/effect/cubismpose.ts ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./Framework/src/type/csmvector.ts\");\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./Framework/src/live2dcubismframework.ts\");\nvar cubismjson_1 = __webpack_require__(/*! ../utils/cubismjson */ \"./Framework/src/utils/cubismjson.ts\");\nvar csmVector = csmvector_1.Live2DCubismFramework.csmVector;\nvar CubismFramework = live2dcubismframework_1.Live2DCubismFramework.CubismFramework;\nvar CubismJson = cubismjson_1.Live2DCubismFramework.CubismJson;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var Epsilon = 0.001;\n    var DefaultFadeInSeconds = 0.5;\n    var FadeIn = 'FadeInTime';\n    var Link = 'Link';\n    var Groups = 'Groups';\n    var Id = 'Id';\n    var CubismPose = (function () {\n        function CubismPose() {\n            this._fadeTimeSeconds = DefaultFadeInSeconds;\n            this._lastModel = null;\n            this._partGroups = new csmVector();\n            this._partGroupCounts = new csmVector();\n        }\n        CubismPose.create = function (pose3json, size) {\n            var ret = new CubismPose();\n            var json = CubismJson.create(pose3json, size);\n            var root = json.getRoot();\n            if (!root.getValueByString(FadeIn).isNull()) {\n                ret._fadeTimeSeconds = root\n                    .getValueByString(FadeIn)\n                    .toFloat(DefaultFadeInSeconds);\n                if (ret._fadeTimeSeconds <= 0.0) {\n                    ret._fadeTimeSeconds = DefaultFadeInSeconds;\n                }\n            }\n            var poseListInfo = root.getValueByString(Groups);\n            var poseCount = poseListInfo.getSize();\n            for (var poseIndex = 0; poseIndex < poseCount; ++poseIndex) {\n                var idListInfo = poseListInfo.getValueByIndex(poseIndex);\n                var idCount = idListInfo.getSize();\n                var groupCount = 0;\n                for (var groupIndex = 0; groupIndex < idCount; ++groupIndex) {\n                    var partInfo = idListInfo.getValueByIndex(groupIndex);\n                    var partData = new PartData();\n                    var parameterId = CubismFramework.getIdManager().getId(partInfo.getValueByString(Id).getRawString());\n                    partData.partId = parameterId;\n                    if (!partInfo.getValueByString(Link).isNull()) {\n                        var linkListInfo = partInfo.getValueByString(Link);\n                        var linkCount = linkListInfo.getSize();\n                        for (var linkIndex = 0; linkIndex < linkCount; ++linkIndex) {\n                            var linkPart = new PartData();\n                            var linkId = CubismFramework.getIdManager().getId(linkListInfo.getValueByIndex(linkIndex).getString());\n                            linkPart.partId = linkId;\n                            partData.link.pushBack(linkPart);\n                        }\n                    }\n                    ret._partGroups.pushBack(partData.clone());\n                    ++groupCount;\n                }\n                ret._partGroupCounts.pushBack(groupCount);\n            }\n            CubismJson.delete(json);\n            return ret;\n        };\n        CubismPose.delete = function (pose) {\n            if (pose != null) {\n                pose = null;\n            }\n        };\n        CubismPose.prototype.updateParameters = function (model, deltaTimeSeconds) {\n            if (model != this._lastModel) {\n                this.reset(model);\n            }\n            this._lastModel = model;\n            if (deltaTimeSeconds < 0.0) {\n                deltaTimeSeconds = 0.0;\n            }\n            var beginIndex = 0;\n            for (var i = 0; i < this._partGroupCounts.getSize(); i++) {\n                var partGroupCount = this._partGroupCounts.at(i);\n                this.doFade(model, deltaTimeSeconds, beginIndex, partGroupCount);\n                beginIndex += partGroupCount;\n            }\n            this.copyPartOpacities(model);\n        };\n        CubismPose.prototype.reset = function (model) {\n            var beginIndex = 0;\n            for (var i = 0; i < this._partGroupCounts.getSize(); ++i) {\n                var groupCount = this._partGroupCounts.at(i);\n                for (var j = beginIndex; j < beginIndex + groupCount; ++j) {\n                    this._partGroups.at(j).initialize(model);\n                    var partsIndex = this._partGroups.at(j).partIndex;\n                    var paramIndex = this._partGroups.at(j).parameterIndex;\n                    if (partsIndex < 0) {\n                        continue;\n                    }\n                    model.setPartOpacityByIndex(partsIndex, j == beginIndex ? 1.0 : 0.0);\n                    model.setParameterValueByIndex(paramIndex, j == beginIndex ? 1.0 : 0.0);\n                    for (var k = 0; k < this._partGroups.at(j).link.getSize(); ++k) {\n                        this._partGroups\n                            .at(j)\n                            .link.at(k)\n                            .initialize(model);\n                    }\n                }\n                beginIndex += groupCount;\n            }\n        };\n        CubismPose.prototype.copyPartOpacities = function (model) {\n            for (var groupIndex = 0; groupIndex < this._partGroups.getSize(); ++groupIndex) {\n                var partData = this._partGroups.at(groupIndex);\n                if (partData.link.getSize() == 0) {\n                    continue;\n                }\n                var partIndex = this._partGroups.at(groupIndex).partIndex;\n                var opacity = model.getPartOpacityByIndex(partIndex);\n                for (var linkIndex = 0; linkIndex < partData.link.getSize(); ++linkIndex) {\n                    var linkPart = partData.link.at(linkIndex);\n                    var linkPartIndex = linkPart.partIndex;\n                    if (linkPartIndex < 0) {\n                        continue;\n                    }\n                    model.setPartOpacityByIndex(linkPartIndex, opacity);\n                }\n            }\n        };\n        CubismPose.prototype.doFade = function (model, deltaTimeSeconds, beginIndex, partGroupCount) {\n            var visiblePartIndex = -1;\n            var newOpacity = 1.0;\n            var phi = 0.5;\n            var backOpacityThreshold = 0.15;\n            for (var i = beginIndex; i < beginIndex + partGroupCount; ++i) {\n                var partIndex = this._partGroups.at(i).partIndex;\n                var paramIndex = this._partGroups.at(i).parameterIndex;\n                if (model.getParameterValueByIndex(paramIndex) > Epsilon) {\n                    if (visiblePartIndex >= 0) {\n                        break;\n                    }\n                    visiblePartIndex = i;\n                    newOpacity = model.getPartOpacityByIndex(partIndex);\n                    newOpacity += deltaTimeSeconds / this._fadeTimeSeconds;\n                    if (newOpacity > 1.0) {\n                        newOpacity = 1.0;\n                    }\n                }\n            }\n            if (visiblePartIndex < 0) {\n                visiblePartIndex = 0;\n                newOpacity = 1.0;\n            }\n            for (var i = beginIndex; i < beginIndex + partGroupCount; ++i) {\n                var partsIndex = this._partGroups.at(i).partIndex;\n                if (visiblePartIndex == i) {\n                    model.setPartOpacityByIndex(partsIndex, newOpacity);\n                }\n                else {\n                    var opacity = model.getPartOpacityByIndex(partsIndex);\n                    var a1 = void 0;\n                    if (newOpacity < phi) {\n                        a1 = (newOpacity * (phi - 1)) / phi + 1.0;\n                    }\n                    else {\n                        a1 = ((1 - newOpacity) * phi) / (1.0 - phi);\n                    }\n                    var backOpacity = (1.0 - a1) * (1.0 - newOpacity);\n                    if (backOpacity > backOpacityThreshold) {\n                        a1 = 1.0 - backOpacityThreshold / (1.0 - newOpacity);\n                    }\n                    if (opacity > a1) {\n                        opacity = a1;\n                    }\n                    model.setPartOpacityByIndex(partsIndex, opacity);\n                }\n            }\n        };\n        return CubismPose;\n    }());\n    Live2DCubismFramework.CubismPose = CubismPose;\n    var PartData = (function () {\n        function PartData(v) {\n            this.parameterIndex = 0;\n            this.partIndex = 0;\n            this.link = new csmVector();\n            if (v != undefined) {\n                this.partId = v.partId;\n                for (var ite = v.link.begin(); ite.notEqual(v.link.end()); ite.preIncrement()) {\n                    this.link.pushBack(ite.ptr().clone());\n                }\n            }\n        }\n        PartData.prototype.assignment = function (v) {\n            this.partId = v.partId;\n            for (var ite = v.link.begin(); ite.notEqual(v.link.end()); ite.preIncrement()) {\n                this.link.pushBack(ite.ptr().clone());\n            }\n            return this;\n        };\n        PartData.prototype.initialize = function (model) {\n            this.parameterIndex = model.getParameterIndex(this.partId);\n            this.partIndex = model.getPartIndex(this.partId);\n            model.setParameterValueByIndex(this.parameterIndex, 1);\n        };\n        PartData.prototype.clone = function () {\n            var clonePartData = new PartData();\n            clonePartData.partId = this.partId;\n            clonePartData.parameterIndex = this.parameterIndex;\n            clonePartData.partIndex = this.partIndex;\n            clonePartData.link = new csmVector();\n            for (var ite = this.link.begin(); ite.notEqual(this.link.end()); ite.increment()) {\n                clonePartData.link.pushBack(ite.ptr().clone());\n            }\n            return clonePartData;\n        };\n        return PartData;\n    }());\n    Live2DCubismFramework.PartData = PartData;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL2VmZmVjdC9jdWJpc21wb3NlLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vRnJhbWV3b3JrL3NyYy9lZmZlY3QvY3ViaXNtcG9zZS50cz8wZDY2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0KGMpIExpdmUyRCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcbiAqIHRoYXQgY2FuIGJlIGZvdW5kIGF0IGh0dHBzOi8vd3d3LmxpdmUyZC5jb20vZXVsYS9saXZlMmQtb3Blbi1zb2Z0d2FyZS1saWNlbnNlLWFncmVlbWVudF9lbi5odG1sLlxuICovXG5cbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21pZCB9IGZyb20gJy4uL2lkL2N1YmlzbWlkJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjc212ZWN0b3IgfSBmcm9tICcuLi90eXBlL2NzbXZlY3Rvcic7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtbW9kZWwgfSBmcm9tICcuLi9tb2RlbC9jdWJpc21tb2RlbCc7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtZnJhbWV3b3JrIH0gZnJvbSAnLi4vbGl2ZTJkY3ViaXNtZnJhbWV3b3JrJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21qc29uIH0gZnJvbSAnLi4vdXRpbHMvY3ViaXNtanNvbic7XG5pbXBvcnQgQ3ViaXNtSWRIYW5kbGUgPSBjdWJpc21pZC5DdWJpc21JZEhhbmRsZTtcbmltcG9ydCBjc21WZWN0b3IgPSBjc212ZWN0b3IuY3NtVmVjdG9yO1xuaW1wb3J0IGl0ZXJhdG9yID0gY3NtdmVjdG9yLml0ZXJhdG9yO1xuaW1wb3J0IEN1YmlzbU1vZGVsID0gY3ViaXNtbW9kZWwuQ3ViaXNtTW9kZWw7XG5pbXBvcnQgQ3ViaXNtRnJhbWV3b3JrID0gY3ViaXNtZnJhbWV3b3JrLkN1YmlzbUZyYW1ld29yaztcbmltcG9ydCBDdWJpc21Kc29uID0gY3ViaXNtanNvbi5DdWJpc21Kc29uO1xuaW1wb3J0IFZhbHVlID0gY3ViaXNtanNvbi5WYWx1ZTtcblxuZXhwb3J0IG5hbWVzcGFjZSBMaXZlMkRDdWJpc21GcmFtZXdvcmsge1xuICBjb25zdCBFcHNpbG9uID0gMC4wMDE7XG4gIGNvbnN0IERlZmF1bHRGYWRlSW5TZWNvbmRzID0gMC41O1xuXG4gIC8vIFBvc2UuanNvbuOBruOCv+OCsFxuICBjb25zdCBGYWRlSW4gPSAnRmFkZUluVGltZSc7XG4gIGNvbnN0IExpbmsgPSAnTGluayc7XG4gIGNvbnN0IEdyb3VwcyA9ICdHcm91cHMnO1xuICBjb25zdCBJZCA9ICdJZCc7XG5cbiAgLyoqXG4gICAqIOODkeODvOODhOOBruS4jemAj+aYjuW6puOBruioreWumlxuICAgKlxuICAgKiDjg5Hjg7zjg4Tjga7kuI3pgI/mmI7luqbjga7nrqHnkIbjgajoqK3lrprjgpLooYzjgYbjgIJcbiAgICovXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21Qb3NlIHtcbiAgICAvKipcbiAgICAgKiDjgqTjg7Pjgrnjgr/jg7Pjgrnjga7kvZzmiJBcbiAgICAgKiBAcGFyYW0gcG9zZTNqc29uIHBvc2UzLmpzb27jga7jg4fjg7zjgr9cbiAgICAgKiBAcGFyYW0gc2l6ZSBwb3NlMy5qc29u44Gu44OH44O844K/44Gu44K144Kk44K6W2J5dGVdXG4gICAgICogQHJldHVybiDkvZzmiJDjgZXjgozjgZ/jgqTjg7Pjgrnjgr/jg7PjgrlcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShwb3NlM2pzb246IEFycmF5QnVmZmVyLCBzaXplOiBudW1iZXIpOiBDdWJpc21Qb3NlIHtcbiAgICAgIGNvbnN0IHJldDogQ3ViaXNtUG9zZSA9IG5ldyBDdWJpc21Qb3NlKCk7XG4gICAgICBjb25zdCBqc29uOiBDdWJpc21Kc29uID0gQ3ViaXNtSnNvbi5jcmVhdGUocG9zZTNqc29uLCBzaXplKTtcbiAgICAgIGNvbnN0IHJvb3Q6IFZhbHVlID0ganNvbi5nZXRSb290KCk7XG5cbiAgICAgIC8vIOODleOCp+ODvOODieaZgumWk+OBruaMh+WumlxuICAgICAgaWYgKCFyb290LmdldFZhbHVlQnlTdHJpbmcoRmFkZUluKS5pc051bGwoKSkge1xuICAgICAgICByZXQuX2ZhZGVUaW1lU2Vjb25kcyA9IHJvb3RcbiAgICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhGYWRlSW4pXG4gICAgICAgICAgLnRvRmxvYXQoRGVmYXVsdEZhZGVJblNlY29uZHMpO1xuXG4gICAgICAgIGlmIChyZXQuX2ZhZGVUaW1lU2Vjb25kcyA8PSAwLjApIHtcbiAgICAgICAgICByZXQuX2ZhZGVUaW1lU2Vjb25kcyA9IERlZmF1bHRGYWRlSW5TZWNvbmRzO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIOODkeODvOODhOOCsOODq+ODvOODl1xuICAgICAgY29uc3QgcG9zZUxpc3RJbmZvOiBWYWx1ZSA9IHJvb3QuZ2V0VmFsdWVCeVN0cmluZyhHcm91cHMpO1xuICAgICAgY29uc3QgcG9zZUNvdW50OiBudW1iZXIgPSBwb3NlTGlzdEluZm8uZ2V0U2l6ZSgpO1xuXG4gICAgICBmb3IgKGxldCBwb3NlSW5kZXggPSAwOyBwb3NlSW5kZXggPCBwb3NlQ291bnQ7ICsrcG9zZUluZGV4KSB7XG4gICAgICAgIGNvbnN0IGlkTGlzdEluZm86IFZhbHVlID0gcG9zZUxpc3RJbmZvLmdldFZhbHVlQnlJbmRleChwb3NlSW5kZXgpO1xuICAgICAgICBjb25zdCBpZENvdW50OiBudW1iZXIgPSBpZExpc3RJbmZvLmdldFNpemUoKTtcbiAgICAgICAgbGV0IGdyb3VwQ291bnQgPSAwO1xuXG4gICAgICAgIGZvciAobGV0IGdyb3VwSW5kZXggPSAwOyBncm91cEluZGV4IDwgaWRDb3VudDsgKytncm91cEluZGV4KSB7XG4gICAgICAgICAgY29uc3QgcGFydEluZm86IFZhbHVlID0gaWRMaXN0SW5mby5nZXRWYWx1ZUJ5SW5kZXgoZ3JvdXBJbmRleCk7XG4gICAgICAgICAgY29uc3QgcGFydERhdGE6IFBhcnREYXRhID0gbmV3IFBhcnREYXRhKCk7XG4gICAgICAgICAgY29uc3QgcGFyYW1ldGVySWQ6IEN1YmlzbUlkSGFuZGxlID0gQ3ViaXNtRnJhbWV3b3JrLmdldElkTWFuYWdlcigpLmdldElkKFxuICAgICAgICAgICAgcGFydEluZm8uZ2V0VmFsdWVCeVN0cmluZyhJZCkuZ2V0UmF3U3RyaW5nKClcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgcGFydERhdGEucGFydElkID0gcGFyYW1ldGVySWQ7XG5cbiAgICAgICAgICAvLyDjg6rjg7Pjgq/jgZnjgovjg5Hjg7zjg4Tjga7oqK3lrppcbiAgICAgICAgICBpZiAoIXBhcnRJbmZvLmdldFZhbHVlQnlTdHJpbmcoTGluaykuaXNOdWxsKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmtMaXN0SW5mbzogVmFsdWUgPSBwYXJ0SW5mby5nZXRWYWx1ZUJ5U3RyaW5nKExpbmspO1xuICAgICAgICAgICAgY29uc3QgbGlua0NvdW50OiBudW1iZXIgPSBsaW5rTGlzdEluZm8uZ2V0U2l6ZSgpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBsaW5rSW5kZXggPSAwOyBsaW5rSW5kZXggPCBsaW5rQ291bnQ7ICsrbGlua0luZGV4KSB7XG4gICAgICAgICAgICAgIGNvbnN0IGxpbmtQYXJ0OiBQYXJ0RGF0YSA9IG5ldyBQYXJ0RGF0YSgpO1xuICAgICAgICAgICAgICBjb25zdCBsaW5rSWQ6IEN1YmlzbUlkSGFuZGxlID0gQ3ViaXNtRnJhbWV3b3JrLmdldElkTWFuYWdlcigpLmdldElkKFxuICAgICAgICAgICAgICAgIGxpbmtMaXN0SW5mby5nZXRWYWx1ZUJ5SW5kZXgobGlua0luZGV4KS5nZXRTdHJpbmcoKVxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIGxpbmtQYXJ0LnBhcnRJZCA9IGxpbmtJZDtcblxuICAgICAgICAgICAgICBwYXJ0RGF0YS5saW5rLnB1c2hCYWNrKGxpbmtQYXJ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXQuX3BhcnRHcm91cHMucHVzaEJhY2socGFydERhdGEuY2xvbmUoKSk7XG5cbiAgICAgICAgICArK2dyb3VwQ291bnQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXQuX3BhcnRHcm91cENvdW50cy5wdXNoQmFjayhncm91cENvdW50KTtcbiAgICAgIH1cblxuICAgICAgQ3ViaXNtSnNvbi5kZWxldGUoanNvbik7XG5cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Kk44Oz44K544K/44Oz44K544KS56C05qOE44GZ44KLXG4gICAgICogQHBhcmFtIHBvc2Ug5a++6LGh44GuQ3ViaXNtUG9zZVxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgZGVsZXRlKHBvc2U6IEN1YmlzbVBvc2UpOiB2b2lkIHtcbiAgICAgIGlmIChwb3NlICE9IG51bGwpIHtcbiAgICAgICAgcG9zZSA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Oi44OH44Or44Gu44OR44Op44Oh44O844K/44Gu5pu05pawXG4gICAgICogQHBhcmFtIG1vZGVsIOWvvuixoeOBruODouODh+ODq1xuICAgICAqIEBwYXJhbSBkZWx0YVRpbWVTZWNvbmRzIOODh+ODq+OCv+aZgumWk1vnp5JdXG4gICAgICovXG4gICAgcHVibGljIHVwZGF0ZVBhcmFtZXRlcnMoXG4gICAgICBtb2RlbDogQ3ViaXNtTW9kZWwsXG4gICAgICBkZWx0YVRpbWVTZWNvbmRzOiBudW1iZXJcbiAgICApOiB2b2lkIHtcbiAgICAgIC8vIOWJjeWbnuOBruODouODh+ODq+OBqOWQjOOBmOOBp+OBquOBhOWgtOWQiOOBr+WIneacn+WMluOBjOW/heimgVxuICAgICAgaWYgKG1vZGVsICE9IHRoaXMuX2xhc3RNb2RlbCkge1xuICAgICAgICAvLyDjg5Hjg6njg6Hjg7zjgr/jgqTjg7Pjg4fjg4Pjgq/jgrnjga7liJ3mnJ/ljJZcbiAgICAgICAgdGhpcy5yZXNldChtb2RlbCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2xhc3RNb2RlbCA9IG1vZGVsO1xuXG4gICAgICAvLyDoqK3lrprjgYvjgonmmYLplpPjgpLlpInmm7TjgZnjgovjgajjgIHntYzpgY7mmYLplpPjgYzjg57jgqTjg4rjgrnjgavjgarjgovkuovjgYzjgYLjgovjga7jgafjgIHntYzpgY7mmYLplpMw44Go44GX44Gm5a++5b+cXG4gICAgICBpZiAoZGVsdGFUaW1lU2Vjb25kcyA8IDAuMCkge1xuICAgICAgICBkZWx0YVRpbWVTZWNvbmRzID0gMC4wO1xuICAgICAgfVxuXG4gICAgICBsZXQgYmVnaW5JbmRleCA9IDA7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fcGFydEdyb3VwQ291bnRzLmdldFNpemUoKTsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHBhcnRHcm91cENvdW50OiBudW1iZXIgPSB0aGlzLl9wYXJ0R3JvdXBDb3VudHMuYXQoaSk7XG5cbiAgICAgICAgdGhpcy5kb0ZhZGUobW9kZWwsIGRlbHRhVGltZVNlY29uZHMsIGJlZ2luSW5kZXgsIHBhcnRHcm91cENvdW50KTtcblxuICAgICAgICBiZWdpbkluZGV4ICs9IHBhcnRHcm91cENvdW50O1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNvcHlQYXJ0T3BhY2l0aWVzKG1vZGVsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDooajnpLrjgpLliJ3mnJ/ljJZcbiAgICAgKiBAcGFyYW0gbW9kZWwg5a++6LGh44Gu44Oi44OH44OrXG4gICAgICogQG5vdGUg5LiN6YCP5piO5bqm44Gu5Yid5pyf5YCk44GMMOOBp+OBquOBhOODkeODqeODoeODvOOCv+OBr+OAgeS4jemAj+aYjuW6puOCku+8keOBq+ioreWumuOBmeOCi1xuICAgICAqL1xuICAgIHB1YmxpYyByZXNldChtb2RlbDogQ3ViaXNtTW9kZWwpOiB2b2lkIHtcbiAgICAgIGxldCBiZWdpbkluZGV4ID0gMDtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9wYXJ0R3JvdXBDb3VudHMuZ2V0U2l6ZSgpOyArK2kpIHtcbiAgICAgICAgY29uc3QgZ3JvdXBDb3VudDogbnVtYmVyID0gdGhpcy5fcGFydEdyb3VwQ291bnRzLmF0KGkpO1xuXG4gICAgICAgIGZvciAobGV0IGo6IG51bWJlciA9IGJlZ2luSW5kZXg7IGogPCBiZWdpbkluZGV4ICsgZ3JvdXBDb3VudDsgKytqKSB7XG4gICAgICAgICAgdGhpcy5fcGFydEdyb3Vwcy5hdChqKS5pbml0aWFsaXplKG1vZGVsKTtcblxuICAgICAgICAgIGNvbnN0IHBhcnRzSW5kZXg6IG51bWJlciA9IHRoaXMuX3BhcnRHcm91cHMuYXQoaikucGFydEluZGV4O1xuICAgICAgICAgIGNvbnN0IHBhcmFtSW5kZXg6IG51bWJlciA9IHRoaXMuX3BhcnRHcm91cHMuYXQoaikucGFyYW1ldGVySW5kZXg7XG5cbiAgICAgICAgICBpZiAocGFydHNJbmRleCA8IDApIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG1vZGVsLnNldFBhcnRPcGFjaXR5QnlJbmRleChwYXJ0c0luZGV4LCBqID09IGJlZ2luSW5kZXggPyAxLjAgOiAwLjApO1xuICAgICAgICAgIG1vZGVsLnNldFBhcmFtZXRlclZhbHVlQnlJbmRleChcbiAgICAgICAgICAgIHBhcmFtSW5kZXgsXG4gICAgICAgICAgICBqID09IGJlZ2luSW5kZXggPyAxLjAgOiAwLjBcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCB0aGlzLl9wYXJ0R3JvdXBzLmF0KGopLmxpbmsuZ2V0U2l6ZSgpOyArK2spIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcnRHcm91cHNcbiAgICAgICAgICAgICAgLmF0KGopXG4gICAgICAgICAgICAgIC5saW5rLmF0KGspXG4gICAgICAgICAgICAgIC5pbml0aWFsaXplKG1vZGVsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBiZWdpbkluZGV4ICs9IGdyb3VwQ291bnQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44OR44O844OE44Gu5LiN6YCP5piO5bqm44KS44Kz44OU44O8XG4gICAgICpcbiAgICAgKiBAcGFyYW0gbW9kZWwg5a++6LGh44Gu44Oi44OH44OrXG4gICAgICovXG4gICAgcHVibGljIGNvcHlQYXJ0T3BhY2l0aWVzKG1vZGVsOiBDdWJpc21Nb2RlbCk6IHZvaWQge1xuICAgICAgZm9yIChcbiAgICAgICAgbGV0IGdyb3VwSW5kZXggPSAwO1xuICAgICAgICBncm91cEluZGV4IDwgdGhpcy5fcGFydEdyb3Vwcy5nZXRTaXplKCk7XG4gICAgICAgICsrZ3JvdXBJbmRleFxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IHBhcnREYXRhOiBQYXJ0RGF0YSA9IHRoaXMuX3BhcnRHcm91cHMuYXQoZ3JvdXBJbmRleCk7XG5cbiAgICAgICAgaWYgKHBhcnREYXRhLmxpbmsuZ2V0U2l6ZSgpID09IDApIHtcbiAgICAgICAgICBjb250aW51ZTsgLy8g6YCj5YuV44GZ44KL44OR44Op44Oh44O844K/44Gv44Gq44GEXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwYXJ0SW5kZXg6IG51bWJlciA9IHRoaXMuX3BhcnRHcm91cHMuYXQoZ3JvdXBJbmRleCkucGFydEluZGV4O1xuICAgICAgICBjb25zdCBvcGFjaXR5OiBudW1iZXIgPSBtb2RlbC5nZXRQYXJ0T3BhY2l0eUJ5SW5kZXgocGFydEluZGV4KTtcblxuICAgICAgICBmb3IgKFxuICAgICAgICAgIGxldCBsaW5rSW5kZXggPSAwO1xuICAgICAgICAgIGxpbmtJbmRleCA8IHBhcnREYXRhLmxpbmsuZ2V0U2l6ZSgpO1xuICAgICAgICAgICsrbGlua0luZGV4XG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IGxpbmtQYXJ0OiBQYXJ0RGF0YSA9IHBhcnREYXRhLmxpbmsuYXQobGlua0luZGV4KTtcbiAgICAgICAgICBjb25zdCBsaW5rUGFydEluZGV4OiBudW1iZXIgPSBsaW5rUGFydC5wYXJ0SW5kZXg7XG5cbiAgICAgICAgICBpZiAobGlua1BhcnRJbmRleCA8IDApIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG1vZGVsLnNldFBhcnRPcGFjaXR5QnlJbmRleChsaW5rUGFydEluZGV4LCBvcGFjaXR5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODkeODvOODhOOBruODleOCp+ODvOODieaTjeS9nOOCkuihjOOBhuOAglxuICAgICAqIEBwYXJhbSBtb2RlbCDlr77osaHjga7jg6Ljg4fjg6tcbiAgICAgKiBAcGFyYW0gZGVsdGFUaW1lU2Vjb25kcyDjg4fjg6vjgr/mmYLplpNb56eSXVxuICAgICAqIEBwYXJhbSBiZWdpbkluZGV4IOODleOCp+ODvOODieaTjeS9nOOCkuihjOOBhuODkeODvOODhOOCsOODq+ODvOODl+OBruWFiOmgreOCpOODs+ODh+ODg+OCr+OCuVxuICAgICAqIEBwYXJhbSBwYXJ0R3JvdXBDb3VudCDjg5Xjgqfjg7zjg4nmk43kvZzjgpLooYzjgYbjg5Hjg7zjg4TjgrDjg6vjg7zjg5fjga7lgIvmlbBcbiAgICAgKi9cbiAgICBwdWJsaWMgZG9GYWRlKFxuICAgICAgbW9kZWw6IEN1YmlzbU1vZGVsLFxuICAgICAgZGVsdGFUaW1lU2Vjb25kczogbnVtYmVyLFxuICAgICAgYmVnaW5JbmRleDogbnVtYmVyLFxuICAgICAgcGFydEdyb3VwQ291bnQ6IG51bWJlclxuICAgICk6IHZvaWQge1xuICAgICAgbGV0IHZpc2libGVQYXJ0SW5kZXggPSAtMTtcbiAgICAgIGxldCBuZXdPcGFjaXR5ID0gMS4wO1xuXG4gICAgICBjb25zdCBwaGkgPSAwLjU7XG4gICAgICBjb25zdCBiYWNrT3BhY2l0eVRocmVzaG9sZCA9IDAuMTU7XG5cbiAgICAgIC8vIOePvuWcqOOAgeihqOekuueKtuaFi+OBq+OBquOBo+OBpuOBhOOCi+ODkeODvOODhOOCkuWPluW+l1xuICAgICAgZm9yIChsZXQgaTogbnVtYmVyID0gYmVnaW5JbmRleDsgaSA8IGJlZ2luSW5kZXggKyBwYXJ0R3JvdXBDb3VudDsgKytpKSB7XG4gICAgICAgIGNvbnN0IHBhcnRJbmRleDogbnVtYmVyID0gdGhpcy5fcGFydEdyb3Vwcy5hdChpKS5wYXJ0SW5kZXg7XG4gICAgICAgIGNvbnN0IHBhcmFtSW5kZXg6IG51bWJlciA9IHRoaXMuX3BhcnRHcm91cHMuYXQoaSkucGFyYW1ldGVySW5kZXg7XG5cbiAgICAgICAgaWYgKG1vZGVsLmdldFBhcmFtZXRlclZhbHVlQnlJbmRleChwYXJhbUluZGV4KSA+IEVwc2lsb24pIHtcbiAgICAgICAgICBpZiAodmlzaWJsZVBhcnRJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2aXNpYmxlUGFydEluZGV4ID0gaTtcbiAgICAgICAgICBuZXdPcGFjaXR5ID0gbW9kZWwuZ2V0UGFydE9wYWNpdHlCeUluZGV4KHBhcnRJbmRleCk7XG5cbiAgICAgICAgICAvLyDmlrDjgZfjgYTkuI3pgI/mmI7luqbjgpLoqIjnrpdcbiAgICAgICAgICBuZXdPcGFjaXR5ICs9IGRlbHRhVGltZVNlY29uZHMgLyB0aGlzLl9mYWRlVGltZVNlY29uZHM7XG5cbiAgICAgICAgICBpZiAobmV3T3BhY2l0eSA+IDEuMCkge1xuICAgICAgICAgICAgbmV3T3BhY2l0eSA9IDEuMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHZpc2libGVQYXJ0SW5kZXggPCAwKSB7XG4gICAgICAgIHZpc2libGVQYXJ0SW5kZXggPSAwO1xuICAgICAgICBuZXdPcGFjaXR5ID0gMS4wO1xuICAgICAgfVxuXG4gICAgICAvLyDooajnpLrjg5Hjg7zjg4TjgIHpnZ7ooajnpLrjg5Hjg7zjg4Tjga7kuI3pgI/mmI7luqbjgpLoqK3lrprjgZnjgotcbiAgICAgIGZvciAobGV0IGk6IG51bWJlciA9IGJlZ2luSW5kZXg7IGkgPCBiZWdpbkluZGV4ICsgcGFydEdyb3VwQ291bnQ7ICsraSkge1xuICAgICAgICBjb25zdCBwYXJ0c0luZGV4OiBudW1iZXIgPSB0aGlzLl9wYXJ0R3JvdXBzLmF0KGkpLnBhcnRJbmRleDtcblxuICAgICAgICAvLyDooajnpLrjg5Hjg7zjg4Tjga7oqK3lrppcbiAgICAgICAgaWYgKHZpc2libGVQYXJ0SW5kZXggPT0gaSkge1xuICAgICAgICAgIG1vZGVsLnNldFBhcnRPcGFjaXR5QnlJbmRleChwYXJ0c0luZGV4LCBuZXdPcGFjaXR5KTsgLy8g5YWI44Gr6Kit5a6aXG4gICAgICAgIH1cbiAgICAgICAgLy8g6Z2e6KGo56S644OR44O844OE44Gu6Kit5a6aXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGxldCBvcGFjaXR5OiBudW1iZXIgPSBtb2RlbC5nZXRQYXJ0T3BhY2l0eUJ5SW5kZXgocGFydHNJbmRleCk7XG4gICAgICAgICAgbGV0IGExOiBudW1iZXI7IC8vIOioiOeul+OBq+OCiOOBo+OBpuaxguOCgeOCieOCjOOCi+S4jemAj+aYjuW6plxuXG4gICAgICAgICAgaWYgKG5ld09wYWNpdHkgPCBwaGkpIHtcbiAgICAgICAgICAgIGExID0gKG5ld09wYWNpdHkgKiAocGhpIC0gMSkpIC8gcGhpICsgMS4wOyAvLyAoMCwxKSwocGhpLHBoaSnjgpLpgJrjgovnm7Tnt5rlvI9cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYTEgPSAoKDEgLSBuZXdPcGFjaXR5KSAqIHBoaSkgLyAoMS4wIC0gcGhpKTsgLy8gKDEsMCksKHBoaSxwaGkp44KS6YCa44KL55u057ea5byPXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8g6IOM5pmv44Gu6KaL44GI44KL5Ymy5ZCI44KS5Yi26ZmQ44GZ44KL5aC05ZCIXG4gICAgICAgICAgY29uc3QgYmFja09wYWNpdHk6IG51bWJlciA9ICgxLjAgLSBhMSkgKiAoMS4wIC0gbmV3T3BhY2l0eSk7XG5cbiAgICAgICAgICBpZiAoYmFja09wYWNpdHkgPiBiYWNrT3BhY2l0eVRocmVzaG9sZCkge1xuICAgICAgICAgICAgYTEgPSAxLjAgLSBiYWNrT3BhY2l0eVRocmVzaG9sZCAvICgxLjAgLSBuZXdPcGFjaXR5KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAob3BhY2l0eSA+IGExKSB7XG4gICAgICAgICAgICBvcGFjaXR5ID0gYTE7IC8vIOioiOeul+OBruS4jemAj+aYjuW6puOCiOOCiuOCguWkp+OBjeOBkeOCjOOBsO+8iOa/g+OBkeOCjOOBsO+8ieS4jemAj+aYjuW6puOCkuS4iuOBkuOCi1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG1vZGVsLnNldFBhcnRPcGFjaXR5QnlJbmRleChwYXJ0c0luZGV4LCBvcGFjaXR5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOOCs+ODs+OCueODiOODqeOCr+OCv1xuICAgICAqL1xuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHRoaXMuX2ZhZGVUaW1lU2Vjb25kcyA9IERlZmF1bHRGYWRlSW5TZWNvbmRzO1xuICAgICAgdGhpcy5fbGFzdE1vZGVsID0gbnVsbDtcbiAgICAgIHRoaXMuX3BhcnRHcm91cHMgPSBuZXcgY3NtVmVjdG9yPFBhcnREYXRhPigpO1xuICAgICAgdGhpcy5fcGFydEdyb3VwQ291bnRzID0gbmV3IGNzbVZlY3RvcjxudW1iZXI+KCk7XG4gICAgfVxuXG4gICAgX3BhcnRHcm91cHM6IGNzbVZlY3RvcjxQYXJ0RGF0YT47IC8vIOODkeODvOODhOOCsOODq+ODvOODl1xuICAgIF9wYXJ0R3JvdXBDb3VudHM6IGNzbVZlY3RvcjxudW1iZXI+OyAvLyDjgZ3jgozjgZ7jgozjga7jg5Hjg7zjg4TjgrDjg6vjg7zjg5fjga7lgIvmlbBcbiAgICBfZmFkZVRpbWVTZWNvbmRzOiBudW1iZXI7IC8vIOODleOCp+ODvOODieaZgumWk1vnp5JdXG4gICAgX2xhc3RNb2RlbDogQ3ViaXNtTW9kZWw7IC8vIOWJjeWbnuaTjeS9nOOBl+OBn+ODouODh+ODq1xuICB9XG5cbiAgLyoqXG4gICAqIOODkeODvOODhOOBq+OBvuOBpOOCj+OCi+ODh+ODvOOCv+OCkueuoeeQhlxuICAgKi9cbiAgZXhwb3J0IGNsYXNzIFBhcnREYXRhIHtcbiAgICAvKipcbiAgICAgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr9cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih2PzogUGFydERhdGEpIHtcbiAgICAgIHRoaXMucGFyYW1ldGVySW5kZXggPSAwO1xuICAgICAgdGhpcy5wYXJ0SW5kZXggPSAwO1xuICAgICAgdGhpcy5saW5rID0gbmV3IGNzbVZlY3RvcjxQYXJ0RGF0YT4oKTtcblxuICAgICAgaWYgKHYgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMucGFydElkID0gdi5wYXJ0SWQ7XG5cbiAgICAgICAgZm9yIChcbiAgICAgICAgICBjb25zdCBpdGU6IGl0ZXJhdG9yPFBhcnREYXRhPiA9IHYubGluay5iZWdpbigpO1xuICAgICAgICAgIGl0ZS5ub3RFcXVhbCh2LmxpbmsuZW5kKCkpO1xuICAgICAgICAgIGl0ZS5wcmVJbmNyZW1lbnQoKVxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLmxpbmsucHVzaEJhY2soaXRlLnB0cigpLmNsb25lKCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPea8lOeul+WtkOOBruOCquODvOODkOODvOODreODvOODiVxuICAgICAqL1xuICAgIHB1YmxpYyBhc3NpZ25tZW50KHY6IFBhcnREYXRhKTogUGFydERhdGEge1xuICAgICAgdGhpcy5wYXJ0SWQgPSB2LnBhcnRJZDtcblxuICAgICAgZm9yIChcbiAgICAgICAgY29uc3QgaXRlOiBpdGVyYXRvcjxQYXJ0RGF0YT4gPSB2LmxpbmsuYmVnaW4oKTtcbiAgICAgICAgaXRlLm5vdEVxdWFsKHYubGluay5lbmQoKSk7XG4gICAgICAgIGl0ZS5wcmVJbmNyZW1lbnQoKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMubGluay5wdXNoQmFjayhpdGUucHRyKCkuY2xvbmUoKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWIneacn+WMllxuICAgICAqIEBwYXJhbSBtb2RlbCDliJ3mnJ/ljJbjgavkvb/nlKjjgZnjgovjg6Ljg4fjg6tcbiAgICAgKi9cbiAgICBwdWJsaWMgaW5pdGlhbGl6ZShtb2RlbDogQ3ViaXNtTW9kZWwpOiB2b2lkIHtcbiAgICAgIHRoaXMucGFyYW1ldGVySW5kZXggPSBtb2RlbC5nZXRQYXJhbWV0ZXJJbmRleCh0aGlzLnBhcnRJZCk7XG4gICAgICB0aGlzLnBhcnRJbmRleCA9IG1vZGVsLmdldFBhcnRJbmRleCh0aGlzLnBhcnRJZCk7XG5cbiAgICAgIG1vZGVsLnNldFBhcmFtZXRlclZhbHVlQnlJbmRleCh0aGlzLnBhcmFtZXRlckluZGV4LCAxKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjgqrjg5bjgrjjgqfjgq/jg4jjga7jgrPjg5Tjg7zjgpLnlJ/miJDjgZnjgotcbiAgICAgKi9cbiAgICBwdWJsaWMgY2xvbmUoKTogUGFydERhdGEge1xuICAgICAgY29uc3QgY2xvbmVQYXJ0RGF0YTogUGFydERhdGEgPSBuZXcgUGFydERhdGEoKTtcblxuICAgICAgY2xvbmVQYXJ0RGF0YS5wYXJ0SWQgPSB0aGlzLnBhcnRJZDtcbiAgICAgIGNsb25lUGFydERhdGEucGFyYW1ldGVySW5kZXggPSB0aGlzLnBhcmFtZXRlckluZGV4O1xuICAgICAgY2xvbmVQYXJ0RGF0YS5wYXJ0SW5kZXggPSB0aGlzLnBhcnRJbmRleDtcbiAgICAgIGNsb25lUGFydERhdGEubGluayA9IG5ldyBjc21WZWN0b3I8UGFydERhdGE+KCk7XG5cbiAgICAgIGZvciAoXG4gICAgICAgIGxldCBpdGU6IGl0ZXJhdG9yPFBhcnREYXRhPiA9IHRoaXMubGluay5iZWdpbigpO1xuICAgICAgICBpdGUubm90RXF1YWwodGhpcy5saW5rLmVuZCgpKTtcbiAgICAgICAgaXRlLmluY3JlbWVudCgpXG4gICAgICApIHtcbiAgICAgICAgY2xvbmVQYXJ0RGF0YS5saW5rLnB1c2hCYWNrKGl0ZS5wdHIoKS5jbG9uZSgpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNsb25lUGFydERhdGE7XG4gICAgfVxuXG4gICAgcGFydElkOiBDdWJpc21JZEhhbmRsZTsgLy8g44OR44O844OESURcbiAgICBwYXJhbWV0ZXJJbmRleDogbnVtYmVyOyAvLyDjg5Hjg6njg6Hjg7zjgr/jga7jgqTjg7Pjg4fjg4Pjgq/jgrlcbiAgICBwYXJ0SW5kZXg6IG51bWJlcjsgLy8g44OR44O844OE44Gu44Kk44Oz44OH44OD44Kv44K5XG4gICAgbGluazogY3NtVmVjdG9yPFBhcnREYXRhPjsgLy8g6YCj5YuV44GZ44KL44OR44Op44Oh44O844K/XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7O0FBUUE7QUFFQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBb1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWxSQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBS0E7QUFFQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBT0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBTUE7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBZ0JBO0FBQUE7QUEvUkE7QUFvU0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQU1BO0FBQUE7QUE1RUE7QUE2RUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Framework/src/effect/cubismpose.ts\n");

/***/ }),

/***/ "./Framework/src/icubismmodelsetting.ts":
/*!**********************************************!*\
  !*** ./Framework/src/icubismmodelsetting.ts ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var ICubismModelSetting = (function () {\n        function ICubismModelSetting() {\n        }\n        return ICubismModelSetting;\n    }());\n    Live2DCubismFramework.ICubismModelSetting = ICubismModelSetting;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL2ljdWJpc21tb2RlbHNldHRpbmcudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9GcmFtZXdvcmsvc3JjL2ljdWJpc21tb2RlbHNldHRpbmcudHM/NjQxMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodChjKSBMaXZlMkQgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IHRoZSBMaXZlMkQgT3BlbiBTb2Z0d2FyZSBsaWNlbnNlXG4gKiB0aGF0IGNhbiBiZSBmb3VuZCBhdCBodHRwczovL3d3dy5saXZlMmQuY29tL2V1bGEvbGl2ZTJkLW9wZW4tc29mdHdhcmUtbGljZW5zZS1hZ3JlZW1lbnRfZW4uaHRtbC5cbiAqL1xuXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtaWQgfSBmcm9tICcuL2lkL2N1YmlzbWlkJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjc21tYXAgfSBmcm9tICcuL3R5cGUvY3NtbWFwJztcbmltcG9ydCBjc21NYXAgPSBjc21tYXAuY3NtTWFwO1xuaW1wb3J0IEN1YmlzbUlkSGFuZGxlID0gY3ViaXNtaWQuQ3ViaXNtSWRIYW5kbGU7XG5cbmV4cG9ydCBuYW1lc3BhY2UgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIHtcbiAgLyoqXG4gICAqIOODouODh+ODq+ioreWumuaDheWgseOCkuWPluOCiuaJseOBhumWouaVsOOCkuWuo+iogOOBl+OBn+e0lOeyi+S7ruaDs+OCr+ODqeOCueOAglxuICAgKlxuICAgKiDjgZPjga7jgq/jg6njgrnjgpLntpnmib/jgZnjgovjgZPjgajjgafjgIHjg6Ljg4fjg6voqK3lrprmg4XloLHjgpLlj5bjgormibHjgYbjgq/jg6njgrnjgavjgarjgovjgIJcbiAgICovXG4gIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBJQ3ViaXNtTW9kZWxTZXR0aW5nIHtcbiAgICAvKipcbiAgICAgKiBNb2Pjg5XjgqHjgqTjg6vjga7lkI3liY3jgpLlj5blvpfjgZnjgotcbiAgICAgKiBAcmV0dXJuIE1vY+ODleOCoeOCpOODq+OBruWQjeWJjVxuICAgICAqL1xuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRNb2RlbEZpbGVOYW1lKCk6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIOODouODh+ODq+OBjOS9v+eUqOOBmeOCi+ODhuOCr+OCueODgeODo+OBruaVsOOCkuWPluW+l+OBmeOCi1xuICAgICAqIOODhuOCr+OCueODgeODo+OBruaVsFxuICAgICAqL1xuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRUZXh0dXJlQ291bnQoKTogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICog44OG44Kv44K544OB44Oj44GM6YWN572u44GV44KM44Gf44OH44Kj44Os44Kv44OI44Oq44Gu5ZCN5YmN44KS5Y+W5b6X44GZ44KLXG4gICAgICogQHJldHVybiDjg4bjgq/jgrnjg4Hjg6PjgYzphY3nva7jgZXjgozjgZ/jg4fjgqPjg6zjgq/jg4jjg6rjga7lkI3liY1cbiAgICAgKi9cbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0VGV4dHVyZURpcmVjdG9yeSgpOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiDjg6Ljg4fjg6vjgYzkvb/nlKjjgZnjgovjg4bjgq/jgrnjg4Hjg6Pjga7lkI3liY3jgpLlj5blvpfjgZnjgotcbiAgICAgKiBAcGFyYW0gaW5kZXgg6YWN5YiX44Gu44Kk44Oz44OH44OD44Kv44K55YCkXG4gICAgICogQHJldHVybiDjg4bjgq/jgrnjg4Hjg6Pjga7lkI3liY1cbiAgICAgKi9cbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0VGV4dHVyZUZpbGVOYW1lKGluZGV4OiBudW1iZXIpOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiDjg6Ljg4fjg6vjgavoqK3lrprjgZXjgozjgZ/lvZPjgZ/jgorliKTlrprjga7mlbDjgpLlj5blvpfjgZnjgotcbiAgICAgKiBAcmV0dXJuIOODouODh+ODq+OBq+ioreWumuOBleOCjOOBn+W9k+OBn+OCiuWIpOWumuOBruaVsFxuICAgICAqL1xuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRIaXRBcmVhc0NvdW50KCk6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIOW9k+OBn+OCiuWIpOWumuOBq+ioreWumuOBleOCjOOBn0lE44KS5Y+W5b6X44GZ44KLXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaW5kZXgg6YWN5YiX44GuaW5kZXhcbiAgICAgKiBAcmV0dXJuIOW9k+OBn+OCiuWIpOWumuOBq+ioreWumuOBleOCjOOBn0lEXG4gICAgICovXG4gICAgcHVibGljIGFic3RyYWN0IGdldEhpdEFyZWFJZChpbmRleDogbnVtYmVyKTogQ3ViaXNtSWRIYW5kbGU7XG5cbiAgICAvKipcbiAgICAgKiDlvZPjgZ/jgorliKTlrprjgavoqK3lrprjgZXjgozjgZ/lkI3liY3jgpLlj5blvpfjgZnjgotcbiAgICAgKiBAcGFyYW0gaW5kZXgg6YWN5YiX44Gu44Kk44Oz44OH44OD44Kv44K55YCkXG4gICAgICogQHJldHVybiDlvZPjgZ/jgorliKTlrprjgavoqK3lrprjgZXjgozjgZ/lkI3liY1cbiAgICAgKi9cbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0SGl0QXJlYU5hbWUoaW5kZXg6IG51bWJlcik6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIOeJqeeQhua8lOeul+ioreWumuODleOCoeOCpOODq+OBruWQjeWJjeOCkuWPluW+l+OBmeOCi1xuICAgICAqIEByZXR1cm4g54mp55CG5ryU566X6Kit5a6a44OV44Kh44Kk44Or44Gu5ZCN5YmNXG4gICAgICovXG4gICAgcHVibGljIGFic3RyYWN0IGdldFBoeXNpY3NGaWxlTmFtZSgpOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiDjg5Hjg7zjg4TliIfjgormm7/jgYjoqK3lrprjg5XjgqHjgqTjg6vjga7lkI3liY3jgpLlj5blvpfjgZnjgotcbiAgICAgKiBAcmV0dXJuIOODkeODvOODhOWIh+OCiuabv+OBiOioreWumuODleOCoeOCpOODq+OBruWQjeWJjVxuICAgICAqL1xuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRQb3NlRmlsZU5hbWUoKTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICog6KGo5oOF6Kit5a6a44OV44Kh44Kk44Or44Gu5pWw44KS5Y+W5b6X44GZ44KLXG4gICAgICogQHJldHVybiDooajmg4XoqK3lrprjg5XjgqHjgqTjg6vjga7mlbBcbiAgICAgKi9cbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0RXhwcmVzc2lvbkNvdW50KCk6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIOihqOaDheioreWumuODleOCoeOCpOODq+OCkuitmOWIpeOBmeOCi+WQjeWJje+8iOWIpeWQje+8ieOCkuWPluW+l+OBmeOCi1xuICAgICAqIEBwYXJhbSBpbmRleCDphY3liJfjga7jgqTjg7Pjg4fjg4Pjgq/jgrnlgKRcbiAgICAgKiBAcmV0dXJuIOihqOaDheOBruWQjeWJjVxuICAgICAqL1xuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRFeHByZXNzaW9uTmFtZShpbmRleDogbnVtYmVyKTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICog6KGo5oOF6Kit5a6a44OV44Kh44Kk44Or44Gu5ZCN5YmN44KS5Y+W5b6X44GZ44KLXG4gICAgICogQHBhcmFtIGluZGV4IOmFjeWIl+OBruOCpOODs+ODh+ODg+OCr+OCueWApFxuICAgICAqIEByZXR1cm4g6KGo5oOF6Kit5a6a44OV44Kh44Kk44Or44Gu5ZCN5YmNXG4gICAgICovXG4gICAgcHVibGljIGFic3RyYWN0IGdldEV4cHJlc3Npb25GaWxlTmFtZShpbmRleDogbnVtYmVyKTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICog44Oi44O844K344On44Oz44Kw44Or44O844OX44Gu5pWw44KS5Y+W5b6X44GZ44KLXG4gICAgICogQHJldHVybiDjg6Ljg7zjgrfjg6fjg7PjgrDjg6vjg7zjg5fjga7mlbBcbiAgICAgKi9cbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0TW90aW9uR3JvdXBDb3VudCgpOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7PjgrDjg6vjg7zjg5fjga7lkI3liY3jgpLlj5blvpfjgZnjgotcbiAgICAgKiBAcGFyYW0gaW5kZXgg6YWN5YiX44Gu44Kk44Oz44OH44OD44Kv44K55YCkXG4gICAgICogQHJldHVybiDjg6Ljg7zjgrfjg6fjg7PjgrDjg6vjg7zjg5fjga7lkI3liY1cbiAgICAgKi9cbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0TW90aW9uR3JvdXBOYW1lKGluZGV4OiBudW1iZXIpOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7PjgrDjg6vjg7zjg5fjgavlkKvjgb7jgozjgovjg6Ljg7zjgrfjg6fjg7Pjga7mlbDjgpLlj5blvpfjgZnjgotcbiAgICAgKiBAcGFyYW0gZ3JvdXBOYW1lIOODouODvOOCt+ODp+ODs+OCsOODq+ODvOODl+OBruWQjeWJjVxuICAgICAqIEByZXR1cm4g44Oi44O844K344On44Oz44Kw44Or44O844OX44Gu5pWwXG4gICAgICovXG4gICAgcHVibGljIGFic3RyYWN0IGdldE1vdGlvbkNvdW50KGdyb3VwTmFtZTogc3RyaW5nKTogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICog44Kw44Or44O844OX5ZCN44Go44Kk44Oz44OH44OD44Kv44K55YCk44GL44KJ44Oi44O844K344On44Oz44OV44Kh44Kk44Or5ZCN44KS5Y+W5b6X44GZ44KLXG4gICAgICogQHBhcmFtIGdyb3VwTmFtZSDjg6Ljg7zjgrfjg6fjg7PjgrDjg6vjg7zjg5fjga7lkI3liY1cbiAgICAgKiBAcGFyYW0gaW5kZXggICAgIOmFjeWIl+OBruOCpOODs+ODh+ODg+OCr+OCueWApFxuICAgICAqIEByZXR1cm4g44Oi44O844K344On44Oz44OV44Kh44Kk44Or44Gu5ZCN5YmNXG4gICAgICovXG4gICAgcHVibGljIGFic3RyYWN0IGdldE1vdGlvbkZpbGVOYW1lKGdyb3VwTmFtZTogc3RyaW5nLCBpbmRleDogbnVtYmVyKTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICog44Oi44O844K344On44Oz44Gr5a++5b+c44GZ44KL44K144Km44Oz44OJ44OV44Kh44Kk44Or44Gu5ZCN5YmN44KS5Y+W5b6X44GZ44KLXG4gICAgICogQHBhcmFtIGdyb3VwTmFtZSDjg6Ljg7zjgrfjg6fjg7PjgrDjg6vjg7zjg5fjga7lkI3liY1cbiAgICAgKiBAcGFyYW0gaW5kZXgg6YWN5YiX44Gu44Kk44Oz44OH44OD44Kv44K55YCkXG4gICAgICogQHJldHVybiDjgrXjgqbjg7Pjg4njg5XjgqHjgqTjg6vjga7lkI3liY1cbiAgICAgKi9cbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0TW90aW9uU291bmRGaWxlTmFtZShcbiAgICAgIGdyb3VwTmFtZTogc3RyaW5nLFxuICAgICAgaW5kZXg6IG51bWJlclxuICAgICk6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIOODouODvOOCt+ODp+ODs+mWi+Wni+aZguOBruODleOCp+ODvOODieOCpOODs+WHpueQhuaZgumWk+OCkuWPluW+l+OBmeOCi1xuICAgICAqIEBwYXJhbSBncm91cE5hbWUg44Oi44O844K344On44Oz44Kw44Or44O844OX44Gu5ZCN5YmNXG4gICAgICogQHBhcmFtIGluZGV4IOmFjeWIl+OBruOCpOODs+ODh+ODg+OCr+OCueWApFxuICAgICAqIEByZXR1cm4g44OV44Kn44O844OJ44Kk44Oz5Yem55CG5pmC6ZaTW+enkl1cbiAgICAgKi9cbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0TW90aW9uRmFkZUluVGltZVZhbHVlKFxuICAgICAgZ3JvdXBOYW1lOiBzdHJpbmcsXG4gICAgICBpbmRleDogbnVtYmVyXG4gICAgKTogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICog44Oi44O844K344On44Oz57WC5LqG5pmC44Gu44OV44Kn44O844OJ44Ki44Km44OI5Yem55CG5pmC6ZaT44KS5Y+W5b6X44GZ44KLXG4gICAgICogQHBhcmFtIGdyb3VwTmFtZSDjg6Ljg7zjgrfjg6fjg7PjgrDjg6vjg7zjg5fjga7lkI3liY1cbiAgICAgKiBAcGFyYW0gaW5kZXgg6YWN5YiX44Gu44Kk44Oz44OH44OD44Kv44K55YCkXG4gICAgICogQHJldHVybiDjg5Xjgqfjg7zjg4njgqLjgqbjg4jlh6bnkIbmmYLplpNb56eSXVxuICAgICAqL1xuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRNb3Rpb25GYWRlT3V0VGltZVZhbHVlKFxuICAgICAgZ3JvdXBOYW1lOiBzdHJpbmcsXG4gICAgICBpbmRleDogbnVtYmVyXG4gICAgKTogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICog44Om44O844K244O844OH44O844K/44Gu44OV44Kh44Kk44Or5ZCN44KS5Y+W5b6X44GZ44KLXG4gICAgICogQHJldHVybiDjg6bjg7zjgrbjg7zjg4fjg7zjgr/jga7jg5XjgqHjgqTjg6vlkI1cbiAgICAgKi9cbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0VXNlckRhdGFGaWxlKCk6IHN0cmluZztcblxuICAgIC8qKlxuICAgICAqIOODrOOCpOOCouOCpuODiOaDheWgseOCkuWPluW+l+OBmeOCi1xuICAgICAqIEBwYXJhbSBvdXRMYXlvdXRNYXAgY3NtTWFw44Kv44Op44K544Gu44Kk44Oz44K544K/44Oz44K5XG4gICAgICogQHJldHVybiB0cnVlIOODrOOCpOOCouOCpuODiOaDheWgseOBjOWtmOWcqOOBmeOCi1xuICAgICAqIEByZXR1cm4gZmFsc2Ug44Os44Kk44Ki44Km44OI5oOF5aCx44GM5a2Y5Zyo44GX44Gq44GEXG4gICAgICovXG4gICAgcHVibGljIGFic3RyYWN0IGdldExheW91dE1hcChvdXRMYXlvdXRNYXA6IGNzbU1hcDxzdHJpbmcsIG51bWJlcj4pOiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICog55uu44OR44OB44Gr6Zai6YCj5LuY44GR44KJ44KM44Gf44OR44Op44Oh44O844K/44Gu5pWw44KS5Y+W5b6X44GZ44KLXG4gICAgICogQHJldHVybiDnm67jg5Hjg4HjgavplqLpgKPku5jjgZHjgonjgozjgZ/jg5Hjg6njg6Hjg7zjgr/jga7mlbBcbiAgICAgKi9cbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0RXllQmxpbmtQYXJhbWV0ZXJDb3VudCgpOiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiDnm67jg5Hjg4HjgavplqLpgKPku5jjgZHjgonjgozjgZ/jg5Hjg6njg6Hjg7zjgr/jga5JROOCkuWPluW+l+OBmeOCi1xuICAgICAqIEBwYXJhbSBpbmRleCDphY3liJfjga7jgqTjg7Pjg4fjg4Pjgq/jgrnlgKRcbiAgICAgKiBAcmV0dXJuIOODkeODqeODoeODvOOCv0lEXG4gICAgICovXG4gICAgcHVibGljIGFic3RyYWN0IGdldEV5ZUJsaW5rUGFyYW1ldGVySWQoaW5kZXg6IG51bWJlcik6IEN1YmlzbUlkSGFuZGxlO1xuXG4gICAgLyoqXG4gICAgICog44Oq44OD44OX44K344Oz44Kv44Gr6Zai6YCj5LuY44GR44KJ44KM44Gf44OR44Op44Oh44O844K/44Gu5pWw44KS5Y+W5b6X44GZ44KLXG4gICAgICogQHJldHVybiDjg6rjg4Pjg5fjgrfjg7Pjgq/jgavplqLpgKPku5jjgZHjgonjgozjgZ/jg5Hjg6njg6Hjg7zjgr/jga7mlbBcbiAgICAgKi9cbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0TGlwU3luY1BhcmFtZXRlckNvdW50KCk6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIOODquODg+ODl+OCt+ODs+OCr+OBq+mWoumAo+S7mOOBkeOCieOCjOOBn+ODkeODqeODoeODvOOCv+OBruaVsOOCkuWPluW+l+OBmeOCi1xuICAgICAqIEBwYXJhbSBpbmRleCDphY3liJfjga7jgqTjg7Pjg4fjg4Pjgq/jgrnlgKRcbiAgICAgKiBAcmV0dXJuIOODkeODqeODoeODvOOCv0lEXG4gICAgICovXG4gICAgcHVibGljIGFic3RyYWN0IGdldExpcFN5bmNQYXJhbWV0ZXJJZChpbmRleDogbnVtYmVyKTogQ3ViaXNtSWRIYW5kbGU7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7O0FBWUE7QUFBQTtBQU1BO0FBQUE7QUFtTEE7QUFBQTtBQUFBO0FBbkxBO0FBb0xBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/icubismmodelsetting.ts\n");

/***/ }),

/***/ "./Framework/src/id/cubismid.ts":
/*!**************************************!*\
  !*** ./Framework/src/id/cubismid.ts ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar csmstring_1 = __webpack_require__(/*! ../type/csmstring */ \"./Framework/src/type/csmstring.ts\");\nvar csmString = csmstring_1.Live2DCubismFramework.csmString;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var CubismId = (function () {\n        function CubismId(id) {\n            if (typeof id === 'string') {\n                this._id = new csmString(id);\n                return;\n            }\n            this._id = id;\n        }\n        CubismId.prototype.getString = function () {\n            return this._id;\n        };\n        CubismId.prototype.isEqual = function (c) {\n            if (typeof c === 'string') {\n                return this._id.isEqual(c);\n            }\n            else if (c instanceof csmString) {\n                return this._id.isEqual(c.s);\n            }\n            else if (c instanceof CubismId) {\n                return this._id.isEqual(c._id.s);\n            }\n            return false;\n        };\n        CubismId.prototype.isNotEqual = function (c) {\n            if (typeof c == 'string') {\n                return !this._id.isEqual(c);\n            }\n            else if (c instanceof csmString) {\n                return !this._id.isEqual(c.s);\n            }\n            else if (c instanceof CubismId) {\n                return !this._id.isEqual(c._id.s);\n            }\n            return false;\n        };\n        return CubismId;\n    }());\n    Live2DCubismFramework.CubismId = CubismId;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL2lkL2N1YmlzbWlkLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vRnJhbWV3b3JrL3NyYy9pZC9jdWJpc21pZC50cz8xZjE1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0KGMpIExpdmUyRCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcbiAqIHRoYXQgY2FuIGJlIGZvdW5kIGF0IGh0dHBzOi8vd3d3LmxpdmUyZC5jb20vZXVsYS9saXZlMmQtb3Blbi1zb2Z0d2FyZS1saWNlbnNlLWFncmVlbWVudF9lbi5odG1sLlxuICovXG5cbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjc21zdHJpbmcgfSBmcm9tICcuLi90eXBlL2NzbXN0cmluZyc7XG5pbXBvcnQgY3NtU3RyaW5nID0gY3Ntc3RyaW5nLmNzbVN0cmluZztcblxuZXhwb3J0IG5hbWVzcGFjZSBMaXZlMkRDdWJpc21GcmFtZXdvcmsge1xuICAvKipcbiAgICog44OR44Op44Oh44O844K/5ZCN44O744OR44O844OE5ZCN44O7RHJhd2FibGXlkI3jgpLkv53mjIFcbiAgICpcbiAgICog44OR44Op44Oh44O844K/5ZCN44O744OR44O844OE5ZCN44O7RHJhd2FibGXlkI3jgpLkv53mjIHjgZnjgovjgq/jg6njgrnjgIJcbiAgICovXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21JZCB7XG4gICAgLyoqXG4gICAgICogSUTlkI3jgpLlj5blvpfjgZnjgotcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0U3RyaW5nKCk6IGNzbVN0cmluZyB7XG4gICAgICByZXR1cm4gdGhpcy5faWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Kz44Oz44K544OI44Op44Kv44K/XG4gICAgICovXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcgfCBjc21TdHJpbmcpIHtcbiAgICAgIGlmICh0eXBlb2YgaWQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRoaXMuX2lkID0gbmV3IGNzbVN0cmluZyhpZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5faWQgPSBpZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBpZOOCkuavlOi8g1xuICAgICAqIEBwYXJhbSBjIOavlOi8g+OBmeOCi2lkXG4gICAgICogQHJldHVybiDlkIzjgZjjgarjgonjgbB0cnVlLOeVsOOBquOBo+OBpuOBhOOCjOOBsGZhbHNl44KS6L+U44GZXG4gICAgICovXG4gICAgcHVibGljIGlzRXF1YWwoYzogc3RyaW5nIHwgY3NtU3RyaW5nIHwgQ3ViaXNtSWQpOiBib29sZWFuIHtcbiAgICAgIGlmICh0eXBlb2YgYyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkLmlzRXF1YWwoYyk7XG4gICAgICB9IGVsc2UgaWYgKGMgaW5zdGFuY2VvZiBjc21TdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkLmlzRXF1YWwoYy5zKTtcbiAgICAgIH0gZWxzZSBpZiAoYyBpbnN0YW5jZW9mIEN1YmlzbUlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pZC5pc0VxdWFsKGMuX2lkLnMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGlk44KS5q+U6LyDXG4gICAgICogQHBhcmFtIGMg5q+U6LyD44GZ44KLaWRcbiAgICAgKiBAcmV0dXJuIOWQjOOBmOOBquOCieOBsHRydWUs55Ww44Gq44Gj44Gm44GE44KM44GwZmFsc2XjgpLov5TjgZlcbiAgICAgKi9cbiAgICBwdWJsaWMgaXNOb3RFcXVhbChjOiBzdHJpbmcgfCBjc21TdHJpbmcgfCBDdWJpc21JZCk6IGJvb2xlYW4ge1xuICAgICAgaWYgKHR5cGVvZiBjID09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5faWQuaXNFcXVhbChjKTtcbiAgICAgIH0gZWxzZSBpZiAoYyBpbnN0YW5jZW9mIGNzbVN0cmluZykge1xuICAgICAgICByZXR1cm4gIXRoaXMuX2lkLmlzRXF1YWwoYy5zKTtcbiAgICAgIH0gZWxzZSBpZiAoYyBpbnN0YW5jZW9mIEN1YmlzbUlkKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5faWQuaXNFcXVhbChjLl9pZC5zKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9pZDogY3NtU3RyaW5nOyAvLyBJROWQjVxuICB9XG5cbiAgZXhwb3J0IGRlY2xhcmUgdHlwZSBDdWJpc21JZEhhbmRsZSA9IEN1YmlzbUlkO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7QUFPQTtBQUNBO0FBRUE7QUFBQTtBQU1BO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFkQTtBQUNBO0FBQ0E7QUFtQkE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQXJEQTtBQXdEQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Framework/src/id/cubismid.ts\n");

/***/ }),

/***/ "./Framework/src/id/cubismidmanager.ts":
/*!*********************************************!*\
  !*** ./Framework/src/id/cubismidmanager.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./Framework/src/type/csmvector.ts\");\nvar cubismid_1 = __webpack_require__(/*! ./cubismid */ \"./Framework/src/id/cubismid.ts\");\nvar CubismId = cubismid_1.Live2DCubismFramework.CubismId;\nvar csmVector = csmvector_1.Live2DCubismFramework.csmVector;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var CubismIdManager = (function () {\n        function CubismIdManager() {\n            this._ids = new csmVector();\n        }\n        CubismIdManager.prototype.release = function () {\n            for (var i = 0; i < this._ids.getSize(); ++i) {\n                this._ids.set(i, void 0);\n            }\n            this._ids = null;\n        };\n        CubismIdManager.prototype.registerIds = function (ids) {\n            for (var i = 0; i < ids.length; i++) {\n                this.registerId(ids[i]);\n            }\n        };\n        CubismIdManager.prototype.registerId = function (id) {\n            var result = null;\n            if ('string' == typeof id) {\n                if ((result = this.findId(id)) != null) {\n                    return result;\n                }\n                result = new CubismId(id);\n                this._ids.pushBack(result);\n            }\n            else {\n                return this.registerId(id.s);\n            }\n            return result;\n        };\n        CubismIdManager.prototype.getId = function (id) {\n            return this.registerId(id);\n        };\n        CubismIdManager.prototype.isExist = function (id) {\n            if ('string' == typeof id) {\n                return this.findId(id) != null;\n            }\n            return this.isExist(id.s);\n        };\n        CubismIdManager.prototype.findId = function (id) {\n            for (var i = 0; i < this._ids.getSize(); ++i) {\n                if (this._ids\n                    .at(i)\n                    .getString()\n                    .isEqual(id)) {\n                    return this._ids.at(i);\n                }\n            }\n            return null;\n        };\n        return CubismIdManager;\n    }());\n    Live2DCubismFramework.CubismIdManager = CubismIdManager;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL2lkL2N1YmlzbWlkbWFuYWdlci50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL0ZyYW1ld29yay9zcmMvaWQvY3ViaXNtaWRtYW5hZ2VyLnRzPzZmOWUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTGl2ZTJEIE9wZW4gU29mdHdhcmUgbGljZW5zZVxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXG4gKi9cblxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGNzbXZlY3RvciB9IGZyb20gJy4uL3R5cGUvY3NtdmVjdG9yJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21pZCB9IGZyb20gJy4vY3ViaXNtaWQnO1xuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGNzbXN0cmluZyB9IGZyb20gJy4uL3R5cGUvY3Ntc3RyaW5nJztcbmltcG9ydCBjc21TdHJpbmcgPSBjc21zdHJpbmcuY3NtU3RyaW5nO1xuaW1wb3J0IEN1YmlzbUlkID0gY3ViaXNtaWQuQ3ViaXNtSWQ7XG5pbXBvcnQgY3NtVmVjdG9yID0gY3NtdmVjdG9yLmNzbVZlY3RvcjtcblxuZXhwb3J0IG5hbWVzcGFjZSBMaXZlMkRDdWJpc21GcmFtZXdvcmsge1xuICAvKipcbiAgICogSUTlkI3jga7nrqHnkIZcbiAgICpcbiAgICogSUTlkI3jgpLnrqHnkIbjgZnjgovjgIJcbiAgICovXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21JZE1hbmFnZXIge1xuICAgIC8qKlxuICAgICAqIOOCs+ODs+OCueODiOODqeOCr+OCv1xuICAgICAqL1xuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHRoaXMuX2lkcyA9IG5ldyBjc21WZWN0b3I8Q3ViaXNtSWQ+KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44OH44K544OI44Op44Kv44K/55u45b2T44Gu5Yem55CGXG4gICAgICovXG4gICAgcHVibGljIHJlbGVhc2UoKTogdm9pZCB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2lkcy5nZXRTaXplKCk7ICsraSkge1xuICAgICAgICB0aGlzLl9pZHMuc2V0KGksIHZvaWQgMCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9pZHMgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElE5ZCN44KS44Oq44K544OI44GL44KJ55m76YyyXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaWRzIElE5ZCN44Oq44K544OIXG4gICAgICogQHBhcmFtIGNvdW50IElE44Gu5YCL5pWwXG4gICAgICovXG4gICAgcHVibGljIHJlZ2lzdGVySWRzKGlkczogc3RyaW5nW10gfCBjc21TdHJpbmdbXSk6IHZvaWQge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5yZWdpc3RlcklkKGlkc1tpXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSUTlkI3jgpLnmbvpjLJcbiAgICAgKlxuICAgICAqIEBwYXJhbSBpZCBJROWQjVxuICAgICAqL1xuICAgIHB1YmxpYyByZWdpc3RlcklkKGlkOiBzdHJpbmcgfCBjc21TdHJpbmcpOiBDdWJpc21JZCB7XG4gICAgICBsZXQgcmVzdWx0OiBDdWJpc21JZCA9IG51bGw7XG5cbiAgICAgIGlmICgnc3RyaW5nJyA9PSB0eXBlb2YgaWQpIHtcbiAgICAgICAgaWYgKChyZXN1bHQgPSB0aGlzLmZpbmRJZChpZCkpICE9IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzdWx0ID0gbmV3IEN1YmlzbUlkKGlkKTtcbiAgICAgICAgdGhpcy5faWRzLnB1c2hCYWNrKHJlc3VsdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RlcklkKGlkLnMpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElE5ZCN44GL44KJSUTjgpLlj5blvpfjgZnjgotcbiAgICAgKlxuICAgICAqIEBwYXJhbSBpZCBJROWQjVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRJZChpZDogY3NtU3RyaW5nIHwgc3RyaW5nKTogQ3ViaXNtSWQge1xuICAgICAgcmV0dXJuIHRoaXMucmVnaXN0ZXJJZChpZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSUTlkI3jgYvjgolJROOBrueiuuiqjVxuICAgICAqXG4gICAgICogQHJldHVybiB0cnVlIOWtmOWcqOOBmeOCi1xuICAgICAqIEByZXR1cm4gZmFsc2Ug5a2Y5Zyo44GX44Gq44GEXG4gICAgICovXG4gICAgcHVibGljIGlzRXhpc3QoaWQ6IGNzbVN0cmluZyB8IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgaWYgKCdzdHJpbmcnID09IHR5cGVvZiBpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5maW5kSWQoaWQpICE9IG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5pc0V4aXN0KGlkLnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElE5ZCN44GL44KJSUTjgpLmpJzntKLjgZnjgovjgIJcbiAgICAgKlxuICAgICAqIEBwYXJhbSBpZCBJROWQjVxuICAgICAqIEByZXR1cm4g55m76Yyy44GV44KM44Gm44GE44KLSUTjgILjgarjgZHjgozjgbBOVUxM44CCXG4gICAgICovXG4gICAgcHJpdmF0ZSBmaW5kSWQoaWQ6IHN0cmluZyk6IEN1YmlzbUlkIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5faWRzLmdldFNpemUoKTsgKytpKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aGlzLl9pZHNcbiAgICAgICAgICAgIC5hdChpKVxuICAgICAgICAgICAgLmdldFN0cmluZygpXG4gICAgICAgICAgICAuaXNFcXVhbChpZClcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2lkcy5hdChpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9pZHM6IGNzbVZlY3RvcjxDdWJpc21JZD47IC8vIOeZu+mMsuOBleOCjOOBpuOBhOOCi0lE44Gu44Oq44K544OIXG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7O0FBT0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUFBO0FBTUE7QUFJQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUFBO0FBaEdBO0FBaUdBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/id/cubismidmanager.ts\n");

/***/ }),

/***/ "./Framework/src/live2dcubismframework.ts":
/*!************************************************!*\
  !*** ./Framework/src/live2dcubismframework.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LogLevel = exports.Option = exports.Live2DCubismFramework = exports.strtod = void 0;\nvar cubismjson_1 = __webpack_require__(/*! ./utils/cubismjson */ \"./Framework/src/utils/cubismjson.ts\");\nvar cubismidmanager_1 = __webpack_require__(/*! ./id/cubismidmanager */ \"./Framework/src/id/cubismidmanager.ts\");\nvar cubismrenderer_1 = __webpack_require__(/*! ./rendering/cubismrenderer */ \"./Framework/src/rendering/cubismrenderer.ts\");\nvar cubismdebug_1 = __webpack_require__(/*! ./utils/cubismdebug */ \"./Framework/src/utils/cubismdebug.ts\");\nvar Value = cubismjson_1.Live2DCubismFramework.Value;\nvar CubismIdManager = cubismidmanager_1.Live2DCubismFramework.CubismIdManager;\nvar CubismRenderer = cubismrenderer_1.Live2DCubismFramework.CubismRenderer;\nfunction strtod(s, endPtr) {\n    var index = 0;\n    for (var i = 1;; i++) {\n        var testC = s.slice(i - 1, i);\n        if (testC == 'e' || testC == '-' || testC == 'E') {\n            continue;\n        }\n        var test = s.substring(0, i);\n        var number = Number(test);\n        if (isNaN(number)) {\n            break;\n        }\n        index = i;\n    }\n    var d = parseFloat(s);\n    if (isNaN(d)) {\n        d = NaN;\n    }\n    endPtr[0] = s.slice(index);\n    return d;\n}\nexports.strtod = strtod;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var s_isStarted = false;\n    var s_isInitialized = false;\n    var s_option = null;\n    var s_cubismIdManager = null;\n    var Constant;\n    (function (Constant) {\n        Constant.vertexOffset = 0;\n        Constant.vertexStep = 2;\n    })(Constant = Live2DCubismFramework.Constant || (Live2DCubismFramework.Constant = {}));\n    function csmDelete(address) {\n        if (!address) {\n            return;\n        }\n        address = void 0;\n    }\n    Live2DCubismFramework.csmDelete = csmDelete;\n    var CubismFramework = (function () {\n        function CubismFramework() {\n        }\n        CubismFramework.startUp = function (option) {\n            if (option === void 0) { option = null; }\n            if (s_isStarted) {\n                cubismdebug_1.CubismLogInfo('CubismFramework.startUp() is already done.');\n                return s_isStarted;\n            }\n            s_option = option;\n            if (s_option != null) {\n                Live2DCubismCore.Logging.csmSetLogFunction(s_option.logFunction);\n            }\n            s_isStarted = true;\n            if (s_isStarted) {\n                var version = Live2DCubismCore.Version.csmGetVersion();\n                var major = (version & 0xff000000) >> 24;\n                var minor = (version & 0x00ff0000) >> 16;\n                var patch = version & 0x0000ffff;\n                var versionNumber = version;\n                cubismdebug_1.CubismLogInfo(\"Live2D Cubism Core version: {0}.{1}.{2} ({3})\", ('00' + major).slice(-2), ('00' + minor).slice(-2), ('0000' + patch).slice(-4), versionNumber);\n            }\n            cubismdebug_1.CubismLogInfo('CubismFramework.startUp() is complete.');\n            return s_isStarted;\n        };\n        CubismFramework.cleanUp = function () {\n            s_isStarted = false;\n            s_isInitialized = false;\n            s_option = null;\n            s_cubismIdManager = null;\n        };\n        CubismFramework.initialize = function () {\n            cubismdebug_1.CSM_ASSERT(s_isStarted);\n            if (!s_isStarted) {\n                cubismdebug_1.CubismLogWarning('CubismFramework is not started.');\n                return;\n            }\n            if (s_isInitialized) {\n                cubismdebug_1.CubismLogWarning('CubismFramework.initialize() skipped, already initialized.');\n                return;\n            }\n            Value.staticInitializeNotForClientCall();\n            s_cubismIdManager = new CubismIdManager();\n            s_isInitialized = true;\n            cubismdebug_1.CubismLogInfo('CubismFramework.initialize() is complete.');\n        };\n        CubismFramework.dispose = function () {\n            cubismdebug_1.CSM_ASSERT(s_isStarted);\n            if (!s_isStarted) {\n                cubismdebug_1.CubismLogWarning('CubismFramework is not started.');\n                return;\n            }\n            if (!s_isInitialized) {\n                cubismdebug_1.CubismLogWarning('CubismFramework.dispose() skipped, not initialized.');\n                return;\n            }\n            Value.staticReleaseNotForClientCall();\n            s_cubismIdManager.release();\n            s_cubismIdManager = null;\n            CubismRenderer.staticRelease();\n            s_isInitialized = false;\n            cubismdebug_1.CubismLogInfo('CubismFramework.dispose() is complete.');\n        };\n        CubismFramework.isStarted = function () {\n            return s_isStarted;\n        };\n        CubismFramework.isInitialized = function () {\n            return s_isInitialized;\n        };\n        CubismFramework.coreLogFunction = function (message) {\n            if (!Live2DCubismCore.Logging.csmGetLogFunction()) {\n                return;\n            }\n            Live2DCubismCore.Logging.csmGetLogFunction()(message);\n        };\n        CubismFramework.getLoggingLevel = function () {\n            if (s_option != null) {\n                return s_option.loggingLevel;\n            }\n            return LogLevel.LogLevel_Off;\n        };\n        CubismFramework.getIdManager = function () {\n            return s_cubismIdManager;\n        };\n        return CubismFramework;\n    }());\n    Live2DCubismFramework.CubismFramework = CubismFramework;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\nvar Option = (function () {\n    function Option() {\n    }\n    return Option;\n}());\nexports.Option = Option;\nvar LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"LogLevel_Verbose\"] = 0] = \"LogLevel_Verbose\";\n    LogLevel[LogLevel[\"LogLevel_Debug\"] = 1] = \"LogLevel_Debug\";\n    LogLevel[LogLevel[\"LogLevel_Info\"] = 2] = \"LogLevel_Info\";\n    LogLevel[LogLevel[\"LogLevel_Warning\"] = 3] = \"LogLevel_Warning\";\n    LogLevel[LogLevel[\"LogLevel_Error\"] = 4] = \"LogLevel_Error\";\n    LogLevel[LogLevel[\"LogLevel_Off\"] = 5] = \"LogLevel_Off\";\n})(LogLevel = exports.LogLevel || (exports.LogLevel = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL2xpdmUyZGN1YmlzbWZyYW1ld29yay50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL0ZyYW1ld29yay9zcmMvbGl2ZTJkY3ViaXNtZnJhbWV3b3JrLnRzP2M2NGUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTGl2ZTJEIE9wZW4gU29mdHdhcmUgbGljZW5zZVxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXG4gKi9cblxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbWpzb24gfSBmcm9tICcuL3V0aWxzL2N1YmlzbWpzb24nO1xuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbWlkbWFuYWdlciB9IGZyb20gJy4vaWQvY3ViaXNtaWRtYW5hZ2VyJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21yZW5kZXJlciB9IGZyb20gJy4vcmVuZGVyaW5nL2N1YmlzbXJlbmRlcmVyJztcbmltcG9ydCB7XG4gIEN1YmlzbUxvZ0luZm8sXG4gIEN1YmlzbUxvZ1dhcm5pbmcsXG4gIENTTV9BU1NFUlRcbn0gZnJvbSAnLi91dGlscy9jdWJpc21kZWJ1Zyc7XG5pbXBvcnQgVmFsdWUgPSBjdWJpc21qc29uLlZhbHVlO1xuaW1wb3J0IEN1YmlzbUlkTWFuYWdlciA9IGN1YmlzbWlkbWFuYWdlci5DdWJpc21JZE1hbmFnZXI7XG5pbXBvcnQgQ3ViaXNtUmVuZGVyZXIgPSBjdWJpc21yZW5kZXJlci5DdWJpc21SZW5kZXJlcjtcblxuZXhwb3J0IGZ1bmN0aW9uIHN0cnRvZChzOiBzdHJpbmcsIGVuZFB0cjogc3RyaW5nW10pOiBudW1iZXIge1xuICBsZXQgaW5kZXggPSAwO1xuICBmb3IgKGxldCBpID0gMTsgOyBpKyspIHtcbiAgICBjb25zdCB0ZXN0Qzogc3RyaW5nID0gcy5zbGljZShpIC0gMSwgaSk7XG5cbiAgICAvLyDmjIfmlbDjg7vjg57jgqTjg4rjgrnjga7lj6/og73mgKfjgYzjgYLjgovjga7jgafjgrnjgq3jg4Pjg5fjgZnjgotcbiAgICBpZiAodGVzdEMgPT0gJ2UnIHx8IHRlc3RDID09ICctJyB8fCB0ZXN0QyA9PSAnRScpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH0gLy8g5paH5a2X5YiX44Gu56+E5Zuy44KS5bqD44GS44Gm44GE44GPXG5cbiAgICBjb25zdCB0ZXN0OiBzdHJpbmcgPSBzLnN1YnN0cmluZygwLCBpKTtcbiAgICBjb25zdCBudW1iZXIgPSBOdW1iZXIodGVzdCk7XG4gICAgaWYgKGlzTmFOKG51bWJlcikpIHtcbiAgICAgIC8vIOaVsOWApOOBqOOBl+OBpuiqjeitmOOBp+OBjeOBquOBj+OBquOBo+OBn+OBruOBp+e1guS6hlxuICAgICAgYnJlYWs7XG4gICAgfSAvLyDmnIDlvozjgavmlbDlgKTjgajjgZfjgabjgafjgY3jgZ9pbmRleOOCkuagvOe0jeOBl+OBpuOBiuOBj1xuXG4gICAgaW5kZXggPSBpO1xuICB9XG4gIGxldCBkID0gcGFyc2VGbG9hdChzKTsgLy8g44OR44O844K544GX44Gf5pWw5YCkXG5cbiAgaWYgKGlzTmFOKGQpKSB7XG4gICAgLy8g5pWw5YCk44Go44GX44Gm6KqN6K2Y44Gn44GN44Gq44GP44Gq44Gj44Gf44Gu44Gn57WC5LqGXG4gICAgZCA9IE5hTjtcbiAgfVxuXG4gIGVuZFB0clswXSA9IHMuc2xpY2UoaW5kZXgpOyAvLyDlvozntprjga7mloflrZfliJdcbiAgcmV0dXJuIGQ7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIHtcbiAgLy8g44OV44Kh44Kk44Or44K544Kz44O844OX44Gu5aSJ5pWw44KS5Yid5pyf5YyWXG5cbiAgbGV0IHNfaXNTdGFydGVkID0gZmFsc2U7XG4gIGxldCBzX2lzSW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgbGV0IHNfb3B0aW9uOiBPcHRpb24gPSBudWxsO1xuICBsZXQgc19jdWJpc21JZE1hbmFnZXI6IEN1YmlzbUlkTWFuYWdlciA9IG51bGw7XG5cbiAgLyoqXG4gICAqIEZyYW1ld29ya+WGheOBp+S9v+OBhuWumuaVsOOBruWuo+iogFxuICAgKi9cbiAgZXhwb3J0IG5hbWVzcGFjZSBDb25zdGFudCB7XG4gICAgZXhwb3J0IGNvbnN0IHZlcnRleE9mZnNldCA9IDA7IC8vIOODoeODg+OCt+ODpemggueCueOBruOCquODleOCu+ODg+ODiOWApFxuICAgIGV4cG9ydCBjb25zdCB2ZXJ0ZXhTdGVwID0gMjsgLy8g44Oh44OD44K344Ol6aCC54K544Gu44K544OG44OD44OX5YCkXG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gY3NtRGVsZXRlPFQ+KGFkZHJlc3M6IFQpOiB2b2lkIHtcbiAgICBpZiAoIWFkZHJlc3MpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhZGRyZXNzID0gdm9pZCAwO1xuICB9XG5cbiAgLyoqXG4gICAqIExpdmUyRCBDdWJpc20gU0RLIE9yaWdpbmFsIFdvcmtmbG93IFNES+OBruOCqOODs+ODiOODquODneOCpOODs+ODiFxuICAgKiDliKnnlKjplovlp4vmmYLjga9DdWJpc21GcmFtZXdvcmsuaW5pdGlhbGl6ZSgp44KS5ZG844Gz44CBQ3ViaXNtRnJhbWV3b3JrLmRpc3Bvc2UoKeOBp+e1guS6huOBmeOCi+OAglxuICAgKi9cbiAgZXhwb3J0IGNsYXNzIEN1YmlzbUZyYW1ld29yayB7XG4gICAgLyoqXG4gICAgICogQ3ViaXNtIEZyYW1ld29ya+OBrkFQSeOCkuS9v+eUqOWPr+iDveOBq+OBmeOCi+OAglxuICAgICAqICBBUEnjgpLlrp/ooYzjgZnjgovliY3jgavlv4XjgZrjgZPjga7plqLmlbDjgpLlrp/ooYzjgZnjgovjgZPjgajjgIJcbiAgICAgKiAg5LiA5bqm5rqW5YKZ44GM5a6M5LqG44GX44Gm5Lul6ZmN44Gv44CB5YaN44Gz5a6f6KGM44GX44Gm44KC5YaF6YOo5Yem55CG44GM44K544Kt44OD44OX44GV44KM44G+44GZ44CCXG4gICAgICpcbiAgICAgKiBAcGFyYW0gICAgb3B0aW9uICAgICAgT3B0aW9u44Kv44Op44K544Gu44Kk44Oz44K544K/44Oz44K5XG4gICAgICpcbiAgICAgKiBAcmV0dXJuICAg5rqW5YKZ5Yem55CG44GM5a6M5LqG44GX44Gf44KJdHJ1ZeOBjOi/lOOCiuOBvuOBmeOAglxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgc3RhcnRVcChvcHRpb246IE9wdGlvbiA9IG51bGwpOiBib29sZWFuIHtcbiAgICAgIGlmIChzX2lzU3RhcnRlZCkge1xuICAgICAgICBDdWJpc21Mb2dJbmZvKCdDdWJpc21GcmFtZXdvcmsuc3RhcnRVcCgpIGlzIGFscmVhZHkgZG9uZS4nKTtcbiAgICAgICAgcmV0dXJuIHNfaXNTdGFydGVkO1xuICAgICAgfVxuXG4gICAgICBzX29wdGlvbiA9IG9wdGlvbjtcblxuICAgICAgaWYgKHNfb3B0aW9uICE9IG51bGwpIHtcbiAgICAgICAgTGl2ZTJEQ3ViaXNtQ29yZS5Mb2dnaW5nLmNzbVNldExvZ0Z1bmN0aW9uKHNfb3B0aW9uLmxvZ0Z1bmN0aW9uKTtcbiAgICAgIH1cblxuICAgICAgc19pc1N0YXJ0ZWQgPSB0cnVlO1xuXG4gICAgICAvLyBMaXZlMkQgQ3ViaXNtIENvcmXjg5Djg7zjgrjjg6fjg7Pmg4XloLHjgpLooajnpLpcbiAgICAgIGlmIChzX2lzU3RhcnRlZCkge1xuICAgICAgICBjb25zdCB2ZXJzaW9uOiBudW1iZXIgPSBMaXZlMkRDdWJpc21Db3JlLlZlcnNpb24uY3NtR2V0VmVyc2lvbigpO1xuICAgICAgICBjb25zdCBtYWpvcjogbnVtYmVyID0gKHZlcnNpb24gJiAweGZmMDAwMDAwKSA+PiAyNDtcbiAgICAgICAgY29uc3QgbWlub3I6IG51bWJlciA9ICh2ZXJzaW9uICYgMHgwMGZmMDAwMCkgPj4gMTY7XG4gICAgICAgIGNvbnN0IHBhdGNoOiBudW1iZXIgPSB2ZXJzaW9uICYgMHgwMDAwZmZmZjtcbiAgICAgICAgY29uc3QgdmVyc2lvbk51bWJlcjogbnVtYmVyID0gdmVyc2lvbjtcblxuICAgICAgICBDdWJpc21Mb2dJbmZvKFxuICAgICAgICAgIGBMaXZlMkQgQ3ViaXNtIENvcmUgdmVyc2lvbjogezB9LnsxfS57Mn0gKHszfSlgLFxuICAgICAgICAgICgnMDAnICsgbWFqb3IpLnNsaWNlKC0yKSxcbiAgICAgICAgICAoJzAwJyArIG1pbm9yKS5zbGljZSgtMiksXG4gICAgICAgICAgKCcwMDAwJyArIHBhdGNoKS5zbGljZSgtNCksXG4gICAgICAgICAgdmVyc2lvbk51bWJlclxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBDdWJpc21Mb2dJbmZvKCdDdWJpc21GcmFtZXdvcmsuc3RhcnRVcCgpIGlzIGNvbXBsZXRlLicpO1xuXG4gICAgICByZXR1cm4gc19pc1N0YXJ0ZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RhcnRVcCgp44Gn5Yid5pyf5YyW44GX44GfQ3ViaXNtRnJhbWV3b3Jr44Gu5ZCE44OR44Op44Oh44O844K/44KS44Kv44Oq44Ki44GX44G+44GZ44CCXG4gICAgICogRGlzcG9zZSgp44GX44GfQ3ViaXNtRnJhbWV3b3Jr44KS5YaN5Yip55So44GZ44KL6Zqb44Gr5Yip55So44GX44Gm44GP44Gg44GV44GE44CCXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBjbGVhblVwKCk6IHZvaWQge1xuICAgICAgc19pc1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgIHNfaXNJbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgc19vcHRpb24gPSBudWxsO1xuICAgICAgc19jdWJpc21JZE1hbmFnZXIgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEN1YmlzbSBGcmFtZXdvcmvlhoXjga7jg6rjgr3jg7zjgrnjgpLliJ3mnJ/ljJbjgZfjgabjg6Ljg4fjg6vjgpLooajnpLrlj6/og73jgarnirbmhYvjgavjgZfjgb7jgZnjgII8YnI+XG4gICAgICogICAgIOWGjeW6pkluaXRpYWxpemUoKeOBmeOCi+OBq+OBr+WFiOOBq0Rpc3Bvc2UoKeOCkuWun+ihjOOBmeOCi+W/heimgeOBjOOBguOCiuOBvuOBmeOAglxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgaW5pdGlhbGl6ZSgpOiB2b2lkIHtcbiAgICAgIENTTV9BU1NFUlQoc19pc1N0YXJ0ZWQpO1xuICAgICAgaWYgKCFzX2lzU3RhcnRlZCkge1xuICAgICAgICBDdWJpc21Mb2dXYXJuaW5nKCdDdWJpc21GcmFtZXdvcmsgaXMgbm90IHN0YXJ0ZWQuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gLS0tIHNfaXNJbml0aWFsaXplZOOBq+OCiOOCi+mAo+e2muWIneacn+WMluOCrOODvOODiSAtLS1cbiAgICAgIC8vIOmAo+e2muOBl+OBpuODquOCveODvOOCueeiuuS/neOBjOihjOOCj+OCjOOBquOBhOOCiOOBhuOBq+OBmeOCi+OAglxuICAgICAgLy8g5YaN5bqmSW5pdGlhbGl6ZSgp44GZ44KL44Gr44Gv5YWI44GrRGlzcG9zZSgp44KS5a6f6KGM44GZ44KL5b+F6KaB44GM44GC44KL44CCXG4gICAgICBpZiAoc19pc0luaXRpYWxpemVkKSB7XG4gICAgICAgIEN1YmlzbUxvZ1dhcm5pbmcoXG4gICAgICAgICAgJ0N1YmlzbUZyYW1ld29yay5pbml0aWFsaXplKCkgc2tpcHBlZCwgYWxyZWFkeSBpbml0aWFsaXplZC4nXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8tLS0tIHN0YXRpYyDliJ3mnJ/ljJYgLS0tLVxuICAgICAgVmFsdWUuc3RhdGljSW5pdGlhbGl6ZU5vdEZvckNsaWVudENhbGwoKTtcblxuICAgICAgc19jdWJpc21JZE1hbmFnZXIgPSBuZXcgQ3ViaXNtSWRNYW5hZ2VyKCk7XG5cbiAgICAgIHNfaXNJbml0aWFsaXplZCA9IHRydWU7XG5cbiAgICAgIEN1YmlzbUxvZ0luZm8oJ0N1YmlzbUZyYW1ld29yay5pbml0aWFsaXplKCkgaXMgY29tcGxldGUuJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3ViaXNtIEZyYW1ld29ya+WGheOBruWFqOOBpuOBruODquOCveODvOOCueOCkuino+aUvuOBl+OBvuOBmeOAglxuICAgICAqICAgICAg44Gf44Gg44GX44CB5aSW6YOo44Gn56K65L+d44GV44KM44Gf44Oq44K944O844K544Gr44Gk44GE44Gm44Gv6Kej5pS+44GX44G+44Gb44KT44CCXG4gICAgICogICAgICDlpJbpg6jjgafpganliIfjgavnoLTmo4TjgZnjgovlv4XopoHjgYzjgYLjgorjgb7jgZnjgIJcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGRpc3Bvc2UoKTogdm9pZCB7XG4gICAgICBDU01fQVNTRVJUKHNfaXNTdGFydGVkKTtcbiAgICAgIGlmICghc19pc1N0YXJ0ZWQpIHtcbiAgICAgICAgQ3ViaXNtTG9nV2FybmluZygnQ3ViaXNtRnJhbWV3b3JrIGlzIG5vdCBzdGFydGVkLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIC0tLSBzX2lzSW5pdGlhbGl6ZWTjgavjgojjgovmnKrliJ3mnJ/ljJbop6PmlL7jgqzjg7zjg4kgLS0tXG4gICAgICAvLyBkaXNwb3NlKCnjgZnjgovjgavjga/lhYjjgatpbml0aWFsaXplKCnjgpLlrp/ooYzjgZnjgovlv4XopoHjgYzjgYLjgovjgIJcbiAgICAgIGlmICghc19pc0luaXRpYWxpemVkKSB7XG4gICAgICAgIC8vIGZhbHNlLi4u44Oq44K944O844K55pyq56K65L+d44Gu5aC05ZCIXG4gICAgICAgIEN1YmlzbUxvZ1dhcm5pbmcoJ0N1YmlzbUZyYW1ld29yay5kaXNwb3NlKCkgc2tpcHBlZCwgbm90IGluaXRpYWxpemVkLicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIFZhbHVlLnN0YXRpY1JlbGVhc2VOb3RGb3JDbGllbnRDYWxsKCk7XG5cbiAgICAgIHNfY3ViaXNtSWRNYW5hZ2VyLnJlbGVhc2UoKTtcbiAgICAgIHNfY3ViaXNtSWRNYW5hZ2VyID0gbnVsbDtcblxuICAgICAgLy8g44Os44Oz44OA44Op44Gu6Z2Z55qE44Oq44K944O844K577yI44K344Kn44O844OA44OX44Ot44Kw44Op44Og5LuW77yJ44KS6Kej5pS+44GZ44KLXG4gICAgICBDdWJpc21SZW5kZXJlci5zdGF0aWNSZWxlYXNlKCk7XG5cbiAgICAgIHNfaXNJbml0aWFsaXplZCA9IGZhbHNlO1xuXG4gICAgICBDdWJpc21Mb2dJbmZvKCdDdWJpc21GcmFtZXdvcmsuZGlzcG9zZSgpIGlzIGNvbXBsZXRlLicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEN1YmlzbSBGcmFtZXdvcmvjga5BUEnjgpLkvb/nlKjjgZnjgovmupblgpnjgYzlrozkuobjgZfjgZ/jgYvjganjgYbjgYtcbiAgICAgKiBAcmV0dXJuIEFQSeOCkuS9v+eUqOOBmeOCi+a6luWCmeOBjOWujOS6huOBl+OBpuOBhOOCjOOBsHRydWXjgYzov5Tjgorjgb7jgZnjgIJcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGlzU3RhcnRlZCgpOiBib29sZWFuIHtcbiAgICAgIHJldHVybiBzX2lzU3RhcnRlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDdWJpc20gRnJhbWV3b3Jr44Gu44Oq44K944O844K55Yid5pyf5YyW44GM44GZ44Gn44Gr6KGM44KP44KM44Gm44GE44KL44GL44Gp44GG44GLXG4gICAgICogQHJldHVybiDjg6rjgr3jg7zjgrnnorrkv53jgYzlrozkuobjgZfjgabjgYTjgozjgbB0cnVl44GM6L+U44KK44G+44GZXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBpc0luaXRpYWxpemVkKCk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIHNfaXNJbml0aWFsaXplZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3JlIEFQSeOBq+ODkOOCpOODs+ODieOBl+OBn+ODreOCsOmWouaVsOOCkuWun+ihjOOBmeOCi1xuICAgICAqXG4gICAgICogQHByYXJhbSBtZXNzYWdlIOODreOCsOODoeODg+OCu+ODvOOCuFxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgY29yZUxvZ0Z1bmN0aW9uKG1lc3NhZ2U6IHN0cmluZyk6IHZvaWQge1xuICAgICAgLy8gUmV0dXJuIGlmIGxvZ2dpbmcgbm90IHBvc3NpYmxlLlxuICAgICAgaWYgKCFMaXZlMkRDdWJpc21Db3JlLkxvZ2dpbmcuY3NtR2V0TG9nRnVuY3Rpb24oKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIExpdmUyREN1YmlzbUNvcmUuTG9nZ2luZy5jc21HZXRMb2dGdW5jdGlvbigpKG1lc3NhZ2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOePvuWcqOOBruODreOCsOWHuuWKm+ODrOODmeODq+ioreWumuOBruWApOOCkui/lOOBmeOAglxuICAgICAqXG4gICAgICogQHJldHVybiAg54++5Zyo44Gu44Ot44Kw5Ye65Yqb44Os44OZ44Or6Kit5a6a44Gu5YCkXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBnZXRMb2dnaW5nTGV2ZWwoKTogTG9nTGV2ZWwge1xuICAgICAgaWYgKHNfb3B0aW9uICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHNfb3B0aW9uLmxvZ2dpbmdMZXZlbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBMb2dMZXZlbC5Mb2dMZXZlbF9PZmY7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSUTjg57jg43jg7zjgrjjg6Pjga7jgqTjg7Pjgrnjgr/jg7PjgrnjgpLlj5blvpfjgZnjgotcbiAgICAgKiBAcmV0dXJuIEN1YmlzbU1hbmFnZXLjgq/jg6njgrnjga7jgqTjg7Pjgrnjgr/jg7PjgrlcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGdldElkTWFuYWdlcigpOiBDdWJpc21JZE1hbmFnZXIge1xuICAgICAgcmV0dXJuIHNfY3ViaXNtSWRNYW5hZ2VyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOmdmeeahOOCr+ODqeOCueOBqOOBl+OBpuS9v+eUqOOBmeOCi1xuICAgICAqIOOCpOODs+OCueOCv+ODs+OCueWMluOBleOBm+OBquOBhFxuICAgICAqL1xuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7fVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBPcHRpb24ge1xuICBsb2dGdW5jdGlvbjogTGl2ZTJEQ3ViaXNtQ29yZS5jc21Mb2dGdW5jdGlvbjsgLy8g44Ot44Kw5Ye65Yqb44Gu6Zai5pWw44Kq44OW44K444Kn44Kv44OIXG4gIGxvZ2dpbmdMZXZlbDogTG9nTGV2ZWw7IC8vIOODreOCsOWHuuWKm+ODrOODmeODq+OBruioreWumlxufVxuXG4vKipcbiAqIOODreOCsOWHuuWKm+OBruODrOODmeODq1xuICovXG5leHBvcnQgZW51bSBMb2dMZXZlbCB7XG4gIExvZ0xldmVsX1ZlcmJvc2UgPSAwLCAvLyDoqbPntLDjg63jgrBcbiAgTG9nTGV2ZWxfRGVidWcsIC8vIOODh+ODkOODg+OCsOODreOCsFxuICBMb2dMZXZlbF9JbmZvLCAvLyBJbmZv44Ot44KwXG4gIExvZ0xldmVsX1dhcm5pbmcsIC8vIOitpuWRiuODreOCsFxuICBMb2dMZXZlbF9FcnJvciwgLy8g44Ko44Op44O844Ot44KwXG4gIExvZ0xldmVsX09mZiAvLyDjg63jgrDlh7rlipvnhKHlirlcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUE1QkE7QUE4QkE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU5BO0FBWUE7QUErS0E7QUFBQTtBQXJLQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFPQTtBQUVBO0FBRUE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBR0E7QUFFQTtBQUVBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFPQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFPQTtBQUFBO0FBaExBO0FBaUxBO0FBRUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUhBO0FBUUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/live2dcubismframework.ts\n");

/***/ }),

/***/ "./Framework/src/math/cubismmath.ts":
/*!******************************************!*\
  !*** ./Framework/src/math/cubismmath.ts ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar cubismvector2_1 = __webpack_require__(/*! ./cubismvector2 */ \"./Framework/src/math/cubismvector2.ts\");\nvar CubismVector2 = cubismvector2_1.Live2DCubismFramework.CubismVector2;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var CubismMath = (function () {\n        function CubismMath() {\n        }\n        CubismMath.range = function (value, min, max) {\n            if (value < min) {\n                value = min;\n            }\n            else if (value > max) {\n                value = max;\n            }\n            return value;\n        };\n        CubismMath.sin = function (x) {\n            return Math.sin(x);\n        };\n        CubismMath.cos = function (x) {\n            return Math.cos(x);\n        };\n        CubismMath.abs = function (x) {\n            return Math.abs(x);\n        };\n        CubismMath.sqrt = function (x) {\n            return Math.sqrt(x);\n        };\n        CubismMath.getEasingSine = function (value) {\n            if (value < 0.0) {\n                return 0.0;\n            }\n            else if (value > 1.0) {\n                return 1.0;\n            }\n            return 0.5 - 0.5 * this.cos(value * Math.PI);\n        };\n        CubismMath.max = function (left, right) {\n            return left > right ? left : right;\n        };\n        CubismMath.min = function (left, right) {\n            return left > right ? right : left;\n        };\n        CubismMath.degreesToRadian = function (degrees) {\n            return (degrees / 180.0) * Math.PI;\n        };\n        CubismMath.radianToDegrees = function (radian) {\n            return (radian * 180.0) / Math.PI;\n        };\n        CubismMath.directionToRadian = function (from, to) {\n            var q1 = Math.atan2(to.y, to.x);\n            var q2 = Math.atan2(from.y, from.x);\n            var ret = q1 - q2;\n            while (ret < -Math.PI) {\n                ret += Math.PI * 2.0;\n            }\n            while (ret > Math.PI) {\n                ret -= Math.PI * 2.0;\n            }\n            return ret;\n        };\n        CubismMath.directionToDegrees = function (from, to) {\n            var radian = this.directionToRadian(from, to);\n            var degree = this.radianToDegrees(radian);\n            if (to.x - from.x > 0.0) {\n                degree = -degree;\n            }\n            return degree;\n        };\n        CubismMath.radianToDirection = function (totalAngle) {\n            var ret = new CubismVector2();\n            ret.x = this.sin(totalAngle);\n            ret.y = this.cos(totalAngle);\n            return ret;\n        };\n        return CubismMath;\n    }());\n    Live2DCubismFramework.CubismMath = CubismMath;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21hdGgvY3ViaXNtbWF0aC50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL0ZyYW1ld29yay9zcmMvbWF0aC9jdWJpc21tYXRoLnRzP2Q0ZDYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTGl2ZTJEIE9wZW4gU29mdHdhcmUgbGljZW5zZVxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXG4gKi9cblxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbXZlY3RvcjIgfSBmcm9tICcuL2N1YmlzbXZlY3RvcjInO1xuaW1wb3J0IEN1YmlzbVZlY3RvcjIgPSBjdWJpc212ZWN0b3IyLkN1YmlzbVZlY3RvcjI7XG5cbmV4cG9ydCBuYW1lc3BhY2UgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIHtcbiAgLyoqXG4gICAqIOaVsOWApOioiOeul+OBquOBqeOBq+S9v+eUqOOBmeOCi+ODpuODvOODhuOCo+ODquODhuOCo+OCr+ODqeOCuVxuICAgKi9cbiAgZXhwb3J0IGNsYXNzIEN1YmlzbU1hdGgge1xuICAgIC8qKlxuICAgICAqIOesrOS4gOW8leaVsOOBruWApOOCkuacgOWwj+WApOOBqOacgOWkp+WApOOBruevhOWbsuOBq+WPjuOCgeOBn+WApOOCkui/lOOBmVxuICAgICAqXG4gICAgICogQHBhcmFtIHZhbHVlIOWPjuOCgeOCieOCjOOCi+WApFxuICAgICAqIEBwYXJhbSBtaW4gICDnr4Tlm7Ljga7mnIDlsI/lgKRcbiAgICAgKiBAcGFyYW0gbWF4ICAg56+E5Zuy44Gu5pyA5aSn5YCkXG4gICAgICogQHJldHVybiDmnIDlsI/lgKTjgajmnIDlpKflgKTjga7nr4Tlm7Ljgavlj47jgoHjgZ/lgKRcbiAgICAgKi9cbiAgICBzdGF0aWMgcmFuZ2UodmFsdWU6IG51bWJlciwgbWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgIGlmICh2YWx1ZSA8IG1pbikge1xuICAgICAgICB2YWx1ZSA9IG1pbjtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPiBtYXgpIHtcbiAgICAgICAgdmFsdWUgPSBtYXg7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjgrXjgqTjg7PplqLmlbDjga7lgKTjgpLmsYLjgoHjgotcbiAgICAgKlxuICAgICAqIEBwYXJhbSB4IOinkuW6puWApO+8iOODqeOCuOOCouODs++8iVxuICAgICAqIEByZXR1cm4g44K144Kk44Oz6Zai5pWwc2luKHgp44Gu5YCkXG4gICAgICovXG4gICAgc3RhdGljIHNpbih4OiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIE1hdGguc2luKHgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOOCs+OCteOCpOODs+mWouaVsOOBruWApOOCkuaxguOCgeOCi1xuICAgICAqXG4gICAgICogQHBhcmFtIHgg6KeS5bqm5YCkKOODqeOCuOOCouODsylcbiAgICAgKiBAcmV0dXJuIOOCs+OCteOCpOODs+mWouaVsGNvcyh4KeOBruWApFxuICAgICAqL1xuICAgIHN0YXRpYyBjb3MoeDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiBNYXRoLmNvcyh4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlgKTjga7ntbblr77lgKTjgpLmsYLjgoHjgotcbiAgICAgKlxuICAgICAqIEBwYXJhbSB4IOe1tuWvvuWApOOCkuaxguOCgeOCi+WApFxuICAgICAqIEByZXR1cm4g5YCk44Gu57W25a++5YCkXG4gICAgICovXG4gICAgc3RhdGljIGFicyh4OiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIE1hdGguYWJzKHgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOW5s+aWueaguSjjg6vjg7zjg4gp44KS5rGC44KB44KLXG4gICAgICogQHBhcmFtIHggLT4g5bmz5pa55qC544KS5rGC44KB44KL5YCkXG4gICAgICogQHJldHVybiDlgKTjga7lubPmlrnmoLlcbiAgICAgKi9cbiAgICBzdGF0aWMgc3FydCh4OiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIE1hdGguc3FydCh4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjgqTjg7zjgrjjg7PjgrDlh6bnkIbjgZXjgozjgZ/jgrXjgqTjg7PjgpLmsYLjgoHjgotcbiAgICAgKiDjg5Xjgqfjg7zjg4njgqTjg7Pjg7vjgqLjgqbjg4jmmYLjga7jgqTjg7zjgrjjg7PjgrDjgavliKnnlKjjgafjgY3jgotcbiAgICAgKlxuICAgICAqIEBwYXJhbSB2YWx1ZSDjgqTjg7zjgrjjg7PjgrDjgpLooYzjgYblgKRcbiAgICAgKiBAcmV0dXJuIOOCpOODvOOCuOODs+OCsOWHpueQhuOBleOCjOOBn+OCteOCpOODs+WApFxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRFYXNpbmdTaW5lKHZhbHVlOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgaWYgKHZhbHVlIDwgMC4wKSB7XG4gICAgICAgIHJldHVybiAwLjA7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlID4gMS4wKSB7XG4gICAgICAgIHJldHVybiAxLjA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAwLjUgLSAwLjUgKiB0aGlzLmNvcyh2YWx1ZSAqIE1hdGguUEkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWkp+OBjeOBhOaWueOBruWApOOCkui/lOOBmVxuICAgICAqXG4gICAgICogQHBhcmFtIGxlZnQg5bem6L6644Gu5YCkXG4gICAgICogQHBhcmFtIHJpZ2h0IOWPs+i+uuOBruWApFxuICAgICAqIEByZXR1cm4g5aSn44GN44GE5pa544Gu5YCkXG4gICAgICovXG4gICAgc3RhdGljIG1heChsZWZ0OiBudW1iZXIsIHJpZ2h0OiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIGxlZnQgPiByaWdodCA/IGxlZnQgOiByaWdodDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlsI/jgZXjgYTmlrnjga7lgKTjgpLov5TjgZlcbiAgICAgKlxuICAgICAqIEBwYXJhbSBsZWZ0ICDlt6bovrrjga7lgKRcbiAgICAgKiBAcGFyYW0gcmlnaHQg5Y+z6L6644Gu5YCkXG4gICAgICogQHJldHVybiDlsI/jgZXjgYTmlrnjga7lgKRcbiAgICAgKi9cbiAgICBzdGF0aWMgbWluKGxlZnQ6IG51bWJlciwgcmlnaHQ6IG51bWJlcik6IG51bWJlciB7XG4gICAgICByZXR1cm4gbGVmdCA+IHJpZ2h0ID8gcmlnaHQgOiBsZWZ0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOinkuW6puWApOOCkuODqeOCuOOCouODs+WApOOBq+WkieaPm+OBmeOCi1xuICAgICAqXG4gICAgICogQHBhcmFtIGRlZ3JlZXMgICDop5LluqblgKRcbiAgICAgKiBAcmV0dXJuIOinkuW6puWApOOBi+OCieWkieaPm+OBl+OBn+ODqeOCuOOCouODs+WApFxuICAgICAqL1xuICAgIHN0YXRpYyBkZWdyZWVzVG9SYWRpYW4oZGVncmVlczogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiAoZGVncmVlcyAvIDE4MC4wKSAqIE1hdGguUEk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Op44K444Ki44Oz5YCk44KS6KeS5bqm5YCk44Gr5aSJ5o+b44GZ44KLXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmFkaWFuICAgIOODqeOCuOOCouODs+WApFxuICAgICAqIEByZXR1cm4g44Op44K444Ki44Oz5YCk44GL44KJ5aSJ5o+b44GX44Gf6KeS5bqm5YCkXG4gICAgICovXG4gICAgc3RhdGljIHJhZGlhblRvRGVncmVlcyhyYWRpYW46IG51bWJlcik6IG51bWJlciB7XG4gICAgICByZXR1cm4gKHJhZGlhbiAqIDE4MC4wKSAvIE1hdGguUEk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog77yS44Gk44Gu44OZ44Kv44OI44Or44GL44KJ44Op44K444Ki44Oz5YCk44KS5rGC44KB44KLXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZnJvbSAg5aeL54K544OZ44Kv44OI44OrXG4gICAgICogQHBhcmFtIHRvICAgIOe1gueCueODmeOCr+ODiOODq1xuICAgICAqIEByZXR1cm4g44Op44K444Ki44Oz5YCk44GL44KJ5rGC44KB44Gf5pa55ZCR44OZ44Kv44OI44OrXG4gICAgICovXG4gICAgc3RhdGljIGRpcmVjdGlvblRvUmFkaWFuKGZyb206IEN1YmlzbVZlY3RvcjIsIHRvOiBDdWJpc21WZWN0b3IyKTogbnVtYmVyIHtcbiAgICAgIGNvbnN0IHExOiBudW1iZXIgPSBNYXRoLmF0YW4yKHRvLnksIHRvLngpO1xuICAgICAgY29uc3QgcTI6IG51bWJlciA9IE1hdGguYXRhbjIoZnJvbS55LCBmcm9tLngpO1xuXG4gICAgICBsZXQgcmV0OiBudW1iZXIgPSBxMSAtIHEyO1xuXG4gICAgICB3aGlsZSAocmV0IDwgLU1hdGguUEkpIHtcbiAgICAgICAgcmV0ICs9IE1hdGguUEkgKiAyLjA7XG4gICAgICB9XG5cbiAgICAgIHdoaWxlIChyZXQgPiBNYXRoLlBJKSB7XG4gICAgICAgIHJldCAtPSBNYXRoLlBJICogMi4wO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIO+8kuOBpOOBruODmeOCr+ODiOODq+OBi+OCieinkuW6puWApOOCkuaxguOCgeOCi1xuICAgICAqXG4gICAgICogQHBhcmFtIGZyb20gIOWni+eCueODmeOCr+ODiOODq1xuICAgICAqIEBwYXJhbSB0byAgICDntYLngrnjg5njgq/jg4jjg6tcbiAgICAgKiBAcmV0dXJuIOinkuW6puWApOOBi+OCieaxguOCgeOBn+aWueWQkeODmeOCr+ODiOODq1xuICAgICAqL1xuICAgIHN0YXRpYyBkaXJlY3Rpb25Ub0RlZ3JlZXMoZnJvbTogQ3ViaXNtVmVjdG9yMiwgdG86IEN1YmlzbVZlY3RvcjIpOiBudW1iZXIge1xuICAgICAgY29uc3QgcmFkaWFuOiBudW1iZXIgPSB0aGlzLmRpcmVjdGlvblRvUmFkaWFuKGZyb20sIHRvKTtcbiAgICAgIGxldCBkZWdyZWU6IG51bWJlciA9IHRoaXMucmFkaWFuVG9EZWdyZWVzKHJhZGlhbik7XG5cbiAgICAgIGlmICh0by54IC0gZnJvbS54ID4gMC4wKSB7XG4gICAgICAgIGRlZ3JlZSA9IC1kZWdyZWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZWdyZWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Op44K444Ki44Oz5YCk44KS5pa55ZCR44OZ44Kv44OI44Or44Gr5aSJ5o+b44GZ44KL44CCXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdG90YWxBbmdsZSAgICDjg6njgrjjgqLjg7PlgKRcbiAgICAgKiBAcmV0dXJuIOODqeOCuOOCouODs+WApOOBi+OCieWkieaPm+OBl+OBn+aWueWQkeODmeOCr+ODiOODq1xuICAgICAqL1xuXG4gICAgc3RhdGljIHJhZGlhblRvRGlyZWN0aW9uKHRvdGFsQW5nbGU6IG51bWJlcik6IEN1YmlzbVZlY3RvcjIge1xuICAgICAgY29uc3QgcmV0OiBDdWJpc21WZWN0b3IyID0gbmV3IEN1YmlzbVZlY3RvcjIoKTtcblxuICAgICAgcmV0LnggPSB0aGlzLnNpbih0b3RhbEFuZ2xlKTtcbiAgICAgIHJldC55ID0gdGhpcy5jb3ModG90YWxBbmdsZSk7XG5cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Kz44Oz44K544OI44Op44Kv44K/XG4gICAgICovXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHt9XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7O0FBT0E7QUFDQTtBQUVBO0FBQUE7QUFJQTtBQWtMQTtBQUFBO0FBektBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFTQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFNQTtBQUFBO0FBbkxBO0FBb0xBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/math/cubismmath.ts\n");

/***/ }),

/***/ "./Framework/src/math/cubismmatrix44.ts":
/*!**********************************************!*\
  !*** ./Framework/src/math/cubismmatrix44.ts ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var CubismMatrix44 = (function () {\n        function CubismMatrix44() {\n            this._tr = new Float32Array(16);\n            this.loadIdentity();\n        }\n        CubismMatrix44.multiply = function (a, b, dst) {\n            var c = new Float32Array([\n                0.0,\n                0.0,\n                0.0,\n                0.0,\n                0.0,\n                0.0,\n                0.0,\n                0.0,\n                0.0,\n                0.0,\n                0.0,\n                0.0,\n                0.0,\n                0.0,\n                0.0,\n                0.0\n            ]);\n            var n = 4;\n            for (var i = 0; i < n; ++i) {\n                for (var j = 0; j < n; ++j) {\n                    for (var k = 0; k < n; ++k) {\n                        c[j + i * 4] += a[k + i * 4] * b[j + k * 4];\n                    }\n                }\n            }\n            for (var i = 0; i < 16; ++i) {\n                dst[i] = c[i];\n            }\n        };\n        CubismMatrix44.prototype.loadIdentity = function () {\n            var c = new Float32Array([\n                1.0,\n                0.0,\n                0.0,\n                0.0,\n                0.0,\n                1.0,\n                0.0,\n                0.0,\n                0.0,\n                0.0,\n                1.0,\n                0.0,\n                0.0,\n                0.0,\n                0.0,\n                1.0\n            ]);\n            this.setMatrix(c);\n        };\n        CubismMatrix44.prototype.setMatrix = function (tr) {\n            for (var i = 0; i < 16; ++i) {\n                this._tr[i] = tr[i];\n            }\n        };\n        CubismMatrix44.prototype.getArray = function () {\n            return this._tr;\n        };\n        CubismMatrix44.prototype.getScaleX = function () {\n            return this._tr[0];\n        };\n        CubismMatrix44.prototype.getScaleY = function () {\n            return this._tr[5];\n        };\n        CubismMatrix44.prototype.getTranslateX = function () {\n            return this._tr[12];\n        };\n        CubismMatrix44.prototype.getTranslateY = function () {\n            return this._tr[13];\n        };\n        CubismMatrix44.prototype.transformX = function (src) {\n            return this._tr[0] * src + this._tr[12];\n        };\n        CubismMatrix44.prototype.transformY = function (src) {\n            return this._tr[5] * src + this._tr[13];\n        };\n        CubismMatrix44.prototype.invertTransformX = function (src) {\n            return (src - this._tr[12]) / this._tr[0];\n        };\n        CubismMatrix44.prototype.invertTransformY = function (src) {\n            return (src - this._tr[13]) / this._tr[5];\n        };\n        CubismMatrix44.prototype.translateRelative = function (x, y) {\n            var tr1 = new Float32Array([\n                1.0,\n                0.0,\n                0.0,\n                0.0,\n                0.0,\n                1.0,\n                0.0,\n                0.0,\n                0.0,\n                0.0,\n                1.0,\n                0.0,\n                x,\n                y,\n                0.0,\n                1.0\n            ]);\n            CubismMatrix44.multiply(tr1, this._tr, this._tr);\n        };\n        CubismMatrix44.prototype.translate = function (x, y) {\n            this._tr[12] = x;\n            this._tr[13] = y;\n        };\n        CubismMatrix44.prototype.translateX = function (x) {\n            this._tr[12] = x;\n        };\n        CubismMatrix44.prototype.translateY = function (y) {\n            this._tr[13] = y;\n        };\n        CubismMatrix44.prototype.scaleRelative = function (x, y) {\n            var tr1 = new Float32Array([\n                x,\n                0.0,\n                0.0,\n                0.0,\n                0.0,\n                y,\n                0.0,\n                0.0,\n                0.0,\n                0.0,\n                1.0,\n                0.0,\n                0.0,\n                0.0,\n                0.0,\n                1.0\n            ]);\n            CubismMatrix44.multiply(tr1, this._tr, this._tr);\n        };\n        CubismMatrix44.prototype.scale = function (x, y) {\n            this._tr[0] = x;\n            this._tr[5] = y;\n        };\n        CubismMatrix44.prototype.multiplyByMatrix = function (m) {\n            CubismMatrix44.multiply(m.getArray(), this._tr, this._tr);\n        };\n        CubismMatrix44.prototype.clone = function () {\n            var cloneMatrix = new CubismMatrix44();\n            for (var i = 0; i < this._tr.length; i++) {\n                cloneMatrix._tr[i] = this._tr[i];\n            }\n            return cloneMatrix;\n        };\n        return CubismMatrix44;\n    }());\n    Live2DCubismFramework.CubismMatrix44 = CubismMatrix44;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21hdGgvY3ViaXNtbWF0cml4NDQudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9GcmFtZXdvcmsvc3JjL21hdGgvY3ViaXNtbWF0cml4NDQudHM/YzZiNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodChjKSBMaXZlMkQgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IHRoZSBMaXZlMkQgT3BlbiBTb2Z0d2FyZSBsaWNlbnNlXG4gKiB0aGF0IGNhbiBiZSBmb3VuZCBhdCBodHRwczovL3d3dy5saXZlMmQuY29tL2V1bGEvbGl2ZTJkLW9wZW4tc29mdHdhcmUtbGljZW5zZS1hZ3JlZW1lbnRfZW4uaHRtbC5cbiAqL1xuXG5leHBvcnQgbmFtZXNwYWNlIExpdmUyREN1YmlzbUZyYW1ld29yayB7XG4gIC8qKlxuICAgKiA0eDTjga7ooYzliJdcbiAgICpcbiAgICogNHg06KGM5YiX44Gu5L6/5Yip44Kv44Op44K544CCXG4gICAqL1xuICBleHBvcnQgY2xhc3MgQ3ViaXNtTWF0cml4NDQge1xuICAgIC8qKlxuICAgICAqIOOCs+ODs+OCueODiOODqeOCr+OCv1xuICAgICAqL1xuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHRoaXMuX3RyID0gbmV3IEZsb2F0MzJBcnJheSgxNik7IC8vIDQgKiA044Gu44K144Kk44K6XG4gICAgICB0aGlzLmxvYWRJZGVudGl0eSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWPl+OBkeWPluOBo+OBn++8kuOBpOOBruihjOWIl+OBruS5l+eul+OCkuihjOOBhuOAglxuICAgICAqXG4gICAgICogQHBhcmFtIGEg6KGM5YiXYVxuICAgICAqIEBwYXJhbSBiIOihjOWIl2JcbiAgICAgKiBAcmV0dXJuIOS5l+eul+e1kOaenOOBruihjOWIl1xuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgbXVsdGlwbHkoXG4gICAgICBhOiBGbG9hdDMyQXJyYXksXG4gICAgICBiOiBGbG9hdDMyQXJyYXksXG4gICAgICBkc3Q6IEZsb2F0MzJBcnJheVxuICAgICk6IHZvaWQge1xuICAgICAgY29uc3QgYzogRmxvYXQzMkFycmF5ID0gbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgIDAuMCxcbiAgICAgICAgMC4wLFxuICAgICAgICAwLjAsXG4gICAgICAgIDAuMCxcbiAgICAgICAgMC4wLFxuICAgICAgICAwLjAsXG4gICAgICAgIDAuMCxcbiAgICAgICAgMC4wLFxuICAgICAgICAwLjAsXG4gICAgICAgIDAuMCxcbiAgICAgICAgMC4wLFxuICAgICAgICAwLjAsXG4gICAgICAgIDAuMCxcbiAgICAgICAgMC4wLFxuICAgICAgICAwLjAsXG4gICAgICAgIDAuMFxuICAgICAgXSk7XG5cbiAgICAgIGNvbnN0IG4gPSA0O1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG47ICsraikge1xuICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgbjsgKytrKSB7XG4gICAgICAgICAgICBjW2ogKyBpICogNF0gKz0gYVtrICsgaSAqIDRdICogYltqICsgayAqIDRdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICAgICAgZHN0W2ldID0gY1tpXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDljZjkvY3ooYzliJfjgavliJ3mnJ/ljJbjgZnjgotcbiAgICAgKi9cbiAgICBwdWJsaWMgbG9hZElkZW50aXR5KCk6IHZvaWQge1xuICAgICAgY29uc3QgYzogRmxvYXQzMkFycmF5ID0gbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgIDEuMCxcbiAgICAgICAgMC4wLFxuICAgICAgICAwLjAsXG4gICAgICAgIDAuMCxcbiAgICAgICAgMC4wLFxuICAgICAgICAxLjAsXG4gICAgICAgIDAuMCxcbiAgICAgICAgMC4wLFxuICAgICAgICAwLjAsXG4gICAgICAgIDAuMCxcbiAgICAgICAgMS4wLFxuICAgICAgICAwLjAsXG4gICAgICAgIDAuMCxcbiAgICAgICAgMC4wLFxuICAgICAgICAwLjAsXG4gICAgICAgIDEuMFxuICAgICAgXSk7XG5cbiAgICAgIHRoaXMuc2V0TWF0cml4KGMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOihjOWIl+OCkuioreWumlxuICAgICAqXG4gICAgICogQHBhcmFtIHRyIDE25YCL44Gu5rWu5YuV5bCP5pWw54K55pWw44Gn6KGo44GV44KM44KLNHg044Gu6KGM5YiXXG4gICAgICovXG4gICAgcHVibGljIHNldE1hdHJpeCh0cjogRmxvYXQzMkFycmF5KTogdm9pZCB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICAgICAgdGhpcy5fdHJbaV0gPSB0cltpXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDooYzliJfjgpLmta7li5XlsI/mlbDngrnmlbDjga7phY3liJfjgaflj5blvpdcbiAgICAgKlxuICAgICAqIEByZXR1cm4gMTblgIvjga7mta7li5XlsI/mlbDngrnmlbDjgafooajjgZXjgozjgos0eDTjga7ooYzliJdcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0QXJyYXkoKTogRmxvYXQzMkFycmF5IHtcbiAgICAgIHJldHVybiB0aGlzLl90cjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBY6Lu444Gu5ouh5aSn546H44KS5Y+W5b6XXG4gICAgICogQHJldHVybiBY6Lu444Gu5ouh5aSn546HXG4gICAgICovXG4gICAgcHVibGljIGdldFNjYWxlWCgpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHRoaXMuX3RyWzBdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFnou7jjga7mi6HlpKfnjofjgpLlj5blvpfjgZnjgotcbiAgICAgKlxuICAgICAqIEByZXR1cm4gWei7uOOBruaLoeWkp+eOh1xuICAgICAqL1xuICAgIHB1YmxpYyBnZXRTY2FsZVkoKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiB0aGlzLl90cls1XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBY6Lu444Gu56e75YuV6YeP44KS5Y+W5b6XXG4gICAgICogQHJldHVybiBY6Lu444Gu56e75YuV6YePXG4gICAgICovXG4gICAgcHVibGljIGdldFRyYW5zbGF0ZVgoKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiB0aGlzLl90clsxMl07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogWei7uOOBruenu+WLlemHj+OCkuWPluW+l1xuICAgICAqIEByZXR1cm4gWei7uOOBruenu+WLlemHj1xuICAgICAqL1xuICAgIHB1YmxpYyBnZXRUcmFuc2xhdGVZKCk6IG51bWJlciB7XG4gICAgICByZXR1cm4gdGhpcy5fdHJbMTNdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFjou7jjga7lgKTjgpLnj77lnKjjga7ooYzliJfjgafoqIjnrpdcbiAgICAgKlxuICAgICAqIEBwYXJhbSBzcmMgWOi7uOOBruWApFxuICAgICAqIEByZXR1cm4g54++5Zyo44Gu6KGM5YiX44Gn6KiI566X44GV44KM44GfWOi7uOOBruWApFxuICAgICAqL1xuICAgIHB1YmxpYyB0cmFuc2Zvcm1YKHNyYzogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiB0aGlzLl90clswXSAqIHNyYyArIHRoaXMuX3RyWzEyXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBZ6Lu444Gu5YCk44KS54++5Zyo44Gu6KGM5YiX44Gn6KiI566XXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3JjIFnou7jjga7lgKRcbiAgICAgKiBAcmV0dXJuIOePvuWcqOOBruihjOWIl+OBp+ioiOeul+OBleOCjOOBn1nou7jjga7lgKRcbiAgICAgKi9cbiAgICBwdWJsaWMgdHJhbnNmb3JtWShzcmM6IG51bWJlcik6IG51bWJlciB7XG4gICAgICByZXR1cm4gdGhpcy5fdHJbNV0gKiBzcmMgKyB0aGlzLl90clsxM107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogWOi7uOOBruWApOOCkuePvuWcqOOBruihjOWIl+OBp+mAhuioiOeul1xuICAgICAqL1xuICAgIHB1YmxpYyBpbnZlcnRUcmFuc2Zvcm1YKHNyYzogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiAoc3JjIC0gdGhpcy5fdHJbMTJdKSAvIHRoaXMuX3RyWzBdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFnou7jjga7lgKTjgpLnj77lnKjjga7ooYzliJfjgafpgIboqIjnrpdcbiAgICAgKi9cbiAgICBwdWJsaWMgaW52ZXJ0VHJhbnNmb3JtWShzcmM6IG51bWJlcik6IG51bWJlciB7XG4gICAgICByZXR1cm4gKHNyYyAtIHRoaXMuX3RyWzEzXSkgLyB0aGlzLl90cls1XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDnj77lnKjjga7ooYzliJfjga7kvY3nva7jgpLotbfngrnjgavjgZfjgabnp7vli5VcbiAgICAgKlxuICAgICAqIOePvuWcqOOBruihjOWIl+OBruS9jee9ruOCkui1t+eCueOBq+OBl+OBpuebuOWvvueahOOBq+enu+WLleOBmeOCi+OAglxuICAgICAqXG4gICAgICogQHBhcmFtIHggWOi7uOOBruenu+WLlemHj1xuICAgICAqIEBwYXJhbSB5IFnou7jjga7np7vli5Xph49cbiAgICAgKi9cbiAgICBwdWJsaWMgdHJhbnNsYXRlUmVsYXRpdmUoeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgIGNvbnN0IHRyMTogRmxvYXQzMkFycmF5ID0gbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgIDEuMCxcbiAgICAgICAgMC4wLFxuICAgICAgICAwLjAsXG4gICAgICAgIDAuMCxcbiAgICAgICAgMC4wLFxuICAgICAgICAxLjAsXG4gICAgICAgIDAuMCxcbiAgICAgICAgMC4wLFxuICAgICAgICAwLjAsXG4gICAgICAgIDAuMCxcbiAgICAgICAgMS4wLFxuICAgICAgICAwLjAsXG4gICAgICAgIHgsXG4gICAgICAgIHksXG4gICAgICAgIDAuMCxcbiAgICAgICAgMS4wXG4gICAgICBdKTtcblxuICAgICAgQ3ViaXNtTWF0cml4NDQubXVsdGlwbHkodHIxLCB0aGlzLl90ciwgdGhpcy5fdHIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOePvuWcqOOBruihjOWIl+OBruS9jee9ruOCkuenu+WLlVxuICAgICAqXG4gICAgICog54++5Zyo44Gu6KGM5YiX44Gu5L2N572u44KS5oyH5a6a44GX44Gf5L2N572u44G456e75YuV44GZ44KLXG4gICAgICpcbiAgICAgKiBAcGFyYW0geCBY6Lu444Gu56e75YuV6YePXG4gICAgICogQHBhcmFtIHkgeei7uOOBruenu+WLlemHj1xuICAgICAqL1xuICAgIHB1YmxpYyB0cmFuc2xhdGUoeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgIHRoaXMuX3RyWzEyXSA9IHg7XG4gICAgICB0aGlzLl90clsxM10gPSB5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOePvuWcqOOBruihjOWIl+OBrljou7jjga7kvY3nva7jgpLmjIflrprjgZfjgZ/kvY3nva7jgbjnp7vli5XjgZnjgotcbiAgICAgKlxuICAgICAqIEBwYXJhbSB4IFjou7jjga7np7vli5Xph49cbiAgICAgKi9cbiAgICBwdWJsaWMgdHJhbnNsYXRlWCh4OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgIHRoaXMuX3RyWzEyXSA9IHg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog54++5Zyo44Gu6KGM5YiX44GuWei7uOOBruS9jee9ruOCkuaMh+WumuOBl+OBn+S9jee9ruOBuOenu+WLleOBmeOCi1xuICAgICAqXG4gICAgICogQHBhcmFtIHkgWei7uOOBruenu+WLlemHj1xuICAgICAqL1xuICAgIHB1YmxpYyB0cmFuc2xhdGVZKHk6IG51bWJlcik6IHZvaWQge1xuICAgICAgdGhpcy5fdHJbMTNdID0geTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDnj77lnKjjga7ooYzliJfjga7mi6HlpKfnjofjgpLnm7jlr77nmoTjgavoqK3lrprjgZnjgotcbiAgICAgKlxuICAgICAqIEBwYXJhbSB4IFjou7jjga7mi6HlpKfnjodcbiAgICAgKiBAcGFyYW0geSBZ6Lu444Gu5ouh5aSn546HXG4gICAgICovXG4gICAgcHVibGljIHNjYWxlUmVsYXRpdmUoeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgIGNvbnN0IHRyMTogRmxvYXQzMkFycmF5ID0gbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgIHgsXG4gICAgICAgIDAuMCxcbiAgICAgICAgMC4wLFxuICAgICAgICAwLjAsXG4gICAgICAgIDAuMCxcbiAgICAgICAgeSxcbiAgICAgICAgMC4wLFxuICAgICAgICAwLjAsXG4gICAgICAgIDAuMCxcbiAgICAgICAgMC4wLFxuICAgICAgICAxLjAsXG4gICAgICAgIDAuMCxcbiAgICAgICAgMC4wLFxuICAgICAgICAwLjAsXG4gICAgICAgIDAuMCxcbiAgICAgICAgMS4wXG4gICAgICBdKTtcblxuICAgICAgQ3ViaXNtTWF0cml4NDQubXVsdGlwbHkodHIxLCB0aGlzLl90ciwgdGhpcy5fdHIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWwhuW9k+WJjeefqemYteeahOaUvuWkp+eOh+iuvue9ruS4uuaMh+WumueahOWAjeeOh1xuICAgICAqXG4gICAgICogQHBhcmFtIHggWOi7uOOBruaLoeWkp+eOh1xuICAgICAqIEBwYXJhbSB5IFnou7jjga7mi6HlpKfnjodcbiAgICAgKi9cbiAgICBwdWJsaWMgc2NhbGUoeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgIHRoaXMuX3RyWzBdID0geDtcbiAgICAgIHRoaXMuX3RyWzVdID0geTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDnj77lnKjjga7ooYzliJfjgavooYzliJfjgpLkuZfnrpdcbiAgICAgKlxuICAgICAqIEBwYXJhbSBtIOihjOWIl1xuICAgICAqL1xuICAgIHB1YmxpYyBtdWx0aXBseUJ5TWF0cml4KG06IEN1YmlzbU1hdHJpeDQ0KTogdm9pZCB7XG4gICAgICBDdWJpc21NYXRyaXg0NC5tdWx0aXBseShtLmdldEFycmF5KCksIHRoaXMuX3RyLCB0aGlzLl90cik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Kq44OW44K444Kn44Kv44OI44Gu44Kz44OU44O844KS55Sf5oiQ44GZ44KLXG4gICAgICovXG4gICAgcHVibGljIGNsb25lKCk6IEN1YmlzbU1hdHJpeDQ0IHtcbiAgICAgIGNvbnN0IGNsb25lTWF0cml4OiBDdWJpc21NYXRyaXg0NCA9IG5ldyBDdWJpc21NYXRyaXg0NCgpO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNsb25lTWF0cml4Ll90cltpXSA9IHRoaXMuX3RyW2ldO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2xvbmVNYXRyaXg7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIF90cjogRmxvYXQzMkFycmF5OyAvLyA0eDTooYzliJfjg4fjg7zjgr9cbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7QUFPQTtBQUFBO0FBTUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQUE7QUFyU0E7QUFzU0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Framework/src/math/cubismmatrix44.ts\n");

/***/ }),

/***/ "./Framework/src/math/cubismmodelmatrix.ts":
/*!*************************************************!*\
  !*** ./Framework/src/math/cubismmodelmatrix.ts ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar cubismmatrix44_1 = __webpack_require__(/*! ./cubismmatrix44 */ \"./Framework/src/math/cubismmatrix44.ts\");\nvar CubismMatrix44 = cubismmatrix44_1.Live2DCubismFramework.CubismMatrix44;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var CubismModelMatrix = (function (_super) {\n        __extends(CubismModelMatrix, _super);\n        function CubismModelMatrix(w, h) {\n            var _this = _super.call(this) || this;\n            _this._width = w !== undefined ? w : 0.0;\n            _this._height = h !== undefined ? h : 0.0;\n            _this.setHeight(1.0);\n            return _this;\n        }\n        CubismModelMatrix.prototype.setWidth = function (w) {\n            var scaleX = w / this._width;\n            var scaleY = scaleX;\n            this.scale(scaleX, scaleY);\n        };\n        CubismModelMatrix.prototype.setHeight = function (h) {\n            var scaleX = h / this._height;\n            var scaleY = scaleX;\n            this.scale(scaleX, scaleY);\n        };\n        CubismModelMatrix.prototype.setPosition = function (x, y) {\n            this.translate(x, y);\n        };\n        CubismModelMatrix.prototype.setCenterPosition = function (x, y) {\n            this.centerX(x);\n            this.centerY(y);\n        };\n        CubismModelMatrix.prototype.top = function (y) {\n            this.setY(y);\n        };\n        CubismModelMatrix.prototype.bottom = function (y) {\n            var h = this._height * this.getScaleY();\n            this.translateY(y - h);\n        };\n        CubismModelMatrix.prototype.left = function (x) {\n            this.setX(x);\n        };\n        CubismModelMatrix.prototype.right = function (x) {\n            var w = this._width * this.getScaleX();\n            this.translateX(x - w);\n        };\n        CubismModelMatrix.prototype.centerX = function (x) {\n            var w = this._width * this.getScaleX();\n            this.translateX(x - w / 2.0);\n        };\n        CubismModelMatrix.prototype.setX = function (x) {\n            this.translateX(x);\n        };\n        CubismModelMatrix.prototype.centerY = function (y) {\n            var h = this._height * this.getScaleY();\n            this.translateY(y - h / 2.0);\n        };\n        CubismModelMatrix.prototype.setY = function (y) {\n            this.translateY(y);\n        };\n        CubismModelMatrix.prototype.setupFromLayout = function (layout) {\n            var keyWidth = 'width';\n            var keyHeight = 'height';\n            var keyX = 'x';\n            var keyY = 'y';\n            var keyCenterX = 'center_x';\n            var keyCenterY = 'center_y';\n            var keyTop = 'top';\n            var keyBottom = 'bottom';\n            var keyLeft = 'left';\n            var keyRight = 'right';\n            for (var ite = layout.begin(); ite.notEqual(layout.end()); ite.preIncrement()) {\n                var key = ite.ptr().first;\n                var value = ite.ptr().second;\n                if (key == keyWidth) {\n                    this.setWidth(value);\n                }\n                else if (key == keyHeight) {\n                    this.setHeight(value);\n                }\n            }\n            for (var ite = layout.begin(); ite.notEqual(layout.end()); ite.preIncrement()) {\n                var key = ite.ptr().first;\n                var value = ite.ptr().second;\n                if (key == keyX) {\n                    this.setX(value);\n                }\n                else if (key == keyY) {\n                    this.setY(value);\n                }\n                else if (key == keyCenterX) {\n                    this.centerX(value);\n                }\n                else if (key == keyCenterY) {\n                    this.centerY(value);\n                }\n                else if (key == keyTop) {\n                    this.top(value);\n                }\n                else if (key == keyBottom) {\n                    this.bottom(value);\n                }\n                else if (key == keyLeft) {\n                    this.left(value);\n                }\n                else if (key == keyRight) {\n                    this.right(value);\n                }\n            }\n        };\n        return CubismModelMatrix;\n    }(CubismMatrix44));\n    Live2DCubismFramework.CubismModelMatrix = CubismModelMatrix;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21hdGgvY3ViaXNtbW9kZWxtYXRyaXgudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9GcmFtZXdvcmsvc3JjL21hdGgvY3ViaXNtbW9kZWxtYXRyaXgudHM/YzA0ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodChjKSBMaXZlMkQgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IHRoZSBMaXZlMkQgT3BlbiBTb2Z0d2FyZSBsaWNlbnNlXG4gKiB0aGF0IGNhbiBiZSBmb3VuZCBhdCBodHRwczovL3d3dy5saXZlMmQuY29tL2V1bGEvbGl2ZTJkLW9wZW4tc29mdHdhcmUtbGljZW5zZS1hZ3JlZW1lbnRfZW4uaHRtbC5cbiAqL1xuXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3NtbWFwIH0gZnJvbSAnLi4vdHlwZS9jc21tYXAnO1xuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbW1hdHJpeDQ0IH0gZnJvbSAnLi9jdWJpc21tYXRyaXg0NCc7XG5pbXBvcnQgY3NtTWFwID0gY3NtbWFwLmNzbU1hcDtcbmltcG9ydCBpdGVyYXRvciA9IGNzbW1hcC5pdGVyYXRvcjtcbmltcG9ydCBDdWJpc21NYXRyaXg0NCA9IGN1YmlzbW1hdHJpeDQ0LkN1YmlzbU1hdHJpeDQ0O1xuXG5leHBvcnQgbmFtZXNwYWNlIExpdmUyREN1YmlzbUZyYW1ld29yayB7XG4gIC8qKlxuICAgKiDjg6Ljg4fjg6vluqfmqJnoqK3lrprnlKjjga40eDTooYzliJdcbiAgICpcbiAgICog44Oi44OH44Or5bqn5qiZ6Kit5a6a55So44GuNHg06KGM5YiX44Kv44Op44K5XG4gICAqL1xuICBleHBvcnQgY2xhc3MgQ3ViaXNtTW9kZWxNYXRyaXggZXh0ZW5kcyBDdWJpc21NYXRyaXg0NCB7XG4gICAgLyoqXG4gICAgICog44Kz44Oz44K544OI44Op44Kv44K/XG4gICAgICpcbiAgICAgKiBAcGFyYW0gdyDmqKrluYVcbiAgICAgKiBAcGFyYW0gaCDnuKbluYVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih3PzogbnVtYmVyLCBoPzogbnVtYmVyKSB7XG4gICAgICBzdXBlcigpO1xuXG4gICAgICB0aGlzLl93aWR0aCA9IHcgIT09IHVuZGVmaW5lZCA/IHcgOiAwLjA7XG4gICAgICB0aGlzLl9oZWlnaHQgPSBoICE9PSB1bmRlZmluZWQgPyBoIDogMC4wO1xuXG4gICAgICB0aGlzLnNldEhlaWdodCgxLjApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOaoquW5heOCkuioreWumlxuICAgICAqXG4gICAgICogQHBhcmFtIHcg5qiq5bmFXG4gICAgICovXG4gICAgcHVibGljIHNldFdpZHRoKHc6IG51bWJlcik6IHZvaWQge1xuICAgICAgY29uc3Qgc2NhbGVYOiBudW1iZXIgPSB3IC8gdGhpcy5fd2lkdGg7XG4gICAgICBjb25zdCBzY2FsZVk6IG51bWJlciA9IHNjYWxlWDtcbiAgICAgIHRoaXMuc2NhbGUoc2NhbGVYLCBzY2FsZVkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOe4puW5heOCkuioreWumlxuICAgICAqIEBwYXJhbSBoIOe4puW5hVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXRIZWlnaHQoaDogbnVtYmVyKTogdm9pZCB7XG4gICAgICBjb25zdCBzY2FsZVg6IG51bWJlciA9IGggLyB0aGlzLl9oZWlnaHQ7XG4gICAgICBjb25zdCBzY2FsZVk6IG51bWJlciA9IHNjYWxlWDtcbiAgICAgIHRoaXMuc2NhbGUoc2NhbGVYLCBzY2FsZVkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOS9jee9ruOCkuioreWumlxuICAgICAqXG4gICAgICogQHBhcmFtIHggWOi7uOOBruS9jee9rlxuICAgICAqIEBwYXJhbSB5IFnou7jjga7kvY3nva5cbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0UG9zaXRpb24oeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgIHRoaXMudHJhbnNsYXRlKHgsIHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOS4reW/g+S9jee9ruOCkuioreWumlxuICAgICAqXG4gICAgICogQHBhcmFtIHggWOi7uOOBruS4reW/g+S9jee9rlxuICAgICAqIEBwYXJhbSB5IFnou7jjga7kuK3lv4PkvY3nva5cbiAgICAgKlxuICAgICAqIEBub3RlIHdpZHRo44GLaGVpZ2h044KS6Kit5a6a44GX44Gf44GC44Go44Gn44Gq44GE44Go44CB5ouh5aSn546H44GM5q2j44GX44GP5Y+W5b6X44Gn44GN44Gq44GE44Gf44KB44Ga44KM44KL44CCXG4gICAgICovXG4gICAgcHVibGljIHNldENlbnRlclBvc2l0aW9uKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgICB0aGlzLmNlbnRlclgoeCk7XG4gICAgICB0aGlzLmNlbnRlclkoeSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5LiK6L6644Gu5L2N572u44KS6Kit5a6a44GZ44KLXG4gICAgICpcbiAgICAgKiBAcGFyYW0geSDkuIrovrrjga5Z6Lu45L2N572uXG4gICAgICovXG4gICAgcHVibGljIHRvcCh5OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgIHRoaXMuc2V0WSh5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDkuIvovrrjga7kvY3nva7jgpLoqK3lrprjgZnjgotcbiAgICAgKlxuICAgICAqIEBwYXJhbSB5IOS4i+i+uuOBrlnou7jkvY3nva5cbiAgICAgKi9cbiAgICBwdWJsaWMgYm90dG9tKHk6IG51bWJlcikge1xuICAgICAgY29uc3QgaDogbnVtYmVyID0gdGhpcy5faGVpZ2h0ICogdGhpcy5nZXRTY2FsZVkoKTtcblxuICAgICAgdGhpcy50cmFuc2xhdGVZKHkgLSBoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlt6bovrrjga7kvY3nva7jgpLoqK3lrppcbiAgICAgKlxuICAgICAqIEBwYXJhbSB4IOW3pui+uuOBrljou7jkvY3nva5cbiAgICAgKi9cbiAgICBwdWJsaWMgbGVmdCh4OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgIHRoaXMuc2V0WCh4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlj7Povrrjga7kvY3nva7jgpLoqK3lrppcbiAgICAgKlxuICAgICAqIEBwYXJhbSB4IOWPs+i+uuOBrljou7jkvY3nva5cbiAgICAgKi9cbiAgICBwdWJsaWMgcmlnaHQoeDogbnVtYmVyKTogdm9pZCB7XG4gICAgICBjb25zdCB3ID0gdGhpcy5fd2lkdGggKiB0aGlzLmdldFNjYWxlWCgpO1xuXG4gICAgICB0aGlzLnRyYW5zbGF0ZVgoeCAtIHcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFjou7jjga7kuK3lv4PkvY3nva7jgpLoqK3lrppcbiAgICAgKlxuICAgICAqIEBwYXJhbSB4IFjou7jjga7kuK3lv4PkvY3nva5cbiAgICAgKi9cbiAgICBwdWJsaWMgY2VudGVyWCh4OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgIGNvbnN0IHcgPSB0aGlzLl93aWR0aCAqIHRoaXMuZ2V0U2NhbGVYKCk7XG5cbiAgICAgIHRoaXMudHJhbnNsYXRlWCh4IC0gdyAvIDIuMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogWOi7uOOBruS9jee9ruOCkuioreWumlxuICAgICAqXG4gICAgICogQHBhcmFtIHggWOi7uOOBruS9jee9rlxuICAgICAqL1xuICAgIHB1YmxpYyBzZXRYKHg6IG51bWJlcik6IHZvaWQge1xuICAgICAgdGhpcy50cmFuc2xhdGVYKHgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFnou7jjga7kuK3lv4PkvY3nva7jgpLoqK3lrppcbiAgICAgKlxuICAgICAqIEBwYXJhbSB5IFnou7jjga7kuK3lv4PkvY3nva5cbiAgICAgKi9cbiAgICBwdWJsaWMgY2VudGVyWSh5OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgIGNvbnN0IGg6IG51bWJlciA9IHRoaXMuX2hlaWdodCAqIHRoaXMuZ2V0U2NhbGVZKCk7XG5cbiAgICAgIHRoaXMudHJhbnNsYXRlWSh5IC0gaCAvIDIuMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogWei7uOOBruS9jee9ruOCkuioreWumuOBmeOCi1xuICAgICAqXG4gICAgICogQHBhcmFtIHkgWei7uOOBruS9jee9rlxuICAgICAqL1xuICAgIHB1YmxpYyBzZXRZKHk6IG51bWJlcik6IHZvaWQge1xuICAgICAgdGhpcy50cmFuc2xhdGVZKHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODrOOCpOOCouOCpuODiOaDheWgseOBi+OCieS9jee9ruOCkuioreWumlxuICAgICAqXG4gICAgICogQHBhcmFtIGxheW91dCDjg6zjgqTjgqLjgqbjg4jmg4XloLFcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0dXBGcm9tTGF5b3V0KGxheW91dDogY3NtTWFwPHN0cmluZywgbnVtYmVyPik6IHZvaWQge1xuICAgICAgY29uc3Qga2V5V2lkdGggPSAnd2lkdGgnO1xuICAgICAgY29uc3Qga2V5SGVpZ2h0ID0gJ2hlaWdodCc7XG4gICAgICBjb25zdCBrZXlYID0gJ3gnO1xuICAgICAgY29uc3Qga2V5WSA9ICd5JztcbiAgICAgIGNvbnN0IGtleUNlbnRlclggPSAnY2VudGVyX3gnO1xuICAgICAgY29uc3Qga2V5Q2VudGVyWSA9ICdjZW50ZXJfeSc7XG4gICAgICBjb25zdCBrZXlUb3AgPSAndG9wJztcbiAgICAgIGNvbnN0IGtleUJvdHRvbSA9ICdib3R0b20nO1xuICAgICAgY29uc3Qga2V5TGVmdCA9ICdsZWZ0JztcbiAgICAgIGNvbnN0IGtleVJpZ2h0ID0gJ3JpZ2h0JztcblxuICAgICAgZm9yIChcbiAgICAgICAgY29uc3QgaXRlOiBpdGVyYXRvcjxzdHJpbmcsIG51bWJlcj4gPSBsYXlvdXQuYmVnaW4oKTtcbiAgICAgICAgaXRlLm5vdEVxdWFsKGxheW91dC5lbmQoKSk7XG4gICAgICAgIGl0ZS5wcmVJbmNyZW1lbnQoKVxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IGtleTogc3RyaW5nID0gaXRlLnB0cigpLmZpcnN0O1xuICAgICAgICBjb25zdCB2YWx1ZTogbnVtYmVyID0gaXRlLnB0cigpLnNlY29uZDtcblxuICAgICAgICBpZiAoa2V5ID09IGtleVdpZHRoKSB7XG4gICAgICAgICAgdGhpcy5zZXRXaWR0aCh2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09IGtleUhlaWdodCkge1xuICAgICAgICAgIHRoaXMuc2V0SGVpZ2h0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKFxuICAgICAgICBjb25zdCBpdGU6IGl0ZXJhdG9yPHN0cmluZywgbnVtYmVyPiA9IGxheW91dC5iZWdpbigpO1xuICAgICAgICBpdGUubm90RXF1YWwobGF5b3V0LmVuZCgpKTtcbiAgICAgICAgaXRlLnByZUluY3JlbWVudCgpXG4gICAgICApIHtcbiAgICAgICAgY29uc3Qga2V5OiBzdHJpbmcgPSBpdGUucHRyKCkuZmlyc3Q7XG4gICAgICAgIGNvbnN0IHZhbHVlOiBudW1iZXIgPSBpdGUucHRyKCkuc2Vjb25kO1xuXG4gICAgICAgIGlmIChrZXkgPT0ga2V5WCkge1xuICAgICAgICAgIHRoaXMuc2V0WCh2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09IGtleVkpIHtcbiAgICAgICAgICB0aGlzLnNldFkodmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PSBrZXlDZW50ZXJYKSB7XG4gICAgICAgICAgdGhpcy5jZW50ZXJYKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT0ga2V5Q2VudGVyWSkge1xuICAgICAgICAgIHRoaXMuY2VudGVyWSh2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09IGtleVRvcCkge1xuICAgICAgICAgIHRoaXMudG9wKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT0ga2V5Qm90dG9tKSB7XG4gICAgICAgICAgdGhpcy5ib3R0b20odmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PSBrZXlMZWZ0KSB7XG4gICAgICAgICAgdGhpcy5sZWZ0KHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT0ga2V5UmlnaHQpIHtcbiAgICAgICAgICB0aGlzLnJpZ2h0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgX3dpZHRoOiBudW1iZXI7IC8vIOaoquW5hVxuICAgIHByaXZhdGUgX2hlaWdodDogbnVtYmVyOyAvLyDnuKbluYVcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBUUE7QUFHQTtBQUVBO0FBQUE7QUFNQTtBQUFBO0FBT0E7QUFBQTtBQUdBO0FBQ0E7QUFFQTs7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBRUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFFQTtBQUNBO0FBT0E7QUFDQTtBQUVBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBRUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUFBO0FBMU1BO0FBMk1BOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/math/cubismmodelmatrix.ts\n");

/***/ }),

/***/ "./Framework/src/math/cubismtargetpoint.ts":
/*!*************************************************!*\
  !*** ./Framework/src/math/cubismtargetpoint.ts ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar cubismmath_1 = __webpack_require__(/*! ./cubismmath */ \"./Framework/src/math/cubismmath.ts\");\nvar CubismMath = cubismmath_1.Live2DCubismFramework.CubismMath;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var FrameRate = 30;\n    var Epsilon = 0.01;\n    var CubismTargetPoint = (function () {\n        function CubismTargetPoint() {\n            this._faceTargetX = 0.0;\n            this._faceTargetY = 0.0;\n            this._faceX = 0.0;\n            this._faceY = 0.0;\n            this._faceVX = 0.0;\n            this._faceVY = 0.0;\n            this._lastTimeSeconds = 0.0;\n            this._userTimeSeconds = 0.0;\n        }\n        CubismTargetPoint.prototype.update = function (deltaTimeSeconds) {\n            this._userTimeSeconds += deltaTimeSeconds;\n            var faceParamMaxV = 40.0 / 10.0;\n            var maxV = (faceParamMaxV * 1.0) / FrameRate;\n            if (this._lastTimeSeconds == 0.0) {\n                this._lastTimeSeconds = this._userTimeSeconds;\n                return;\n            }\n            var deltaTimeWeight = (this._userTimeSeconds - this._lastTimeSeconds) * FrameRate;\n            this._lastTimeSeconds = this._userTimeSeconds;\n            var timeToMaxSpeed = 0.15;\n            var frameToMaxSpeed = timeToMaxSpeed * FrameRate;\n            var maxA = (deltaTimeWeight * maxV) / frameToMaxSpeed;\n            var dx = this._faceTargetX - this._faceX;\n            var dy = this._faceTargetY - this._faceY;\n            if (CubismMath.abs(dx) <= Epsilon && CubismMath.abs(dy) <= Epsilon) {\n                return;\n            }\n            var d = CubismMath.sqrt(dx * dx + dy * dy);\n            var vx = (maxV * dx) / d;\n            var vy = (maxV * dy) / d;\n            var ax = vx - this._faceVX;\n            var ay = vy - this._faceVY;\n            var a = CubismMath.sqrt(ax * ax + ay * ay);\n            if (a < -maxA || a > maxA) {\n                ax *= maxA / a;\n                ay *= maxA / a;\n            }\n            this._faceVX += ax;\n            this._faceVY += ay;\n            {\n                var maxV_1 = 0.5 *\n                    (CubismMath.sqrt(maxA * maxA + 16.0 * maxA * d - 8.0 * maxA * d) -\n                        maxA);\n                var curV = CubismMath.sqrt(this._faceVX * this._faceVX + this._faceVY * this._faceVY);\n                if (curV > maxV_1) {\n                    this._faceVX *= maxV_1 / curV;\n                    this._faceVY *= maxV_1 / curV;\n                }\n            }\n            this._faceX += this._faceVX;\n            this._faceY += this._faceVY;\n        };\n        CubismTargetPoint.prototype.getX = function () {\n            return this._faceX;\n        };\n        CubismTargetPoint.prototype.getY = function () {\n            return this._faceY;\n        };\n        CubismTargetPoint.prototype.set = function (x, y) {\n            this._faceTargetX = x;\n            this._faceTargetY = y;\n        };\n        return CubismTargetPoint;\n    }());\n    Live2DCubismFramework.CubismTargetPoint = CubismTargetPoint;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21hdGgvY3ViaXNtdGFyZ2V0cG9pbnQudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9GcmFtZXdvcmsvc3JjL21hdGgvY3ViaXNtdGFyZ2V0cG9pbnQudHM/NzBiNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodChjKSBMaXZlMkQgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IHRoZSBMaXZlMkQgT3BlbiBTb2Z0d2FyZSBsaWNlbnNlXG4gKiB0aGF0IGNhbiBiZSBmb3VuZCBhdCBodHRwczovL3d3dy5saXZlMmQuY29tL2V1bGEvbGl2ZTJkLW9wZW4tc29mdHdhcmUtbGljZW5zZS1hZ3JlZW1lbnRfZW4uaHRtbC5cbiAqL1xuXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtbWF0aCB9IGZyb20gJy4vY3ViaXNtbWF0aCc7XG5pbXBvcnQgQ3ViaXNtTWF0aCA9IGN1YmlzbW1hdGguQ3ViaXNtTWF0aDtcblxuZXhwb3J0IG5hbWVzcGFjZSBMaXZlMkRDdWJpc21GcmFtZXdvcmsge1xuICBjb25zdCBGcmFtZVJhdGUgPSAzMDtcbiAgY29uc3QgRXBzaWxvbiA9IDAuMDE7XG5cbiAgLyoqXG4gICAqIOmhlOOBruWQkeOBjeOBruWItuW+oeapn+iDvVxuICAgKlxuICAgKiDpoZTjga7lkJHjgY3jga7liLblvqHmqZ/og73jgpLmj5DkvpvjgZnjgovjgq/jg6njgrnjgIJcbiAgICovXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21UYXJnZXRQb2ludCB7XG4gICAgLyoqXG4gICAgICog44Kz44Oz44K544OI44Op44Kv44K/XG4gICAgICovXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgICAgdGhpcy5fZmFjZVRhcmdldFggPSAwLjA7XG4gICAgICB0aGlzLl9mYWNlVGFyZ2V0WSA9IDAuMDtcbiAgICAgIHRoaXMuX2ZhY2VYID0gMC4wO1xuICAgICAgdGhpcy5fZmFjZVkgPSAwLjA7XG4gICAgICB0aGlzLl9mYWNlVlggPSAwLjA7XG4gICAgICB0aGlzLl9mYWNlVlkgPSAwLjA7XG4gICAgICB0aGlzLl9sYXN0VGltZVNlY29uZHMgPSAwLjA7XG4gICAgICB0aGlzLl91c2VyVGltZVNlY29uZHMgPSAwLjA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5pu05paw5Yem55CGXG4gICAgICovXG4gICAgcHVibGljIHVwZGF0ZShkZWx0YVRpbWVTZWNvbmRzOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgIC8vIOODh+ODq+OCv+aZgumWk+OCkuWKoOeul+OBmeOCi1xuICAgICAgdGhpcy5fdXNlclRpbWVTZWNvbmRzICs9IGRlbHRhVGltZVNlY29uZHM7XG5cbiAgICAgIC8vIOmmluOCkuS4reWkruOBi+OCieW3puWPs+OBq+aMr+OCi+OBqOOBjeOBruW5s+Wdh+eahOOBqumAn+OBleOBryDnp5LpgJ/luqbjgILliqDpgJ/jg7vmuJvpgJ/jgpLogIPmha7jgZfjgabjgIHjgZ3jga7vvJLlgI3jgpLmnIDpq5jpgJ/luqbjgajjgZnjgotcbiAgICAgIC8vIOmhlOOBruaMr+OCiuWFt+WQiOOCkuOAgeS4reWkru+8iDAuMO+8ieOBi+OCieOAgeW3puWPs+OBr++8iCstMS4w77yJ44Go44GZ44KLXG4gICAgICBjb25zdCBmYWNlUGFyYW1NYXhWOiBudW1iZXIgPSA0MC4wIC8gMTAuMDsgLy8gNy4156eS6ZaT44GrNDDliIbnp7vli5UoNS4zL3NjKVxuICAgICAgY29uc3QgbWF4VjogbnVtYmVyID0gKGZhY2VQYXJhbU1heFYgKiAxLjApIC8gRnJhbWVSYXRlOyAvLyAxZnJhbWXjgYLjgZ/jgorjgavlpInljJbjgafjgY3jgovpgJ/luqbjga7kuIrpmZBcblxuICAgICAgaWYgKHRoaXMuX2xhc3RUaW1lU2Vjb25kcyA9PSAwLjApIHtcbiAgICAgICAgdGhpcy5fbGFzdFRpbWVTZWNvbmRzID0gdGhpcy5fdXNlclRpbWVTZWNvbmRzO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRlbHRhVGltZVdlaWdodDogbnVtYmVyID1cbiAgICAgICAgKHRoaXMuX3VzZXJUaW1lU2Vjb25kcyAtIHRoaXMuX2xhc3RUaW1lU2Vjb25kcykgKiBGcmFtZVJhdGU7XG4gICAgICB0aGlzLl9sYXN0VGltZVNlY29uZHMgPSB0aGlzLl91c2VyVGltZVNlY29uZHM7XG5cbiAgICAgIC8vIOacgOmrmOmAn+W6puOBq+OBquOCi+OBvuOBp+OBruaZgumWk+OCklxuICAgICAgY29uc3QgdGltZVRvTWF4U3BlZWQgPSAwLjE1O1xuICAgICAgY29uc3QgZnJhbWVUb01heFNwZWVkOiBudW1iZXIgPSB0aW1lVG9NYXhTcGVlZCAqIEZyYW1lUmF0ZTsgLy8gc2VjICogZnJhbWUvc2VjXG4gICAgICBjb25zdCBtYXhBOiBudW1iZXIgPSAoZGVsdGFUaW1lV2VpZ2h0ICogbWF4VikgLyBmcmFtZVRvTWF4U3BlZWQ7IC8vIDFmcmFtZeOBguOBn+OCiuOBruWKoOmAn+W6plxuXG4gICAgICAvLyDnm67mjIfjgZnlkJHjgY3jga/jgIHvvIhkeCwgZHnvvInmlrnlkJHjga7jg5njgq/jg4jjg6vjgajjgarjgotcbiAgICAgIGNvbnN0IGR4OiBudW1iZXIgPSB0aGlzLl9mYWNlVGFyZ2V0WCAtIHRoaXMuX2ZhY2VYO1xuICAgICAgY29uc3QgZHk6IG51bWJlciA9IHRoaXMuX2ZhY2VUYXJnZXRZIC0gdGhpcy5fZmFjZVk7XG5cbiAgICAgIGlmIChDdWJpc21NYXRoLmFicyhkeCkgPD0gRXBzaWxvbiAmJiBDdWJpc21NYXRoLmFicyhkeSkgPD0gRXBzaWxvbikge1xuICAgICAgICByZXR1cm47IC8vIOWkieWMluOBquOBl1xuICAgICAgfVxuXG4gICAgICAvLyDpgJ/luqbjga7mnIDlpKfjgojjgorjgoLlpKfjgY3jgYTloLTlkIjjga/jgIHpgJ/luqbjgpLokL3jgajjgZlcbiAgICAgIGNvbnN0IGQ6IG51bWJlciA9IEN1YmlzbU1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG5cbiAgICAgIC8vIOmAsuihjOaWueWQkeOBruacgOWkp+mAn+W6puODmeOCr+ODiOODq1xuICAgICAgY29uc3Qgdng6IG51bWJlciA9IChtYXhWICogZHgpIC8gZDtcbiAgICAgIGNvbnN0IHZ5OiBudW1iZXIgPSAobWF4ViAqIGR5KSAvIGQ7XG5cbiAgICAgIC8vIOePvuWcqOOBrumAn+W6puOBi+OCieOAgeaWsOimj+mAn+W6puOBuOOBruWkieWMlu+8iOWKoOmAn+W6pu+8ieOCkuaxguOCgeOCi1xuICAgICAgbGV0IGF4OiBudW1iZXIgPSB2eCAtIHRoaXMuX2ZhY2VWWDtcbiAgICAgIGxldCBheTogbnVtYmVyID0gdnkgLSB0aGlzLl9mYWNlVlk7XG5cbiAgICAgIGNvbnN0IGE6IG51bWJlciA9IEN1YmlzbU1hdGguc3FydChheCAqIGF4ICsgYXkgKiBheSk7XG5cbiAgICAgIC8vIOWKoOmAn+OBruOBqOOBjVxuICAgICAgaWYgKGEgPCAtbWF4QSB8fCBhID4gbWF4QSkge1xuICAgICAgICBheCAqPSBtYXhBIC8gYTtcbiAgICAgICAgYXkgKj0gbWF4QSAvIGE7XG4gICAgICB9XG5cbiAgICAgIC8vIOWKoOmAn+W6puOCkuWFg+OBrumAn+W6puOBq+i2s+OBl+OBpuOAgeaWsOmAn+W6puOBqOOBmeOCi1xuICAgICAgdGhpcy5fZmFjZVZYICs9IGF4O1xuICAgICAgdGhpcy5fZmFjZVZZICs9IGF5O1xuXG4gICAgICAvLyDnm67nmoTjga7mlrnlkJHjgavov5HjgaXjgYTjgZ/jgajjgY3jgIHmu5HjgonjgYvjgavmuJvpgJ/jgZnjgovjgZ/jgoHjga7lh6bnkIZcbiAgICAgIC8vIOioreWumuOBleOCjOOBn+WKoOmAn+W6puOBp+atouOBvuOCi+S6i+OBruWHuuadpeOCi+i3nembouOBqOmAn+W6puOBrumWouS/guOBi+OCiVxuICAgICAgLy8g54++5Zyo44Go44KK44GG44KL5pyA6auY6YCf5bqm44KS6KiI566X44GX44CB44Gd44KM5Lul5LiK44Gu5pmC44Gv6YCf5bqm44KS6JC944Go44GZXG4gICAgICAvLyDigLvmnKzmnaXjgIHkurrplpPjga/nrYvlipvjgaflipvvvIjliqDpgJ/luqbvvInjgpLoqr/mlbTjgafjgY3jgovjgZ/jgoHjgIHjgojjgoroh6rnlLHluqbjgYzpq5jjgYTjgYzjgIHnsKHljZjjgarlh6bnkIbjgafmuIjjgb7jgZvjgabjgYTjgotcbiAgICAgIHtcbiAgICAgICAgLy8g5Yqg6YCf5bqm44CB6YCf5bqm44CB6Led6Zui44Gu6Zai5L+C5byP44CCXG4gICAgICAgIC8vICAgICAgICAgICAgMiAgNiAgICAgICAgICAgMiAgICAgICAgICAgICAgIDNcbiAgICAgICAgLy8gICAgICBzcXJ0KGEgIHQgICsgMTYgYSBoIHQgIC0gOCBhIGgpIC0gYSB0XG4gICAgICAgIC8vIHYgPSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgMlxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgNCB0ICAtIDJcbiAgICAgICAgLy8gKHQ9MSlcbiAgICAgICAgLy8gXHTmmYLliLt044Gv44CB44GC44KJ44GL44GY44KB5Yqg6YCf5bqm44CB6YCf5bqm44KSMS82MCjjg5Xjg6zjg7zjg6Djg6zjg7zjg4jjgIHljZjkvY3jgarjgZcp44GnXG4gICAgICAgIC8vIFx06ICD44GI44Gm44GE44KL44Gu44Gn44CBdO+8ne+8keOBqOOBl+OBpua2iOOBl+OBpuOCiOOBhO+8iOKAu+acquaknOiovO+8iVxuXG4gICAgICAgIGNvbnN0IG1heFY6IG51bWJlciA9XG4gICAgICAgICAgMC41ICpcbiAgICAgICAgICAoQ3ViaXNtTWF0aC5zcXJ0KG1heEEgKiBtYXhBICsgMTYuMCAqIG1heEEgKiBkIC0gOC4wICogbWF4QSAqIGQpIC1cbiAgICAgICAgICAgIG1heEEpO1xuICAgICAgICBjb25zdCBjdXJWOiBudW1iZXIgPSBDdWJpc21NYXRoLnNxcnQoXG4gICAgICAgICAgdGhpcy5fZmFjZVZYICogdGhpcy5fZmFjZVZYICsgdGhpcy5fZmFjZVZZICogdGhpcy5fZmFjZVZZXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKGN1clYgPiBtYXhWKSB7XG4gICAgICAgICAgLy8g54++5Zyo44Gu6YCf5bqmID4g5pyA6auY6YCf5bqm44Gu44Go44GN44CB5pyA6auY6YCf5bqm44G+44Gn5rib6YCfXG4gICAgICAgICAgdGhpcy5fZmFjZVZYICo9IG1heFYgLyBjdXJWO1xuICAgICAgICAgIHRoaXMuX2ZhY2VWWSAqPSBtYXhWIC8gY3VyVjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLl9mYWNlWCArPSB0aGlzLl9mYWNlVlg7XG4gICAgICB0aGlzLl9mYWNlWSArPSB0aGlzLl9mYWNlVlk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogWOi7uOOBrumhlOOBruWQkeOBjeOBruWApOOCkuWPluW+l1xuICAgICAqXG4gICAgICogQHJldHVybiBY6Lu444Gu6aGU44Gu5ZCR44GN44Gu5YCk77yILTEuMCB+IDEuMO+8iVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRYKCk6IG51bWJlciB7XG4gICAgICByZXR1cm4gdGhpcy5fZmFjZVg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogWei7uOOBrumhlOOBruWQkeOBjeOBruWApOOCkuWPluW+l1xuICAgICAqXG4gICAgICogQHJldHVybiBZ6Lu444Gu6aGU44Gu5ZCR44GN44Gu5YCk77yILTEuMCB+IDEuMO+8iVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRZKCk6IG51bWJlciB7XG4gICAgICByZXR1cm4gdGhpcy5fZmFjZVk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6aGU44Gu5ZCR44GN44Gu55uu5qiZ5YCk44KS6Kit5a6aXG4gICAgICpcbiAgICAgKiBAcGFyYW0geCBY6Lu444Gu6aGU44Gu5ZCR44GN44Gu5YCk77yILTEuMCB+IDEuMO+8iVxuICAgICAqIEBwYXJhbSB5IFnou7jjga7poZTjga7lkJHjgY3jga7lgKTvvIgtMS4wIH4gMS4w77yJXG4gICAgICovXG4gICAgcHVibGljIHNldCh4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQge1xuICAgICAgdGhpcy5fZmFjZVRhcmdldFggPSB4O1xuICAgICAgdGhpcy5fZmFjZVRhcmdldFkgPSB5O1xuICAgIH1cblxuICAgIHByaXZhdGUgX2ZhY2VUYXJnZXRYOiBudW1iZXI7IC8vIOmhlOOBruWQkeOBjeOBrljnm67mqJnlgKTvvIjjgZPjga7lgKTjgavov5HjgaXjgYTjgabjgYTjgY/vvIlcbiAgICBwcml2YXRlIF9mYWNlVGFyZ2V0WTogbnVtYmVyOyAvLyDpoZTjga7lkJHjgY3jga5Z55uu5qiZ5YCk77yI44GT44Gu5YCk44Gr6L+R44Gl44GE44Gm44GE44GP77yJXG4gICAgcHJpdmF0ZSBfZmFjZVg6IG51bWJlcjsgLy8g6aGU44Gu5ZCR44GNWO+8iC0xLjAgfiAxLjDvvIlcbiAgICBwcml2YXRlIF9mYWNlWTogbnVtYmVyOyAvLyDpoZTjga7lkJHjgY1Z77yILTEuMCB+IDEuMO+8iVxuICAgIHByaXZhdGUgX2ZhY2VWWDogbnVtYmVyOyAvLyDpoZTjga7lkJHjgY3jga7lpInljJbpgJ/luqZYXG4gICAgcHJpdmF0ZSBfZmFjZVZZOiBudW1iZXI7IC8vIOmhlOOBruWQkeOBjeOBruWkieWMlumAn+W6pllcbiAgICBwcml2YXRlIF9sYXN0VGltZVNlY29uZHM6IG51bWJlcjsgLy8g5pyA5b6M44Gu5a6f6KGM5pmC6ZaTW+enkl1cbiAgICBwcml2YXRlIF91c2VyVGltZVNlY29uZHM6IG51bWJlcjsgLy8g44OH44Or44K/5pmC6ZaT44Gu56mN566X5YCkW+enkl1cbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7QUFPQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFPQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFFQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBTUE7QUFXQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQVVBO0FBQUE7QUEvSUE7QUFnSkE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Framework/src/math/cubismtargetpoint.ts\n");

/***/ }),

/***/ "./Framework/src/math/cubismvector2.ts":
/*!*********************************************!*\
  !*** ./Framework/src/math/cubismvector2.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var CubismVector2 = (function () {\n        function CubismVector2(x, y) {\n            this.x = x;\n            this.y = y;\n            this.x = x == undefined ? 0.0 : x;\n            this.y = y == undefined ? 0.0 : y;\n        }\n        CubismVector2.prototype.add = function (vector2) {\n            var ret = new CubismVector2(0.0, 0.0);\n            ret.x = this.x + vector2.x;\n            ret.y = this.y + vector2.y;\n            return ret;\n        };\n        CubismVector2.prototype.substract = function (vector2) {\n            var ret = new CubismVector2(0.0, 0.0);\n            ret.x = this.x - vector2.x;\n            ret.y = this.y - vector2.y;\n            return ret;\n        };\n        CubismVector2.prototype.multiply = function (vector2) {\n            var ret = new CubismVector2(0.0, 0.0);\n            ret.x = this.x * vector2.x;\n            ret.y = this.y * vector2.y;\n            return ret;\n        };\n        CubismVector2.prototype.multiplyByScaler = function (scalar) {\n            return this.multiply(new CubismVector2(scalar, scalar));\n        };\n        CubismVector2.prototype.division = function (vector2) {\n            var ret = new CubismVector2(0.0, 0.0);\n            ret.x = this.x / vector2.x;\n            ret.y = this.y / vector2.y;\n            return ret;\n        };\n        CubismVector2.prototype.divisionByScalar = function (scalar) {\n            return this.division(new CubismVector2(scalar, scalar));\n        };\n        CubismVector2.prototype.getLength = function () {\n            return Math.sqrt(this.x * this.x + this.y * this.y);\n        };\n        CubismVector2.prototype.getDistanceWith = function (a) {\n            return Math.sqrt((this.x - a.x) * (this.x - a.x) + (this.y - a.y) * (this.y - a.y));\n        };\n        CubismVector2.prototype.dot = function (a) {\n            return this.x * a.x + this.y * a.y;\n        };\n        CubismVector2.prototype.normalize = function () {\n            var length = Math.pow(this.x * this.x + this.y * this.y, 0.5);\n            this.x = this.x / length;\n            this.y = this.y / length;\n        };\n        CubismVector2.prototype.isEqual = function (rhs) {\n            return this.x == rhs.x && this.y == rhs.y;\n        };\n        CubismVector2.prototype.isNotEqual = function (rhs) {\n            return !this.isEqual(rhs);\n        };\n        return CubismVector2;\n    }());\n    Live2DCubismFramework.CubismVector2 = CubismVector2;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21hdGgvY3ViaXNtdmVjdG9yMi50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL0ZyYW1ld29yay9zcmMvbWF0aC9jdWJpc212ZWN0b3IyLnRzP2RiMDgiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTGl2ZTJEIE9wZW4gU29mdHdhcmUgbGljZW5zZVxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXG4gKi9cblxuZXhwb3J0IG5hbWVzcGFjZSBMaXZlMkRDdWJpc21GcmFtZXdvcmsge1xuICAvKipcbiAgICogMuasoeWFg+ODmeOCr+ODiOODq+Wei1xuICAgKlxuICAgKiAy5qyh5YWD44OZ44Kv44OI44Or5Z6L44Gu5qmf6IO944KS5o+Q5L6b44GZ44KL44CCXG4gICAqL1xuICBleHBvcnQgY2xhc3MgQ3ViaXNtVmVjdG9yMiB7XG4gICAgLyoqXG4gICAgICog44Kz44Oz44K544OI44Op44Kv44K/XG4gICAgICovXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHB1YmxpYyB4PzogbnVtYmVyLCBwdWJsaWMgeT86IG51bWJlcikge1xuICAgICAgdGhpcy54ID0geCA9PSB1bmRlZmluZWQgPyAwLjAgOiB4O1xuXG4gICAgICB0aGlzLnkgPSB5ID09IHVuZGVmaW5lZCA/IDAuMCA6IHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44OZ44Kv44OI44Or44Gu5Yqg566XXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmVjdG9yMiDliqDnrpfjgZnjgovjg5njgq/jg4jjg6vlgKRcbiAgICAgKiBAcmV0dXJuIOWKoOeul+e1kOaenCDjg5njgq/jg4jjg6vlgKRcbiAgICAgKi9cbiAgICBwdWJsaWMgYWRkKHZlY3RvcjI6IEN1YmlzbVZlY3RvcjIpOiBDdWJpc21WZWN0b3IyIHtcbiAgICAgIGNvbnN0IHJldDogQ3ViaXNtVmVjdG9yMiA9IG5ldyBDdWJpc21WZWN0b3IyKDAuMCwgMC4wKTtcbiAgICAgIHJldC54ID0gdGhpcy54ICsgdmVjdG9yMi54O1xuICAgICAgcmV0LnkgPSB0aGlzLnkgKyB2ZWN0b3IyLnk7XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODmeOCr+ODiOODq+OBrua4m+eul1xuICAgICAqXG4gICAgICogQHBhcmFtIHZlY3RvcjIg5rib566X44GZ44KL44OZ44Kv44OI44Or5YCkXG4gICAgICogQHJldHVybiDmuJvnrpfntZDmnpwg44OZ44Kv44OI44Or5YCkXG4gICAgICovXG4gICAgcHVibGljIHN1YnN0cmFjdCh2ZWN0b3IyOiBDdWJpc21WZWN0b3IyKTogQ3ViaXNtVmVjdG9yMiB7XG4gICAgICBjb25zdCByZXQ6IEN1YmlzbVZlY3RvcjIgPSBuZXcgQ3ViaXNtVmVjdG9yMigwLjAsIDAuMCk7XG4gICAgICByZXQueCA9IHRoaXMueCAtIHZlY3RvcjIueDtcbiAgICAgIHJldC55ID0gdGhpcy55IC0gdmVjdG9yMi55O1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg5njgq/jg4jjg6vjga7kuZfnrpdcbiAgICAgKlxuICAgICAqIEBwYXJhbSB2ZWN0b3IyIOS5l+eul+OBmeOCi+ODmeOCr+ODiOODq+WApFxuICAgICAqIEByZXR1cm4g5LmX566X57WQ5p6cIOODmeOCr+ODiOODq+WApFxuICAgICAqL1xuICAgIHB1YmxpYyBtdWx0aXBseSh2ZWN0b3IyOiBDdWJpc21WZWN0b3IyKTogQ3ViaXNtVmVjdG9yMiB7XG4gICAgICBjb25zdCByZXQ6IEN1YmlzbVZlY3RvcjIgPSBuZXcgQ3ViaXNtVmVjdG9yMigwLjAsIDAuMCk7XG4gICAgICByZXQueCA9IHRoaXMueCAqIHZlY3RvcjIueDtcbiAgICAgIHJldC55ID0gdGhpcy55ICogdmVjdG9yMi55O1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg5njgq/jg4jjg6vjga7kuZfnrpco44K544Kr44Op44O8KVxuICAgICAqXG4gICAgICogQHBhcmFtIHNjYWxhciDkuZfnrpfjgZnjgovjgrnjgqvjg6njg7zlgKRcbiAgICAgKiBAcmV0dXJuIOS5l+eul+e1kOaenCDjg5njgq/jg4jjg6vlgKRcbiAgICAgKi9cbiAgICBwdWJsaWMgbXVsdGlwbHlCeVNjYWxlcihzY2FsYXI6IG51bWJlcik6IEN1YmlzbVZlY3RvcjIge1xuICAgICAgcmV0dXJuIHRoaXMubXVsdGlwbHkobmV3IEN1YmlzbVZlY3RvcjIoc2NhbGFyLCBzY2FsYXIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg5njgq/jg4jjg6vjga7pmaTnrpdcbiAgICAgKlxuICAgICAqIEBwYXJhbSB2ZWN0b3IyIOmZpOeul+OBmeOCi+ODmeOCr+ODiOODq+WApFxuICAgICAqIEByZXR1cm4g6Zmk566X57WQ5p6cIOODmeOCr+ODiOODq+WApFxuICAgICAqL1xuICAgIHB1YmxpYyBkaXZpc2lvbih2ZWN0b3IyOiBDdWJpc21WZWN0b3IyKTogQ3ViaXNtVmVjdG9yMiB7XG4gICAgICBjb25zdCByZXQ6IEN1YmlzbVZlY3RvcjIgPSBuZXcgQ3ViaXNtVmVjdG9yMigwLjAsIDAuMCk7XG4gICAgICByZXQueCA9IHRoaXMueCAvIHZlY3RvcjIueDtcbiAgICAgIHJldC55ID0gdGhpcy55IC8gdmVjdG9yMi55O1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg5njgq/jg4jjg6vjga7pmaTnrpco44K544Kr44Op44O8KVxuICAgICAqXG4gICAgICogQHBhcmFtIHNjYWxhciDpmaTnrpfjgZnjgovjgrnjgqvjg6njg7zlgKRcbiAgICAgKiBAcmV0dXJuIOmZpOeul+e1kOaenCDjg5njgq/jg4jjg6vlgKRcbiAgICAgKi9cbiAgICBwdWJsaWMgZGl2aXNpb25CeVNjYWxhcihzY2FsYXI6IG51bWJlcik6IEN1YmlzbVZlY3RvcjIge1xuICAgICAgcmV0dXJuIHRoaXMuZGl2aXNpb24obmV3IEN1YmlzbVZlY3RvcjIoc2NhbGFyLCBzY2FsYXIpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg5njgq/jg4jjg6vjga7plbfjgZXjgpLlj5blvpfjgZnjgotcbiAgICAgKlxuICAgICAqIEByZXR1cm4g44OZ44Kv44OI44Or44Gu6ZW344GVXG4gICAgICovXG4gICAgcHVibGljIGdldExlbmd0aCgpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLnggKiB0aGlzLnggKyB0aGlzLnkgKiB0aGlzLnkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODmeOCr+ODiOODq+OBrui3nembouOBruWPluW+l1xuICAgICAqXG4gICAgICogQHBhcmFtIGEg54K5XG4gICAgICogQHJldHVybiDjg5njgq/jg4jjg6vjga7ot53pm6JcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0RGlzdGFuY2VXaXRoKGE6IEN1YmlzbVZlY3RvcjIpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIE1hdGguc3FydChcbiAgICAgICAgKHRoaXMueCAtIGEueCkgKiAodGhpcy54IC0gYS54KSArICh0aGlzLnkgLSBhLnkpICogKHRoaXMueSAtIGEueSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44OJ44OD44OI56mN44Gu6KiI566XXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYSDlgKRcbiAgICAgKiBAcmV0dXJuIOe1kOaenFxuICAgICAqL1xuICAgIHB1YmxpYyBkb3QoYTogQ3ViaXNtVmVjdG9yMik6IG51bWJlciB7XG4gICAgICByZXR1cm4gdGhpcy54ICogYS54ICsgdGhpcy55ICogYS55O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOato+imj+WMluOBrumBqeeUqFxuICAgICAqL1xuICAgIHB1YmxpYyBub3JtYWxpemUoKTogdm9pZCB7XG4gICAgICBjb25zdCBsZW5ndGg6IG51bWJlciA9IE1hdGgucG93KHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSwgMC41KTtcblxuICAgICAgdGhpcy54ID0gdGhpcy54IC8gbGVuZ3RoO1xuICAgICAgdGhpcy55ID0gdGhpcy55IC8gbGVuZ3RoO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOetieOBl+OBleOBrueiuuiqje+8iOetieOBl+OBhOOBi++8n++8iVxuICAgICAqXG4gICAgICog5YCk44GM562J44GX44GE44GL77yfXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmhzIOeiuuiqjeOBmeOCi+WApFxuICAgICAqIEByZXR1cm4gdHJ1ZSDlgKTjga/nrYnjgZfjgYRcbiAgICAgKiBAcmV0dXJuIGZhbHNlIOWApOOBr+etieOBl+OBj+OBquOBhFxuICAgICAqL1xuICAgIHB1YmxpYyBpc0VxdWFsKHJoczogQ3ViaXNtVmVjdG9yMik6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIHRoaXMueCA9PSByaHMueCAmJiB0aGlzLnkgPT0gcmhzLnk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog562J44GX44GV44Gu56K66KqN77yI562J44GX44GP44Gq44GE44GL77yf77yJXG4gICAgICpcbiAgICAgKiDlgKTjgYznrYnjgZfjgY/jgarjgYTjgYvvvJ9cbiAgICAgKlxuICAgICAqIEBwYXJhbSByaHMg56K66KqN44GZ44KL5YCkXG4gICAgICogQHJldHVybiB0cnVlIOWApOOBr+etieOBl+OBj+OBquOBhFxuICAgICAqIEByZXR1cm4gZmFsc2Ug5YCk44Gv562J44GX44GEXG4gICAgICovXG4gICAgcHVibGljIGlzTm90RXF1YWwocmhzOiBDdWJpc21WZWN0b3IyKTogYm9vbGVhbiB7XG4gICAgICByZXR1cm4gIXRoaXMuaXNFcXVhbChyaHMpO1xuICAgIH1cbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7QUFPQTtBQUFBO0FBTUE7QUFJQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBR0E7QUFRQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQXBKQTtBQXFKQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Framework/src/math/cubismvector2.ts\n");

/***/ }),

/***/ "./Framework/src/math/cubismviewmatrix.ts":
/*!************************************************!*\
  !*** ./Framework/src/math/cubismviewmatrix.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar cubismmatrix44_1 = __webpack_require__(/*! ./cubismmatrix44 */ \"./Framework/src/math/cubismmatrix44.ts\");\nvar CubismMatrix44 = cubismmatrix44_1.Live2DCubismFramework.CubismMatrix44;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var CubismViewMatrix = (function (_super) {\n        __extends(CubismViewMatrix, _super);\n        function CubismViewMatrix() {\n            var _this = _super.call(this) || this;\n            _this._screenLeft = 0.0;\n            _this._screenRight = 0.0;\n            _this._screenTop = 0.0;\n            _this._screenBottom = 0.0;\n            _this._maxLeft = 0.0;\n            _this._maxRight = 0.0;\n            _this._maxTop = 0.0;\n            _this._maxBottom = 0.0;\n            _this._maxScale = 0.0;\n            _this._minScale = 0.0;\n            return _this;\n        }\n        CubismViewMatrix.prototype.adjustTranslate = function (x, y) {\n            if (this._tr[0] * this._maxLeft + (this._tr[12] + x) > this._screenLeft) {\n                x = this._screenLeft - this._tr[0] * this._maxLeft - this._tr[12];\n            }\n            if (this._tr[0] * this._maxRight + (this._tr[12] + x) <\n                this._screenRight) {\n                x = this._screenRight - this._tr[0] * this._maxRight - this._tr[12];\n            }\n            if (this._tr[5] * this._maxTop + (this._tr[13] + y) < this._screenTop) {\n                y = this._screenTop - this._tr[5] * this._maxTop - this._tr[13];\n            }\n            if (this._tr[5] * this._maxBottom + (this._tr[13] + y) >\n                this._screenBottom) {\n                y = this._screenBottom - this._tr[5] * this._maxBottom - this._tr[13];\n            }\n            var tr1 = new Float32Array([\n                1.0,\n                0.0,\n                0.0,\n                0.0,\n                0.0,\n                1.0,\n                0.0,\n                0.0,\n                0.0,\n                0.0,\n                1.0,\n                0.0,\n                x,\n                y,\n                0.0,\n                1.0\n            ]);\n            CubismMatrix44.multiply(tr1, this._tr, this._tr);\n        };\n        CubismViewMatrix.prototype.adjustScale = function (cx, cy, scale) {\n            var maxScale = this.getMaxScale();\n            var minScale = this.getMinScale();\n            var targetScale = scale * this._tr[0];\n            if (targetScale < minScale) {\n                if (this._tr[0] > 0.0) {\n                    scale = minScale / this._tr[0];\n                }\n            }\n            else if (targetScale > maxScale) {\n                if (this._tr[0] > 0.0) {\n                    scale = maxScale / this._tr[0];\n                }\n            }\n            var tr1 = new Float32Array([\n                1.0,\n                0.0,\n                0.0,\n                0.0,\n                0.0,\n                1.0,\n                0.0,\n                0.0,\n                0.0,\n                0.0,\n                1.0,\n                0.0,\n                cx,\n                cy,\n                0.0,\n                1.0\n            ]);\n            var tr2 = new Float32Array([\n                scale,\n                0.0,\n                0.0,\n                0.0,\n                0.0,\n                scale,\n                0.0,\n                0.0,\n                0.0,\n                0.0,\n                1.0,\n                0.0,\n                0.0,\n                0.0,\n                0.0,\n                1.0\n            ]);\n            var tr3 = new Float32Array([\n                1.0,\n                0.0,\n                0.0,\n                0.0,\n                0.0,\n                1.0,\n                0.0,\n                0.0,\n                0.0,\n                0.0,\n                1.0,\n                0.0,\n                -cx,\n                -cy,\n                0.0,\n                1.0\n            ]);\n            CubismMatrix44.multiply(tr3, this._tr, this._tr);\n            CubismMatrix44.multiply(tr2, this._tr, this._tr);\n            CubismMatrix44.multiply(tr1, this._tr, this._tr);\n        };\n        CubismViewMatrix.prototype.setScreenRect = function (left, right, bottom, top) {\n            this._screenLeft = left;\n            this._screenRight = right;\n            this._screenBottom = bottom;\n            this._screenTop = top;\n        };\n        CubismViewMatrix.prototype.setMaxScreenRect = function (left, right, bottom, top) {\n            this._maxLeft = left;\n            this._maxRight = right;\n            this._maxTop = top;\n            this._maxBottom = bottom;\n        };\n        CubismViewMatrix.prototype.setMaxScale = function (maxScale) {\n            this._maxScale = maxScale;\n        };\n        CubismViewMatrix.prototype.setMinScale = function (minScale) {\n            this._minScale = minScale;\n        };\n        CubismViewMatrix.prototype.getMaxScale = function () {\n            return this._maxScale;\n        };\n        CubismViewMatrix.prototype.getMinScale = function () {\n            return this._minScale;\n        };\n        CubismViewMatrix.prototype.isMaxScale = function () {\n            return this.getScaleX() >= this._maxScale;\n        };\n        CubismViewMatrix.prototype.isMinScale = function () {\n            return this.getScaleX() <= this._minScale;\n        };\n        CubismViewMatrix.prototype.getScreenLeft = function () {\n            return this._screenLeft;\n        };\n        CubismViewMatrix.prototype.getScreenRight = function () {\n            return this._screenRight;\n        };\n        CubismViewMatrix.prototype.getScreenBottom = function () {\n            return this._screenBottom;\n        };\n        CubismViewMatrix.prototype.getScreenTop = function () {\n            return this._screenTop;\n        };\n        CubismViewMatrix.prototype.getMaxLeft = function () {\n            return this._maxLeft;\n        };\n        CubismViewMatrix.prototype.getMaxRight = function () {\n            return this._maxRight;\n        };\n        CubismViewMatrix.prototype.getMaxBottom = function () {\n            return this._maxBottom;\n        };\n        CubismViewMatrix.prototype.getMaxTop = function () {\n            return this._maxTop;\n        };\n        return CubismViewMatrix;\n    }(CubismMatrix44));\n    Live2DCubismFramework.CubismViewMatrix = CubismViewMatrix;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21hdGgvY3ViaXNtdmlld21hdHJpeC50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL0ZyYW1ld29yay9zcmMvbWF0aC9jdWJpc212aWV3bWF0cml4LnRzP2UwMGUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTGl2ZTJEIE9wZW4gU29mdHdhcmUgbGljZW5zZVxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXG4gKi9cblxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbW1hdHJpeDQ0IH0gZnJvbSAnLi9jdWJpc21tYXRyaXg0NCc7XG5pbXBvcnQgQ3ViaXNtTWF0cml4NDQgPSBjdWJpc21tYXRyaXg0NC5DdWJpc21NYXRyaXg0NDtcblxuZXhwb3J0IG5hbWVzcGFjZSBMaXZlMkRDdWJpc21GcmFtZXdvcmsge1xuICAvKipcbiAgICog44Kr44Oh44Op44Gu5L2N572u5aSJ5pu044Gr5L2/44GG44Go5L6/5Yip44GqNHg06KGM5YiXXG4gICAqXG4gICAqIOOCq+ODoeODqeOBruS9jee9ruWkieabtOOBq+S9v+OBhuOBqOS+v+WIqeOBqjR4NOihjOWIl+OBruOCr+ODqeOCueOAglxuICAgKi9cbiAgZXhwb3J0IGNsYXNzIEN1YmlzbVZpZXdNYXRyaXggZXh0ZW5kcyBDdWJpc21NYXRyaXg0NCB7XG4gICAgLyoqXG4gICAgICog44Kz44Oz44K544OI44Op44Kv44K/XG4gICAgICovXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgICAgc3VwZXIoKTtcbiAgICAgIHRoaXMuX3NjcmVlbkxlZnQgPSAwLjA7XG4gICAgICB0aGlzLl9zY3JlZW5SaWdodCA9IDAuMDtcbiAgICAgIHRoaXMuX3NjcmVlblRvcCA9IDAuMDtcbiAgICAgIHRoaXMuX3NjcmVlbkJvdHRvbSA9IDAuMDtcbiAgICAgIHRoaXMuX21heExlZnQgPSAwLjA7XG4gICAgICB0aGlzLl9tYXhSaWdodCA9IDAuMDtcbiAgICAgIHRoaXMuX21heFRvcCA9IDAuMDtcbiAgICAgIHRoaXMuX21heEJvdHRvbSA9IDAuMDtcbiAgICAgIHRoaXMuX21heFNjYWxlID0gMC4wO1xuICAgICAgdGhpcy5fbWluU2NhbGUgPSAwLjA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog56e75YuV44KS6Kq/5pW0XG4gICAgICpcbiAgICAgKiBAcGFyYW0geCBY6Lu444Gu56e75YuV6YePXG4gICAgICogQHBhcmFtIHkgWei7uOOBruenu+WLlemHj1xuICAgICAqL1xuICAgIHB1YmxpYyBhZGp1c3RUcmFuc2xhdGUoeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgIGlmICh0aGlzLl90clswXSAqIHRoaXMuX21heExlZnQgKyAodGhpcy5fdHJbMTJdICsgeCkgPiB0aGlzLl9zY3JlZW5MZWZ0KSB7XG4gICAgICAgIHggPSB0aGlzLl9zY3JlZW5MZWZ0IC0gdGhpcy5fdHJbMF0gKiB0aGlzLl9tYXhMZWZ0IC0gdGhpcy5fdHJbMTJdO1xuICAgICAgfVxuXG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuX3RyWzBdICogdGhpcy5fbWF4UmlnaHQgKyAodGhpcy5fdHJbMTJdICsgeCkgPFxuICAgICAgICB0aGlzLl9zY3JlZW5SaWdodFxuICAgICAgKSB7XG4gICAgICAgIHggPSB0aGlzLl9zY3JlZW5SaWdodCAtIHRoaXMuX3RyWzBdICogdGhpcy5fbWF4UmlnaHQgLSB0aGlzLl90clsxMl07XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl90cls1XSAqIHRoaXMuX21heFRvcCArICh0aGlzLl90clsxM10gKyB5KSA8IHRoaXMuX3NjcmVlblRvcCkge1xuICAgICAgICB5ID0gdGhpcy5fc2NyZWVuVG9wIC0gdGhpcy5fdHJbNV0gKiB0aGlzLl9tYXhUb3AgLSB0aGlzLl90clsxM107XG4gICAgICB9XG5cbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5fdHJbNV0gKiB0aGlzLl9tYXhCb3R0b20gKyAodGhpcy5fdHJbMTNdICsgeSkgPlxuICAgICAgICB0aGlzLl9zY3JlZW5Cb3R0b21cbiAgICAgICkge1xuICAgICAgICB5ID0gdGhpcy5fc2NyZWVuQm90dG9tIC0gdGhpcy5fdHJbNV0gKiB0aGlzLl9tYXhCb3R0b20gLSB0aGlzLl90clsxM107XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRyMTogRmxvYXQzMkFycmF5ID0gbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgIDEuMCxcbiAgICAgICAgMC4wLFxuICAgICAgICAwLjAsXG4gICAgICAgIDAuMCxcbiAgICAgICAgMC4wLFxuICAgICAgICAxLjAsXG4gICAgICAgIDAuMCxcbiAgICAgICAgMC4wLFxuICAgICAgICAwLjAsXG4gICAgICAgIDAuMCxcbiAgICAgICAgMS4wLFxuICAgICAgICAwLjAsXG4gICAgICAgIHgsXG4gICAgICAgIHksXG4gICAgICAgIDAuMCxcbiAgICAgICAgMS4wXG4gICAgICBdKTtcblxuICAgICAgQ3ViaXNtTWF0cml4NDQubXVsdGlwbHkodHIxLCB0aGlzLl90ciwgdGhpcy5fdHIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOaLoeWkp+eOh+OCkuiqv+aVtFxuICAgICAqXG4gICAgICogQHBhcmFtIGN4IOaLoeWkp+OCkuihjOOBhljou7jjga7kuK3lv4PkvY3nva5cbiAgICAgKiBAcGFyYW0gY3kg5ouh5aSn44KS6KGM44GGWei7uOOBruS4reW/g+S9jee9rlxuICAgICAqIEBwYXJhbSBzY2FsZSDmi6HlpKfnjodcbiAgICAgKi9cbiAgICBwdWJsaWMgYWRqdXN0U2NhbGUoY3g6IG51bWJlciwgY3k6IG51bWJlciwgc2NhbGU6IG51bWJlcik6IHZvaWQge1xuICAgICAgY29uc3QgbWF4U2NhbGU6IG51bWJlciA9IHRoaXMuZ2V0TWF4U2NhbGUoKTtcbiAgICAgIGNvbnN0IG1pblNjYWxlOiBudW1iZXIgPSB0aGlzLmdldE1pblNjYWxlKCk7XG5cbiAgICAgIGNvbnN0IHRhcmdldFNjYWxlID0gc2NhbGUgKiB0aGlzLl90clswXTtcblxuICAgICAgaWYgKHRhcmdldFNjYWxlIDwgbWluU2NhbGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RyWzBdID4gMC4wKSB7XG4gICAgICAgICAgc2NhbGUgPSBtaW5TY2FsZSAvIHRoaXMuX3RyWzBdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRhcmdldFNjYWxlID4gbWF4U2NhbGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RyWzBdID4gMC4wKSB7XG4gICAgICAgICAgc2NhbGUgPSBtYXhTY2FsZSAvIHRoaXMuX3RyWzBdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRyMTogRmxvYXQzMkFycmF5ID0gbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgIDEuMCxcbiAgICAgICAgMC4wLFxuICAgICAgICAwLjAsXG4gICAgICAgIDAuMCxcbiAgICAgICAgMC4wLFxuICAgICAgICAxLjAsXG4gICAgICAgIDAuMCxcbiAgICAgICAgMC4wLFxuICAgICAgICAwLjAsXG4gICAgICAgIDAuMCxcbiAgICAgICAgMS4wLFxuICAgICAgICAwLjAsXG4gICAgICAgIGN4LFxuICAgICAgICBjeSxcbiAgICAgICAgMC4wLFxuICAgICAgICAxLjBcbiAgICAgIF0pO1xuXG4gICAgICBjb25zdCB0cjI6IEZsb2F0MzJBcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICBzY2FsZSxcbiAgICAgICAgMC4wLFxuICAgICAgICAwLjAsXG4gICAgICAgIDAuMCxcbiAgICAgICAgMC4wLFxuICAgICAgICBzY2FsZSxcbiAgICAgICAgMC4wLFxuICAgICAgICAwLjAsXG4gICAgICAgIDAuMCxcbiAgICAgICAgMC4wLFxuICAgICAgICAxLjAsXG4gICAgICAgIDAuMCxcbiAgICAgICAgMC4wLFxuICAgICAgICAwLjAsXG4gICAgICAgIDAuMCxcbiAgICAgICAgMS4wXG4gICAgICBdKTtcblxuICAgICAgY29uc3QgdHIzOiBGbG9hdDMyQXJyYXkgPSBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgMS4wLFxuICAgICAgICAwLjAsXG4gICAgICAgIDAuMCxcbiAgICAgICAgMC4wLFxuICAgICAgICAwLjAsXG4gICAgICAgIDEuMCxcbiAgICAgICAgMC4wLFxuICAgICAgICAwLjAsXG4gICAgICAgIDAuMCxcbiAgICAgICAgMC4wLFxuICAgICAgICAxLjAsXG4gICAgICAgIDAuMCxcbiAgICAgICAgLWN4LFxuICAgICAgICAtY3ksXG4gICAgICAgIDAuMCxcbiAgICAgICAgMS4wXG4gICAgICBdKTtcblxuICAgICAgQ3ViaXNtTWF0cml4NDQubXVsdGlwbHkodHIzLCB0aGlzLl90ciwgdGhpcy5fdHIpO1xuICAgICAgQ3ViaXNtTWF0cml4NDQubXVsdGlwbHkodHIyLCB0aGlzLl90ciwgdGhpcy5fdHIpO1xuICAgICAgQ3ViaXNtTWF0cml4NDQubXVsdGlwbHkodHIxLCB0aGlzLl90ciwgdGhpcy5fdHIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODh+ODkOOCpOOCueOBq+WvvuW/nOOBmeOCi+irlueQhuW6p+mkiueUn+OBruevhOWbsuOBruioreWumlxuICAgICAqXG4gICAgICogQHBhcmFtIGxlZnQgICAgICDlt6bovrrjga5Y6Lu444Gu5L2N572uXG4gICAgICogQHBhcmFtIHJpZ2h0ICAgICDlj7Povrrjga5Y6Lu444Gu5L2N572uXG4gICAgICogQHBhcmFtIGJvdHRvbSAgICDkuIvovrrjga5Z6Lu444Gu5L2N572uXG4gICAgICogQHBhcmFtIHRvcCAgICAgICDkuIrovrrjga5Z6Lu444Gu5L2N572uXG4gICAgICovXG4gICAgcHVibGljIHNldFNjcmVlblJlY3QoXG4gICAgICBsZWZ0OiBudW1iZXIsXG4gICAgICByaWdodDogbnVtYmVyLFxuICAgICAgYm90dG9tOiBudW1iZXIsXG4gICAgICB0b3A6IG51bWJlclxuICAgICk6IHZvaWQge1xuICAgICAgdGhpcy5fc2NyZWVuTGVmdCA9IGxlZnQ7XG4gICAgICB0aGlzLl9zY3JlZW5SaWdodCA9IHJpZ2h0O1xuICAgICAgdGhpcy5fc2NyZWVuQm90dG9tID0gYm90dG9tO1xuICAgICAgdGhpcy5fc2NyZWVuVG9wID0gdG9wO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODh+ODkOOCpOOCueOBq+WvvuW/nOOBmeOCi+irlueQhuW6p+aomeS4iuOBruenu+WLleWPr+iDveevhOWbsuOBruioreWumlxuICAgICAqIEBwYXJhbSBsZWZ0ICAgICAg5bem6L6644GuWOi7uOOBruS9jee9rlxuICAgICAqIEBwYXJhbSByaWdodCAgICAg5Y+z6L6644GuWOi7uOOBruS9jee9rlxuICAgICAqIEBwYXJhbSBib3R0b20gICAg5LiL6L6644GuWei7uOOBruS9jee9rlxuICAgICAqIEBwYXJhbSB0b3AgICAgICAg5LiK6L6644GuWei7uOOBruS9jee9rlxuICAgICAqL1xuICAgIHB1YmxpYyBzZXRNYXhTY3JlZW5SZWN0KFxuICAgICAgbGVmdDogbnVtYmVyLFxuICAgICAgcmlnaHQ6IG51bWJlcixcbiAgICAgIGJvdHRvbTogbnVtYmVyLFxuICAgICAgdG9wOiBudW1iZXJcbiAgICApOiB2b2lkIHtcbiAgICAgIHRoaXMuX21heExlZnQgPSBsZWZ0O1xuICAgICAgdGhpcy5fbWF4UmlnaHQgPSByaWdodDtcbiAgICAgIHRoaXMuX21heFRvcCA9IHRvcDtcbiAgICAgIHRoaXMuX21heEJvdHRvbSA9IGJvdHRvbTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDmnIDlpKfmi6HlpKfnjofjga7oqK3lrppcbiAgICAgKiBAcGFyYW0gbWF4U2NhbGUg5pyA5aSn5ouh5aSn546HXG4gICAgICovXG4gICAgcHVibGljIHNldE1heFNjYWxlKG1heFNjYWxlOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgIHRoaXMuX21heFNjYWxlID0gbWF4U2NhbGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5pyA5bCP5ouh5aSn546H44Gu6Kit5a6aXG4gICAgICogQHBhcmFtIG1pblNjYWxlIOacgOWwj+aLoeWkp+eOh1xuICAgICAqL1xuICAgIHB1YmxpYyBzZXRNaW5TY2FsZShtaW5TY2FsZTogbnVtYmVyKTogdm9pZCB7XG4gICAgICB0aGlzLl9taW5TY2FsZSA9IG1pblNjYWxlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOacgOWkp+aLoeWkp+eOh+OBruWPluW+l1xuICAgICAqIEByZXR1cm4g5pyA5aSn5ouh5aSn546HXG4gICAgICovXG4gICAgcHVibGljIGdldE1heFNjYWxlKCk6IG51bWJlciB7XG4gICAgICByZXR1cm4gdGhpcy5fbWF4U2NhbGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5pyA5bCP5ouh5aSn546H44Gu5Y+W5b6XXG4gICAgICogQHJldHVybiDmnIDlsI/mi6HlpKfnjodcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0TWluU2NhbGUoKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiB0aGlzLl9taW5TY2FsZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDmi6HlpKfnjofjgYzmnIDlpKfjgavjgarjgaPjgabjgYTjgovjgYvjgpLnorroqo3jgZnjgotcbiAgICAgKlxuICAgICAqIEByZXR1cm4gdHJ1ZSDmi6HlpKfnjofjga/mnIDlpKdcbiAgICAgKiBAcmV0dXJuIGZhbHNlIOaLoeWkp+eOh+OBr+acgOWkp+OBp+OBr+OBquOBhFxuICAgICAqL1xuICAgIHB1YmxpYyBpc01heFNjYWxlKCk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0U2NhbGVYKCkgPj0gdGhpcy5fbWF4U2NhbGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5ouh5aSn546H44GM5pyA5bCP44Gr44Gq44Gj44Gm44GE44KL44GL44KS56K66KqN44GZ44KLXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHRydWUg5ouh5aSn546H44Gv5pyA5bCPXG4gICAgICogQHJldHVybiBmYWxzZSDmi6HlpKfnjofjga/mnIDlsI/jgafjga/jgarjgYRcbiAgICAgKi9cbiAgICBwdWJsaWMgaXNNaW5TY2FsZSgpOiBib29sZWFuIHtcbiAgICAgIHJldHVybiB0aGlzLmdldFNjYWxlWCgpIDw9IHRoaXMuX21pblNjYWxlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODh+ODkOOCpOOCueOBq+WvvuW/nOOBmeOCi+irlueQhuW6p+aomeOBruW3pui+uuOBru+8uOi7uOS9jee9ruOCkuWPluW+l+OBmeOCi1xuICAgICAqIEByZXR1cm4g44OH44OQ44Kk44K544Gr5a++5b+c44GZ44KL6KuW55CG5bqn5qiZ44Gu5bem6L6644GuWOi7uOS9jee9rlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRTY3JlZW5MZWZ0KCk6IG51bWJlciB7XG4gICAgICByZXR1cm4gdGhpcy5fc2NyZWVuTGVmdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg4fjg5DjgqTjgrnjgavlr77lv5zjgZnjgovoq5bnkIbluqfmqJnjga7lj7Povrrjga7vvLjou7jkvY3nva7jgpLlj5blvpfjgZnjgotcbiAgICAgKiBAcmV0dXJuIOODh+ODkOOCpOOCueOBq+WvvuW/nOOBmeOCi+irlueQhuW6p+aomeOBruWPs+i+uuOBrljou7jkvY3nva5cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0U2NyZWVuUmlnaHQoKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY3JlZW5SaWdodDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg4fjg5DjgqTjgrnjgavlr77lv5zjgZnjgovoq5bnkIbluqfmqJnjga7kuIvovrrjga5Z6Lu45L2N572u44KS5Y+W5b6X44GZ44KLXG4gICAgICogQHJldHVybiDjg4fjg5DjgqTjgrnjgavlr77lv5zjgZnjgovoq5bnkIbluqfmqJnjga7kuIvovrrjga5Z6Lu45L2N572uXG4gICAgICovXG4gICAgcHVibGljIGdldFNjcmVlbkJvdHRvbSgpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHRoaXMuX3NjcmVlbkJvdHRvbTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg4fjg5DjgqTjgrnjgavlr77lv5zjgZnjgovoq5bnkIbluqfmqJnjga7kuIrovrrjga5Z6Lu45L2N572u44KS5Y+W5b6X44GZ44KLXG4gICAgICogQHJldHVybiDjg4fjg5DjgqTjgrnjgavlr77lv5zjgZnjgovoq5bnkIbluqfmqJnjga7kuIrovrrjga5Z6Lu45L2N572uXG4gICAgICovXG4gICAgcHVibGljIGdldFNjcmVlblRvcCgpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHRoaXMuX3NjcmVlblRvcDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlt6bovrrjga5Y6Lu45L2N572u44Gu5pyA5aSn5YCk44Gu5Y+W5b6XXG4gICAgICogQHJldHVybiDlt6bovrrjga5Y6Lu45L2N572u44Gu5pyA5aSn5YCkXG4gICAgICovXG4gICAgcHVibGljIGdldE1heExlZnQoKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiB0aGlzLl9tYXhMZWZ0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWPs+i+uuOBrljou7jkvY3nva7jga7mnIDlpKflgKTjga7lj5blvpdcbiAgICAgKiBAcmV0dXJuIOWPs+i+uuOBrljou7jkvY3nva7jga7mnIDlpKflgKRcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0TWF4UmlnaHQoKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiB0aGlzLl9tYXhSaWdodDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDkuIvovrrjga5Z6Lu45L2N572u44Gu5pyA5aSn5YCk44Gu5Y+W5b6XXG4gICAgICogQHJldHVybiDkuIvovrrjga5Z6Lu45L2N572u44Gu5pyA5aSn5YCkXG4gICAgICovXG4gICAgcHVibGljIGdldE1heEJvdHRvbSgpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHRoaXMuX21heEJvdHRvbTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDkuIrovrrjga5Z6Lu45L2N572u44Gu5pyA5aSn5YCk44Gu5Y+W5b6XXG4gICAgICogQHJldHVybiDkuIrovrrjga5Z6Lu45L2N572u44Gu5pyA5aSn5YCkXG4gICAgICovXG4gICAgcHVibGljIGdldE1heFRvcCgpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHRoaXMuX21heFRvcDtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9zY3JlZW5MZWZ0OiBudW1iZXI7IC8vIOODh+ODkOOCpOOCueOBq+WvvuW/nOOBmeOCi+irlueQhuW6p+aomeS4iuOBruevhOWbsu+8iOW3pui+uljou7jkvY3nva7vvIlcbiAgICBwcml2YXRlIF9zY3JlZW5SaWdodDogbnVtYmVyOyAvLyDjg4fjg5DjgqTjgrnjgavlr77lv5zjgZnjgovoq5bnkIbluqfmqJnkuIrjga7nr4Tlm7LvvIjlj7PovrpY6Lu45L2N572u77yJXG4gICAgcHJpdmF0ZSBfc2NyZWVuVG9wOiBudW1iZXI7IC8vIOODh+ODkOOCpOOCueOBq+WvvuW/nOOBmeOCi+irlueQhuW6p+aomeS4iuOBruevhOWbsu+8iOS4iui+ulnou7jkvY3nva7vvIlcbiAgICBwcml2YXRlIF9zY3JlZW5Cb3R0b206IG51bWJlcjsgLy8g44OH44OQ44Kk44K544Gr5a++5b+c44GZ44KL6KuW55CG5bqn5qiZ5LiK44Gu56+E5Zuy77yI5LiL6L66Wei7uOS9jee9ru+8iVxuICAgIHByaXZhdGUgX21heExlZnQ6IG51bWJlcjsgLy8g6KuW55CG5bqn5qiZ5LiK44Gu56e75YuV5Y+v6IO956+E5Zuy77yI5bem6L66WOi7uOS9jee9ru+8iVxuICAgIHByaXZhdGUgX21heFJpZ2h0OiBudW1iZXI7IC8vIOirlueQhuW6p+aomeS4iuOBruenu+WLleWPr+iDveevhOWbsu+8iOWPs+i+uljou7jkvY3nva7vvIlcbiAgICBwcml2YXRlIF9tYXhUb3A6IG51bWJlcjsgLy8g6KuW55CG5bqn5qiZ5LiK44Gu56e75YuV5Y+v6IO956+E5Zuy77yI5LiK6L66Wei7uOS9jee9ru+8iVxuICAgIHByaXZhdGUgX21heEJvdHRvbTogbnVtYmVyOyAvLyDoq5bnkIbluqfmqJnkuIrjga7np7vli5Xlj6/og73nr4Tlm7LvvIjkuIvovrpZ6Lu45L2N572u77yJXG4gICAgcHJpdmF0ZSBfbWF4U2NhbGU6IG51bWJlcjsgLy8g5ouh5aSn546H44Gu5pyA5aSn5YCkXG4gICAgcHJpdmF0ZSBfbWluU2NhbGU6IG51bWJlcjsgLy8g5ouh5aSn546H44Gu5pyA5bCP5YCkXG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQU9BO0FBQ0E7QUFFQTtBQUFBO0FBTUE7QUFBQTtBQUlBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFVQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFZQTtBQUFBO0FBL1RBO0FBZ1VBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/math/cubismviewmatrix.ts\n");

/***/ }),

/***/ "./Framework/src/model/cubismmoc.ts":
/*!******************************************!*\
  !*** ./Framework/src/model/cubismmoc.ts ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar cubismmodel_1 = __webpack_require__(/*! ./cubismmodel */ \"./Framework/src/model/cubismmodel.ts\");\nvar CubismModel = cubismmodel_1.Live2DCubismFramework.CubismModel;\nvar cubismdebug_1 = __webpack_require__(/*! ../utils/cubismdebug */ \"./Framework/src/utils/cubismdebug.ts\");\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var CubismMoc = (function () {\n        function CubismMoc(moc) {\n            this._moc = moc;\n            this._modelCount = 0;\n        }\n        CubismMoc.create = function (mocBytes) {\n            var cubismMoc = null;\n            var moc = Live2DCubismCore.Moc.fromArrayBuffer(mocBytes);\n            if (moc) {\n                cubismMoc = new CubismMoc(moc);\n            }\n            return cubismMoc;\n        };\n        CubismMoc.delete = function (moc) {\n            moc._moc._release();\n            moc._moc = null;\n            moc = null;\n        };\n        CubismMoc.prototype.createModel = function () {\n            var cubismModel = null;\n            var model = Live2DCubismCore.Model.fromMoc(this._moc);\n            if (model) {\n                cubismModel = new CubismModel(model);\n                cubismModel.initialize();\n                ++this._modelCount;\n            }\n            return cubismModel;\n        };\n        CubismMoc.prototype.deleteModel = function (model) {\n            if (model != null) {\n                model.release();\n                model = null;\n                --this._modelCount;\n            }\n        };\n        CubismMoc.prototype.release = function () {\n            cubismdebug_1.CSM_ASSERT(this._modelCount == 0);\n            this._moc._release();\n            this._moc = null;\n        };\n        return CubismMoc;\n    }());\n    Live2DCubismFramework.CubismMoc = CubismMoc;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21vZGVsL2N1YmlzbW1vYy50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL0ZyYW1ld29yay9zcmMvbW9kZWwvY3ViaXNtbW9jLnRzPzdlNDYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTGl2ZTJEIE9wZW4gU29mdHdhcmUgbGljZW5zZVxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXG4gKi9cblxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbW1vZGVsIH0gZnJvbSAnLi9jdWJpc21tb2RlbCc7XG5pbXBvcnQgQ3ViaXNtTW9kZWwgPSBjdWJpc21tb2RlbC5DdWJpc21Nb2RlbDtcbmltcG9ydCB7IENTTV9BU1NFUlQgfSBmcm9tICcuLi91dGlscy9jdWJpc21kZWJ1Zyc7XG5cbmV4cG9ydCBuYW1lc3BhY2UgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIHtcbiAgLyoqXG4gICAqIE1vY+ODh+ODvOOCv+OBrueuoeeQhlxuICAgKlxuICAgKiBNb2Pjg4fjg7zjgr/jga7nrqHnkIbjgpLooYzjgYbjgq/jg6njgrnjgIJcbiAgICovXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21Nb2Mge1xuICAgIC8qKlxuICAgICAqIE1vY+ODh+ODvOOCv+OBruS9nOaIkFxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKG1vY0J5dGVzOiBBcnJheUJ1ZmZlcik6IEN1YmlzbU1vYyB7XG4gICAgICBsZXQgY3ViaXNtTW9jOiBDdWJpc21Nb2MgPSBudWxsO1xuICAgICAgY29uc3QgbW9jOiBMaXZlMkRDdWJpc21Db3JlLk1vYyA9IExpdmUyREN1YmlzbUNvcmUuTW9jLmZyb21BcnJheUJ1ZmZlcihcbiAgICAgICAgbW9jQnl0ZXNcbiAgICAgICk7XG5cbiAgICAgIGlmIChtb2MpIHtcbiAgICAgICAgY3ViaXNtTW9jID0gbmV3IEN1YmlzbU1vYyhtb2MpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY3ViaXNtTW9jO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vY+ODh+ODvOOCv+OCkuWJiumZpFxuICAgICAqXG4gICAgICogTW9j44OH44O844K/44KS5YmK6Zmk44GZ44KLXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBkZWxldGUobW9jOiBDdWJpc21Nb2MpOiB2b2lkIHtcbiAgICAgIG1vYy5fbW9jLl9yZWxlYXNlKCk7XG4gICAgICBtb2MuX21vYyA9IG51bGw7XG4gICAgICBtb2MgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODouODh+ODq+OCkuS9nOaIkOOBmeOCi1xuICAgICAqXG4gICAgICogQHJldHVybiBNb2Pjg4fjg7zjgr/jgYvjgonkvZzmiJDjgZXjgozjgZ/jg6Ljg4fjg6tcbiAgICAgKi9cbiAgICBjcmVhdGVNb2RlbCgpOiBDdWJpc21Nb2RlbCB7XG4gICAgICBsZXQgY3ViaXNtTW9kZWw6IEN1YmlzbU1vZGVsID0gbnVsbDtcblxuICAgICAgY29uc3QgbW9kZWw6IExpdmUyREN1YmlzbUNvcmUuTW9kZWwgPSBMaXZlMkRDdWJpc21Db3JlLk1vZGVsLmZyb21Nb2MoXG4gICAgICAgIHRoaXMuX21vY1xuICAgICAgKTtcblxuICAgICAgaWYgKG1vZGVsKSB7XG4gICAgICAgIGN1YmlzbU1vZGVsID0gbmV3IEN1YmlzbU1vZGVsKG1vZGVsKTtcbiAgICAgICAgY3ViaXNtTW9kZWwuaW5pdGlhbGl6ZSgpO1xuXG4gICAgICAgICsrdGhpcy5fbW9kZWxDb3VudDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGN1YmlzbU1vZGVsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODouODh+ODq+OCkuWJiumZpOOBmeOCi1xuICAgICAqL1xuICAgIGRlbGV0ZU1vZGVsKG1vZGVsOiBDdWJpc21Nb2RlbCk6IHZvaWQge1xuICAgICAgaWYgKG1vZGVsICE9IG51bGwpIHtcbiAgICAgICAgbW9kZWwucmVsZWFzZSgpO1xuICAgICAgICBtb2RlbCA9IG51bGw7XG4gICAgICAgIC0tdGhpcy5fbW9kZWxDb3VudDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr9cbiAgICAgKi9cbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKG1vYzogTGl2ZTJEQ3ViaXNtQ29yZS5Nb2MpIHtcbiAgICAgIHRoaXMuX21vYyA9IG1vYztcbiAgICAgIHRoaXMuX21vZGVsQ291bnQgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODh+OCueODiOODqeOCr+OCv+ebuOW9k+OBruWHpueQhlxuICAgICAqL1xuICAgIHB1YmxpYyByZWxlYXNlKCk6IHZvaWQge1xuICAgICAgQ1NNX0FTU0VSVCh0aGlzLl9tb2RlbENvdW50ID09IDApO1xuXG4gICAgICB0aGlzLl9tb2MuX3JlbGVhc2UoKTtcbiAgICAgIHRoaXMuX21vYyA9IG51bGw7XG4gICAgfVxuXG4gICAgX21vYzogTGl2ZTJEQ3ViaXNtQ29yZS5Nb2M7IC8vIE1vY+ODh+ODvOOCv1xuICAgIF9tb2RlbENvdW50OiBudW1iZXI7IC8vIE1vY+ODh+ODvOOCv+OBi+OCieS9nOOCieOCjOOBn+ODouODh+ODq+OBruWAi+aVsFxuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7OztBQU9BO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFNQTtBQWdFQTtBQUNBO0FBQ0E7QUFDQTtBQS9EQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFhQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFBQTtBQWpGQTtBQWtGQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Framework/src/model/cubismmoc.ts\n");

/***/ }),

/***/ "./Framework/src/model/cubismmodel.ts":
/*!********************************************!*\
  !*** ./Framework/src/model/cubismmodel.ts ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar cubismrenderer_1 = __webpack_require__(/*! ../rendering/cubismrenderer */ \"./Framework/src/rendering/cubismrenderer.ts\");\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./Framework/src/live2dcubismframework.ts\");\nvar csmmap_1 = __webpack_require__(/*! ../type/csmmap */ \"./Framework/src/type/csmmap.ts\");\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./Framework/src/type/csmvector.ts\");\nvar cubismdebug_1 = __webpack_require__(/*! ../utils/cubismdebug */ \"./Framework/src/utils/cubismdebug.ts\");\nvar CubismFramework = live2dcubismframework_1.Live2DCubismFramework.CubismFramework;\nvar CubismBlendMode = cubismrenderer_1.Live2DCubismFramework.CubismBlendMode;\nvar csmVector = csmvector_1.Live2DCubismFramework.csmVector;\nvar csmMap = csmmap_1.Live2DCubismFramework.csmMap;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var CubismModel = (function () {\n        function CubismModel(model) {\n            this._model = model;\n            this._parameterValues = null;\n            this._parameterMaximumValues = null;\n            this._parameterMinimumValues = null;\n            this._partOpacities = null;\n            this._savedParameters = new csmVector();\n            this._parameterIds = new csmVector();\n            this._drawableIds = new csmVector();\n            this._partIds = new csmVector();\n            this._notExistPartId = new csmMap();\n            this._notExistParameterId = new csmMap();\n            this._notExistParameterValues = new csmMap();\n            this._notExistPartOpacities = new csmMap();\n        }\n        CubismModel.prototype.update = function () {\n            this._model.update();\n            this._model.drawables.resetDynamicFlags();\n        };\n        CubismModel.prototype.getCanvasWidth = function () {\n            if (this._model == null) {\n                return 0.0;\n            }\n            return (this._model.canvasinfo.CanvasWidth /\n                this._model.canvasinfo.PixelsPerUnit);\n        };\n        CubismModel.prototype.getCanvasHeight = function () {\n            if (this._model == null) {\n                return 0.0;\n            }\n            return (this._model.canvasinfo.CanvasHeight /\n                this._model.canvasinfo.PixelsPerUnit);\n        };\n        CubismModel.prototype.saveParameters = function () {\n            var parameterCount = this._model.parameters.count;\n            var savedParameterCount = this._savedParameters.getSize();\n            for (var i = 0; i < parameterCount; ++i) {\n                if (i < savedParameterCount) {\n                    this._savedParameters.set(i, this._parameterValues[i]);\n                }\n                else {\n                    this._savedParameters.pushBack(this._parameterValues[i]);\n                }\n            }\n        };\n        CubismModel.prototype.getModel = function () {\n            return this._model;\n        };\n        CubismModel.prototype.getPartIndex = function (partId) {\n            var partIndex;\n            var partCount = this._model.parts.count;\n            for (partIndex = 0; partIndex < partCount; ++partIndex) {\n                if (partId == this._partIds.at(partIndex)) {\n                    return partIndex;\n                }\n            }\n            if (this._notExistPartId.isExist(partId)) {\n                return this._notExistPartId.getValue(partId);\n            }\n            partIndex = partCount + this._notExistPartId.getSize();\n            this._notExistPartId.setValue(partId, partIndex);\n            this._notExistPartOpacities.appendKey(partIndex);\n            return partIndex;\n        };\n        CubismModel.prototype.getPartCount = function () {\n            var partCount = this._model.parts.count;\n            return partCount;\n        };\n        CubismModel.prototype.setPartOpacityByIndex = function (partIndex, opacity) {\n            if (this._notExistPartOpacities.isExist(partIndex)) {\n                this._notExistPartOpacities.setValue(partIndex, opacity);\n                return;\n            }\n            cubismdebug_1.CSM_ASSERT(0 <= partIndex && partIndex < this.getPartCount());\n            this._partOpacities[partIndex] = opacity;\n        };\n        CubismModel.prototype.setPartOpacityById = function (partId, opacity) {\n            var index = this.getPartIndex(partId);\n            if (index < 0) {\n                return;\n            }\n            this.setPartOpacityByIndex(index, opacity);\n        };\n        CubismModel.prototype.getPartOpacityByIndex = function (partIndex) {\n            if (this._notExistPartOpacities.isExist(partIndex)) {\n                return this._notExistPartOpacities.getValue(partIndex);\n            }\n            cubismdebug_1.CSM_ASSERT(0 <= partIndex && partIndex < this.getPartCount());\n            return this._partOpacities[partIndex];\n        };\n        CubismModel.prototype.getPartOpacityById = function (partId) {\n            var index = this.getPartIndex(partId);\n            if (index < 0) {\n                return 0;\n            }\n            return this.getPartOpacityByIndex(index);\n        };\n        CubismModel.prototype.getParameterIndex = function (parameterId) {\n            var parameterIndex;\n            var idCount = this._model.parameters.count;\n            for (parameterIndex = 0; parameterIndex < idCount; ++parameterIndex) {\n                if (parameterId != this._parameterIds.at(parameterIndex)) {\n                    continue;\n                }\n                return parameterIndex;\n            }\n            if (this._notExistParameterId.isExist(parameterId)) {\n                return this._notExistParameterId.getValue(parameterId);\n            }\n            parameterIndex =\n                this._model.parameters.count + this._notExistParameterId.getSize();\n            this._notExistParameterId.setValue(parameterId, parameterIndex);\n            this._notExistParameterValues.appendKey(parameterIndex);\n            return parameterIndex;\n        };\n        CubismModel.prototype.getParameterCount = function () {\n            return this._model.parameters.count;\n        };\n        CubismModel.prototype.getParameterMaximumValue = function (parameterIndex) {\n            return this._model.parameters.maximumValues[parameterIndex];\n        };\n        CubismModel.prototype.getParameterMinimumValue = function (parameterIndex) {\n            return this._model.parameters.minimumValues[parameterIndex];\n        };\n        CubismModel.prototype.getParameterDefaultValue = function (parameterIndex) {\n            return this._model.parameters.defaultValues[parameterIndex];\n        };\n        CubismModel.prototype.getParameterValueByIndex = function (parameterIndex) {\n            if (this._notExistParameterValues.isExist(parameterIndex)) {\n                return this._notExistParameterValues.getValue(parameterIndex);\n            }\n            cubismdebug_1.CSM_ASSERT(0 <= parameterIndex && parameterIndex < this.getParameterCount());\n            return this._parameterValues[parameterIndex];\n        };\n        CubismModel.prototype.getParameterValueById = function (parameterId) {\n            var parameterIndex = this.getParameterIndex(parameterId);\n            return this.getParameterValueByIndex(parameterIndex);\n        };\n        CubismModel.prototype.setParameterValueByIndex = function (parameterIndex, value, weight) {\n            if (weight === void 0) { weight = 1.0; }\n            if (this._notExistParameterValues.isExist(parameterIndex)) {\n                this._notExistParameterValues.setValue(parameterIndex, weight == 1\n                    ? value\n                    : this._notExistParameterValues.getValue(parameterIndex) *\n                        (1 - weight) +\n                        value * weight);\n                return;\n            }\n            cubismdebug_1.CSM_ASSERT(0 <= parameterIndex && parameterIndex < this.getParameterCount());\n            if (this._model.parameters.maximumValues[parameterIndex] < value) {\n                value = this._model.parameters.maximumValues[parameterIndex];\n            }\n            if (this._model.parameters.minimumValues[parameterIndex] > value) {\n                value = this._model.parameters.minimumValues[parameterIndex];\n            }\n            this._parameterValues[parameterIndex] =\n                weight == 1\n                    ? value\n                    : (this._parameterValues[parameterIndex] =\n                        this._parameterValues[parameterIndex] * (1 - weight) +\n                            value * weight);\n        };\n        CubismModel.prototype.setParameterValueById = function (parameterId, value, weight) {\n            if (weight === void 0) { weight = 1.0; }\n            var index = this.getParameterIndex(parameterId);\n            this.setParameterValueByIndex(index, value, weight);\n        };\n        CubismModel.prototype.addParameterValueByIndex = function (parameterIndex, value, weight) {\n            if (weight === void 0) { weight = 1.0; }\n            this.setParameterValueByIndex(parameterIndex, this.getParameterValueByIndex(parameterIndex) + value * weight);\n        };\n        CubismModel.prototype.addParameterValueById = function (parameterId, value, weight) {\n            if (weight === void 0) { weight = 1.0; }\n            var index = this.getParameterIndex(parameterId);\n            this.addParameterValueByIndex(index, value, weight);\n        };\n        CubismModel.prototype.multiplyParameterValueById = function (parameterId, value, weight) {\n            if (weight === void 0) { weight = 1.0; }\n            var index = this.getParameterIndex(parameterId);\n            this.multiplyParameterValueByIndex(index, value, weight);\n        };\n        CubismModel.prototype.multiplyParameterValueByIndex = function (parameterIndex, value, weight) {\n            if (weight === void 0) { weight = 1.0; }\n            this.setParameterValueByIndex(parameterIndex, this.getParameterValueByIndex(parameterIndex) *\n                (1.0 + (value - 1.0) * weight));\n        };\n        CubismModel.prototype.getDrawableIndex = function (drawableId) {\n            var drawableCount = this._model.drawables.count;\n            for (var drawableIndex = 0; drawableIndex < drawableCount; ++drawableIndex) {\n                if (this._drawableIds.at(drawableIndex) == drawableId) {\n                    return drawableIndex;\n                }\n            }\n            return -1;\n        };\n        CubismModel.prototype.getDrawableCount = function () {\n            var drawableCount = this._model.drawables.count;\n            return drawableCount;\n        };\n        CubismModel.prototype.getDrawableId = function (drawableIndex) {\n            var parameterIds = this._model.drawables.ids;\n            return CubismFramework.getIdManager().getId(parameterIds[drawableIndex]);\n        };\n        CubismModel.prototype.getDrawableRenderOrders = function () {\n            var renderOrders = this._model.drawables.renderOrders;\n            return renderOrders;\n        };\n        CubismModel.prototype.getDrawableTextureIndices = function (drawableIndex) {\n            var textureIndices = this._model.drawables.textureIndices;\n            return textureIndices[drawableIndex];\n        };\n        CubismModel.prototype.getDrawableDynamicFlagVertexPositionsDidChange = function (drawableIndex) {\n            var dynamicFlags = this._model.drawables.dynamicFlags;\n            return Live2DCubismCore.Utils.hasVertexPositionsDidChangeBit(dynamicFlags[drawableIndex]);\n        };\n        CubismModel.prototype.getDrawableVertexIndexCount = function (drawableIndex) {\n            var indexCounts = this._model.drawables.indexCounts;\n            return indexCounts[drawableIndex];\n        };\n        CubismModel.prototype.getDrawableVertexCount = function (drawableIndex) {\n            var vertexCounts = this._model.drawables.vertexCounts;\n            return vertexCounts[drawableIndex];\n        };\n        CubismModel.prototype.getDrawableVertices = function (drawableIndex) {\n            return this.getDrawableVertexPositions(drawableIndex);\n        };\n        CubismModel.prototype.getDrawableVertexIndices = function (drawableIndex) {\n            var indicesArray = this._model.drawables.indices;\n            return indicesArray[drawableIndex];\n        };\n        CubismModel.prototype.getDrawableVertexPositions = function (drawableIndex) {\n            var verticesArray = this._model.drawables\n                .vertexPositions;\n            return verticesArray[drawableIndex];\n        };\n        CubismModel.prototype.getDrawableVertexUvs = function (drawableIndex) {\n            var uvsArray = this._model.drawables.vertexUvs;\n            return uvsArray[drawableIndex];\n        };\n        CubismModel.prototype.getDrawableOpacity = function (drawableIndex) {\n            var opacities = this._model.drawables.opacities;\n            return opacities[drawableIndex];\n        };\n        CubismModel.prototype.getDrawableCulling = function (drawableIndex) {\n            var constantFlags = this._model.drawables.constantFlags;\n            return !Live2DCubismCore.Utils.hasIsDoubleSidedBit(constantFlags[drawableIndex]);\n        };\n        CubismModel.prototype.getDrawableBlendMode = function (drawableIndex) {\n            var constantFlags = this._model.drawables.constantFlags;\n            return Live2DCubismCore.Utils.hasBlendAdditiveBit(constantFlags[drawableIndex])\n                ? CubismBlendMode.CubismBlendMode_Additive\n                : Live2DCubismCore.Utils.hasBlendMultiplicativeBit(constantFlags[drawableIndex])\n                    ? CubismBlendMode.CubismBlendMode_Multiplicative\n                    : CubismBlendMode.CubismBlendMode_Normal;\n        };\n        CubismModel.prototype.getDrawableInvertedMaskBit = function (drawableIndex) {\n            var constantFlags = this._model.drawables.constantFlags;\n            return Live2DCubismCore.Utils.hasIsInvertedMaskBit(constantFlags[drawableIndex]);\n        };\n        CubismModel.prototype.getDrawableMasks = function () {\n            var masks = this._model.drawables.masks;\n            return masks;\n        };\n        CubismModel.prototype.getDrawableMaskCounts = function () {\n            var maskCounts = this._model.drawables.maskCounts;\n            return maskCounts;\n        };\n        CubismModel.prototype.isUsingMasking = function () {\n            for (var d = 0; d < this._model.drawables.count; ++d) {\n                if (this._model.drawables.maskCounts[d] <= 0) {\n                    continue;\n                }\n                return true;\n            }\n            return false;\n        };\n        CubismModel.prototype.getDrawableDynamicFlagIsVisible = function (drawableIndex) {\n            var dynamicFlags = this._model.drawables.dynamicFlags;\n            return Live2DCubismCore.Utils.hasIsVisibleBit(dynamicFlags[drawableIndex]);\n        };\n        CubismModel.prototype.getDrawableDynamicFlagVisibilityDidChange = function (drawableIndex) {\n            var dynamicFlags = this._model.drawables.dynamicFlags;\n            return Live2DCubismCore.Utils.hasVisibilityDidChangeBit(dynamicFlags[drawableIndex]);\n        };\n        CubismModel.prototype.getDrawableDynamicFlagOpacityDidChange = function (drawableIndex) {\n            var dynamicFlags = this._model.drawables.dynamicFlags;\n            return Live2DCubismCore.Utils.hasOpacityDidChangeBit(dynamicFlags[drawableIndex]);\n        };\n        CubismModel.prototype.getDrawableDynamicFlagRenderOrderDidChange = function (drawableIndex) {\n            var dynamicFlags = this._model.drawables.dynamicFlags;\n            return Live2DCubismCore.Utils.hasRenderOrderDidChangeBit(dynamicFlags[drawableIndex]);\n        };\n        CubismModel.prototype.loadParameters = function () {\n            var parameterCount = this._model.parameters.count;\n            var savedParameterCount = this._savedParameters.getSize();\n            if (parameterCount > savedParameterCount) {\n                parameterCount = savedParameterCount;\n            }\n            for (var i = 0; i < parameterCount; ++i) {\n                this._parameterValues[i] = this._savedParameters.at(i);\n            }\n        };\n        CubismModel.prototype.initialize = function () {\n            cubismdebug_1.CSM_ASSERT(this._model);\n            this._parameterValues = this._model.parameters.values;\n            this._partOpacities = this._model.parts.opacities;\n            this._parameterMaximumValues = this._model.parameters.maximumValues;\n            this._parameterMinimumValues = this._model.parameters.minimumValues;\n            {\n                var parameterIds = this._model.parameters.ids;\n                var parameterCount = this._model.parameters.count;\n                this._parameterIds.prepareCapacity(parameterCount);\n                for (var i = 0; i < parameterCount; ++i) {\n                    this._parameterIds.pushBack(CubismFramework.getIdManager().getId(parameterIds[i]));\n                }\n            }\n            {\n                var partIds = this._model.parts.ids;\n                var partCount = this._model.parts.count;\n                this._partIds.prepareCapacity(partCount);\n                for (var i = 0; i < partCount; ++i) {\n                    this._partIds.pushBack(CubismFramework.getIdManager().getId(partIds[i]));\n                }\n            }\n            {\n                var drawableIds = this._model.drawables.ids;\n                var drawableCount = this._model.drawables.count;\n                this._drawableIds.prepareCapacity(drawableCount);\n                for (var i = 0; i < drawableCount; ++i) {\n                    this._drawableIds.pushBack(CubismFramework.getIdManager().getId(drawableIds[i]));\n                }\n            }\n        };\n        CubismModel.prototype.release = function () {\n            this._model.release();\n            this._model = null;\n        };\n        return CubismModel;\n    }());\n    Live2DCubismFramework.CubismModel = CubismModel;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21vZGVsL2N1YmlzbW1vZGVsLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vRnJhbWV3b3JrL3NyYy9tb2RlbC9jdWJpc21tb2RlbC50cz85MzU0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0KGMpIExpdmUyRCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcbiAqIHRoYXQgY2FuIGJlIGZvdW5kIGF0IGh0dHBzOi8vd3d3LmxpdmUyZC5jb20vZXVsYS9saXZlMmQtb3Blbi1zb2Z0d2FyZS1saWNlbnNlLWFncmVlbWVudF9lbi5odG1sLlxuICovXG5cbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21yZW5kZXJlciB9IGZyb20gJy4uL3JlbmRlcmluZy9jdWJpc21yZW5kZXJlcic7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtaWQgfSBmcm9tICcuLi9pZC9jdWJpc21pZCc7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtZnJhbWV3b3JrIH0gZnJvbSAnLi4vbGl2ZTJkY3ViaXNtZnJhbWV3b3JrJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjc21tYXAgfSBmcm9tICcuLi90eXBlL2NzbW1hcCc7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3NtdmVjdG9yIH0gZnJvbSAnLi4vdHlwZS9jc212ZWN0b3InO1xuaW1wb3J0IHsgQ1NNX0FTU0VSVCB9IGZyb20gJy4uL3V0aWxzL2N1YmlzbWRlYnVnJztcbmltcG9ydCBDdWJpc21GcmFtZXdvcmsgPSBjdWJpc21mcmFtZXdvcmsuQ3ViaXNtRnJhbWV3b3JrO1xuaW1wb3J0IEN1YmlzbUJsZW5kTW9kZSA9IGN1YmlzbXJlbmRlcmVyLkN1YmlzbUJsZW5kTW9kZTtcbmltcG9ydCBjc21WZWN0b3IgPSBjc212ZWN0b3IuY3NtVmVjdG9yO1xuaW1wb3J0IGNzbU1hcCA9IGNzbW1hcC5jc21NYXA7XG5pbXBvcnQgQ3ViaXNtSWRIYW5kbGUgPSBjdWJpc21pZC5DdWJpc21JZEhhbmRsZTtcblxuZXhwb3J0IG5hbWVzcGFjZSBMaXZlMkRDdWJpc21GcmFtZXdvcmsge1xuICAvKipcbiAgICog44Oi44OH44OrXG4gICAqXG4gICAqIE1vY+ODh+ODvOOCv+OBi+OCieeUn+aIkOOBleOCjOOCi+ODouODh+ODq+OBruOCr+ODqeOCueOAglxuICAgKi9cbiAgZXhwb3J0IGNsYXNzIEN1YmlzbU1vZGVsIHtcbiAgICAvKipcbiAgICAgKiDjg6Ljg4fjg6vjga7jg5Hjg6njg6Hjg7zjgr/jga7mm7TmlrBcbiAgICAgKi9cbiAgICBwdWJsaWMgdXBkYXRlKCk6IHZvaWQge1xuICAgICAgLy8gVXBkYXRlIG1vZGVsXG4gICAgICB0aGlzLl9tb2RlbC51cGRhdGUoKTtcblxuICAgICAgdGhpcy5fbW9kZWwuZHJhd2FibGVzLnJlc2V0RHluYW1pY0ZsYWdzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Kt44Oj44Oz44OQ44K544Gu5bmF44KS5Y+W5b6X44GZ44KLXG4gICAgICovXG4gICAgcHVibGljIGdldENhbnZhc1dpZHRoKCk6IG51bWJlciB7XG4gICAgICBpZiAodGhpcy5fbW9kZWwgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gMC4wO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gKFxuICAgICAgICB0aGlzLl9tb2RlbC5jYW52YXNpbmZvLkNhbnZhc1dpZHRoIC9cbiAgICAgICAgdGhpcy5fbW9kZWwuY2FudmFzaW5mby5QaXhlbHNQZXJVbml0XG4gICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOOCreODo+ODs+ODkOOCueOBrumrmOOBleOCkuWPluW+l+OBmeOCi1xuICAgICAqL1xuICAgIHB1YmxpYyBnZXRDYW52YXNIZWlnaHQoKTogbnVtYmVyIHtcbiAgICAgIGlmICh0aGlzLl9tb2RlbCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAwLjA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIHRoaXMuX21vZGVsLmNhbnZhc2luZm8uQ2FudmFzSGVpZ2h0IC9cbiAgICAgICAgdGhpcy5fbW9kZWwuY2FudmFzaW5mby5QaXhlbHNQZXJVbml0XG4gICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODkeODqeODoeODvOOCv+OCkuS/neWtmOOBmeOCi1xuICAgICAqL1xuICAgIHB1YmxpYyBzYXZlUGFyYW1ldGVycygpOiB2b2lkIHtcbiAgICAgIGNvbnN0IHBhcmFtZXRlckNvdW50OiBudW1iZXIgPSB0aGlzLl9tb2RlbC5wYXJhbWV0ZXJzLmNvdW50O1xuICAgICAgY29uc3Qgc2F2ZWRQYXJhbWV0ZXJDb3VudDogbnVtYmVyID0gdGhpcy5fc2F2ZWRQYXJhbWV0ZXJzLmdldFNpemUoKTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJhbWV0ZXJDb3VudDsgKytpKSB7XG4gICAgICAgIGlmIChpIDwgc2F2ZWRQYXJhbWV0ZXJDb3VudCkge1xuICAgICAgICAgIHRoaXMuX3NhdmVkUGFyYW1ldGVycy5zZXQoaSwgdGhpcy5fcGFyYW1ldGVyVmFsdWVzW2ldKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9zYXZlZFBhcmFtZXRlcnMucHVzaEJhY2sodGhpcy5fcGFyYW1ldGVyVmFsdWVzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODouODh+ODq+OCkuWPluW+l1xuICAgICAqL1xuICAgIHB1YmxpYyBnZXRNb2RlbCgpOiBMaXZlMkRDdWJpc21Db3JlLk1vZGVsIHtcbiAgICAgIHJldHVybiB0aGlzLl9tb2RlbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg5Hjg7zjg4Tjga7jgqTjg7Pjg4fjg4Pjgq/jgrnjgpLlj5blvpdcbiAgICAgKiBAcGFyYW0gcGFydElkIOODkeODvOODhOOBrklEXG4gICAgICogQHJldHVybiDjg5Hjg7zjg4Tjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0UGFydEluZGV4KHBhcnRJZDogQ3ViaXNtSWRIYW5kbGUpOiBudW1iZXIge1xuICAgICAgbGV0IHBhcnRJbmRleDogbnVtYmVyO1xuICAgICAgY29uc3QgcGFydENvdW50OiBudW1iZXIgPSB0aGlzLl9tb2RlbC5wYXJ0cy5jb3VudDtcblxuICAgICAgZm9yIChwYXJ0SW5kZXggPSAwOyBwYXJ0SW5kZXggPCBwYXJ0Q291bnQ7ICsrcGFydEluZGV4KSB7XG4gICAgICAgIGlmIChwYXJ0SWQgPT0gdGhpcy5fcGFydElkcy5hdChwYXJ0SW5kZXgpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnRJbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyDjg6Ljg4fjg6vjgavlrZjlnKjjgZfjgabjgYTjgarjgYTloLTlkIjjgIHpnZ7lrZjlnKjjg5Hjg7zjg4RJROODquOCueODiOWGheOBq+OBguOCi+OBi+OCkuaknOe0ouOBl+OAgeOBneOBruOCpOODs+ODh+ODg+OCr+OCueOCkui/lOOBmVxuICAgICAgaWYgKHRoaXMuX25vdEV4aXN0UGFydElkLmlzRXhpc3QocGFydElkKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbm90RXhpc3RQYXJ0SWQuZ2V0VmFsdWUocGFydElkKTtcbiAgICAgIH1cblxuICAgICAgLy8g6Z2e5a2Y5Zyo44OR44O844OESUTjg6rjgrnjg4jjgavjgarjgYTloLTlkIjjgIHmlrDjgZfjgY/opoHntKDjgpLov73liqDjgZnjgotcbiAgICAgIHBhcnRJbmRleCA9IHBhcnRDb3VudCArIHRoaXMuX25vdEV4aXN0UGFydElkLmdldFNpemUoKTtcbiAgICAgIHRoaXMuX25vdEV4aXN0UGFydElkLnNldFZhbHVlKHBhcnRJZCwgcGFydEluZGV4KTtcbiAgICAgIHRoaXMuX25vdEV4aXN0UGFydE9wYWNpdGllcy5hcHBlbmRLZXkocGFydEluZGV4KTtcblxuICAgICAgcmV0dXJuIHBhcnRJbmRleDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg5Hjg7zjg4Tjga7lgIvmlbDjga7lj5blvpdcbiAgICAgKiBAcmV0dXJuIOODkeODvOODhOOBruWAi+aVsFxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRQYXJ0Q291bnQoKTogbnVtYmVyIHtcbiAgICAgIGNvbnN0IHBhcnRDb3VudDogbnVtYmVyID0gdGhpcy5fbW9kZWwucGFydHMuY291bnQ7XG4gICAgICByZXR1cm4gcGFydENvdW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODkeODvOODhOOBruS4jemAj+aYjuW6puOBruioreWumihJbmRleClcbiAgICAgKiBAcGFyYW0gcGFydEluZGV4IOODkeODvOODhOOBruOCpOODs+ODh+ODg+OCr+OCuVxuICAgICAqIEBwYXJhbSBvcGFjaXR5IOS4jemAj+aYjuW6plxuICAgICAqL1xuICAgIHB1YmxpYyBzZXRQYXJ0T3BhY2l0eUJ5SW5kZXgocGFydEluZGV4OiBudW1iZXIsIG9wYWNpdHk6IG51bWJlcik6IHZvaWQge1xuICAgICAgaWYgKHRoaXMuX25vdEV4aXN0UGFydE9wYWNpdGllcy5pc0V4aXN0KHBhcnRJbmRleCkpIHtcbiAgICAgICAgdGhpcy5fbm90RXhpc3RQYXJ0T3BhY2l0aWVzLnNldFZhbHVlKHBhcnRJbmRleCwgb3BhY2l0eSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8g44Kk44Oz44OH44OD44Kv44K544Gu56+E5Zuy5YaF5qSc55+lXG4gICAgICBDU01fQVNTRVJUKDAgPD0gcGFydEluZGV4ICYmIHBhcnRJbmRleCA8IHRoaXMuZ2V0UGFydENvdW50KCkpO1xuXG4gICAgICB0aGlzLl9wYXJ0T3BhY2l0aWVzW3BhcnRJbmRleF0gPSBvcGFjaXR5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODkeODvOODhOOBruS4jemAj+aYjuW6puOBruioreWumihJZClcbiAgICAgKiBAcGFyYW0gcGFydElkIOODkeODvOODhOOBrklEXG4gICAgICogQHBhcmFtIG9wYWNpdHkg44OR44O844OE44Gu5LiN6YCP5piO5bqmXG4gICAgICovXG4gICAgcHVibGljIHNldFBhcnRPcGFjaXR5QnlJZChwYXJ0SWQ6IEN1YmlzbUlkSGFuZGxlLCBvcGFjaXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgIC8vIOmrmOmAn+WMluOBruOBn+OCgeOBq1BhcnRJbmRleOOCkuWPluW+l+OBp+OBjeOCi+apn+ani+OBq+OBquOBo+OBpuOBhOOCi+OBjOOAgeWklumDqOOBi+OCieOBruioreWumuOBruaZguOBr+WRvOOBs+WHuuOBl+mgu+W6puOBjOS9juOBhOOBn+OCgeS4jeimgVxuICAgICAgY29uc3QgaW5kZXg6IG51bWJlciA9IHRoaXMuZ2V0UGFydEluZGV4KHBhcnRJZCk7XG5cbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuOyAvLyDjg5Hjg7zjg4TjgYzjgarjgYTjga7jgafjgrnjgq3jg4Pjg5dcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRQYXJ0T3BhY2l0eUJ5SW5kZXgoaW5kZXgsIG9wYWNpdHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODkeODvOODhOOBruS4jemAj+aYjuW6puOBruWPluW+lyhpbmRleClcbiAgICAgKiBAcGFyYW0gcGFydEluZGV4IOODkeODvOODhOOBruOCpOODs+ODh+ODg+OCr+OCuVxuICAgICAqIEByZXR1cm4g44OR44O844OE44Gu5LiN6YCP5piO5bqmXG4gICAgICovXG4gICAgcHVibGljIGdldFBhcnRPcGFjaXR5QnlJbmRleChwYXJ0SW5kZXg6IG51bWJlcik6IG51bWJlciB7XG4gICAgICBpZiAodGhpcy5fbm90RXhpc3RQYXJ0T3BhY2l0aWVzLmlzRXhpc3QocGFydEluZGV4KSkge1xuICAgICAgICAvLyDjg6Ljg4fjg6vjgavlrZjlnKjjgZfjgarjgYTjg5Hjg7zjg4RJROOBruWgtOWQiOOAgemdnuWtmOWcqOODkeODvOODhOODquOCueODiOOBi+OCieS4jemAj+aYjuW6puOCkui/lOOBmeOAglxuICAgICAgICByZXR1cm4gdGhpcy5fbm90RXhpc3RQYXJ0T3BhY2l0aWVzLmdldFZhbHVlKHBhcnRJbmRleCk7XG4gICAgICB9XG5cbiAgICAgIC8vIOOCpOODs+ODh+ODg+OCr+OCueOBruevhOWbsuWGheaknOefpVxuICAgICAgQ1NNX0FTU0VSVCgwIDw9IHBhcnRJbmRleCAmJiBwYXJ0SW5kZXggPCB0aGlzLmdldFBhcnRDb3VudCgpKTtcblxuICAgICAgcmV0dXJuIHRoaXMuX3BhcnRPcGFjaXRpZXNbcGFydEluZGV4XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg5Hjg7zjg4Tjga7kuI3pgI/mmI7luqbjga7lj5blvpcoaWQpXG4gICAgICogQHBhcmFtIHBhcnRJZCDjg5Hjg7zjg4Tjga7vvKnvvYRcbiAgICAgKiBAcmV0dXJuIOODkeODvOODhOOBruS4jemAj+aYjuW6plxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRQYXJ0T3BhY2l0eUJ5SWQocGFydElkOiBDdWJpc21JZEhhbmRsZSk6IG51bWJlciB7XG4gICAgICAvLyDpq5jpgJ/ljJbjga7jgZ/jgoHjgatQYXJ0SW5kZXjjgpLlj5blvpfjgafjgY3jgovmqZ/mp4vjgavjgarjgaPjgabjgYTjgovjgYzjgIHlpJbpg6jjgYvjgonjga7oqK3lrprjga7mmYLjga/lkbzjgbPlh7rjgZfpoLvluqbjgYzkvY7jgYTjgZ/jgoHkuI3opoFcbiAgICAgIGNvbnN0IGluZGV4OiBudW1iZXIgPSB0aGlzLmdldFBhcnRJbmRleChwYXJ0SWQpO1xuXG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybiAwOyAvLyDjg5Hjg7zjg4TjgYznhKHjgYTjga7jgafjgrnjgq3jg4Pjg5dcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuZ2V0UGFydE9wYWNpdHlCeUluZGV4KGluZGV4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg5Hjg6njg6Hjg7zjgr/jga7jgqTjg7Pjg4fjg4Pjgq/jgrnjga7lj5blvpdcbiAgICAgKiBAcGFyYW0g44OR44Op44Oh44O844K/SURcbiAgICAgKiBAcmV0dXJuIOODkeODqeODoeODvOOCv+OBruOCpOODs+ODh+ODg+OCr+OCuVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRQYXJhbWV0ZXJJbmRleChwYXJhbWV0ZXJJZDogQ3ViaXNtSWRIYW5kbGUpOiBudW1iZXIge1xuICAgICAgbGV0IHBhcmFtZXRlckluZGV4OiBudW1iZXI7XG4gICAgICBjb25zdCBpZENvdW50OiBudW1iZXIgPSB0aGlzLl9tb2RlbC5wYXJhbWV0ZXJzLmNvdW50O1xuXG4gICAgICBmb3IgKHBhcmFtZXRlckluZGV4ID0gMDsgcGFyYW1ldGVySW5kZXggPCBpZENvdW50OyArK3BhcmFtZXRlckluZGV4KSB7XG4gICAgICAgIGlmIChwYXJhbWV0ZXJJZCAhPSB0aGlzLl9wYXJhbWV0ZXJJZHMuYXQocGFyYW1ldGVySW5kZXgpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGFyYW1ldGVySW5kZXg7XG4gICAgICB9XG5cbiAgICAgIC8vIOODouODh+ODq+OBq+WtmOWcqOOBl+OBpuOBhOOBquOBhOWgtOWQiOOAgemdnuWtmOWcqOODkeODqeODoeODvOOCv0lE44Oq44K544OI5YaF44KS5qSc57Si44GX44CB44Gd44Gu44Kk44Oz44OH44OD44Kv44K544KS6L+U44GZXG4gICAgICBpZiAodGhpcy5fbm90RXhpc3RQYXJhbWV0ZXJJZC5pc0V4aXN0KHBhcmFtZXRlcklkKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbm90RXhpc3RQYXJhbWV0ZXJJZC5nZXRWYWx1ZShwYXJhbWV0ZXJJZCk7XG4gICAgICB9XG5cbiAgICAgIC8vIOmdnuWtmOWcqOODkeODqeODoeODvOOCv0lE44Oq44K544OI44Gr44Gq44GE5aC05ZCI5paw44GX44GP6KaB57Sg44KS6L+95Yqg44GZ44KLXG4gICAgICBwYXJhbWV0ZXJJbmRleCA9XG4gICAgICAgIHRoaXMuX21vZGVsLnBhcmFtZXRlcnMuY291bnQgKyB0aGlzLl9ub3RFeGlzdFBhcmFtZXRlcklkLmdldFNpemUoKTtcblxuICAgICAgdGhpcy5fbm90RXhpc3RQYXJhbWV0ZXJJZC5zZXRWYWx1ZShwYXJhbWV0ZXJJZCwgcGFyYW1ldGVySW5kZXgpO1xuICAgICAgdGhpcy5fbm90RXhpc3RQYXJhbWV0ZXJWYWx1ZXMuYXBwZW5kS2V5KHBhcmFtZXRlckluZGV4KTtcblxuICAgICAgcmV0dXJuIHBhcmFtZXRlckluZGV4O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODkeODqeODoeODvOOCv+OBruWAi+aVsOOBruWPluW+l1xuICAgICAqIEByZXR1cm4g44OR44Op44Oh44O844K/44Gu5YCL5pWwXG4gICAgICovXG4gICAgcHVibGljIGdldFBhcmFtZXRlckNvdW50KCk6IG51bWJlciB7XG4gICAgICByZXR1cm4gdGhpcy5fbW9kZWwucGFyYW1ldGVycy5jb3VudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg5Hjg6njg6Hjg7zjgr/jga7mnIDlpKflgKTjga7lj5blvpdcbiAgICAgKiBAcGFyYW0gcGFyYW1ldGVySW5kZXgg44OR44Op44Oh44O844K/44Gu44Kk44Oz44OH44OD44Kv44K5XG4gICAgICogQHJldHVybiDjg5Hjg6njg6Hjg7zjgr/jga7mnIDlpKflgKRcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0UGFyYW1ldGVyTWF4aW11bVZhbHVlKHBhcmFtZXRlckluZGV4OiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHRoaXMuX21vZGVsLnBhcmFtZXRlcnMubWF4aW11bVZhbHVlc1twYXJhbWV0ZXJJbmRleF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44OR44Op44Oh44O844K/44Gu5pyA5bCP5YCk44Gu5Y+W5b6XXG4gICAgICogQHBhcmFtIHBhcmFtZXRlckluZGV4IOODkeODqeODoeODvOOCv+OBruOCpOODs+ODh+ODg+OCr+OCuVxuICAgICAqIEByZXR1cm4g44OR44Op44Oh44O844K/44Gu5pyA5bCP5YCkXG4gICAgICovXG4gICAgcHVibGljIGdldFBhcmFtZXRlck1pbmltdW1WYWx1ZShwYXJhbWV0ZXJJbmRleDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiB0aGlzLl9tb2RlbC5wYXJhbWV0ZXJzLm1pbmltdW1WYWx1ZXNbcGFyYW1ldGVySW5kZXhdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODkeODqeODoeODvOOCv+OBruODh+ODleOCqeODq+ODiOWApOOBruWPluW+l1xuICAgICAqIEBwYXJhbSBwYXJhbWV0ZXJJbmRleCDjg5Hjg6njg6Hjg7zjgr/jga7jgqTjg7Pjg4fjg4Pjgq/jgrlcbiAgICAgKiBAcmV0dXJuIOODkeODqeODoeODvOOCv+OBruODh+ODleOCqeODq+ODiOWApFxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRQYXJhbWV0ZXJEZWZhdWx0VmFsdWUocGFyYW1ldGVySW5kZXg6IG51bWJlcik6IG51bWJlciB7XG4gICAgICByZXR1cm4gdGhpcy5fbW9kZWwucGFyYW1ldGVycy5kZWZhdWx0VmFsdWVzW3BhcmFtZXRlckluZGV4XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg5Hjg6njg6Hjg7zjgr/jga7lgKTjga7lj5blvpdcbiAgICAgKiBAcGFyYW0gcGFyYW1ldGVySW5kZXggICAg44OR44Op44Oh44O844K/44Gu44Kk44Oz44OH44OD44Kv44K5XG4gICAgICogQHJldHVybiDjg5Hjg6njg6Hjg7zjgr/jga7lgKRcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0UGFyYW1ldGVyVmFsdWVCeUluZGV4KHBhcmFtZXRlckluZGV4OiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgaWYgKHRoaXMuX25vdEV4aXN0UGFyYW1ldGVyVmFsdWVzLmlzRXhpc3QocGFyYW1ldGVySW5kZXgpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ub3RFeGlzdFBhcmFtZXRlclZhbHVlcy5nZXRWYWx1ZShwYXJhbWV0ZXJJbmRleCk7XG4gICAgICB9XG5cbiAgICAgIC8vIOOCpOODs+ODh+ODg+OCr+OCueOBruevhOWbsuWGheaknOefpVxuICAgICAgQ1NNX0FTU0VSVChcbiAgICAgICAgMCA8PSBwYXJhbWV0ZXJJbmRleCAmJiBwYXJhbWV0ZXJJbmRleCA8IHRoaXMuZ2V0UGFyYW1ldGVyQ291bnQoKVxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIHRoaXMuX3BhcmFtZXRlclZhbHVlc1twYXJhbWV0ZXJJbmRleF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44OR44Op44Oh44O844K/44Gu5YCk44Gu5Y+W5b6XXG4gICAgICogQHBhcmFtIHBhcmFtZXRlcklkICAgIOODkeODqeODoeODvOOCv+OBrklEXG4gICAgICogQHJldHVybiDjg5Hjg6njg6Hjg7zjgr/jga7lgKRcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0UGFyYW1ldGVyVmFsdWVCeUlkKHBhcmFtZXRlcklkOiBDdWJpc21JZEhhbmRsZSk6IG51bWJlciB7XG4gICAgICAvLyDpq5jpgJ/ljJbjga7jgZ/jgoHjgatwYXJhbWV0ZXJJbmRleOOCkuWPluW+l+OBp+OBjeOCi+apn+ani+OBq+OBquOBo+OBpuOBhOOCi+OBjOOAgeWklumDqOOBi+OCieOBruioreWumuOBruaZguOBr+WRvOOBs+WHuuOBl+mgu+W6puOBjOS9juOBhOOBn+OCgeS4jeimgVxuICAgICAgY29uc3QgcGFyYW1ldGVySW5kZXg6IG51bWJlciA9IHRoaXMuZ2V0UGFyYW1ldGVySW5kZXgocGFyYW1ldGVySWQpO1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0UGFyYW1ldGVyVmFsdWVCeUluZGV4KHBhcmFtZXRlckluZGV4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg5Hjg6njg6Hjg7zjgr/jga7lgKTjga7oqK3lrppcbiAgICAgKiBAcGFyYW0gcGFyYW1ldGVySW5kZXgg44OR44Op44Oh44O844K/44Gu44Kk44Oz44OH44OD44Kv44K5XG4gICAgICogQHBhcmFtIHZhbHVlIOODkeODqeODoeODvOOCv+OBruWApFxuICAgICAqIEBwYXJhbSB3ZWlnaHQg6YeN44G/XG4gICAgICovXG4gICAgcHVibGljIHNldFBhcmFtZXRlclZhbHVlQnlJbmRleChcbiAgICAgIHBhcmFtZXRlckluZGV4OiBudW1iZXIsXG4gICAgICB2YWx1ZTogbnVtYmVyLFxuICAgICAgd2VpZ2h0ID0gMS4wXG4gICAgKTogdm9pZCB7XG4gICAgICBpZiAodGhpcy5fbm90RXhpc3RQYXJhbWV0ZXJWYWx1ZXMuaXNFeGlzdChwYXJhbWV0ZXJJbmRleCkpIHtcbiAgICAgICAgdGhpcy5fbm90RXhpc3RQYXJhbWV0ZXJWYWx1ZXMuc2V0VmFsdWUoXG4gICAgICAgICAgcGFyYW1ldGVySW5kZXgsXG4gICAgICAgICAgd2VpZ2h0ID09IDFcbiAgICAgICAgICAgID8gdmFsdWVcbiAgICAgICAgICAgIDogdGhpcy5fbm90RXhpc3RQYXJhbWV0ZXJWYWx1ZXMuZ2V0VmFsdWUocGFyYW1ldGVySW5kZXgpICpcbiAgICAgICAgICAgICAgICAoMSAtIHdlaWdodCkgK1xuICAgICAgICAgICAgICAgIHZhbHVlICogd2VpZ2h0XG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyDjgqTjg7Pjg4fjg4Pjgq/jgrnjga7nr4Tlm7LlhoXmpJznn6VcbiAgICAgIENTTV9BU1NFUlQoXG4gICAgICAgIDAgPD0gcGFyYW1ldGVySW5kZXggJiYgcGFyYW1ldGVySW5kZXggPCB0aGlzLmdldFBhcmFtZXRlckNvdW50KClcbiAgICAgICk7XG5cbiAgICAgIGlmICh0aGlzLl9tb2RlbC5wYXJhbWV0ZXJzLm1heGltdW1WYWx1ZXNbcGFyYW1ldGVySW5kZXhdIDwgdmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSB0aGlzLl9tb2RlbC5wYXJhbWV0ZXJzLm1heGltdW1WYWx1ZXNbcGFyYW1ldGVySW5kZXhdO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX21vZGVsLnBhcmFtZXRlcnMubWluaW11bVZhbHVlc1twYXJhbWV0ZXJJbmRleF0gPiB2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IHRoaXMuX21vZGVsLnBhcmFtZXRlcnMubWluaW11bVZhbHVlc1twYXJhbWV0ZXJJbmRleF07XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3BhcmFtZXRlclZhbHVlc1twYXJhbWV0ZXJJbmRleF0gPVxuICAgICAgICB3ZWlnaHQgPT0gMVxuICAgICAgICAgID8gdmFsdWVcbiAgICAgICAgICA6ICh0aGlzLl9wYXJhbWV0ZXJWYWx1ZXNbcGFyYW1ldGVySW5kZXhdID1cbiAgICAgICAgICAgICAgdGhpcy5fcGFyYW1ldGVyVmFsdWVzW3BhcmFtZXRlckluZGV4XSAqICgxIC0gd2VpZ2h0KSArXG4gICAgICAgICAgICAgIHZhbHVlICogd2VpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg5Hjg6njg6Hjg7zjgr/jga7lgKTjga7oqK3lrppcbiAgICAgKiBAcGFyYW0gcGFyYW1ldGVySWQg44OR44Op44Oh44O844K/44GuSURcbiAgICAgKiBAcGFyYW0gdmFsdWUg44OR44Op44Oh44O844K/44Gu5YCkXG4gICAgICogQHBhcmFtIHdlaWdodCDph43jgb9cbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0UGFyYW1ldGVyVmFsdWVCeUlkKFxuICAgICAgcGFyYW1ldGVySWQ6IEN1YmlzbUlkSGFuZGxlLFxuICAgICAgdmFsdWU6IG51bWJlcixcbiAgICAgIHdlaWdodCA9IDEuMFxuICAgICk6IHZvaWQge1xuICAgICAgY29uc3QgaW5kZXg6IG51bWJlciA9IHRoaXMuZ2V0UGFyYW1ldGVySW5kZXgocGFyYW1ldGVySWQpO1xuICAgICAgdGhpcy5zZXRQYXJhbWV0ZXJWYWx1ZUJ5SW5kZXgoaW5kZXgsIHZhbHVlLCB3ZWlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODkeODqeODoeODvOOCv+OBruWApOOBruWKoOeulyhpbmRleClcbiAgICAgKiBAcGFyYW0gcGFyYW1ldGVySW5kZXgg44OR44Op44Oh44O844K/44Kk44Oz44OH44OD44Kv44K5XG4gICAgICogQHBhcmFtIHZhbHVlIOWKoOeul+OBmeOCi+WApFxuICAgICAqIEBwYXJhbSB3ZWlnaHQg6YeN44G/XG4gICAgICovXG4gICAgcHVibGljIGFkZFBhcmFtZXRlclZhbHVlQnlJbmRleChcbiAgICAgIHBhcmFtZXRlckluZGV4OiBudW1iZXIsXG4gICAgICB2YWx1ZTogbnVtYmVyLFxuICAgICAgd2VpZ2h0ID0gMS4wXG4gICAgKTogdm9pZCB7XG4gICAgICB0aGlzLnNldFBhcmFtZXRlclZhbHVlQnlJbmRleChcbiAgICAgICAgcGFyYW1ldGVySW5kZXgsXG4gICAgICAgIHRoaXMuZ2V0UGFyYW1ldGVyVmFsdWVCeUluZGV4KHBhcmFtZXRlckluZGV4KSArIHZhbHVlICogd2VpZ2h0XG4gICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODkeODqeODoeODvOOCv+OBruWApOOBruWKoOeulyhpZClcbiAgICAgKiBAcGFyYW0gcGFyYW1ldGVySWQg44OR44Op44Oh44O844K/77yp77ykXG4gICAgICogQHBhcmFtIHZhbHVlIOWKoOeul+OBmeOCi+WApFxuICAgICAqIEBwYXJhbSB3ZWlnaHQg6YeN44G/XG4gICAgICovXG4gICAgcHVibGljIGFkZFBhcmFtZXRlclZhbHVlQnlJZChcbiAgICAgIHBhcmFtZXRlcklkOiBhbnksXG4gICAgICB2YWx1ZTogbnVtYmVyLFxuICAgICAgd2VpZ2h0ID0gMS4wXG4gICAgKTogdm9pZCB7XG4gICAgICBjb25zdCBpbmRleDogbnVtYmVyID0gdGhpcy5nZXRQYXJhbWV0ZXJJbmRleChwYXJhbWV0ZXJJZCk7XG4gICAgICB0aGlzLmFkZFBhcmFtZXRlclZhbHVlQnlJbmRleChpbmRleCwgdmFsdWUsIHdlaWdodCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44OR44Op44Oh44O844K/44Gu5YCk44Gu5LmX566XXG4gICAgICogQHBhcmFtIHBhcmFtZXRlcklkIOODkeODqeODoeODvOOCv+OBrklEXG4gICAgICogQHBhcmFtIHZhbHVlIOS5l+eul+OBmeOCi+WApFxuICAgICAqIEBwYXJhbSB3ZWlnaHQg6YeN44G/XG4gICAgICovXG4gICAgcHVibGljIG11bHRpcGx5UGFyYW1ldGVyVmFsdWVCeUlkKFxuICAgICAgcGFyYW1ldGVySWQ6IEN1YmlzbUlkSGFuZGxlLFxuICAgICAgdmFsdWU6IG51bWJlcixcbiAgICAgIHdlaWdodCA9IDEuMFxuICAgICk6IHZvaWQge1xuICAgICAgY29uc3QgaW5kZXg6IG51bWJlciA9IHRoaXMuZ2V0UGFyYW1ldGVySW5kZXgocGFyYW1ldGVySWQpO1xuICAgICAgdGhpcy5tdWx0aXBseVBhcmFtZXRlclZhbHVlQnlJbmRleChpbmRleCwgdmFsdWUsIHdlaWdodCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44OR44Op44Oh44O844K/44Gu5YCk44Gu5LmX566XXG4gICAgICogQHBhcmFtIHBhcmFtZXRlckluZGV4IOODkeODqeODoeODvOOCv+OBruOCpOODs+ODh+ODg+OCr+OCuVxuICAgICAqIEBwYXJhbSB2YWx1ZSDkuZfnrpfjgZnjgovlgKRcbiAgICAgKiBAcGFyYW0gd2VpZ2h0IOmHjeOBv1xuICAgICAqL1xuICAgIHB1YmxpYyBtdWx0aXBseVBhcmFtZXRlclZhbHVlQnlJbmRleChcbiAgICAgIHBhcmFtZXRlckluZGV4OiBudW1iZXIsXG4gICAgICB2YWx1ZTogbnVtYmVyLFxuICAgICAgd2VpZ2h0ID0gMS4wXG4gICAgKTogdm9pZCB7XG4gICAgICB0aGlzLnNldFBhcmFtZXRlclZhbHVlQnlJbmRleChcbiAgICAgICAgcGFyYW1ldGVySW5kZXgsXG4gICAgICAgIHRoaXMuZ2V0UGFyYW1ldGVyVmFsdWVCeUluZGV4KHBhcmFtZXRlckluZGV4KSAqXG4gICAgICAgICAgKDEuMCArICh2YWx1ZSAtIDEuMCkgKiB3ZWlnaHQpXG4gICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXdhYmxl44Gu44Kk44Oz44OH44OD44Kv44K544Gu5Y+W5b6XXG4gICAgICogQHBhcmFtIGRyYXdhYmxlSWQgRHJhd2FibGXjga5JRFxuICAgICAqIEByZXR1cm4gRHJhd2FibGXjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0RHJhd2FibGVJbmRleChkcmF3YWJsZUlkOiBDdWJpc21JZEhhbmRsZSk6IG51bWJlciB7XG4gICAgICBjb25zdCBkcmF3YWJsZUNvdW50ID0gdGhpcy5fbW9kZWwuZHJhd2FibGVzLmNvdW50O1xuXG4gICAgICBmb3IgKFxuICAgICAgICBsZXQgZHJhd2FibGVJbmRleCA9IDA7XG4gICAgICAgIGRyYXdhYmxlSW5kZXggPCBkcmF3YWJsZUNvdW50O1xuICAgICAgICArK2RyYXdhYmxlSW5kZXhcbiAgICAgICkge1xuICAgICAgICBpZiAodGhpcy5fZHJhd2FibGVJZHMuYXQoZHJhd2FibGVJbmRleCkgPT0gZHJhd2FibGVJZCkge1xuICAgICAgICAgIHJldHVybiBkcmF3YWJsZUluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEcmF3YWJsZeOBruWAi+aVsOOBruWPluW+l1xuICAgICAqIEByZXR1cm4gZHJhd2FibGXjga7lgIvmlbBcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0RHJhd2FibGVDb3VudCgpOiBudW1iZXIge1xuICAgICAgY29uc3QgZHJhd2FibGVDb3VudCA9IHRoaXMuX21vZGVsLmRyYXdhYmxlcy5jb3VudDtcbiAgICAgIHJldHVybiBkcmF3YWJsZUNvdW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXdhYmxl44GuSUTjgpLlj5blvpfjgZnjgotcbiAgICAgKiBAcGFyYW0gZHJhd2FibGVJbmRleCBEcmF3YWJsZeOBruOCpOODs+ODh+ODg+OCr+OCuVxuICAgICAqIEByZXR1cm4gZHJhd2FibGXjga5JRFxuICAgICAqL1xuICAgIHB1YmxpYyBnZXREcmF3YWJsZUlkKGRyYXdhYmxlSW5kZXg6IG51bWJlcik6IEN1YmlzbUlkSGFuZGxlIHtcbiAgICAgIGNvbnN0IHBhcmFtZXRlcklkczogc3RyaW5nW10gPSB0aGlzLl9tb2RlbC5kcmF3YWJsZXMuaWRzO1xuICAgICAgcmV0dXJuIEN1YmlzbUZyYW1ld29yay5nZXRJZE1hbmFnZXIoKS5nZXRJZChwYXJhbWV0ZXJJZHNbZHJhd2FibGVJbmRleF0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXdhYmxl44Gu5o+P55S76aCG44Oq44K544OI44Gu5Y+W5b6XXG4gICAgICogQHJldHVybiBEcmF3YWJsZeOBruaPj+eUu+mghuODquOCueODiFxuICAgICAqL1xuICAgIHB1YmxpYyBnZXREcmF3YWJsZVJlbmRlck9yZGVycygpOiBJbnQzMkFycmF5IHtcbiAgICAgIGNvbnN0IHJlbmRlck9yZGVyczogSW50MzJBcnJheSA9IHRoaXMuX21vZGVsLmRyYXdhYmxlcy5yZW5kZXJPcmRlcnM7XG4gICAgICByZXR1cm4gcmVuZGVyT3JkZXJzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXdhYmxl44Gu44OG44Kv44K544OB44Oj44Kk44Oz44OH44OD44Kv44K544Oq44K544OI44Gu5Y+W5b6XXG4gICAgICogQHBhcmFtIGRyYXdhYmxlSW5kZXggRHJhd2FibGXjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcbiAgICAgKiBAcmV0dXJuIGRyYXdhYmxl44Gu44OG44Kv44K544OB44Oj44Kk44Oz44OH44OD44Kv44K544Oq44K544OIXG4gICAgICovXG4gICAgcHVibGljIGdldERyYXdhYmxlVGV4dHVyZUluZGljZXMoZHJhd2FibGVJbmRleDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgIGNvbnN0IHRleHR1cmVJbmRpY2VzOiBJbnQzMkFycmF5ID0gdGhpcy5fbW9kZWwuZHJhd2FibGVzLnRleHR1cmVJbmRpY2VzO1xuICAgICAgcmV0dXJuIHRleHR1cmVJbmRpY2VzW2RyYXdhYmxlSW5kZXhdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXdhYmxl44GuVmVydGV4UG9zaXRpb25z44Gu5aSJ5YyW5oOF5aCx44Gu5Y+W5b6XXG4gICAgICpcbiAgICAgKiDnm7Tov5Hjga5DdWJpc21Nb2RlbC51cGRhdGXplqLmlbDjgadEcmF3YWJsZeOBrumggueCueaDheWgseOBjOWkieWMluOBl+OBn+OBi+OCkuWPluW+l+OBmeOCi+OAglxuICAgICAqXG4gICAgICogQHBhcmFtICAgZHJhd2FibGVJbmRleCAgIERyYXdhYmxl44Gu44Kk44Oz44OH44OD44Kv44K5XG4gICAgICogQHJldHZhbCAgdHJ1ZSAgICBEcmF3YWJsZeOBrumggueCueaDheWgseOBjOebtOi/keOBrkN1YmlzbU1vZGVsLnVwZGF0ZemWouaVsOOBp+WkieWMluOBl+OBn1xuICAgICAqIEByZXR2YWwgIGZhbHNlICAgRHJhd2FibGXjga7poILngrnmg4XloLHjgYznm7Tov5Hjga5DdWJpc21Nb2RlbC51cGRhdGXplqLmlbDjgaflpInljJbjgZfjgabjgYTjgarjgYRcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0RHJhd2FibGVEeW5hbWljRmxhZ1ZlcnRleFBvc2l0aW9uc0RpZENoYW5nZShcbiAgICAgIGRyYXdhYmxlSW5kZXg6IG51bWJlclxuICAgICk6IGJvb2xlYW4ge1xuICAgICAgY29uc3QgZHluYW1pY0ZsYWdzOiBVaW50OEFycmF5ID0gdGhpcy5fbW9kZWwuZHJhd2FibGVzLmR5bmFtaWNGbGFncztcbiAgICAgIHJldHVybiBMaXZlMkRDdWJpc21Db3JlLlV0aWxzLmhhc1ZlcnRleFBvc2l0aW9uc0RpZENoYW5nZUJpdChcbiAgICAgICAgZHluYW1pY0ZsYWdzW2RyYXdhYmxlSW5kZXhdXG4gICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXdhYmxl44Gu6aCC54K544Kk44Oz44OH44OD44Kv44K544Gu5YCL5pWw44Gu5Y+W5b6XXG4gICAgICogQHBhcmFtIGRyYXdhYmxlSW5kZXggRHJhd2FibGXjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcbiAgICAgKiBAcmV0dXJuIGRyYXdhYmxl44Gu6aCC54K544Kk44Oz44OH44OD44Kv44K544Gu5YCL5pWwXG4gICAgICovXG4gICAgcHVibGljIGdldERyYXdhYmxlVmVydGV4SW5kZXhDb3VudChkcmF3YWJsZUluZGV4OiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgY29uc3QgaW5kZXhDb3VudHM6IEludDMyQXJyYXkgPSB0aGlzLl9tb2RlbC5kcmF3YWJsZXMuaW5kZXhDb3VudHM7XG4gICAgICByZXR1cm4gaW5kZXhDb3VudHNbZHJhd2FibGVJbmRleF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRHJhd2FibGXjga7poILngrnjga7lgIvmlbDjga7lj5blvpdcbiAgICAgKiBAcGFyYW0gZHJhd2FibGVJbmRleCBEcmF3YWJsZeOBruOCpOODs+ODh+ODg+OCr+OCuVxuICAgICAqIEByZXR1cm4gZHJhd2FibGXjga7poILngrnjga7lgIvmlbBcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0RHJhd2FibGVWZXJ0ZXhDb3VudChkcmF3YWJsZUluZGV4OiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgY29uc3QgdmVydGV4Q291bnRzID0gdGhpcy5fbW9kZWwuZHJhd2FibGVzLnZlcnRleENvdW50cztcbiAgICAgIHJldHVybiB2ZXJ0ZXhDb3VudHNbZHJhd2FibGVJbmRleF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRHJhd2FibGXjga7poILngrnjg6rjgrnjg4jjga7lj5blvpdcbiAgICAgKiBAcGFyYW0gZHJhd2FibGVJbmRleCBkcmF3YWJsZeOBruOCpOODs+ODh+ODg+OCr+OCuVxuICAgICAqIEByZXR1cm4gZHJhd2FibGXjga7poILngrnjg6rjgrnjg4hcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0RHJhd2FibGVWZXJ0aWNlcyhkcmF3YWJsZUluZGV4OiBudW1iZXIpOiBGbG9hdDMyQXJyYXkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0RHJhd2FibGVWZXJ0ZXhQb3NpdGlvbnMoZHJhd2FibGVJbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRHJhd2FibGXjga7poILngrnjgqTjg7Pjg4fjg4Pjgq/jgrnjg6rjgrnjg4jjga7lj5blvpdcbiAgICAgKiBAcGFyYW0gZHJhcmFibGVJbmRleCBEcmF3YWJsZeOBruOCpOODs+ODh+ODg+OCr+OCuVxuICAgICAqIEByZXR1cm4gZHJhd2FibGXjga7poILngrnjgqTjg7Pjg4fjg4Pjgq/jgrnjg6rjgrnjg4hcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0RHJhd2FibGVWZXJ0ZXhJbmRpY2VzKGRyYXdhYmxlSW5kZXg6IG51bWJlcik6IFVpbnQxNkFycmF5IHtcbiAgICAgIGNvbnN0IGluZGljZXNBcnJheTogVWludDE2QXJyYXlbXSA9IHRoaXMuX21vZGVsLmRyYXdhYmxlcy5pbmRpY2VzO1xuICAgICAgcmV0dXJuIGluZGljZXNBcnJheVtkcmF3YWJsZUluZGV4XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEcmF3YWJsZeOBrumggueCueODquOCueODiOOBruWPluW+l1xuICAgICAqIEBwYXJhbSBkcmF3YWJsZUluZGV4IERyYXdhYmxl44Gu44Kk44Oz44OH44OD44Kv44K5XG4gICAgICogQHJldHVybiBkcmF3YWJsZeOBrumggueCueODquOCueODiFxuICAgICAqL1xuICAgIHB1YmxpYyBnZXREcmF3YWJsZVZlcnRleFBvc2l0aW9ucyhkcmF3YWJsZUluZGV4OiBudW1iZXIpOiBGbG9hdDMyQXJyYXkge1xuICAgICAgY29uc3QgdmVydGljZXNBcnJheTogRmxvYXQzMkFycmF5W10gPSB0aGlzLl9tb2RlbC5kcmF3YWJsZXNcbiAgICAgICAgLnZlcnRleFBvc2l0aW9ucztcbiAgICAgIHJldHVybiB2ZXJ0aWNlc0FycmF5W2RyYXdhYmxlSW5kZXhdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXdhYmxl44Gu6aCC54K544GuVVbjg6rjgrnjg4jjga7lj5blvpdcbiAgICAgKiBAcGFyYW0gZHJhd2FibGVJbmRleCBEcmF3YWJsZeOBruOCpOODs+ODh+ODg+OCr+OCuVxuICAgICAqIEByZXR1cm4gZHJhd2FibGXjga7poILngrlVVuODquOCueODiFxuICAgICAqL1xuICAgIHB1YmxpYyBnZXREcmF3YWJsZVZlcnRleFV2cyhkcmF3YWJsZUluZGV4OiBudW1iZXIpOiBGbG9hdDMyQXJyYXkge1xuICAgICAgY29uc3QgdXZzQXJyYXk6IEZsb2F0MzJBcnJheVtdID0gdGhpcy5fbW9kZWwuZHJhd2FibGVzLnZlcnRleFV2cztcbiAgICAgIHJldHVybiB1dnNBcnJheVtkcmF3YWJsZUluZGV4XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEcmF3YWJsZeOBruS4jemAj+aYjuW6puOBruWPluW+l1xuICAgICAqIEBwYXJhbSBkcmF3YWJsZUluZGV4IERyYXdhYmxl44Gu44Kk44Oz44OH44OD44Kv44K5XG4gICAgICogQHJldHVybiBkcmF3YWJsZeOBruS4jemAj+aYjuW6plxuICAgICAqL1xuICAgIHB1YmxpYyBnZXREcmF3YWJsZU9wYWNpdHkoZHJhd2FibGVJbmRleDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgIGNvbnN0IG9wYWNpdGllczogRmxvYXQzMkFycmF5ID0gdGhpcy5fbW9kZWwuZHJhd2FibGVzLm9wYWNpdGllcztcbiAgICAgIHJldHVybiBvcGFjaXRpZXNbZHJhd2FibGVJbmRleF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRHJhd2FibGXjga7jgqvjg6rjg7PjgrDmg4XloLHjga7lj5blvpdcbiAgICAgKiBAcGFyYW0gZHJhd2FibGVJbmRleCBEcmF3YWJsZeOBruOCpOODs+ODh+ODg+OCr+OCuVxuICAgICAqIEByZXR1cm4gZHJhd2FibGXjga7jgqvjg6rjg7PjgrDmg4XloLFcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0RHJhd2FibGVDdWxsaW5nKGRyYXdhYmxlSW5kZXg6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgY29uc3QgY29uc3RhbnRGbGFncyA9IHRoaXMuX21vZGVsLmRyYXdhYmxlcy5jb25zdGFudEZsYWdzO1xuXG4gICAgICByZXR1cm4gIUxpdmUyREN1YmlzbUNvcmUuVXRpbHMuaGFzSXNEb3VibGVTaWRlZEJpdChcbiAgICAgICAgY29uc3RhbnRGbGFnc1tkcmF3YWJsZUluZGV4XVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEcmF3YWJsZeOBruODluODrOODs+ODieODouODvOODieOCkuWPluW+l1xuICAgICAqIEBwYXJhbSBkcmF3YWJsZUluZGV4IERyYXdhYmxl44Gu44Kk44Oz44OH44OD44Kv44K5XG4gICAgICogQHJldHVybiBkcmF3YWJsZeOBruODluODrOODs+ODieODouODvOODiVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXREcmF3YWJsZUJsZW5kTW9kZShkcmF3YWJsZUluZGV4OiBudW1iZXIpOiBDdWJpc21CbGVuZE1vZGUge1xuICAgICAgY29uc3QgY29uc3RhbnRGbGFncyA9IHRoaXMuX21vZGVsLmRyYXdhYmxlcy5jb25zdGFudEZsYWdzO1xuXG4gICAgICByZXR1cm4gTGl2ZTJEQ3ViaXNtQ29yZS5VdGlscy5oYXNCbGVuZEFkZGl0aXZlQml0KFxuICAgICAgICBjb25zdGFudEZsYWdzW2RyYXdhYmxlSW5kZXhdXG4gICAgICApXG4gICAgICAgID8gQ3ViaXNtQmxlbmRNb2RlLkN1YmlzbUJsZW5kTW9kZV9BZGRpdGl2ZVxuICAgICAgICA6IExpdmUyREN1YmlzbUNvcmUuVXRpbHMuaGFzQmxlbmRNdWx0aXBsaWNhdGl2ZUJpdChcbiAgICAgICAgICAgIGNvbnN0YW50RmxhZ3NbZHJhd2FibGVJbmRleF1cbiAgICAgICAgICApXG4gICAgICAgID8gQ3ViaXNtQmxlbmRNb2RlLkN1YmlzbUJsZW5kTW9kZV9NdWx0aXBsaWNhdGl2ZVxuICAgICAgICA6IEN1YmlzbUJsZW5kTW9kZS5DdWJpc21CbGVuZE1vZGVfTm9ybWFsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXdhYmxl44Gu44Oe44K544Kv44Gu5Y+N6Lui5L2/55So44Gu5Y+W5b6XXG4gICAgICpcbiAgICAgKiBEcmF3YWJsZeOBruODnuOCueOCr+S9v+eUqOaZguOBruWPjei7ouioreWumuOCkuWPluW+l+OBmeOCi+OAglxuICAgICAqIOODnuOCueOCr+OCkuS9v+eUqOOBl+OBquOBhOWgtOWQiOOBr+eEoeimluOBleOCjOOCi+OAglxuICAgICAqXG4gICAgICogQHBhcmFtIGRyYXdhYmxlSW5kZXggRHJhd2FibGXjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcbiAgICAgKiBAcmV0dXJuIERyYXdhYmxl44Gu5Y+N6Lui6Kit5a6aXG4gICAgICovXG4gICAgcHVibGljIGdldERyYXdhYmxlSW52ZXJ0ZWRNYXNrQml0KGRyYXdhYmxlSW5kZXg6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgY29uc3QgY29uc3RhbnRGbGFnczogVWludDhBcnJheSA9IHRoaXMuX21vZGVsLmRyYXdhYmxlcy5jb25zdGFudEZsYWdzO1xuXG4gICAgICByZXR1cm4gTGl2ZTJEQ3ViaXNtQ29yZS5VdGlscy5oYXNJc0ludmVydGVkTWFza0JpdChcbiAgICAgICAgY29uc3RhbnRGbGFnc1tkcmF3YWJsZUluZGV4XVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEcmF3YWJsZeOBruOCr+ODquODg+ODlOODs+OCsOODnuOCueOCr+ODquOCueODiOOBruWPluW+l1xuICAgICAqIEByZXR1cm4gRHJhd2FibGXjga7jgq/jg6rjg4Pjg5Tjg7PjgrDjg57jgrnjgq/jg6rjgrnjg4hcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0RHJhd2FibGVNYXNrcygpOiBJbnQzMkFycmF5W10ge1xuICAgICAgY29uc3QgbWFza3M6IEludDMyQXJyYXlbXSA9IHRoaXMuX21vZGVsLmRyYXdhYmxlcy5tYXNrcztcbiAgICAgIHJldHVybiBtYXNrcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEcmF3YWJsZeOBruOCr+ODquODg+ODlOODs+OCsOODnuOCueOCr+OBruWAi+aVsOODquOCueODiOOBruWPluW+l1xuICAgICAqIEByZXR1cm4gRHJhd2FibGXjga7jgq/jg6rjg4Pjg5Tjg7PjgrDjg57jgrnjgq/jga7lgIvmlbDjg6rjgrnjg4hcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0RHJhd2FibGVNYXNrQ291bnRzKCk6IEludDMyQXJyYXkge1xuICAgICAgY29uc3QgbWFza0NvdW50czogSW50MzJBcnJheSA9IHRoaXMuX21vZGVsLmRyYXdhYmxlcy5tYXNrQ291bnRzO1xuICAgICAgcmV0dXJuIG1hc2tDb3VudHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Kv44Oq44OD44OU44Oz44Kw44Oe44K544Kv44Gu5L2/55So54q25oWLXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHRydWUg44Kv44Oq44OD44OU44Oz44Kw44Oe44K544Kv44KS5L2/55So44GX44Gm44GE44KLXG4gICAgICogQHJldHVybiBmYWxzZSDjgq/jg6rjg4Pjg5Tjg7PjgrDjg57jgrnjgq/jgpLkvb/nlKjjgZfjgabjgYTjgarjgYRcbiAgICAgKi9cbiAgICBwdWJsaWMgaXNVc2luZ01hc2tpbmcoKTogYm9vbGVhbiB7XG4gICAgICBmb3IgKGxldCBkID0gMDsgZCA8IHRoaXMuX21vZGVsLmRyYXdhYmxlcy5jb3VudDsgKytkKSB7XG4gICAgICAgIGlmICh0aGlzLl9tb2RlbC5kcmF3YWJsZXMubWFza0NvdW50c1tkXSA8PSAwKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRHJhd2FibGXjga7ooajnpLrmg4XloLHjgpLlj5blvpfjgZnjgotcbiAgICAgKlxuICAgICAqIEBwYXJhbSBkcmF3YWJsZUluZGV4IERyYXdhYmxl44Gu44Kk44Oz44OH44OD44Kv44K5XG4gICAgICogQHJldHVybiB0cnVlIERyYXdhYmxl44GM6KGo56S6XG4gICAgICogQHJldHVybiBmYWxzZSBEcmF3YWJsZeOBjOmdnuihqOekulxuICAgICAqL1xuICAgIHB1YmxpYyBnZXREcmF3YWJsZUR5bmFtaWNGbGFnSXNWaXNpYmxlKGRyYXdhYmxlSW5kZXg6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgY29uc3QgZHluYW1pY0ZsYWdzOiBVaW50OEFycmF5ID0gdGhpcy5fbW9kZWwuZHJhd2FibGVzLmR5bmFtaWNGbGFncztcbiAgICAgIHJldHVybiBMaXZlMkRDdWJpc21Db3JlLlV0aWxzLmhhc0lzVmlzaWJsZUJpdChcbiAgICAgICAgZHluYW1pY0ZsYWdzW2RyYXdhYmxlSW5kZXhdXG4gICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXdhYmxl44GuRHJhd09yZGVy44Gu5aSJ5YyW5oOF5aCx44Gu5Y+W5b6XXG4gICAgICpcbiAgICAgKiDnm7Tov5Hjga5DdWJpc21Nb2RlbC51cGRhdGXplqLmlbDjgadkcmF3YWJsZeOBrmRyYXdPcmRlcuOBjOWkieWMluOBl+OBn+OBi+OCkuWPluW+l+OBmeOCi+OAglxuICAgICAqIGRyYXdPcmRlcuOBr2FydE1lc2jkuIrjgafmjIflrprjgZnjgosw44GL44KJMTAwMOOBruaDheWgsVxuICAgICAqIEBwYXJhbSBkcmF3YWJsZUluZGV4IGRyYXdhYmxl44Gu44Kk44Oz44OH44OD44Kv44K5XG4gICAgICogQHJldHVybiB0cnVlIGRyYXdhYmxl44Gu5LiN6YCP5piO5bqm44GM55u06L+R44GuQ3ViaXNtTW9kZWwudXBkYXRl6Zai5pWw44Gn5aSJ5YyW44GX44GfXG4gICAgICogQHJldHVybiBmYWxzZSBkcmF3YWJsZeOBruS4jemAj+aYjuW6puOBjOebtOi/keOBrkN1YmlzbU1vZGVsLnVwZGF0ZemWouaVsOOBp+WkieWMluOBl+OBpuOBhOOCi1xuICAgICAqL1xuICAgIHB1YmxpYyBnZXREcmF3YWJsZUR5bmFtaWNGbGFnVmlzaWJpbGl0eURpZENoYW5nZShcbiAgICAgIGRyYXdhYmxlSW5kZXg6IG51bWJlclxuICAgICk6IGJvb2xlYW4ge1xuICAgICAgY29uc3QgZHluYW1pY0ZsYWdzOiBVaW50OEFycmF5ID0gdGhpcy5fbW9kZWwuZHJhd2FibGVzLmR5bmFtaWNGbGFncztcbiAgICAgIHJldHVybiBMaXZlMkRDdWJpc21Db3JlLlV0aWxzLmhhc1Zpc2liaWxpdHlEaWRDaGFuZ2VCaXQoXG4gICAgICAgIGR5bmFtaWNGbGFnc1tkcmF3YWJsZUluZGV4XVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEcmF3YWJsZeOBruS4jemAj+aYjuW6puOBruWkieWMluaDheWgseOBruWPluW+l1xuICAgICAqXG4gICAgICog55u06L+R44GuQ3ViaXNtTW9kZWwudXBkYXRl6Zai5pWw44GnZHJhd2FibGXjga7kuI3pgI/mmI7luqbjgYzlpInljJbjgZfjgZ/jgYvjgpLlj5blvpfjgZnjgovjgIJcbiAgICAgKlxuICAgICAqIEBwYXJhbSBkcmF3YWJsZUluZGV4IGRyYXdhYmxl44Gu44Kk44Oz44OH44OD44Kv44K5XG4gICAgICogQHJldHVybiB0cnVlIERyYXdhYmxl44Gu5LiN6YCP5piO5bqm44GM55u06L+R44GuQ3ViaXNtTW9kZWwudXBkYXRl6Zai5pWw44Gn5aSJ5YyW44GX44GfXG4gICAgICogQHJldHVybiBmYWxzZSBEcmF3YWJsZeOBruS4jemAj+aYjuW6puOBjOebtOi/keOBrkN1YmlzbU1vZGVsLnVwZGF0ZemWouaVsOOBp+WkieWMluOBl+OBpuOBquOBhFxuICAgICAqL1xuICAgIHB1YmxpYyBnZXREcmF3YWJsZUR5bmFtaWNGbGFnT3BhY2l0eURpZENoYW5nZShcbiAgICAgIGRyYXdhYmxlSW5kZXg6IG51bWJlclxuICAgICk6IGJvb2xlYW4ge1xuICAgICAgY29uc3QgZHluYW1pY0ZsYWdzOiBVaW50OEFycmF5ID0gdGhpcy5fbW9kZWwuZHJhd2FibGVzLmR5bmFtaWNGbGFncztcbiAgICAgIHJldHVybiBMaXZlMkRDdWJpc21Db3JlLlV0aWxzLmhhc09wYWNpdHlEaWRDaGFuZ2VCaXQoXG4gICAgICAgIGR5bmFtaWNGbGFnc1tkcmF3YWJsZUluZGV4XVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEcmF3YWJsZeOBruaPj+eUu+mghuW6j+OBruWkieWMluaDheWgseOBruWPluW+l1xuICAgICAqXG4gICAgICog55u06L+R44GuQ3ViaXNtTW9kZWwudXBkYXRl6Zai5pWw44GnRHJhd2FibGXjga7mj4/nlLvjga7poIbluo/jgYzlpInljJbjgZfjgZ/jgYvjgpLlj5blvpfjgZnjgovjgIJcbiAgICAgKlxuICAgICAqIEBwYXJhbSBkcmF3YWJsZUluZGV4IERyYXdhYmxl44Gu44Kk44Oz44OH44OD44Kv44K5XG4gICAgICogQHJldHVybiB0cnVlIERyYXdhYmxl44Gu5o+P55S744Gu6aCG5bqP44GM55u06L+R44GuQ3ViaXNtTW9kZWwudXBkYXRl6Zai5pWw44Gn5aSJ5YyW44GX44GfXG4gICAgICogQHJldHVybiBmYWxzZSBEcmF3YWJsZeOBruaPj+eUu+OBrumghuW6j+OBjOebtOi/keOBrkN1YmlzbU1vZGVsLnVwZGF0ZemWouaVsOOBp+WkieWMluOBl+OBpuOBquOBhFxuICAgICAqL1xuICAgIHB1YmxpYyBnZXREcmF3YWJsZUR5bmFtaWNGbGFnUmVuZGVyT3JkZXJEaWRDaGFuZ2UoXG4gICAgICBkcmF3YWJsZUluZGV4OiBudW1iZXJcbiAgICApOiBib29sZWFuIHtcbiAgICAgIGNvbnN0IGR5bmFtaWNGbGFnczogVWludDhBcnJheSA9IHRoaXMuX21vZGVsLmRyYXdhYmxlcy5keW5hbWljRmxhZ3M7XG4gICAgICByZXR1cm4gTGl2ZTJEQ3ViaXNtQ29yZS5VdGlscy5oYXNSZW5kZXJPcmRlckRpZENoYW5nZUJpdChcbiAgICAgICAgZHluYW1pY0ZsYWdzW2RyYXdhYmxlSW5kZXhdXG4gICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOS/neWtmOOBleOCjOOBn+ODkeODqeODoeODvOOCv+OBruiqreOBv+i+vOOBv1xuICAgICAqL1xuICAgIHB1YmxpYyBsb2FkUGFyYW1ldGVycygpOiB2b2lkIHtcbiAgICAgIGxldCBwYXJhbWV0ZXJDb3VudDogbnVtYmVyID0gdGhpcy5fbW9kZWwucGFyYW1ldGVycy5jb3VudDtcbiAgICAgIGNvbnN0IHNhdmVkUGFyYW1ldGVyQ291bnQ6IG51bWJlciA9IHRoaXMuX3NhdmVkUGFyYW1ldGVycy5nZXRTaXplKCk7XG5cbiAgICAgIGlmIChwYXJhbWV0ZXJDb3VudCA+IHNhdmVkUGFyYW1ldGVyQ291bnQpIHtcbiAgICAgICAgcGFyYW1ldGVyQ291bnQgPSBzYXZlZFBhcmFtZXRlckNvdW50O1xuICAgICAgfVxuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmFtZXRlckNvdW50OyArK2kpIHtcbiAgICAgICAgdGhpcy5fcGFyYW1ldGVyVmFsdWVzW2ldID0gdGhpcy5fc2F2ZWRQYXJhbWV0ZXJzLmF0KGkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWIneacn+WMluOBmeOCi1xuICAgICAqL1xuICAgIHB1YmxpYyBpbml0aWFsaXplKCk6IHZvaWQge1xuICAgICAgQ1NNX0FTU0VSVCh0aGlzLl9tb2RlbCk7XG5cbiAgICAgIHRoaXMuX3BhcmFtZXRlclZhbHVlcyA9IHRoaXMuX21vZGVsLnBhcmFtZXRlcnMudmFsdWVzO1xuICAgICAgdGhpcy5fcGFydE9wYWNpdGllcyA9IHRoaXMuX21vZGVsLnBhcnRzLm9wYWNpdGllcztcbiAgICAgIHRoaXMuX3BhcmFtZXRlck1heGltdW1WYWx1ZXMgPSB0aGlzLl9tb2RlbC5wYXJhbWV0ZXJzLm1heGltdW1WYWx1ZXM7XG4gICAgICB0aGlzLl9wYXJhbWV0ZXJNaW5pbXVtVmFsdWVzID0gdGhpcy5fbW9kZWwucGFyYW1ldGVycy5taW5pbXVtVmFsdWVzO1xuXG4gICAgICB7XG4gICAgICAgIGNvbnN0IHBhcmFtZXRlcklkczogc3RyaW5nW10gPSB0aGlzLl9tb2RlbC5wYXJhbWV0ZXJzLmlkcztcbiAgICAgICAgY29uc3QgcGFyYW1ldGVyQ291bnQ6IG51bWJlciA9IHRoaXMuX21vZGVsLnBhcmFtZXRlcnMuY291bnQ7XG5cbiAgICAgICAgdGhpcy5fcGFyYW1ldGVySWRzLnByZXBhcmVDYXBhY2l0eShwYXJhbWV0ZXJDb3VudCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyYW1ldGVyQ291bnQ7ICsraSkge1xuICAgICAgICAgIHRoaXMuX3BhcmFtZXRlcklkcy5wdXNoQmFjayhcbiAgICAgICAgICAgIEN1YmlzbUZyYW1ld29yay5nZXRJZE1hbmFnZXIoKS5nZXRJZChwYXJhbWV0ZXJJZHNbaV0pXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB7XG4gICAgICAgIGNvbnN0IHBhcnRJZHM6IHN0cmluZ1tdID0gdGhpcy5fbW9kZWwucGFydHMuaWRzO1xuICAgICAgICBjb25zdCBwYXJ0Q291bnQ6IG51bWJlciA9IHRoaXMuX21vZGVsLnBhcnRzLmNvdW50O1xuXG4gICAgICAgIHRoaXMuX3BhcnRJZHMucHJlcGFyZUNhcGFjaXR5KHBhcnRDb3VudCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFydENvdW50OyArK2kpIHtcbiAgICAgICAgICB0aGlzLl9wYXJ0SWRzLnB1c2hCYWNrKFxuICAgICAgICAgICAgQ3ViaXNtRnJhbWV3b3JrLmdldElkTWFuYWdlcigpLmdldElkKHBhcnRJZHNbaV0pXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB7XG4gICAgICAgIGNvbnN0IGRyYXdhYmxlSWRzOiBzdHJpbmdbXSA9IHRoaXMuX21vZGVsLmRyYXdhYmxlcy5pZHM7XG4gICAgICAgIGNvbnN0IGRyYXdhYmxlQ291bnQ6IG51bWJlciA9IHRoaXMuX21vZGVsLmRyYXdhYmxlcy5jb3VudDtcblxuICAgICAgICB0aGlzLl9kcmF3YWJsZUlkcy5wcmVwYXJlQ2FwYWNpdHkoZHJhd2FibGVDb3VudCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZHJhd2FibGVDb3VudDsgKytpKSB7XG4gICAgICAgICAgdGhpcy5fZHJhd2FibGVJZHMucHVzaEJhY2soXG4gICAgICAgICAgICBDdWJpc21GcmFtZXdvcmsuZ2V0SWRNYW5hZ2VyKCkuZ2V0SWQoZHJhd2FibGVJZHNbaV0pXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOOCs+ODs+OCueODiOODqeOCr+OCv1xuICAgICAqIEBwYXJhbSBtb2RlbCDjg6Ljg4fjg6tcbiAgICAgKi9cbiAgICBwdWJsaWMgY29uc3RydWN0b3IobW9kZWw6IExpdmUyREN1YmlzbUNvcmUuTW9kZWwpIHtcbiAgICAgIHRoaXMuX21vZGVsID0gbW9kZWw7XG4gICAgICB0aGlzLl9wYXJhbWV0ZXJWYWx1ZXMgPSBudWxsO1xuICAgICAgdGhpcy5fcGFyYW1ldGVyTWF4aW11bVZhbHVlcyA9IG51bGw7XG4gICAgICB0aGlzLl9wYXJhbWV0ZXJNaW5pbXVtVmFsdWVzID0gbnVsbDtcbiAgICAgIHRoaXMuX3BhcnRPcGFjaXRpZXMgPSBudWxsO1xuICAgICAgdGhpcy5fc2F2ZWRQYXJhbWV0ZXJzID0gbmV3IGNzbVZlY3RvcjxudW1iZXI+KCk7XG4gICAgICB0aGlzLl9wYXJhbWV0ZXJJZHMgPSBuZXcgY3NtVmVjdG9yPEN1YmlzbUlkSGFuZGxlPigpO1xuICAgICAgdGhpcy5fZHJhd2FibGVJZHMgPSBuZXcgY3NtVmVjdG9yPEN1YmlzbUlkSGFuZGxlPigpO1xuICAgICAgdGhpcy5fcGFydElkcyA9IG5ldyBjc21WZWN0b3I8Q3ViaXNtSWRIYW5kbGU+KCk7XG5cbiAgICAgIHRoaXMuX25vdEV4aXN0UGFydElkID0gbmV3IGNzbU1hcDxDdWJpc21JZEhhbmRsZSwgbnVtYmVyPigpO1xuICAgICAgdGhpcy5fbm90RXhpc3RQYXJhbWV0ZXJJZCA9IG5ldyBjc21NYXA8Q3ViaXNtSWRIYW5kbGUsIG51bWJlcj4oKTtcbiAgICAgIHRoaXMuX25vdEV4aXN0UGFyYW1ldGVyVmFsdWVzID0gbmV3IGNzbU1hcDxudW1iZXIsIG51bWJlcj4oKTtcbiAgICAgIHRoaXMuX25vdEV4aXN0UGFydE9wYWNpdGllcyA9IG5ldyBjc21NYXA8bnVtYmVyLCBudW1iZXI+KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44OH44K544OI44Op44Kv44K/55u45b2T44Gu5Yem55CGXG4gICAgICovXG4gICAgcHVibGljIHJlbGVhc2UoKTogdm9pZCB7XG4gICAgICB0aGlzLl9tb2RlbC5yZWxlYXNlKCk7XG4gICAgICB0aGlzLl9tb2RlbCA9IG51bGw7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfbm90RXhpc3RQYXJ0T3BhY2l0aWVzOiBjc21NYXA8bnVtYmVyLCBudW1iZXI+OyAvLyDlrZjlnKjjgZfjgabjgYTjgarjgYTjg5Hjg7zjg4Tjga7kuI3pgI/mmI7luqbjga7jg6rjgrnjg4hcbiAgICBwcml2YXRlIF9ub3RFeGlzdFBhcnRJZDogY3NtTWFwPEN1YmlzbUlkSGFuZGxlLCBudW1iZXI+OyAvLyDlrZjlnKjjgZfjgabjgYTjgarjgYTjg5Hjg7zjg4RJROOBruODquOCueODiFxuXG4gICAgcHJpdmF0ZSBfbm90RXhpc3RQYXJhbWV0ZXJWYWx1ZXM6IGNzbU1hcDxudW1iZXIsIG51bWJlcj47IC8vIOWtmOWcqOOBl+OBpuOBhOOBquOBhOODkeODqeODoeODvOOCv+OBruWApOOBruODquOCueODiFxuICAgIHByaXZhdGUgX25vdEV4aXN0UGFyYW1ldGVySWQ6IGNzbU1hcDxDdWJpc21JZEhhbmRsZSwgbnVtYmVyPjsgLy8g5a2Y5Zyo44GX44Gm44GE44Gq44GE44OR44Op44Oh44O844K/SUTjga7jg6rjgrnjg4hcblxuICAgIHByaXZhdGUgX3NhdmVkUGFyYW1ldGVyczogY3NtVmVjdG9yPG51bWJlcj47IC8vIOS/neWtmOOBleOCjOOBn+ODkeODqeODoeODvOOCv1xuXG4gICAgcHJpdmF0ZSBfbW9kZWw6IExpdmUyREN1YmlzbUNvcmUuTW9kZWw7IC8vIOODouODh+ODq1xuXG4gICAgcHJpdmF0ZSBfcGFyYW1ldGVyVmFsdWVzOiBGbG9hdDMyQXJyYXk7IC8vIOODkeODqeODoeODvOOCv+OBruWApOOBruODquOCueODiFxuICAgIHByaXZhdGUgX3BhcmFtZXRlck1heGltdW1WYWx1ZXM6IEZsb2F0MzJBcnJheTsgLy8g44OR44Op44Oh44O844K/44Gu5pyA5aSn5YCk44Gu44Oq44K544OIXG4gICAgcHJpdmF0ZSBfcGFyYW1ldGVyTWluaW11bVZhbHVlczogRmxvYXQzMkFycmF5OyAvLyDjg5Hjg6njg6Hjg7zjgr/jga7mnIDlsI/lgKTjga7jg6rjgrnjg4hcblxuICAgIHByaXZhdGUgX3BhcnRPcGFjaXRpZXM6IEZsb2F0MzJBcnJheTsgLy8g44OR44O844OE44Gu5LiN6YCP5piO5bqm44Gu44Oq44K544OIXG5cbiAgICBwcml2YXRlIF9wYXJhbWV0ZXJJZHM6IGNzbVZlY3RvcjxDdWJpc21JZEhhbmRsZT47XG4gICAgcHJpdmF0ZSBfcGFydElkczogY3NtVmVjdG9yPEN1YmlzbUlkSGFuZGxlPjtcbiAgICBwcml2YXRlIF9kcmF3YWJsZUlkczogY3NtVmVjdG9yPEN1YmlzbUlkSGFuZGxlPjtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7QUFPQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBTUE7QUErdUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTF2QkE7QUFFQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFPQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU9BO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBT0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBSUE7QUFDQTtBQU9BO0FBRUE7QUFDQTtBQUNBO0FBUUE7QUFHQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQVFBO0FBR0E7QUFFQTtBQUlBO0FBUUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQVFBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFRQTtBQUdBO0FBRUE7QUFHQTtBQUVBO0FBT0E7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFXQTtBQUdBO0FBQ0E7QUFHQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUVBO0FBR0E7QUFPQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBV0E7QUFDQTtBQUVBO0FBR0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBR0E7QUFXQTtBQUdBO0FBQ0E7QUFHQTtBQVdBO0FBR0E7QUFDQTtBQUdBO0FBV0E7QUFHQTtBQUNBO0FBR0E7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBMEJBO0FBQ0E7QUFDQTtBQUNBO0FBcUJBO0FBQUE7QUEzeEJBO0FBNHhCQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Framework/src/model/cubismmodel.ts\n");

/***/ }),

/***/ "./Framework/src/model/cubismmodeluserdata.ts":
/*!****************************************************!*\
  !*** ./Framework/src/model/cubismmodeluserdata.ts ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar cubismmodeluserdatajson_1 = __webpack_require__(/*! ./cubismmodeluserdatajson */ \"./Framework/src/model/cubismmodeluserdatajson.ts\");\nvar csmstring_1 = __webpack_require__(/*! ../type/csmstring */ \"./Framework/src/type/csmstring.ts\");\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./Framework/src/type/csmvector.ts\");\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./Framework/src/live2dcubismframework.ts\");\nvar CubismFramework = live2dcubismframework_1.Live2DCubismFramework.CubismFramework;\nvar csmVector = csmvector_1.Live2DCubismFramework.csmVector;\nvar csmString = csmstring_1.Live2DCubismFramework.csmString;\nvar CubismModelUserDataJson = cubismmodeluserdatajson_1.Live2DCubismFramework.CubismModelUserDataJson;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var ArtMesh = 'ArtMesh';\n    var CubismModelUserDataNode = (function () {\n        function CubismModelUserDataNode() {\n        }\n        return CubismModelUserDataNode;\n    }());\n    Live2DCubismFramework.CubismModelUserDataNode = CubismModelUserDataNode;\n    var CubismModelUserData = (function () {\n        function CubismModelUserData() {\n            this._userDataNodes = new csmVector();\n            this._artMeshUserDataNode = new csmVector();\n        }\n        CubismModelUserData.create = function (buffer, size) {\n            var ret = new CubismModelUserData();\n            ret.parseUserData(buffer, size);\n            return ret;\n        };\n        CubismModelUserData.delete = function (modelUserData) {\n            if (modelUserData != null) {\n                modelUserData.release();\n                modelUserData = null;\n            }\n        };\n        CubismModelUserData.prototype.getArtMeshUserDatas = function () {\n            return this._artMeshUserDataNode;\n        };\n        CubismModelUserData.prototype.parseUserData = function (buffer, size) {\n            var json = new CubismModelUserDataJson(buffer, size);\n            var typeOfArtMesh = CubismFramework.getIdManager().getId(ArtMesh);\n            var nodeCount = json.getUserDataCount();\n            for (var i = 0; i < nodeCount; i++) {\n                var addNode = new CubismModelUserDataNode();\n                addNode.targetId = json.getUserDataId(i);\n                addNode.targetType = CubismFramework.getIdManager().getId(json.getUserDataTargetType(i));\n                addNode.value = new csmString(json.getUserDataValue(i));\n                this._userDataNodes.pushBack(addNode);\n                if (addNode.targetType == typeOfArtMesh) {\n                    this._artMeshUserDataNode.pushBack(addNode);\n                }\n            }\n            json.release();\n            json = void 0;\n        };\n        CubismModelUserData.prototype.release = function () {\n            for (var i = 0; i < this._userDataNodes.getSize(); ++i) {\n                this._userDataNodes.set(i, null);\n            }\n            this._userDataNodes = null;\n        };\n        return CubismModelUserData;\n    }());\n    Live2DCubismFramework.CubismModelUserData = CubismModelUserData;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21vZGVsL2N1YmlzbW1vZGVsdXNlcmRhdGEudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9GcmFtZXdvcmsvc3JjL21vZGVsL2N1YmlzbW1vZGVsdXNlcmRhdGEudHM/OTU1MSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodChjKSBMaXZlMkQgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IHRoZSBMaXZlMkQgT3BlbiBTb2Z0d2FyZSBsaWNlbnNlXG4gKiB0aGF0IGNhbiBiZSBmb3VuZCBhdCBodHRwczovL3d3dy5saXZlMmQuY29tL2V1bGEvbGl2ZTJkLW9wZW4tc29mdHdhcmUtbGljZW5zZS1hZ3JlZW1lbnRfZW4uaHRtbC5cbiAqL1xuXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtbW9kZWx1c2VyZGF0YWpzb24gfSBmcm9tICcuL2N1YmlzbW1vZGVsdXNlcmRhdGFqc29uJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21pZCB9IGZyb20gJy4uL2lkL2N1YmlzbWlkJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjc21zdHJpbmcgfSBmcm9tICcuLi90eXBlL2NzbXN0cmluZyc7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3NtdmVjdG9yIH0gZnJvbSAnLi4vdHlwZS9jc212ZWN0b3InO1xuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbWZyYW1ld29yayB9IGZyb20gJy4uL2xpdmUyZGN1YmlzbWZyYW1ld29yayc7XG5pbXBvcnQgQ3ViaXNtRnJhbWV3b3JrID0gY3ViaXNtZnJhbWV3b3JrLkN1YmlzbUZyYW1ld29yaztcbmltcG9ydCBjc21WZWN0b3IgPSBjc212ZWN0b3IuY3NtVmVjdG9yO1xuaW1wb3J0IGNzbVN0cmluZyA9IGNzbXN0cmluZy5jc21TdHJpbmc7XG5pbXBvcnQgQ3ViaXNtSWRIYW5kbGUgPSBjdWJpc21pZC5DdWJpc21JZEhhbmRsZTtcbmltcG9ydCBDdWJpc21Nb2RlbFVzZXJEYXRhSnNvbiA9IGN1YmlzbW1vZGVsdXNlcmRhdGFqc29uLkN1YmlzbU1vZGVsVXNlckRhdGFKc29uO1xuXG5leHBvcnQgbmFtZXNwYWNlIExpdmUyREN1YmlzbUZyYW1ld29yayB7XG4gIGNvbnN0IEFydE1lc2ggPSAnQXJ0TWVzaCc7XG5cbiAgLyoqXG4gICAqIOODpuODvOOCtuODvOODh+ODvOOCv+OCpOODs+OCv+ODvOODleOCp+ODvOOCuVxuICAgKlxuICAgKiBKc29u44GL44KJ6Kqt44G/6L6844KT44Gg44Om44O844K244O844OH44O844K/44KS6KiY6Yyy44GX44Gm44GK44GP44Gf44KB44Gu5qeL6YCg5L2TXG4gICAqL1xuICBleHBvcnQgY2xhc3MgQ3ViaXNtTW9kZWxVc2VyRGF0YU5vZGUge1xuICAgIHRhcmdldFR5cGU6IEN1YmlzbUlkSGFuZGxlOyAvLyDjg6bjg7zjgrbjg7zjg4fjg7zjgr/jgr/jg7zjgrLjg4Pjg4jjgr/jgqTjg5dcbiAgICB0YXJnZXRJZDogQ3ViaXNtSWRIYW5kbGU7IC8vIOODpuODvOOCtuODvOODh+ODvOOCv+OCv+ODvOOCsuODg+ODiOOBrklEXG4gICAgdmFsdWU6IGNzbVN0cmluZzsgLy8g44Om44O844K244O844OH44O844K/XG4gIH1cblxuICAvKipcbiAgICog44Om44O844K244OH44O844K/44Gu566h55CG44Kv44Op44K5XG4gICAqXG4gICAqIOODpuODvOOCtuODh+ODvOOCv+OCkuODreODvOODieOAgeeuoeeQhuOAgeaknOe0ouOCpOODs+OCv+ODvOODleOCp+OCpOOCueOAgeino+aUvuOBvuOBp+OCkuihjOOBhuOAglxuICAgKi9cbiAgZXhwb3J0IGNsYXNzIEN1YmlzbU1vZGVsVXNlckRhdGEge1xuICAgIC8qKlxuICAgICAqIOOCpOODs+OCueOCv+ODs+OCueOBruS9nOaIkFxuICAgICAqXG4gICAgICogQHBhcmFtIGJ1ZmZlciAgICB1c2VyZGF0YTMuanNvbuOBjOiqreOBv+i+vOOBvuOCjOOBpuOBhOOCi+ODkOODg+ODleOCoVxuICAgICAqIEBwYXJhbSBzaXplICAgICAg44OQ44OD44OV44Kh44Gu44K144Kk44K6XG4gICAgICogQHJldHVybiDkvZzmiJDjgZXjgozjgZ/jgqTjg7Pjgrnjgr/jg7PjgrlcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShcbiAgICAgIGJ1ZmZlcjogQXJyYXlCdWZmZXIsXG4gICAgICBzaXplOiBudW1iZXJcbiAgICApOiBDdWJpc21Nb2RlbFVzZXJEYXRhIHtcbiAgICAgIGNvbnN0IHJldDogQ3ViaXNtTW9kZWxVc2VyRGF0YSA9IG5ldyBDdWJpc21Nb2RlbFVzZXJEYXRhKCk7XG5cbiAgICAgIHJldC5wYXJzZVVzZXJEYXRhKGJ1ZmZlciwgc2l6ZSk7XG5cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Kk44Oz44K544K/44Oz44K544KS56C05qOE44GZ44KLXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbW9kZWxVc2VyRGF0YSDnoLTmo4TjgZnjgovjgqTjg7Pjgrnjgr/jg7PjgrlcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGRlbGV0ZShtb2RlbFVzZXJEYXRhOiBDdWJpc21Nb2RlbFVzZXJEYXRhKTogdm9pZCB7XG4gICAgICBpZiAobW9kZWxVc2VyRGF0YSAhPSBudWxsKSB7XG4gICAgICAgIG1vZGVsVXNlckRhdGEucmVsZWFzZSgpO1xuICAgICAgICBtb2RlbFVzZXJEYXRhID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcnRNZXNo44Gu44Om44O844K244O844OH44O844K/44Gu44Oq44K544OI44Gu5Y+W5b6XXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIOODpuODvOOCtuODvOODh+ODvOOCv+ODquOCueODiFxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRBcnRNZXNoVXNlckRhdGFzKCk6IGNzbVZlY3RvcjxDdWJpc21Nb2RlbFVzZXJEYXRhTm9kZT4ge1xuICAgICAgcmV0dXJuIHRoaXMuX2FydE1lc2hVc2VyRGF0YU5vZGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogdXNlcmRhdGEzLmpzb27jga7jg5Hjg7zjgrlcbiAgICAgKlxuICAgICAqIEBwYXJhbSBidWZmZXIgICAgdXNlcmRhdGEzLmpzb27jgYzoqq3jgb/ovrzjgb7jgozjgabjgYTjgovjg5Djg4Pjg5XjgqFcbiAgICAgKiBAcGFyYW0gc2l6ZSAgICAgIOODkOODg+ODleOCoeOBruOCteOCpOOCulxuICAgICAqL1xuICAgIHB1YmxpYyBwYXJzZVVzZXJEYXRhKGJ1ZmZlcjogQXJyYXlCdWZmZXIsIHNpemU6IG51bWJlcik6IHZvaWQge1xuICAgICAgbGV0IGpzb246IEN1YmlzbU1vZGVsVXNlckRhdGFKc29uID0gbmV3IEN1YmlzbU1vZGVsVXNlckRhdGFKc29uKFxuICAgICAgICBidWZmZXIsXG4gICAgICAgIHNpemVcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHR5cGVPZkFydE1lc2ggPSBDdWJpc21GcmFtZXdvcmsuZ2V0SWRNYW5hZ2VyKCkuZ2V0SWQoQXJ0TWVzaCk7XG4gICAgICBjb25zdCBub2RlQ291bnQ6IG51bWJlciA9IGpzb24uZ2V0VXNlckRhdGFDb3VudCgpO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVDb3VudDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGFkZE5vZGU6IEN1YmlzbU1vZGVsVXNlckRhdGFOb2RlID0gbmV3IEN1YmlzbU1vZGVsVXNlckRhdGFOb2RlKCk7XG5cbiAgICAgICAgYWRkTm9kZS50YXJnZXRJZCA9IGpzb24uZ2V0VXNlckRhdGFJZChpKTtcbiAgICAgICAgYWRkTm9kZS50YXJnZXRUeXBlID0gQ3ViaXNtRnJhbWV3b3JrLmdldElkTWFuYWdlcigpLmdldElkKFxuICAgICAgICAgIGpzb24uZ2V0VXNlckRhdGFUYXJnZXRUeXBlKGkpXG4gICAgICAgICk7XG4gICAgICAgIGFkZE5vZGUudmFsdWUgPSBuZXcgY3NtU3RyaW5nKGpzb24uZ2V0VXNlckRhdGFWYWx1ZShpKSk7XG4gICAgICAgIHRoaXMuX3VzZXJEYXRhTm9kZXMucHVzaEJhY2soYWRkTm9kZSk7XG5cbiAgICAgICAgaWYgKGFkZE5vZGUudGFyZ2V0VHlwZSA9PSB0eXBlT2ZBcnRNZXNoKSB7XG4gICAgICAgICAgdGhpcy5fYXJ0TWVzaFVzZXJEYXRhTm9kZS5wdXNoQmFjayhhZGROb2RlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBqc29uLnJlbGVhc2UoKTtcbiAgICAgIGpzb24gPSB2b2lkIDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Kz44Oz44K544OI44Op44Kv44K/XG4gICAgICovXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgICAgdGhpcy5fdXNlckRhdGFOb2RlcyA9IG5ldyBjc21WZWN0b3I8Q3ViaXNtTW9kZWxVc2VyRGF0YU5vZGU+KCk7XG4gICAgICB0aGlzLl9hcnRNZXNoVXNlckRhdGFOb2RlID0gbmV3IGNzbVZlY3RvcjxDdWJpc21Nb2RlbFVzZXJEYXRhTm9kZT4oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg4fjgrnjg4jjg6njgq/jgr/nm7jlvZPjga7lh6bnkIZcbiAgICAgKlxuICAgICAqIOODpuODvOOCtuODvOODh+ODvOOCv+ani+mAoOS9k+mFjeWIl+OCkuino+aUvuOBmeOCi1xuICAgICAqL1xuICAgIHB1YmxpYyByZWxlYXNlKCk6IHZvaWQge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl91c2VyRGF0YU5vZGVzLmdldFNpemUoKTsgKytpKSB7XG4gICAgICAgIHRoaXMuX3VzZXJEYXRhTm9kZXMuc2V0KGksIG51bGwpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl91c2VyRGF0YU5vZGVzID0gbnVsbDtcbiAgICB9XG5cbiAgICBwcml2YXRlIF91c2VyRGF0YU5vZGVzOiBjc21WZWN0b3I8Q3ViaXNtTW9kZWxVc2VyRGF0YU5vZGU+OyAvLyDjg6bjg7zjgrbjg7zjg4fjg7zjgr/mp4vpgKDkvZPphY3liJdcbiAgICBwcml2YXRlIF9hcnRNZXNoVXNlckRhdGFOb2RlOiBjc21WZWN0b3I8Q3ViaXNtTW9kZWxVc2VyRGF0YU5vZGU+OyAvLyDplrLopqfjg6rjgrnjg4jjga7kv53mjIFcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7QUFPQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUNBO0FBT0E7QUFBQTtBQUlBO0FBQUE7QUFBQTtBQUpBO0FBV0E7QUE2RUE7QUFDQTtBQUNBO0FBQ0E7QUF4RUE7QUFJQTtBQUVBO0FBRUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFlQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFJQTtBQUFBO0FBakdBO0FBa0dBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/model/cubismmodeluserdata.ts\n");

/***/ }),

/***/ "./Framework/src/model/cubismmodeluserdatajson.ts":
/*!********************************************************!*\
  !*** ./Framework/src/model/cubismmodeluserdatajson.ts ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar cubismjson_1 = __webpack_require__(/*! ../utils/cubismjson */ \"./Framework/src/utils/cubismjson.ts\");\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./Framework/src/live2dcubismframework.ts\");\nvar CubismFramework = live2dcubismframework_1.Live2DCubismFramework.CubismFramework;\nvar CubismJson = cubismjson_1.Live2DCubismFramework.CubismJson;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var Meta = 'Meta';\n    var UserDataCount = 'UserDataCount';\n    var TotalUserDataSize = 'TotalUserDataSize';\n    var UserData = 'UserData';\n    var Target = 'Target';\n    var Id = 'Id';\n    var Value = 'Value';\n    var CubismModelUserDataJson = (function () {\n        function CubismModelUserDataJson(buffer, size) {\n            this._json = CubismJson.create(buffer, size);\n        }\n        CubismModelUserDataJson.prototype.release = function () {\n            CubismJson.delete(this._json);\n        };\n        CubismModelUserDataJson.prototype.getUserDataCount = function () {\n            return this._json\n                .getRoot()\n                .getValueByString(Meta)\n                .getValueByString(UserDataCount)\n                .toInt();\n        };\n        CubismModelUserDataJson.prototype.getTotalUserDataSize = function () {\n            return this._json\n                .getRoot()\n                .getValueByString(Meta)\n                .getValueByString(TotalUserDataSize)\n                .toInt();\n        };\n        CubismModelUserDataJson.prototype.getUserDataTargetType = function (i) {\n            return this._json\n                .getRoot()\n                .getValueByString(UserData)\n                .getValueByIndex(i)\n                .getValueByString(Target)\n                .getRawString();\n        };\n        CubismModelUserDataJson.prototype.getUserDataId = function (i) {\n            return CubismFramework.getIdManager().getId(this._json\n                .getRoot()\n                .getValueByString(UserData)\n                .getValueByIndex(i)\n                .getValueByString(Id)\n                .getRawString());\n        };\n        CubismModelUserDataJson.prototype.getUserDataValue = function (i) {\n            return this._json\n                .getRoot()\n                .getValueByString(UserData)\n                .getValueByIndex(i)\n                .getValueByString(Value)\n                .getRawString();\n        };\n        return CubismModelUserDataJson;\n    }());\n    Live2DCubismFramework.CubismModelUserDataJson = CubismModelUserDataJson;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21vZGVsL2N1YmlzbW1vZGVsdXNlcmRhdGFqc29uLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vRnJhbWV3b3JrL3NyYy9tb2RlbC9jdWJpc21tb2RlbHVzZXJkYXRhanNvbi50cz82MWE4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0KGMpIExpdmUyRCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcbiAqIHRoYXQgY2FuIGJlIGZvdW5kIGF0IGh0dHBzOi8vd3d3LmxpdmUyZC5jb20vZXVsYS9saXZlMmQtb3Blbi1zb2Z0d2FyZS1saWNlbnNlLWFncmVlbWVudF9lbi5odG1sLlxuICovXG5cbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21qc29uIH0gZnJvbSAnLi4vdXRpbHMvY3ViaXNtanNvbic7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtaWQgfSBmcm9tICcuLi9pZC9jdWJpc21pZCc7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtZnJhbWV3b3JrIH0gZnJvbSAnLi4vbGl2ZTJkY3ViaXNtZnJhbWV3b3JrJztcbmltcG9ydCBDdWJpc21GcmFtZXdvcmsgPSBjdWJpc21mcmFtZXdvcmsuQ3ViaXNtRnJhbWV3b3JrO1xuaW1wb3J0IEN1YmlzbUlkSGFuZGxlID0gY3ViaXNtaWQuQ3ViaXNtSWRIYW5kbGU7XG5pbXBvcnQgQ3ViaXNtSnNvbiA9IGN1YmlzbWpzb24uQ3ViaXNtSnNvbjtcblxuZXhwb3J0IG5hbWVzcGFjZSBMaXZlMkRDdWJpc21GcmFtZXdvcmsge1xuICBjb25zdCBNZXRhID0gJ01ldGEnO1xuICBjb25zdCBVc2VyRGF0YUNvdW50ID0gJ1VzZXJEYXRhQ291bnQnO1xuICBjb25zdCBUb3RhbFVzZXJEYXRhU2l6ZSA9ICdUb3RhbFVzZXJEYXRhU2l6ZSc7XG4gIGNvbnN0IFVzZXJEYXRhID0gJ1VzZXJEYXRhJztcbiAgY29uc3QgVGFyZ2V0ID0gJ1RhcmdldCc7XG4gIGNvbnN0IElkID0gJ0lkJztcbiAgY29uc3QgVmFsdWUgPSAnVmFsdWUnO1xuXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21Nb2RlbFVzZXJEYXRhSnNvbiB7XG4gICAgLyoqXG4gICAgICog44Kz44Oz44K544OI44Op44Kv44K/XG4gICAgICogQHBhcmFtIGJ1ZmZlciAgICB1c2VyZGF0YTMuanNvbuOBjOiqreOBv+i+vOOBvuOCjOOBpuOBhOOCi+ODkOODg+ODleOCoVxuICAgICAqIEBwYXJhbSBzaXplICAgICAg44OQ44OD44OV44Kh44Gu44K144Kk44K6XG4gICAgICovXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGJ1ZmZlcjogQXJyYXlCdWZmZXIsIHNpemU6IG51bWJlcikge1xuICAgICAgdGhpcy5fanNvbiA9IEN1YmlzbUpzb24uY3JlYXRlKGJ1ZmZlciwgc2l6ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44OH44K544OI44Op44Kv44K/55u45b2T44Gu5Yem55CGXG4gICAgICovXG4gICAgcHVibGljIHJlbGVhc2UoKTogdm9pZCB7XG4gICAgICBDdWJpc21Kc29uLmRlbGV0ZSh0aGlzLl9qc29uKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6bjg7zjgrbjg7zjg4fjg7zjgr/lgIvmlbDjga7lj5blvpdcbiAgICAgKiBAcmV0dXJuIOODpuODvOOCtuODvOODh+ODvOOCv+OBruWAi+aVsFxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRVc2VyRGF0YUNvdW50KCk6IG51bWJlciB7XG4gICAgICByZXR1cm4gdGhpcy5fanNvblxuICAgICAgICAuZ2V0Um9vdCgpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKE1ldGEpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFVzZXJEYXRhQ291bnQpXG4gICAgICAgIC50b0ludCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODpuODvOOCtuODvOODh+ODvOOCv+e3j+aWh+Wtl+WIl+aVsOOBruWPluW+l1xuICAgICAqXG4gICAgICogQHJldHVybiDjg6bjg7zjgrbjg7zjg4fjg7zjgr/nt4/mloflrZfliJfmlbBcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0VG90YWxVc2VyRGF0YVNpemUoKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiB0aGlzLl9qc29uXG4gICAgICAgIC5nZXRSb290KClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoTWV0YSlcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoVG90YWxVc2VyRGF0YVNpemUpXG4gICAgICAgIC50b0ludCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODpuODvOOCtuODvOODh+ODvOOCv+OBruOCv+OCpOODl+OBruWPluW+l1xuICAgICAqXG4gICAgICogQHJldHVybiDjg6bjg7zjgrbjg7zjg4fjg7zjgr/jga7jgr/jgqTjg5dcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0VXNlckRhdGFUYXJnZXRUeXBlKGk6IG51bWJlcik6IHN0cmluZyB7XG4gICAgICByZXR1cm4gdGhpcy5fanNvblxuICAgICAgICAuZ2V0Um9vdCgpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFVzZXJEYXRhKVxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KGkpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFRhcmdldClcbiAgICAgICAgLmdldFJhd1N0cmluZygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODpuODvOOCtuODvOODh+ODvOOCv+OBruOCv+ODvOOCsuODg+ODiElE44Gu5Y+W5b6XXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaSDjgqTjg7Pjg4fjg4Pjgq/jgrlcbiAgICAgKiBAcmV0dXJuIOODpuODvOOCtuODvOODh+ODvOOCv+OCv+ODvOOCsuODg+ODiElEXG4gICAgICovXG4gICAgcHVibGljIGdldFVzZXJEYXRhSWQoaTogbnVtYmVyKTogQ3ViaXNtSWRIYW5kbGUge1xuICAgICAgcmV0dXJuIEN1YmlzbUZyYW1ld29yay5nZXRJZE1hbmFnZXIoKS5nZXRJZChcbiAgICAgICAgdGhpcy5fanNvblxuICAgICAgICAgIC5nZXRSb290KClcbiAgICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhVc2VyRGF0YSlcbiAgICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KGkpXG4gICAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoSWQpXG4gICAgICAgICAgLmdldFJhd1N0cmluZygpXG4gICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODpuODvOOCtuODvOODh+ODvOOCv+OBruaWh+Wtl+WIl+OBruWPluW+l1xuICAgICAqXG4gICAgICogQHBhcmFtIGkg44Kk44Oz44OH44OD44Kv44K5XG4gICAgICogQHJldHVybiDjg6bjg7zjgrbjg7zjg4fjg7zjgr9cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0VXNlckRhdGFWYWx1ZShpOiBudW1iZXIpOiBzdHJpbmcge1xuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cbiAgICAgICAgLmdldFJvb3QoKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhVc2VyRGF0YSlcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChpKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhWYWx1ZSlcbiAgICAgICAgLmdldFJhd1N0cmluZygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2pzb246IEN1YmlzbUpzb247XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7O0FBT0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU1BO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBekZBO0FBMEZBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/model/cubismmodeluserdatajson.ts\n");

/***/ }),

/***/ "./Framework/src/model/cubismusermodel.ts":
/*!************************************************!*\
  !*** ./Framework/src/model/cubismusermodel.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./Framework/src/live2dcubismframework.ts\");\nvar cubismmotionmanager_1 = __webpack_require__(/*! ../motion/cubismmotionmanager */ \"./Framework/src/motion/cubismmotionmanager.ts\");\nvar cubismtargetpoint_1 = __webpack_require__(/*! ../math/cubismtargetpoint */ \"./Framework/src/math/cubismtargetpoint.ts\");\nvar cubismmodelmatrix_1 = __webpack_require__(/*! ../math/cubismmodelmatrix */ \"./Framework/src/math/cubismmodelmatrix.ts\");\nvar cubismmoc_1 = __webpack_require__(/*! ./cubismmoc */ \"./Framework/src/model/cubismmoc.ts\");\nvar cubismmotion_1 = __webpack_require__(/*! ../motion/cubismmotion */ \"./Framework/src/motion/cubismmotion.ts\");\nvar cubismexpressionmotion_1 = __webpack_require__(/*! ../motion/cubismexpressionmotion */ \"./Framework/src/motion/cubismexpressionmotion.ts\");\nvar cubismpose_1 = __webpack_require__(/*! ../effect/cubismpose */ \"./Framework/src/effect/cubismpose.ts\");\nvar cubismmodeluserdata_1 = __webpack_require__(/*! ./cubismmodeluserdata */ \"./Framework/src/model/cubismmodeluserdata.ts\");\nvar cubismphysics_1 = __webpack_require__(/*! ../physics/cubismphysics */ \"./Framework/src/physics/cubismphysics.ts\");\nvar cubismbreath_1 = __webpack_require__(/*! ../effect/cubismbreath */ \"./Framework/src/effect/cubismbreath.ts\");\nvar cubismeyeblink_1 = __webpack_require__(/*! ../effect/cubismeyeblink */ \"./Framework/src/effect/cubismeyeblink.ts\");\nvar cubismrenderer_webgl_1 = __webpack_require__(/*! ../rendering/cubismrenderer_webgl */ \"./Framework/src/rendering/cubismrenderer_webgl.ts\");\nvar cubismdebug_1 = __webpack_require__(/*! ../utils/cubismdebug */ \"./Framework/src/utils/cubismdebug.ts\");\nvar CubismRenderer_WebGL = cubismrenderer_webgl_1.Live2DCubismFramework.CubismRenderer_WebGL;\nvar CubismEyeBlink = cubismeyeblink_1.Live2DCubismFramework.CubismEyeBlink;\nvar CubismBreath = cubismbreath_1.Live2DCubismFramework.CubismBreath;\nvar Constant = live2dcubismframework_1.Live2DCubismFramework.Constant;\nvar CubismPhysics = cubismphysics_1.Live2DCubismFramework.CubismPhysics;\nvar CubismModelUserData = cubismmodeluserdata_1.Live2DCubismFramework.CubismModelUserData;\nvar CubismPose = cubismpose_1.Live2DCubismFramework.CubismPose;\nvar CubismExpressionMotion = cubismexpressionmotion_1.Live2DCubismFramework.CubismExpressionMotion;\nvar CubismMotion = cubismmotion_1.Live2DCubismFramework.CubismMotion;\nvar CubismMoc = cubismmoc_1.Live2DCubismFramework.CubismMoc;\nvar CubismModelMatrix = cubismmodelmatrix_1.Live2DCubismFramework.CubismModelMatrix;\nvar CubismTargetPoint = cubismtargetpoint_1.Live2DCubismFramework.CubismTargetPoint;\nvar CubismMotionManager = cubismmotionmanager_1.Live2DCubismFramework.CubismMotionManager;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var CubismUserModel = (function () {\n        function CubismUserModel() {\n            this.loadMotion = function (buffer, size, name, onFinishedMotionHandler) { return CubismMotion.create(buffer, size, onFinishedMotionHandler); };\n            this._moc = null;\n            this._model = null;\n            this._motionManager = null;\n            this._expressionManager = null;\n            this._eyeBlink = null;\n            this._breath = null;\n            this._modelMatrix = null;\n            this._pose = null;\n            this._dragManager = null;\n            this._physics = null;\n            this._modelUserData = null;\n            this._initialized = false;\n            this._updating = false;\n            this._opacity = 1.0;\n            this._lipsync = true;\n            this._lastLipSyncValue = 0.0;\n            this._dragX = 0.0;\n            this._dragY = 0.0;\n            this._accelerationX = 0.0;\n            this._accelerationY = 0.0;\n            this._accelerationZ = 0.0;\n            this._debugMode = false;\n            this._renderer = null;\n            this._motionManager = new CubismMotionManager();\n            this._motionManager.setEventCallback(CubismUserModel.cubismDefaultMotionEventCallback, this);\n            this._expressionManager = new CubismMotionManager();\n            this._dragManager = new CubismTargetPoint();\n        }\n        CubismUserModel.prototype.isInitialized = function () {\n            return this._initialized;\n        };\n        CubismUserModel.prototype.setInitialized = function (v) {\n            this._initialized = v;\n        };\n        CubismUserModel.prototype.isUpdating = function () {\n            return this._updating;\n        };\n        CubismUserModel.prototype.setUpdating = function (v) {\n            this._updating = v;\n        };\n        CubismUserModel.prototype.setDragging = function (x, y) {\n            this._dragManager.set(x, y);\n        };\n        CubismUserModel.prototype.setAcceleration = function (x, y, z) {\n            this._accelerationX = x;\n            this._accelerationY = y;\n            this._accelerationZ = z;\n        };\n        CubismUserModel.prototype.getModelMatrix = function () {\n            return this._modelMatrix;\n        };\n        CubismUserModel.prototype.setOpacity = function (a) {\n            this._opacity = a;\n        };\n        CubismUserModel.prototype.getOpacity = function () {\n            return this._opacity;\n        };\n        CubismUserModel.prototype.loadModel = function (buffer) {\n            this._moc = CubismMoc.create(buffer);\n            this._model = this._moc.createModel();\n            this._model.saveParameters();\n            if (this._moc == null || this._model == null) {\n                cubismdebug_1.CubismLogError('Failed to CreateModel().');\n                return;\n            }\n            this._modelMatrix = new CubismModelMatrix(this._model.getCanvasWidth(), this._model.getCanvasHeight());\n        };\n        CubismUserModel.prototype.loadExpression = function (buffer, size, name) {\n            return CubismExpressionMotion.create(buffer, size);\n        };\n        CubismUserModel.prototype.loadPose = function (buffer, size) {\n            this._pose = CubismPose.create(buffer, size);\n        };\n        CubismUserModel.prototype.loadUserData = function (buffer, size) {\n            this._modelUserData = CubismModelUserData.create(buffer, size);\n        };\n        CubismUserModel.prototype.loadPhysics = function (buffer, size) {\n            this._physics = CubismPhysics.create(buffer, size);\n        };\n        CubismUserModel.prototype.isHit = function (drawableId, pointX, pointY) {\n            var drawIndex = this._model.getDrawableIndex(drawableId);\n            if (drawIndex < 0) {\n                return false;\n            }\n            var count = this._model.getDrawableVertexCount(drawIndex);\n            var vertices = this._model.getDrawableVertices(drawIndex);\n            var left = vertices[0];\n            var right = vertices[0];\n            var top = vertices[1];\n            var bottom = vertices[1];\n            for (var j = 1; j < count; ++j) {\n                var x = vertices[Constant.vertexOffset + j * Constant.vertexStep];\n                var y = vertices[Constant.vertexOffset + j * Constant.vertexStep + 1];\n                if (x < left) {\n                    left = x;\n                }\n                if (x > right) {\n                    right = x;\n                }\n                if (y < top) {\n                    top = y;\n                }\n                if (y > bottom) {\n                    bottom = y;\n                }\n            }\n            var tx = this._modelMatrix.invertTransformX(pointX);\n            var ty = this._modelMatrix.invertTransformY(pointY);\n            return left <= tx && tx <= right && top <= ty && ty <= bottom;\n        };\n        CubismUserModel.prototype.getModel = function () {\n            return this._model;\n        };\n        CubismUserModel.prototype.getRenderer = function () {\n            return this._renderer;\n        };\n        CubismUserModel.prototype.createRenderer = function () {\n            if (this._renderer) {\n                this.deleteRenderer();\n            }\n            this._renderer = new CubismRenderer_WebGL();\n            this._renderer.initialize(this._model);\n        };\n        CubismUserModel.prototype.deleteRenderer = function () {\n            if (this._renderer != null) {\n                this._renderer.release();\n                this._renderer = null;\n            }\n        };\n        CubismUserModel.prototype.motionEventFired = function (eventValue) {\n            cubismdebug_1.CubismLogInfo('{0}', eventValue.s);\n        };\n        CubismUserModel.cubismDefaultMotionEventCallback = function (caller, eventValue, customData) {\n            var model = customData;\n            if (model != null) {\n                model.motionEventFired(eventValue);\n            }\n        };\n        CubismUserModel.prototype.release = function () {\n            if (this._motionManager != null) {\n                this._motionManager.release();\n                this._motionManager = null;\n            }\n            if (this._expressionManager != null) {\n                this._expressionManager.release();\n                this._expressionManager = null;\n            }\n            if (this._moc != null) {\n                this._moc.deleteModel(this._model);\n                this._moc.release();\n                this._moc = null;\n            }\n            this._modelMatrix = null;\n            CubismPose.delete(this._pose);\n            CubismEyeBlink.delete(this._eyeBlink);\n            CubismBreath.delete(this._breath);\n            this._dragManager = null;\n            CubismPhysics.delete(this._physics);\n            CubismModelUserData.delete(this._modelUserData);\n            this.deleteRenderer();\n        };\n        return CubismUserModel;\n    }());\n    Live2DCubismFramework.CubismUserModel = CubismUserModel;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21vZGVsL2N1YmlzbXVzZXJtb2RlbC50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL0ZyYW1ld29yay9zcmMvbW9kZWwvY3ViaXNtdXNlcm1vZGVsLnRzPzIwOWYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTGl2ZTJEIE9wZW4gU29mdHdhcmUgbGljZW5zZVxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXG4gKi9cblxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbWZyYW1ld29yayB9IGZyb20gJy4uL2xpdmUyZGN1YmlzbWZyYW1ld29yayc7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtbW90aW9ubWFuYWdlciB9IGZyb20gJy4uL21vdGlvbi9jdWJpc21tb3Rpb25tYW5hZ2VyJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc210YXJnZXRwb2ludCB9IGZyb20gJy4uL21hdGgvY3ViaXNtdGFyZ2V0cG9pbnQnO1xuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbW1vZGVsbWF0cml4IH0gZnJvbSAnLi4vbWF0aC9jdWJpc21tb2RlbG1hdHJpeCc7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtbW9jIH0gZnJvbSAnLi9jdWJpc21tb2MnO1xuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbW1vZGVsIH0gZnJvbSAnLi9jdWJpc21tb2RlbCc7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgYWN1YmlzbW1vdGlvbiB9IGZyb20gJy4uL21vdGlvbi9hY3ViaXNtbW90aW9uJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21tb3Rpb24gfSBmcm9tICcuLi9tb3Rpb24vY3ViaXNtbW90aW9uJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21leHByZXNzaW9ubW90aW9uIH0gZnJvbSAnLi4vbW90aW9uL2N1YmlzbWV4cHJlc3Npb25tb3Rpb24nO1xuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbXBvc2UgfSBmcm9tICcuLi9lZmZlY3QvY3ViaXNtcG9zZSc7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtbW9kZWx1c2VyZGF0YSB9IGZyb20gJy4vY3ViaXNtbW9kZWx1c2VyZGF0YSc7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtcGh5c2ljcyB9IGZyb20gJy4uL3BoeXNpY3MvY3ViaXNtcGh5c2ljcyc7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtaWQgfSBmcm9tICcuLi9pZC9jdWJpc21pZCc7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3Ntc3RyaW5nIH0gZnJvbSAnLi4vdHlwZS9jc21zdHJpbmcnO1xuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbW1vdGlvbnF1ZXVlbWFuYWdlciB9IGZyb20gJy4uL21vdGlvbi9jdWJpc21tb3Rpb25xdWV1ZW1hbmFnZXInO1xuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbWJyZWF0aCB9IGZyb20gJy4uL2VmZmVjdC9jdWJpc21icmVhdGgnO1xuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbWV5ZWJsaW5rIH0gZnJvbSAnLi4vZWZmZWN0L2N1YmlzbWV5ZWJsaW5rJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21yZW5kZXJlcl93ZWJnbCB9IGZyb20gJy4uL3JlbmRlcmluZy9jdWJpc21yZW5kZXJlcl93ZWJnbCc7XG5pbXBvcnQgeyBDdWJpc21Mb2dFcnJvciwgQ3ViaXNtTG9nSW5mbyB9IGZyb20gJy4uL3V0aWxzL2N1YmlzbWRlYnVnJztcbmltcG9ydCBDdWJpc21SZW5kZXJlcl9XZWJHTCA9IGN1YmlzbXJlbmRlcmVyX3dlYmdsLkN1YmlzbVJlbmRlcmVyX1dlYkdMO1xuaW1wb3J0IEN1YmlzbUV5ZUJsaW5rID0gY3ViaXNtZXllYmxpbmsuQ3ViaXNtRXllQmxpbms7XG5pbXBvcnQgQ3ViaXNtQnJlYXRoID0gY3ViaXNtYnJlYXRoLkN1YmlzbUJyZWF0aDtcbmltcG9ydCBDdWJpc21Nb3Rpb25RdWV1ZU1hbmFnZXIgPSBjdWJpc21tb3Rpb25xdWV1ZW1hbmFnZXIuQ3ViaXNtTW90aW9uUXVldWVNYW5hZ2VyO1xuaW1wb3J0IGNzbVN0cmluZyA9IGNzbXN0cmluZy5jc21TdHJpbmc7XG5pbXBvcnQgQ29uc3RhbnQgPSBjdWJpc21mcmFtZXdvcmsuQ29uc3RhbnQ7XG5pbXBvcnQgQ3ViaXNtSWRIYW5kbGUgPSBjdWJpc21pZC5DdWJpc21JZEhhbmRsZTtcbmltcG9ydCBDdWJpc21QaHlzaWNzID0gY3ViaXNtcGh5c2ljcy5DdWJpc21QaHlzaWNzO1xuaW1wb3J0IEN1YmlzbU1vZGVsVXNlckRhdGEgPSBjdWJpc21tb2RlbHVzZXJkYXRhLkN1YmlzbU1vZGVsVXNlckRhdGE7XG5pbXBvcnQgQ3ViaXNtUG9zZSA9IGN1YmlzbXBvc2UuQ3ViaXNtUG9zZTtcbmltcG9ydCBDdWJpc21FeHByZXNzaW9uTW90aW9uID0gY3ViaXNtZXhwcmVzc2lvbm1vdGlvbi5DdWJpc21FeHByZXNzaW9uTW90aW9uO1xuaW1wb3J0IEN1YmlzbU1vdGlvbiA9IGN1YmlzbW1vdGlvbi5DdWJpc21Nb3Rpb247XG5pbXBvcnQgQUN1YmlzbU1vdGlvbiA9IGFjdWJpc21tb3Rpb24uQUN1YmlzbU1vdGlvbjtcbmltcG9ydCBGaW5pc2hlZE1vdGlvbkNhbGxiYWNrID0gYWN1YmlzbW1vdGlvbi5GaW5pc2hlZE1vdGlvbkNhbGxiYWNrO1xuaW1wb3J0IEN1YmlzbU1vZGVsID0gY3ViaXNtbW9kZWwuQ3ViaXNtTW9kZWw7XG5pbXBvcnQgQ3ViaXNtTW9jID0gY3ViaXNtbW9jLkN1YmlzbU1vYztcbmltcG9ydCBDdWJpc21Nb2RlbE1hdHJpeCA9IGN1YmlzbW1vZGVsbWF0cml4LkN1YmlzbU1vZGVsTWF0cml4O1xuaW1wb3J0IEN1YmlzbVRhcmdldFBvaW50ID0gY3ViaXNtdGFyZ2V0cG9pbnQuQ3ViaXNtVGFyZ2V0UG9pbnQ7XG5pbXBvcnQgQ3ViaXNtTW90aW9uTWFuYWdlciA9IGN1YmlzbW1vdGlvbm1hbmFnZXIuQ3ViaXNtTW90aW9uTWFuYWdlcjtcblxuZXhwb3J0IG5hbWVzcGFjZSBMaXZlMkRDdWJpc21GcmFtZXdvcmsge1xuICAvKipcbiAgICog44Om44O844K244O844GM5a6f6Zqb44Gr5L2/55So44GZ44KL44Oi44OH44OrXG4gICAqXG4gICAqIOODpuODvOOCtuODvOOBjOWun+mam+OBq+S9v+eUqOOBmeOCi+ODouODh+ODq+OBruWfuuW6leOCr+ODqeOCueOAguOBk+OCjOOCkue2meaJv+OBl+OBpuODpuODvOOCtuODvOOBjOWun+ijheOBmeOCi+OAglxuICAgKi9cbiAgZXhwb3J0IGNsYXNzIEN1YmlzbVVzZXJNb2RlbCB7XG4gICAgLyoqXG4gICAgICog5Yid5pyf5YyW54q25oWL44Gu5Y+W5b6XXG4gICAgICpcbiAgICAgKiDliJ3mnJ/ljJbjgZXjgozjgabjgYTjgovnirbmhYvjgYvvvJ9cbiAgICAgKlxuICAgICAqIEByZXR1cm4gdHJ1ZSAgICAg5Yid5pyf5YyW44GV44KM44Gm44GE44KLXG4gICAgICogQHJldHVybiBmYWxzZSAgICDliJ3mnJ/ljJbjgZXjgozjgabjgYTjgarjgYRcbiAgICAgKi9cbiAgICBwdWJsaWMgaXNJbml0aWFsaXplZCgpOiBib29sZWFuIHtcbiAgICAgIHJldHVybiB0aGlzLl9pbml0aWFsaXplZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDliJ3mnJ/ljJbnirbmhYvjga7oqK3lrppcbiAgICAgKlxuICAgICAqIOWIneacn+WMlueKtuaFi+OCkuioreWumuOBmeOCi+OAglxuICAgICAqXG4gICAgICogQHBhcmFtIHYg5Yid5pyf5YyW54q25oWLXG4gICAgICovXG4gICAgcHVibGljIHNldEluaXRpYWxpemVkKHY6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDmm7TmlrDnirbmhYvjga7lj5blvpdcbiAgICAgKlxuICAgICAqIOabtOaWsOOBleOCjOOBpuOBhOOCi+eKtuaFi+OBi++8n1xuICAgICAqXG4gICAgICogQHJldHVybiB0cnVlICAgICDmm7TmlrDjgZXjgozjgabjgYTjgotcbiAgICAgKiBAcmV0dXJuIGZhbHNlICAgIOabtOaWsOOBleOCjOOBpuOBhOOBquOBhFxuICAgICAqL1xuICAgIHB1YmxpYyBpc1VwZGF0aW5nKCk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0aW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOabtOaWsOeKtuaFi+OBruioreWumlxuICAgICAqXG4gICAgICog5pu05paw54q25oWL44KS6Kit5a6a44GZ44KLXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdiDmm7TmlrDnirbmhYtcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0VXBkYXRpbmcodjogYm9vbGVhbik6IHZvaWQge1xuICAgICAgdGhpcy5fdXBkYXRpbmcgPSB2O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOm8oOagh+aLluWKqOS/oeaBr+eahOiuvuWumlxuICAgICAqIEBwYXJhbSDjg4njg6njg4PjgrDjgZfjgabjgYTjgovjgqvjg7zjgr3jg6vjga5Y5L2N572uXG4gICAgICogQHBhcmFtIOODieODqeODg+OCsOOBl+OBpuOBhOOCi+OCq+ODvOOCveODq+OBrlnkvY3nva5cbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0RHJhZ2dpbmcoeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgIHRoaXMuX2RyYWdNYW5hZ2VyLnNldCh4LCB5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDliqDpgJ/luqbjga7mg4XloLHjgpLoqK3lrprjgZnjgotcbiAgICAgKiBAcGFyYW0geCBY6Lu45pa55ZCR44Gu5Yqg6YCf5bqmXG4gICAgICogQHBhcmFtIHkgWei7uOaWueWQkeOBruWKoOmAn+W6plxuICAgICAqIEBwYXJhbSB6IFrou7jmlrnlkJHjga7liqDpgJ/luqZcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0QWNjZWxlcmF0aW9uKHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgIHRoaXMuX2FjY2VsZXJhdGlvblggPSB4O1xuICAgICAgdGhpcy5fYWNjZWxlcmF0aW9uWSA9IHk7XG4gICAgICB0aGlzLl9hY2NlbGVyYXRpb25aID0gejtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6Ljg4fjg6vooYzliJfjgpLlj5blvpfjgZnjgotcbiAgICAgKiBAcmV0dXJuIOODouODh+ODq+ihjOWIl1xuICAgICAqL1xuICAgIHB1YmxpYyBnZXRNb2RlbE1hdHJpeCgpOiBDdWJpc21Nb2RlbE1hdHJpeCB7XG4gICAgICByZXR1cm4gdGhpcy5fbW9kZWxNYXRyaXg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5LiN6YCP5piO5bqm44Gu6Kit5a6aXG4gICAgICogQHBhcmFtIGEg5LiN6YCP5piO5bqmXG4gICAgICovXG4gICAgcHVibGljIHNldE9wYWNpdHkoYTogbnVtYmVyKTogdm9pZCB7XG4gICAgICB0aGlzLl9vcGFjaXR5ID0gYTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDkuI3pgI/mmI7luqbjga7lj5blvpdcbiAgICAgKiBAcmV0dXJuIOS4jemAj+aYjuW6plxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRPcGFjaXR5KCk6IG51bWJlciB7XG4gICAgICByZXR1cm4gdGhpcy5fb3BhY2l0eTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6Ljg4fjg6vjg4fjg7zjgr/jgpLoqq3jgb/ovrzjgoBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBidWZmZXIgICAgbW9jM+ODleOCoeOCpOODq+OBjOiqreOBv+i+vOOBvuOCjOOBpuOBhOOCi+ODkOODg+ODleOCoVxuICAgICAqL1xuICAgIHB1YmxpYyBsb2FkTW9kZWwoYnVmZmVyOiBBcnJheUJ1ZmZlcikge1xuICAgICAgdGhpcy5fbW9jID0gQ3ViaXNtTW9jLmNyZWF0ZShidWZmZXIpO1xuICAgICAgdGhpcy5fbW9kZWwgPSB0aGlzLl9tb2MuY3JlYXRlTW9kZWwoKTtcbiAgICAgIHRoaXMuX21vZGVsLnNhdmVQYXJhbWV0ZXJzKCk7XG5cbiAgICAgIGlmICh0aGlzLl9tb2MgPT0gbnVsbCB8fCB0aGlzLl9tb2RlbCA9PSBudWxsKSB7XG4gICAgICAgIEN1YmlzbUxvZ0Vycm9yKCdGYWlsZWQgdG8gQ3JlYXRlTW9kZWwoKS4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9tb2RlbE1hdHJpeCA9IG5ldyBDdWJpc21Nb2RlbE1hdHJpeChcbiAgICAgICAgdGhpcy5fbW9kZWwuZ2V0Q2FudmFzV2lkdGgoKSxcbiAgICAgICAgdGhpcy5fbW9kZWwuZ2V0Q2FudmFzSGVpZ2h0KClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Oi44O844K344On44Oz44OH44O844K/44KS6Kqt44G/6L6844KAXG4gICAgICogQHBhcmFtIGJ1ZmZlciBtb3Rpb24zLmpzb27jg5XjgqHjgqTjg6vjgYzoqq3jgb/ovrzjgb7jgozjgabjgYTjgovjg5Djg4Pjg5XjgqFcbiAgICAgKiBAcGFyYW0gc2l6ZSDjg5Djg4Pjg5XjgqHjga7jgrXjgqTjgrpcbiAgICAgKiBAcGFyYW0gbmFtZSDjg6Ljg7zjgrfjg6fjg7Pjga7lkI3liY1cbiAgICAgKiBAcGFyYW0gb25GaW5pc2hlZE1vdGlvbkhhbmRsZXIg44Oi44O844K344On44Oz5YaN55Sf57WC5LqG5pmC44Gr5ZG844Gz5Ye644GV44KM44KL44Kz44O844Or44OQ44OD44Kv6Zai5pWwXG4gICAgICogQHJldHVybiDjg6Ljg7zjgrfjg6fjg7Pjgq/jg6njgrlcbiAgICAgKi9cbiAgICBwdWJsaWMgbG9hZE1vdGlvbiA9IChcbiAgICAgIGJ1ZmZlcjogQXJyYXlCdWZmZXIsXG4gICAgICBzaXplOiBudW1iZXIsXG4gICAgICBuYW1lOiBzdHJpbmcsXG4gICAgICBvbkZpbmlzaGVkTW90aW9uSGFuZGxlcj86IEZpbmlzaGVkTW90aW9uQ2FsbGJhY2tcbiAgICApID0+IEN1YmlzbU1vdGlvbi5jcmVhdGUoYnVmZmVyLCBzaXplLCBvbkZpbmlzaGVkTW90aW9uSGFuZGxlcik7XG5cbiAgICAvKipcbiAgICAgKiDooajmg4Xjg4fjg7zjgr/jga7oqq3jgb/ovrzjgb9cbiAgICAgKiBAcGFyYW0gYnVmZmVyIGV4cOODleOCoeOCpOODq+OBjOiqreOBv+i+vOOBvuOCjOOBpuOBhOOCi+ODkOODg+ODleOCoVxuICAgICAqIEBwYXJhbSBzaXplIOODkOODg+ODleOCoeOBruOCteOCpOOCulxuICAgICAqIEBwYXJhbSBuYW1lIOihqOaDheOBruWQjeWJjVxuICAgICAqL1xuICAgIHB1YmxpYyBsb2FkRXhwcmVzc2lvbihcbiAgICAgIGJ1ZmZlcjogQXJyYXlCdWZmZXIsXG4gICAgICBzaXplOiBudW1iZXIsXG4gICAgICBuYW1lOiBzdHJpbmdcbiAgICApOiBBQ3ViaXNtTW90aW9uIHtcbiAgICAgIHJldHVybiBDdWJpc21FeHByZXNzaW9uTW90aW9uLmNyZWF0ZShidWZmZXIsIHNpemUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODneODvOOCuuODh+ODvOOCv+OBruiqreOBv+i+vOOBv1xuICAgICAqIEBwYXJhbSBidWZmZXIgcG9zZTMuanNvbuOBjOiqreOBv+i+vOOBvuOCjOOBpuOBhOOCi+ODkOODg+ODleOCoVxuICAgICAqIEBwYXJhbSBzaXplIOODkOODg+ODleOCoeOBruOCteOCpOOCulxuICAgICAqL1xuICAgIHB1YmxpYyBsb2FkUG9zZShidWZmZXI6IEFycmF5QnVmZmVyLCBzaXplOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgIHRoaXMuX3Bvc2UgPSBDdWJpc21Qb3NlLmNyZWF0ZShidWZmZXIsIHNpemUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODouODh+ODq+OBq+S7mOWxnuOBmeOCi+ODpuODvOOCtuODvOODh+ODvOOCv+OCkuiqreOBv+i+vOOCgFxuICAgICAqIEBwYXJhbSBidWZmZXIgdXNlcmRhdGEzLmpzb27jgYzoqq3jgb/ovrzjgb7jgozjgabjgYTjgovjg5Djg4Pjg5XjgqFcbiAgICAgKiBAcGFyYW0gc2l6ZSDjg5Djg4Pjg5XjgqHjga7jgrXjgqTjgrpcbiAgICAgKi9cbiAgICBwdWJsaWMgbG9hZFVzZXJEYXRhKGJ1ZmZlcjogQXJyYXlCdWZmZXIsIHNpemU6IG51bWJlcik6IHZvaWQge1xuICAgICAgdGhpcy5fbW9kZWxVc2VyRGF0YSA9IEN1YmlzbU1vZGVsVXNlckRhdGEuY3JlYXRlKGJ1ZmZlciwgc2l6ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog54mp55CG5ryU566X44OH44O844K/44Gu6Kqt44G/6L6844G/XG4gICAgICogQHBhcmFtIGJ1ZmZlciAgcGh5c2ljczMuanNvbuOBjOiqreOBv+i+vOOBvuOCjOOBpuOBhOOCi+ODkOODg+ODleOCoVxuICAgICAqIEBwYXJhbSBzaXplICAgIOODkOODg+ODleOCoeOBruOCteOCpOOCulxuICAgICAqL1xuICAgIHB1YmxpYyBsb2FkUGh5c2ljcyhidWZmZXI6IEFycmF5QnVmZmVyLCBzaXplOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgIHRoaXMuX3BoeXNpY3MgPSBDdWJpc21QaHlzaWNzLmNyZWF0ZShidWZmZXIsIHNpemUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOW5s+Wdh+WIpOWumueahOWPluW+l1xuICAgICAqIEBwYXJhbSBkcmF3YWJsZUlkIOaknOiovOOBl+OBn+OBhERyYXdhYmxl44GuSURcbiAgICAgKiBAcGFyYW0gcG9pbnRYIFjkvY3nva5cbiAgICAgKiBAcGFyYW0gcG9pbnRZIFnkvY3nva5cbiAgICAgKiBAcmV0dXJuIHRydWUg5q2j5Zyo54Ot6ZSAXG4gICAgICogQHJldHVybiBmYWxzZSDmsqHmnInmiJDlip9cbiAgICAgKi9cbiAgICBwdWJsaWMgaXNIaXQoXG4gICAgICBkcmF3YWJsZUlkOiBDdWJpc21JZEhhbmRsZSxcbiAgICAgIHBvaW50WDogbnVtYmVyLFxuICAgICAgcG9pbnRZOiBudW1iZXJcbiAgICApOiBib29sZWFuIHtcbiAgICAgIGNvbnN0IGRyYXdJbmRleDogbnVtYmVyID0gdGhpcy5fbW9kZWwuZ2V0RHJhd2FibGVJbmRleChkcmF3YWJsZUlkKTtcblxuICAgICAgaWYgKGRyYXdJbmRleCA8IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyDlrZjlnKjjgZfjgarjgYTloLTlkIjjga9mYWxzZVxuICAgICAgfVxuXG4gICAgICBjb25zdCBjb3VudDogbnVtYmVyID0gdGhpcy5fbW9kZWwuZ2V0RHJhd2FibGVWZXJ0ZXhDb3VudChkcmF3SW5kZXgpO1xuICAgICAgY29uc3QgdmVydGljZXM6IEZsb2F0MzJBcnJheSA9IHRoaXMuX21vZGVsLmdldERyYXdhYmxlVmVydGljZXMoZHJhd0luZGV4KTtcblxuICAgICAgbGV0IGxlZnQ6IG51bWJlciA9IHZlcnRpY2VzWzBdO1xuICAgICAgbGV0IHJpZ2h0OiBudW1iZXIgPSB2ZXJ0aWNlc1swXTtcbiAgICAgIGxldCB0b3A6IG51bWJlciA9IHZlcnRpY2VzWzFdO1xuICAgICAgbGV0IGJvdHRvbTogbnVtYmVyID0gdmVydGljZXNbMV07XG5cbiAgICAgIGZvciAobGV0IGogPSAxOyBqIDwgY291bnQ7ICsraikge1xuICAgICAgICBjb25zdCB4ID0gdmVydGljZXNbQ29uc3RhbnQudmVydGV4T2Zmc2V0ICsgaiAqIENvbnN0YW50LnZlcnRleFN0ZXBdO1xuICAgICAgICBjb25zdCB5ID0gdmVydGljZXNbQ29uc3RhbnQudmVydGV4T2Zmc2V0ICsgaiAqIENvbnN0YW50LnZlcnRleFN0ZXAgKyAxXTtcblxuICAgICAgICBpZiAoeCA8IGxlZnQpIHtcbiAgICAgICAgICBsZWZ0ID0geDsgLy8gTWluIHhcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh4ID4gcmlnaHQpIHtcbiAgICAgICAgICByaWdodCA9IHg7IC8vIE1heCB4XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoeSA8IHRvcCkge1xuICAgICAgICAgIHRvcCA9IHk7IC8vIE1pbiB5XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoeSA+IGJvdHRvbSkge1xuICAgICAgICAgIGJvdHRvbSA9IHk7IC8vIE1heCB5XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgdHg6IG51bWJlciA9IHRoaXMuX21vZGVsTWF0cml4LmludmVydFRyYW5zZm9ybVgocG9pbnRYKTtcbiAgICAgIGNvbnN0IHR5OiBudW1iZXIgPSB0aGlzLl9tb2RlbE1hdHJpeC5pbnZlcnRUcmFuc2Zvcm1ZKHBvaW50WSk7XG5cbiAgICAgIHJldHVybiBsZWZ0IDw9IHR4ICYmIHR4IDw9IHJpZ2h0ICYmIHRvcCA8PSB0eSAmJiB0eSA8PSBib3R0b207XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Oi44OH44Or44Gu5Y+W5b6XXG4gICAgICogQHJldHVybiDjg6Ljg4fjg6tcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0TW9kZWwoKTogQ3ViaXNtTW9kZWwge1xuICAgICAgcmV0dXJuIHRoaXMuX21vZGVsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODrOODs+ODgOODqeOBruWPluW+l1xuICAgICAqIEByZXR1cm4g44Os44Oz44OA44OpXG4gICAgICovXG4gICAgcHVibGljIGdldFJlbmRlcmVyKCk6IEN1YmlzbVJlbmRlcmVyX1dlYkdMIHtcbiAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6zjg7Pjg4Djg6njgpLkvZzmiJDjgZfjgabliJ3mnJ/ljJbjgpLlrp/ooYzjgZnjgotcbiAgICAgKi9cbiAgICBwdWJsaWMgY3JlYXRlUmVuZGVyZXIoKTogdm9pZCB7XG4gICAgICBpZiAodGhpcy5fcmVuZGVyZXIpIHtcbiAgICAgICAgdGhpcy5kZWxldGVSZW5kZXJlcigpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9yZW5kZXJlciA9IG5ldyBDdWJpc21SZW5kZXJlcl9XZWJHTCgpO1xuICAgICAgdGhpcy5fcmVuZGVyZXIuaW5pdGlhbGl6ZSh0aGlzLl9tb2RlbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Os44Oz44OA44Op44Gu6Kej5pS+XG4gICAgICovXG4gICAgcHVibGljIGRlbGV0ZVJlbmRlcmVyKCk6IHZvaWQge1xuICAgICAgaWYgKHRoaXMuX3JlbmRlcmVyICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIucmVsZWFzZSgpO1xuICAgICAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Kk44OZ44Oz44OI55m654Gr5pmC44Gu5qiZ5rqW5Yem55CGXG4gICAgICpcbiAgICAgKiBFdmVudOOBjOWGjeeUn+WHpueQhuaZguOBq+OBguOBo+OBn+WgtOWQiOOBruWHpueQhuOCkuOBmeOCi+OAglxuICAgICAqIOe2meaJv+OBp+S4iuabuOOBjeOBmeOCi+OBk+OBqOOCkuaDs+WumuOBl+OBpuOBhOOCi+OAglxuICAgICAqIOS4iuabuOOBjeOBl+OBquOBhOWgtOWQiOOBr+ODreOCsOWHuuWKm+OCkuOBmeOCi+OAglxuICAgICAqXG4gICAgICogQHBhcmFtIGV2ZW50VmFsdWUg55m654Gr44GX44Gf44Kk44OZ44Oz44OI44Gu5paH5a2X5YiX44OH44O844K/XG4gICAgICovXG4gICAgcHVibGljIG1vdGlvbkV2ZW50RmlyZWQoZXZlbnRWYWx1ZTogY3NtU3RyaW5nKTogdm9pZCB7XG4gICAgICBDdWJpc21Mb2dJbmZvKCd7MH0nLCBldmVudFZhbHVlLnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOOCpOODmeODs+ODiOeUqOOBruOCs+ODvOODq+ODkOODg+OCr1xuICAgICAqXG4gICAgICogQ3ViaXNtTW90aW9uUXVldWVNYW5hZ2Vy44Gr44Kk44OZ44Oz44OI55So44Gr55m76Yyy44GZ44KL44Gf44KB44GuQ2FsbGJhY2vjgIJcbiAgICAgKiBDdWJpc21Vc2VyTW9kZWzjga7ntpnmib/lhYjjga5FdmVudEZpcmVk44KS5ZG844G244CCXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2FsbGVyIOeZuueBq+OBl+OBn+OCpOODmeODs+ODiOOCkueuoeeQhuOBl+OBpuOBhOOBn+ODouODvOOCt+ODp+ODs+ODnuODjeODvOOCuOODo+ODvOOAgeavlOi8g+eUqFxuICAgICAqIEBwYXJhbSBldmVudFZhbHVlIOeZuueBq+OBl+OBn+OCpOODmeODs+ODiOOBruaWh+Wtl+WIl+ODh+ODvOOCv1xuICAgICAqIEBwYXJhbSBjdXN0b21EYXRhIEN1YmlzbVVzZXJNb2RlbOOCkue2meaJv+OBl+OBn+OCpOODs+OCueOCv+ODs+OCueOCkuaDs+WumlxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgY3ViaXNtRGVmYXVsdE1vdGlvbkV2ZW50Q2FsbGJhY2soXG4gICAgICBjYWxsZXI6IEN1YmlzbU1vdGlvblF1ZXVlTWFuYWdlcixcbiAgICAgIGV2ZW50VmFsdWU6IGNzbVN0cmluZyxcbiAgICAgIGN1c3RvbURhdGE6IEN1YmlzbVVzZXJNb2RlbFxuICAgICk6IHZvaWQge1xuICAgICAgY29uc3QgbW9kZWw6IEN1YmlzbVVzZXJNb2RlbCA9IGN1c3RvbURhdGE7XG5cbiAgICAgIGlmIChtb2RlbCAhPSBudWxsKSB7XG4gICAgICAgIG1vZGVsLm1vdGlvbkV2ZW50RmlyZWQoZXZlbnRWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Kz44Oz44K544OI44Op44Kv44K/XG4gICAgICovXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgICAgLy8g5ZCE5aSJ5pWw5Yid5pyf5YyWXG4gICAgICB0aGlzLl9tb2MgPSBudWxsO1xuICAgICAgdGhpcy5fbW9kZWwgPSBudWxsO1xuICAgICAgdGhpcy5fbW90aW9uTWFuYWdlciA9IG51bGw7XG4gICAgICB0aGlzLl9leHByZXNzaW9uTWFuYWdlciA9IG51bGw7XG4gICAgICB0aGlzLl9leWVCbGluayA9IG51bGw7XG4gICAgICB0aGlzLl9icmVhdGggPSBudWxsO1xuICAgICAgdGhpcy5fbW9kZWxNYXRyaXggPSBudWxsO1xuICAgICAgdGhpcy5fcG9zZSA9IG51bGw7XG4gICAgICB0aGlzLl9kcmFnTWFuYWdlciA9IG51bGw7XG4gICAgICB0aGlzLl9waHlzaWNzID0gbnVsbDtcbiAgICAgIHRoaXMuX21vZGVsVXNlckRhdGEgPSBudWxsO1xuICAgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuX3VwZGF0aW5nID0gZmFsc2U7XG4gICAgICB0aGlzLl9vcGFjaXR5ID0gMS4wO1xuICAgICAgdGhpcy5fbGlwc3luYyA9IHRydWU7XG4gICAgICB0aGlzLl9sYXN0TGlwU3luY1ZhbHVlID0gMC4wO1xuICAgICAgdGhpcy5fZHJhZ1ggPSAwLjA7XG4gICAgICB0aGlzLl9kcmFnWSA9IDAuMDtcbiAgICAgIHRoaXMuX2FjY2VsZXJhdGlvblggPSAwLjA7XG4gICAgICB0aGlzLl9hY2NlbGVyYXRpb25ZID0gMC4wO1xuICAgICAgdGhpcy5fYWNjZWxlcmF0aW9uWiA9IDAuMDtcbiAgICAgIHRoaXMuX2RlYnVnTW9kZSA9IGZhbHNlO1xuICAgICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuXG4gICAgICAvLyDjg6Ljg7zjgrfjg6fjg7Pjg57jg43jg7zjgrjjg6Pjg7zjgpLkvZzmiJBcbiAgICAgIHRoaXMuX21vdGlvbk1hbmFnZXIgPSBuZXcgQ3ViaXNtTW90aW9uTWFuYWdlcigpO1xuICAgICAgdGhpcy5fbW90aW9uTWFuYWdlci5zZXRFdmVudENhbGxiYWNrKFxuICAgICAgICBDdWJpc21Vc2VyTW9kZWwuY3ViaXNtRGVmYXVsdE1vdGlvbkV2ZW50Q2FsbGJhY2ssXG4gICAgICAgIHRoaXNcbiAgICAgICk7XG5cbiAgICAgIC8vIOihqOaDheODnuODjeODvOOCuOODo+ODvOOCkuS9nOaIkFxuICAgICAgdGhpcy5fZXhwcmVzc2lvbk1hbmFnZXIgPSBuZXcgQ3ViaXNtTW90aW9uTWFuYWdlcigpO1xuXG4gICAgICAvLyDjg4njg6njg4PjgrDjgavjgojjgovjgqLjg4vjg6Hjg7zjgrfjg6fjg7NcbiAgICAgIHRoaXMuX2RyYWdNYW5hZ2VyID0gbmV3IEN1YmlzbVRhcmdldFBvaW50KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44OH44K544OI44Op44Kv44K/44Gr55u45b2T44GZ44KL5Yem55CGXG4gICAgICovXG4gICAgcHVibGljIHJlbGVhc2UoKSB7XG4gICAgICBpZiAodGhpcy5fbW90aW9uTWFuYWdlciAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuX21vdGlvbk1hbmFnZXIucmVsZWFzZSgpO1xuICAgICAgICB0aGlzLl9tb3Rpb25NYW5hZ2VyID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2V4cHJlc3Npb25NYW5hZ2VyICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5fZXhwcmVzc2lvbk1hbmFnZXIucmVsZWFzZSgpO1xuICAgICAgICB0aGlzLl9leHByZXNzaW9uTWFuYWdlciA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9tb2MgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLl9tb2MuZGVsZXRlTW9kZWwodGhpcy5fbW9kZWwpO1xuICAgICAgICB0aGlzLl9tb2MucmVsZWFzZSgpO1xuICAgICAgICB0aGlzLl9tb2MgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9tb2RlbE1hdHJpeCA9IG51bGw7XG5cbiAgICAgIEN1YmlzbVBvc2UuZGVsZXRlKHRoaXMuX3Bvc2UpO1xuICAgICAgQ3ViaXNtRXllQmxpbmsuZGVsZXRlKHRoaXMuX2V5ZUJsaW5rKTtcbiAgICAgIEN1YmlzbUJyZWF0aC5kZWxldGUodGhpcy5fYnJlYXRoKTtcblxuICAgICAgdGhpcy5fZHJhZ01hbmFnZXIgPSBudWxsO1xuXG4gICAgICBDdWJpc21QaHlzaWNzLmRlbGV0ZSh0aGlzLl9waHlzaWNzKTtcbiAgICAgIEN1YmlzbU1vZGVsVXNlckRhdGEuZGVsZXRlKHRoaXMuX21vZGVsVXNlckRhdGEpO1xuXG4gICAgICB0aGlzLmRlbGV0ZVJlbmRlcmVyKCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIF9tb2M6IEN1YmlzbU1vYzsgLy8gTW9j44OH44O844K/XG4gICAgcHJvdGVjdGVkIF9tb2RlbDogQ3ViaXNtTW9kZWw7IC8vIE1vZGVs44Kk44Oz44K544K/44Oz44K5XG5cbiAgICBwcm90ZWN0ZWQgX21vdGlvbk1hbmFnZXI6IEN1YmlzbU1vdGlvbk1hbmFnZXI7IC8vIOODouODvOOCt+ODp+ODs+euoeeQhlxuICAgIHByb3RlY3RlZCBfZXhwcmVzc2lvbk1hbmFnZXI6IEN1YmlzbU1vdGlvbk1hbmFnZXI7IC8vIOihqOaDheeuoeeQhlxuICAgIHByb3RlY3RlZCBfZXllQmxpbms6IEN1YmlzbUV5ZUJsaW5rOyAvLyDoh6rli5Xjgb7jgbDjgZ/jgY1cbiAgICBwcm90ZWN0ZWQgX2JyZWF0aDogQ3ViaXNtQnJlYXRoOyAvLyDlkbzlkLhcbiAgICBwcm90ZWN0ZWQgX21vZGVsTWF0cml4OiBDdWJpc21Nb2RlbE1hdHJpeDsgLy8g44Oi44OH44Or6KGM5YiXXG4gICAgcHJvdGVjdGVkIF9wb3NlOiBDdWJpc21Qb3NlOyAvLyDjg53jg7zjgrrnrqHnkIZcbiAgICBwcm90ZWN0ZWQgX2RyYWdNYW5hZ2VyOiBDdWJpc21UYXJnZXRQb2ludDsgLy8g44Oe44Km44K544OJ44Op44OD44KwXG4gICAgcHJvdGVjdGVkIF9waHlzaWNzOiBDdWJpc21QaHlzaWNzOyAvLyDniannkIbmvJTnrpdcbiAgICBwcm90ZWN0ZWQgX21vZGVsVXNlckRhdGE6IEN1YmlzbU1vZGVsVXNlckRhdGE7IC8vIOODpuODvOOCtuODvOODh+ODvOOCv1xuXG4gICAgcHJvdGVjdGVkIF9pbml0aWFsaXplZDogYm9vbGVhbjsgLy8g5Yid5pyf5YyW44GV44KM44Gf44GL44Gp44GG44GLXG4gICAgcHJvdGVjdGVkIF91cGRhdGluZzogYm9vbGVhbjsgLy8g5pu05paw44GV44KM44Gf44GL44Gp44GG44GLXG4gICAgcHJvdGVjdGVkIF9vcGFjaXR5OiBudW1iZXI7IC8vIOS4jemAj+aYjuW6plxuICAgIHByb3RlY3RlZCBfbGlwc3luYzogYm9vbGVhbjsgLy8g44Oq44OD44OX44K344Oz44Kv44GZ44KL44GL44Gp44GG44GLXG4gICAgcHJvdGVjdGVkIF9sYXN0TGlwU3luY1ZhbHVlOiBudW1iZXI7IC8vIOacgOW+jOOBruODquODg+ODl+OCt+ODs+OCr+OBruWItuW+oeWcsFxuICAgIHByb3RlY3RlZCBfZHJhZ1g6IG51bWJlcjsgLy8g44Oe44Km44K544OJ44Op44OD44Kw44GuWOS9jee9rlxuICAgIHByb3RlY3RlZCBfZHJhZ1k6IG51bWJlcjsgLy8g44Oe44Km44K544OJ44Op44OD44Kw44GuWeS9jee9rlxuICAgIHByb3RlY3RlZCBfYWNjZWxlcmF0aW9uWDogbnVtYmVyOyAvLyBY6Lu45pa55ZCR44Gu5Yqg6YCf5bqmXG4gICAgcHJvdGVjdGVkIF9hY2NlbGVyYXRpb25ZOiBudW1iZXI7IC8vIFnou7jmlrnlkJHjga7liqDpgJ/luqZcbiAgICBwcm90ZWN0ZWQgX2FjY2VsZXJhdGlvblo6IG51bWJlcjsgLy8gWui7uOaWueWQkeOBruWKoOmAn+W6plxuICAgIHByb3RlY3RlZCBfZGVidWdNb2RlOiBib29sZWFuOyAvLyDjg4fjg5Djg4PjgrDjg6Ljg7zjg4njgYvjganjgYbjgYtcblxuICAgIHByaXZhdGUgX3JlbmRlcmVyOiBDdWJpc21SZW5kZXJlcl9XZWJHTDsgLy8g44Os44Oz44OA44OpXG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQU1BO0FBMlNBO0FBbExBO0FBb0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBTUE7QUFHQTtBQUNBO0FBeFVBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQXVCQTtBQUtBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFVQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBWUE7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBZ0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUE0QkE7QUFBQTtBQS9ZQTtBQWdaQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Framework/src/model/cubismusermodel.ts\n");

/***/ }),

/***/ "./Framework/src/motion/acubismmotion.ts":
/*!***********************************************!*\
  !*** ./Framework/src/motion/acubismmotion.ts ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar cubismmath_1 = __webpack_require__(/*! ../math/cubismmath */ \"./Framework/src/math/cubismmath.ts\");\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./Framework/src/type/csmvector.ts\");\nvar cubismdebug_1 = __webpack_require__(/*! ../utils/cubismdebug */ \"./Framework/src/utils/cubismdebug.ts\");\nvar csmVector = csmvector_1.Live2DCubismFramework.csmVector;\nvar CubismMath = cubismmath_1.Live2DCubismFramework.CubismMath;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var ACubismMotion = (function () {\n        function ACubismMotion() {\n            var _this = this;\n            this.setFinishedMotionHandler = function (onFinishedMotionHandler) { return (_this._onFinishedMotion = onFinishedMotionHandler); };\n            this.getFinishedMotionHandler = function () { return _this._onFinishedMotion; };\n            this._fadeInSeconds = -1.0;\n            this._fadeOutSeconds = -1.0;\n            this._weight = 1.0;\n            this._offsetSeconds = 0.0;\n            this._firedEventValues = new csmVector();\n        }\n        ACubismMotion.delete = function (motion) {\n            motion.release();\n            motion = void 0;\n            motion = null;\n        };\n        ACubismMotion.prototype.release = function () {\n            this._weight = 0.0;\n        };\n        ACubismMotion.prototype.updateParameters = function (model, motionQueueEntry, userTimeSeconds) {\n            if (!motionQueueEntry.isAvailable() || motionQueueEntry.isFinished()) {\n                return;\n            }\n            if (!motionQueueEntry.isStarted()) {\n                motionQueueEntry.setIsStarted(true);\n                motionQueueEntry.setStartTime(userTimeSeconds - this._offsetSeconds);\n                motionQueueEntry.setFadeInStartTime(userTimeSeconds);\n                var duration = this.getDuration();\n                if (motionQueueEntry.getEndTime() < 0) {\n                    motionQueueEntry.setEndTime(duration <= 0 ? -1 : motionQueueEntry.getStartTime() + duration);\n                }\n            }\n            var fadeWeight = this._weight;\n            var fadeIn = this._fadeInSeconds == 0.0\n                ? 1.0\n                : CubismMath.getEasingSine((userTimeSeconds - motionQueueEntry.getFadeInStartTime()) /\n                    this._fadeInSeconds);\n            var fadeOut = this._fadeOutSeconds == 0.0 || motionQueueEntry.getEndTime() < 0.0\n                ? 1.0\n                : CubismMath.getEasingSine((motionQueueEntry.getEndTime() - userTimeSeconds) /\n                    this._fadeOutSeconds);\n            fadeWeight = fadeWeight * fadeIn * fadeOut;\n            motionQueueEntry.setState(userTimeSeconds, fadeWeight);\n            cubismdebug_1.CSM_ASSERT(0.0 <= fadeWeight && fadeWeight <= 1.0);\n            this.doUpdateParameters(model, userTimeSeconds, fadeWeight, motionQueueEntry);\n            if (motionQueueEntry.getEndTime() > 0 &&\n                motionQueueEntry.getEndTime() < userTimeSeconds) {\n                motionQueueEntry.setIsFinished(true);\n            }\n        };\n        ACubismMotion.prototype.setFadeInTime = function (fadeInSeconds) {\n            this._fadeInSeconds = fadeInSeconds;\n        };\n        ACubismMotion.prototype.setFadeOutTime = function (fadeOutSeconds) {\n            this._fadeOutSeconds = fadeOutSeconds;\n        };\n        ACubismMotion.prototype.getFadeOutTime = function () {\n            return this._fadeOutSeconds;\n        };\n        ACubismMotion.prototype.getFadeInTime = function () {\n            return this._fadeInSeconds;\n        };\n        ACubismMotion.prototype.setWeight = function (weight) {\n            this._weight = weight;\n        };\n        ACubismMotion.prototype.getWeight = function () {\n            return this._weight;\n        };\n        ACubismMotion.prototype.getDuration = function () {\n            return -1.0;\n        };\n        ACubismMotion.prototype.getLoopDuration = function () {\n            return -1.0;\n        };\n        ACubismMotion.prototype.setOffsetTime = function (offsetSeconds) {\n            this._offsetSeconds = offsetSeconds;\n        };\n        ACubismMotion.prototype.getFiredEvent = function (beforeCheckTimeSeconds, motionTimeSeconds) {\n            return this._firedEventValues;\n        };\n        return ACubismMotion;\n    }());\n    Live2DCubismFramework.ACubismMotion = ACubismMotion;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21vdGlvbi9hY3ViaXNtbW90aW9uLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vRnJhbWV3b3JrL3NyYy9tb3Rpb24vYWN1YmlzbW1vdGlvbi50cz8zOWEwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0KGMpIExpdmUyRCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcbiAqIHRoYXQgY2FuIGJlIGZvdW5kIGF0IGh0dHBzOi8vd3d3LmxpdmUyZC5jb20vZXVsYS9saXZlMmQtb3Blbi1zb2Z0d2FyZS1saWNlbnNlLWFncmVlbWVudF9lbi5odG1sLlxuICovXG5cbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21tYXRoIH0gZnJvbSAnLi4vbWF0aC9jdWJpc21tYXRoJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21tb2RlbCB9IGZyb20gJy4uL21vZGVsL2N1YmlzbW1vZGVsJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21tb3Rpb25xdWV1ZWVudHJ5IH0gZnJvbSAnLi9jdWJpc21tb3Rpb25xdWV1ZWVudHJ5JztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjc21zdHJpbmcgfSBmcm9tICcuLi90eXBlL2NzbXN0cmluZyc7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3NtdmVjdG9yIH0gZnJvbSAnLi4vdHlwZS9jc212ZWN0b3InO1xuaW1wb3J0IHsgQ1NNX0FTU0VSVCB9IGZyb20gJy4uL3V0aWxzL2N1YmlzbWRlYnVnJztcbmltcG9ydCBjc21WZWN0b3IgPSBjc212ZWN0b3IuY3NtVmVjdG9yO1xuaW1wb3J0IGNzbVN0cmluZyA9IGNzbXN0cmluZy5jc21TdHJpbmc7XG5pbXBvcnQgQ3ViaXNtTW90aW9uUXVldWVFbnRyeSA9IGN1YmlzbW1vdGlvbnF1ZXVlZW50cnkuQ3ViaXNtTW90aW9uUXVldWVFbnRyeTtcbmltcG9ydCBDdWJpc21Nb2RlbCA9IGN1YmlzbW1vZGVsLkN1YmlzbU1vZGVsO1xuaW1wb3J0IEN1YmlzbU1hdGggPSBjdWJpc21tYXRoLkN1YmlzbU1hdGg7XG5cbmV4cG9ydCBuYW1lc3BhY2UgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIHtcbiAgLyoqIOODouODvOOCt+ODp+ODs+WGjeeUn+e1guS6huOCs+ODvOODq+ODkOODg+OCr+mWouaVsOWumue+qSAqL1xuICBleHBvcnQgdHlwZSBGaW5pc2hlZE1vdGlvbkNhbGxiYWNrID0gKHNlbGY6IEFDdWJpc21Nb3Rpb24pID0+IHZvaWQ7XG5cbiAgLyoqXG4gICAqIOODouODvOOCt+ODp+ODs+OBruaKveixoeWfuuW6leOCr+ODqeOCuVxuICAgKlxuICAgKiDjg6Ljg7zjgrfjg6fjg7Pjga7mir3osaHln7rlupXjgq/jg6njgrnjgIJNb3Rpb25RdWV1ZU1hbmFnZXLjgavjgojjgaPjgabjg6Ljg7zjgrfjg6fjg7Pjga7lho3nlJ/jgpLnrqHnkIbjgZnjgovjgIJcbiAgICovXG4gIGV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBQ3ViaXNtTW90aW9uIHtcbiAgICAvKipcbiAgICAgKiDjgqTjg7Pjgrnjgr/jg7Pjgrnjga7noLTmo4RcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGRlbGV0ZShtb3Rpb246IEFDdWJpc21Nb3Rpb24pOiB2b2lkIHtcbiAgICAgIG1vdGlvbi5yZWxlYXNlKCk7XG4gICAgICBtb3Rpb24gPSB2b2lkIDA7XG4gICAgICBtb3Rpb24gPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOOCs+ODs+OCueODiOODqeOCr+OCv1xuICAgICAqL1xuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHRoaXMuX2ZhZGVJblNlY29uZHMgPSAtMS4wO1xuICAgICAgdGhpcy5fZmFkZU91dFNlY29uZHMgPSAtMS4wO1xuICAgICAgdGhpcy5fd2VpZ2h0ID0gMS4wO1xuICAgICAgdGhpcy5fb2Zmc2V0U2Vjb25kcyA9IDAuMDsgLy8g5YaN55Sf44Gu6ZaL5aeL5pmC5Yi7XG4gICAgICB0aGlzLl9maXJlZEV2ZW50VmFsdWVzID0gbmV3IGNzbVZlY3Rvcjxjc21TdHJpbmc+KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44OH44K544OI44Op44Kv44K/55u45b2T44Gu5Yem55CGXG4gICAgICovXG4gICAgcHVibGljIHJlbGVhc2UoKTogdm9pZCB7XG4gICAgICB0aGlzLl93ZWlnaHQgPSAwLjA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Oi44OH44Or44Gu44OR44Op44Oh44O844K/XG4gICAgICogQHBhcmFtIG1vZGVsIOWvvuixoeOBruODouODh+ODq1xuICAgICAqIEBwYXJhbSBtb3Rpb25RdWV1ZUVudHJ5IEN1YmlzbU1vdGlvblF1ZXVlTWFuYWdlcuOBp+euoeeQhuOBleOCjOOBpuOBhOOCi+ODouODvOOCt+ODp+ODs1xuICAgICAqIEBwYXJhbSB1c2VyVGltZVNlY29uZHMg44OH44Or44K/5pmC6ZaT44Gu56mN566X5YCkW+enkl1cbiAgICAgKi9cbiAgICBwdWJsaWMgdXBkYXRlUGFyYW1ldGVycyhcbiAgICAgIG1vZGVsOiBDdWJpc21Nb2RlbCxcbiAgICAgIG1vdGlvblF1ZXVlRW50cnk6IEN1YmlzbU1vdGlvblF1ZXVlRW50cnksXG4gICAgICB1c2VyVGltZVNlY29uZHM6IG51bWJlclxuICAgICk6IHZvaWQge1xuICAgICAgaWYgKCFtb3Rpb25RdWV1ZUVudHJ5LmlzQXZhaWxhYmxlKCkgfHwgbW90aW9uUXVldWVFbnRyeS5pc0ZpbmlzaGVkKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIW1vdGlvblF1ZXVlRW50cnkuaXNTdGFydGVkKCkpIHtcbiAgICAgICAgbW90aW9uUXVldWVFbnRyeS5zZXRJc1N0YXJ0ZWQodHJ1ZSk7XG4gICAgICAgIG1vdGlvblF1ZXVlRW50cnkuc2V0U3RhcnRUaW1lKHVzZXJUaW1lU2Vjb25kcyAtIHRoaXMuX29mZnNldFNlY29uZHMpOyAvLyDjg6Ljg7zjgrfjg6fjg7Pjga7plovlp4vmmYLliLvjgpLoqJjpjLJcbiAgICAgICAgbW90aW9uUXVldWVFbnRyeS5zZXRGYWRlSW5TdGFydFRpbWUodXNlclRpbWVTZWNvbmRzKTsgLy8g44OV44Kn44O844OJ44Kk44Oz44Gu6ZaL5aeL5pmC5Yi7XG5cbiAgICAgICAgY29uc3QgZHVyYXRpb246IG51bWJlciA9IHRoaXMuZ2V0RHVyYXRpb24oKTtcblxuICAgICAgICBpZiAobW90aW9uUXVldWVFbnRyeS5nZXRFbmRUaW1lKCkgPCAwKSB7XG4gICAgICAgICAgLy8g6ZaL5aeL44GX44Gm44GE44Gq44GE44GG44Gh44Gr57WC5LqG6Kit5a6a44GX44Gm44GE44KL5aC05ZCI44GM44GC44KL44CCXG4gICAgICAgICAgbW90aW9uUXVldWVFbnRyeS5zZXRFbmRUaW1lKFxuICAgICAgICAgICAgZHVyYXRpb24gPD0gMCA/IC0xIDogbW90aW9uUXVldWVFbnRyeS5nZXRTdGFydFRpbWUoKSArIGR1cmF0aW9uXG4gICAgICAgICAgKTtcbiAgICAgICAgICAvLyBkdXJhdGlvbiA9PSAtMSDjga7loLTlkIjjga/jg6vjg7zjg5fjgZnjgotcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsZXQgZmFkZVdlaWdodDogbnVtYmVyID0gdGhpcy5fd2VpZ2h0OyAvLyDnj77lnKjjga7lgKTjgajmjpvjgZHlkIjjgo/jgZvjgovlibLlkIhcblxuICAgICAgLy8tLS0tIOODleOCp+ODvOODieOCpOODs+ODu+OCouOCpuODiOOBruWHpueQhiAtLS0tXG4gICAgICAvLyDljZjntJTjgarjgrXjgqTjg7PplqLmlbDjgafjgqTjg7zjgrjjg7PjgrDjgZnjgotcbiAgICAgIGNvbnN0IGZhZGVJbjogbnVtYmVyID1cbiAgICAgICAgdGhpcy5fZmFkZUluU2Vjb25kcyA9PSAwLjBcbiAgICAgICAgICA/IDEuMFxuICAgICAgICAgIDogQ3ViaXNtTWF0aC5nZXRFYXNpbmdTaW5lKFxuICAgICAgICAgICAgICAodXNlclRpbWVTZWNvbmRzIC0gbW90aW9uUXVldWVFbnRyeS5nZXRGYWRlSW5TdGFydFRpbWUoKSkgL1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZhZGVJblNlY29uZHNcbiAgICAgICAgICAgICk7XG5cbiAgICAgIGNvbnN0IGZhZGVPdXQ6IG51bWJlciA9XG4gICAgICAgIHRoaXMuX2ZhZGVPdXRTZWNvbmRzID09IDAuMCB8fCBtb3Rpb25RdWV1ZUVudHJ5LmdldEVuZFRpbWUoKSA8IDAuMFxuICAgICAgICAgID8gMS4wXG4gICAgICAgICAgOiBDdWJpc21NYXRoLmdldEVhc2luZ1NpbmUoXG4gICAgICAgICAgICAgIChtb3Rpb25RdWV1ZUVudHJ5LmdldEVuZFRpbWUoKSAtIHVzZXJUaW1lU2Vjb25kcykgL1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZhZGVPdXRTZWNvbmRzXG4gICAgICAgICAgICApO1xuXG4gICAgICBmYWRlV2VpZ2h0ID0gZmFkZVdlaWdodCAqIGZhZGVJbiAqIGZhZGVPdXQ7XG5cbiAgICAgIG1vdGlvblF1ZXVlRW50cnkuc2V0U3RhdGUodXNlclRpbWVTZWNvbmRzLCBmYWRlV2VpZ2h0KTtcblxuICAgICAgQ1NNX0FTU0VSVCgwLjAgPD0gZmFkZVdlaWdodCAmJiBmYWRlV2VpZ2h0IDw9IDEuMCk7XG5cbiAgICAgIC8vLS0tLSDlhajjgabjga7jg5Hjg6njg6Hjg7zjgr9JROOCkuODq+ODvOODl+OBmeOCiyAtLS0tXG4gICAgICB0aGlzLmRvVXBkYXRlUGFyYW1ldGVycyhcbiAgICAgICAgbW9kZWwsXG4gICAgICAgIHVzZXJUaW1lU2Vjb25kcyxcbiAgICAgICAgZmFkZVdlaWdodCxcbiAgICAgICAgbW90aW9uUXVldWVFbnRyeVxuICAgICAgKTtcblxuICAgICAgLy8g5b6M5Yem55CGXG4gICAgICAvLyDntYLkuobmmYLliLvjgpLpgY7jgY7jgZ/jgonntYLkuobjg5Xjg6njgrDjgpLnq4vjgabjgosoQ3ViaXNtTW90aW9uUXVldWVNYW5hZ2VyKVxuICAgICAgaWYgKFxuICAgICAgICBtb3Rpb25RdWV1ZUVudHJ5LmdldEVuZFRpbWUoKSA+IDAgJiZcbiAgICAgICAgbW90aW9uUXVldWVFbnRyeS5nZXRFbmRUaW1lKCkgPCB1c2VyVGltZVNlY29uZHNcbiAgICAgICkge1xuICAgICAgICBtb3Rpb25RdWV1ZUVudHJ5LnNldElzRmluaXNoZWQodHJ1ZSk7IC8vIOe1guS6hlxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODleOCp+ODvOODieOCpOODs+OBruaZgumWk+OCkuioreWumuOBmeOCi1xuICAgICAqIEBwYXJhbSBmYWRlSW5TZWNvbmRzIOODleOCp+ODvOODieOCpOODs+OBq+OBi+OBi+OCi+aZgumWk1vnp5JdXG4gICAgICovXG4gICAgcHVibGljIHNldEZhZGVJblRpbWUoZmFkZUluU2Vjb25kczogbnVtYmVyKTogdm9pZCB7XG4gICAgICB0aGlzLl9mYWRlSW5TZWNvbmRzID0gZmFkZUluU2Vjb25kcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg5Xjgqfjg7zjg4njgqLjgqbjg4jjga7mmYLplpPjgpLoqK3lrprjgZnjgotcbiAgICAgKiBAcGFyYW0gZmFkZU91dFNlY29uZHMg44OV44Kn44O844OJ44Ki44Km44OI44Gr44GL44GL44KL5pmC6ZaTW+enkl1cbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0RmFkZU91dFRpbWUoZmFkZU91dFNlY29uZHM6IG51bWJlcik6IHZvaWQge1xuICAgICAgdGhpcy5fZmFkZU91dFNlY29uZHMgPSBmYWRlT3V0U2Vjb25kcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg5Xjgqfjg7zjg4njgqLjgqbjg4jjgavjgYvjgYvjgovmmYLplpPjga7lj5blvpdcbiAgICAgKiBAcmV0dXJuIOODleOCp+ODvOODieOCouOCpuODiOOBq+OBi+OBi+OCi+aZgumWk1vnp5JdXG4gICAgICovXG4gICAgcHVibGljIGdldEZhZGVPdXRUaW1lKCk6IG51bWJlciB7XG4gICAgICByZXR1cm4gdGhpcy5fZmFkZU91dFNlY29uZHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44OV44Kn44O844OJ44Kk44Oz44Gr44GL44GL44KL5pmC6ZaT44Gu5Y+W5b6XXG4gICAgICogQHJldHVybiDjg5Xjgqfjg7zjg4njgqTjg7PjgavjgYvjgYvjgovmmYLplpNb56eSXVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRGYWRlSW5UaW1lKCk6IG51bWJlciB7XG4gICAgICByZXR1cm4gdGhpcy5fZmFkZUluU2Vjb25kcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7PpgannlKjjga7ph43jgb/jga7oqK3lrppcbiAgICAgKiBAcGFyYW0gd2VpZ2h0IOmHjeOBv++8iDAuMCAtIDEuMO+8iVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXRXZWlnaHQod2VpZ2h0OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgIHRoaXMuX3dlaWdodCA9IHdlaWdodDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7PpgannlKjjga7ph43jgb/jga7lj5blvpdcbiAgICAgKiBAcmV0dXJuIOmHjeOBv++8iDAuMCAtIDEuMO+8iVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRXZWlnaHQoKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiB0aGlzLl93ZWlnaHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Oi44O844K344On44Oz44Gu6ZW344GV44Gu5Y+W5b6XXG4gICAgICogQHJldHVybiDjg6Ljg7zjgrfjg6fjg7Pjga7plbfjgZVb56eSXVxuICAgICAqXG4gICAgICogQG5vdGUg44Or44O844OX44Gu5pmC44Gv44CMLTHjgI3jgIJcbiAgICAgKiAgICAgICDjg6vjg7zjg5fjgafjgarjgYTloLTlkIjjga/jgIHjgqrjg7zjg5Djg7zjg6njgqTjg4njgZnjgovjgIJcbiAgICAgKiAgICAgICDmraPjga7lgKTjga7mmYLjga/lj5blvpfjgZXjgozjgovmmYLplpPjgafntYLkuobjgZnjgovjgIJcbiAgICAgKiAgICAgICDjgIwtMeOAjeOBruaZguOBr+WklumDqOOBi+OCieWBnOatouWRveS7pOOBjOOBquOBhOmZkOOCiue1guOCj+OCieOBquOBhOWHpueQhuOBqOOBquOCi+OAglxuICAgICAqL1xuICAgIHB1YmxpYyBnZXREdXJhdGlvbigpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIC0xLjA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Oi44O844K344On44Oz44Gu44Or44O844OXMeWbnuWIhuOBrumVt+OBleOBruWPluW+l1xuICAgICAqIEByZXR1cm4g44Oi44O844K344On44Oz44Gu44Or44O844OX5LiA5Zue5YiG44Gu6ZW344GVW+enkl1cbiAgICAgKlxuICAgICAqIEBub3RlIOODq+ODvOODl+OBl+OBquOBhOWgtOWQiOOBr+OAgWdldER1cmF0aW9uKCnjgajlkIzjgZjlgKTjgpLov5TjgZlcbiAgICAgKiAgICAgICDjg6vjg7zjg5fkuIDlm57liIbjga7plbfjgZXjgYzlrprnvqnjgafjgY3jgarjgYTloLTlkIgo44OX44Ot44Kw44Op44Og55qE44Gr5YuV44GN57aa44GR44KL44K144OW44Kv44Op44K544Gq44GpKeOBruWgtOWQiOOBr+OAjC0x44CN44KS6L+U44GZXG4gICAgICovXG4gICAgcHVibGljIGdldExvb3BEdXJhdGlvbigpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIC0xLjA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Oi44O844K344On44Oz5YaN55Sf44Gu6ZaL5aeL5pmC5Yi744Gu6Kit5a6aXG4gICAgICogQHBhcmFtIG9mZnNldFNlY29uZHMg44Oi44O844K344On44Oz5YaN55Sf44Gu6ZaL5aeL5pmC5Yi7W+enkl1cbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0T2Zmc2V0VGltZShvZmZzZXRTZWNvbmRzOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgIHRoaXMuX29mZnNldFNlY29uZHMgPSBvZmZzZXRTZWNvbmRzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODouODh+ODq+OBruODkeODqeODoeODvOOCv+abtOaWsFxuICAgICAqXG4gICAgICog44Kk44OZ44Oz44OI55m654Gr44Gu44OB44Kn44OD44Kv44CCXG4gICAgICog5YWl5Yqb44GZ44KL5pmC6ZaT44Gv5ZG844Gw44KM44KL44Oi44O844K344On44Oz44K/44Kk44Of44Oz44Kw44KS77yQ44Go44GX44Gf56eS5pWw44Gn6KGM44GG44CCXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYmVmb3JlQ2hlY2tUaW1lU2Vjb25kcyDliY3lm57jga7jgqTjg5njg7Pjg4jjg4Hjgqfjg4Pjgq/mmYLplpNb56eSXVxuICAgICAqIEBwYXJhbSBtb3Rpb25UaW1lU2Vjb25kcyDku4rlm57jga7lho3nlJ/mmYLplpNb56eSXVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRGaXJlZEV2ZW50KFxuICAgICAgYmVmb3JlQ2hlY2tUaW1lU2Vjb25kczogbnVtYmVyLFxuICAgICAgbW90aW9uVGltZVNlY29uZHM6IG51bWJlclxuICAgICk6IGNzbVZlY3Rvcjxjc21TdHJpbmc+IHtcbiAgICAgIHJldHVybiB0aGlzLl9maXJlZEV2ZW50VmFsdWVzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODouODvOOCt+ODp+ODs+OCkuabtOaWsOOBl+OBpuOAgeODouODh+ODq+OBq+ODkeODqeODoeODvOOCv+WApOOCkuWPjeaYoOOBmeOCi1xuICAgICAqIEBwYXJhbSBtb2RlbCDlr77osaHjga7jg6Ljg4fjg6tcbiAgICAgKiBAcGFyYW0gdXNlclRpbWVTZWNvbmRzIOODh+ODq+OCv+aZgumWk+OBruepjeeul+WApFvnp5JdXG4gICAgICogQHBhcmFtIHdlaWdodCDjg6Ljg7zjgrfjg6fjg7Pjga7ph43jgb9cbiAgICAgKiBAcGFyYW0gbW90aW9uUXVldWVFbnRyeSBDdWJpc21Nb3Rpb25RdWV1ZU1hbmFnZXLjgafnrqHnkIbjgZXjgozjgabjgYTjgovjg6Ljg7zjgrfjg6fjg7NcbiAgICAgKiBAcmV0dXJuIHRydWUg44Oi44OH44Or44G444OR44Op44Oh44O844K/5YCk44Gu5Y+N5pig44GC44KKXG4gICAgICogQHJldHVybiBmYWxzZSDjg6Ljg4fjg6vjgbjjga7jg5Hjg6njg6Hjg7zjgr/lgKTjga7lj43mmKDjgarjgZfvvIjjg6Ljg7zjgrfjg6fjg7Pjga7lpInljJbjgarjgZfvvIlcbiAgICAgKi9cbiAgICBwdWJsaWMgYWJzdHJhY3QgZG9VcGRhdGVQYXJhbWV0ZXJzKFxuICAgICAgbW9kZWw6IEN1YmlzbU1vZGVsLFxuICAgICAgdXNlclRpbWVTZWNvbmRzOiBudW1iZXIsXG4gICAgICB3ZWlnaHQ6IG51bWJlcixcbiAgICAgIG1vdGlvblF1ZXVlRW50cnk6IEN1YmlzbU1vdGlvblF1ZXVlRW50cnlcbiAgICApOiB2b2lkO1xuXG4gICAgLyoqXG4gICAgICog44Oi44O844K344On44Oz5YaN55Sf57WC5LqG44Kz44O844Or44OQ44OD44Kv44Gu55m76YyyXG4gICAgICpcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Plho3nlJ/ntYLkuobjgrPjg7zjg6vjg5Djg4Pjgq/jgpLnmbvpjLLjgZnjgovjgIJcbiAgICAgKiBpc0ZpbmlzaGVk44OV44Op44Kw44KS6Kit5a6a44GZ44KL44K/44Kk44Of44Oz44Kw44Gn5ZG844Gz5Ye644GV44KM44KL44CCXG4gICAgICog5Lul5LiL44Gu54q25oWL44Gu6Zqb44Gr44Gv5ZG844Gz5Ye644GV44KM44Gq44GEOlxuICAgICAqICAgMS4g5YaN55Sf5Lit44Gu44Oi44O844K344On44Oz44GM44CM44Or44O844OX44CN44Go44GX44Gm6Kit5a6a44GV44KM44Gm44GE44KL44Go44GNXG4gICAgICogICAyLiDjgrPjg7zjg6vjg5Djg4Pjgq/jgYznmbvpjLLjgZXjgozjgabjgYTjgarjgYTmmYJcbiAgICAgKlxuICAgICAqIEBwYXJhbSBvbkZpbmlzaGVkTW90aW9uSGFuZGxlciDjg6Ljg7zjgrfjg6fjg7Plho3nlJ/ntYLkuobjgrPjg7zjg6vjg5Djg4Pjgq/plqLmlbBcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0RmluaXNoZWRNb3Rpb25IYW5kbGVyID0gKFxuICAgICAgb25GaW5pc2hlZE1vdGlvbkhhbmRsZXI6IEZpbmlzaGVkTW90aW9uQ2FsbGJhY2tcbiAgICApID0+ICh0aGlzLl9vbkZpbmlzaGVkTW90aW9uID0gb25GaW5pc2hlZE1vdGlvbkhhbmRsZXIpO1xuXG4gICAgLyoqXG4gICAgICog44Oi44O844K344On44Oz5YaN55Sf57WC5LqG44Kz44O844Or44OQ44OD44Kv44Gu5Y+W5b6XXG4gICAgICpcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Plho3nlJ/ntYLkuobjgrPjg7zjg6vjg5Djg4Pjgq/jgpLlj5blvpfjgZnjgovjgIJcbiAgICAgKlxuICAgICAqIEByZXR1cm4g55m76Yyy44GV44KM44Gm44GE44KL44Oi44O844K344On44Oz5YaN55Sf57WC5LqG44Kz44O844Or44OQ44OD44Kv6Zai5pWwXG4gICAgICovXG4gICAgcHVibGljIGdldEZpbmlzaGVkTW90aW9uSGFuZGxlciA9ICgpID0+IHRoaXMuX29uRmluaXNoZWRNb3Rpb247XG5cbiAgICBwdWJsaWMgX2ZhZGVJblNlY29uZHM6IG51bWJlcjsgLy8g44OV44Kn44O844OJ44Kk44Oz44Gr44GL44GL44KL5pmC6ZaTW+enkl1cbiAgICBwdWJsaWMgX2ZhZGVPdXRTZWNvbmRzOiBudW1iZXI7IC8vIOODleOCp+ODvOODieOCouOCpuODiOOBq+OBi+OBi+OCi+aZgumWk1vnp5JdXG4gICAgcHVibGljIF93ZWlnaHQ6IG51bWJlcjsgLy8g44Oi44O844K344On44Oz44Gu6YeN44G/XG4gICAgcHVibGljIF9vZmZzZXRTZWNvbmRzOiBudW1iZXI7IC8vIOODouODvOOCt+ODp+ODs+WGjeeUn+OBrumWi+Wni+aZgumWk1vnp5JdXG5cbiAgICBwdWJsaWMgX2ZpcmVkRXZlbnRWYWx1ZXM6IGNzbVZlY3Rvcjxjc21TdHJpbmc+O1xuXG4gICAgLy8g44Oi44O844K344On44Oz5YaN55Sf57WC5LqG44Kz44O844Or44OQ44OD44Kv6Zai5pWwXG4gICAgcHVibGljIF9vbkZpbmlzaGVkTW90aW9uPzogRmluaXNoZWRNb3Rpb25DYWxsYmFjaztcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7QUFPQTtBQUlBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7QUFBQTtBQVNBO0FBYUE7QUFBQTtBQXFOQTtBQVdBO0FBL05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFnQkE7QUFDQTtBQUNBO0FBUUE7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUlBO0FBQ0E7QUFFQTtBQUlBO0FBRUE7QUFDQTtBQUVBO0FBR0E7QUFFQTtBQUNBO0FBRUE7QUFHQTtBQUVBO0FBRUE7QUFHQTtBQVNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFXQTtBQUlBO0FBQ0E7QUFtREE7QUFBQTtBQXhQQTtBQXlQQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Framework/src/motion/acubismmotion.ts\n");

/***/ }),

/***/ "./Framework/src/motion/cubismexpressionmotion.ts":
/*!********************************************************!*\
  !*** ./Framework/src/motion/cubismexpressionmotion.ts ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar acubismmotion_1 = __webpack_require__(/*! ./acubismmotion */ \"./Framework/src/motion/acubismmotion.ts\");\nvar cubismjson_1 = __webpack_require__(/*! ../utils/cubismjson */ \"./Framework/src/utils/cubismjson.ts\");\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./Framework/src/live2dcubismframework.ts\");\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./Framework/src/type/csmvector.ts\");\nvar csmVector = csmvector_1.Live2DCubismFramework.csmVector;\nvar CubismFramework = live2dcubismframework_1.Live2DCubismFramework.CubismFramework;\nvar CubismJson = cubismjson_1.Live2DCubismFramework.CubismJson;\nvar ACubismMotion = acubismmotion_1.Live2DCubismFramework.ACubismMotion;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var ExpressionKeyFadeIn = 'FadeInTime';\n    var ExpressionKeyFadeOut = 'FadeOutTime';\n    var ExpressionKeyParameters = 'Parameters';\n    var ExpressionKeyId = 'Id';\n    var ExpressionKeyValue = 'Value';\n    var ExpressionKeyBlend = 'Blend';\n    var BlendValueAdd = 'Add';\n    var BlendValueMultiply = 'Multiply';\n    var BlendValueOverwrite = 'Overwrite';\n    var DefaultFadeTime = 1.0;\n    var CubismExpressionMotion = (function (_super) {\n        __extends(CubismExpressionMotion, _super);\n        function CubismExpressionMotion() {\n            var _this = _super.call(this) || this;\n            _this._parameters = new csmVector();\n            return _this;\n        }\n        CubismExpressionMotion.create = function (buffer, size) {\n            var expression = new CubismExpressionMotion();\n            var json = CubismJson.create(buffer, size);\n            var root = json.getRoot();\n            expression.setFadeInTime(root.getValueByString(ExpressionKeyFadeIn).toFloat(DefaultFadeTime));\n            expression.setFadeOutTime(root.getValueByString(ExpressionKeyFadeOut).toFloat(DefaultFadeTime));\n            var parameterCount = root\n                .getValueByString(ExpressionKeyParameters)\n                .getSize();\n            expression._parameters.prepareCapacity(parameterCount);\n            for (var i = 0; i < parameterCount; ++i) {\n                var param = root\n                    .getValueByString(ExpressionKeyParameters)\n                    .getValueByIndex(i);\n                var parameterId = CubismFramework.getIdManager().getId(param.getValueByString(ExpressionKeyId).getRawString());\n                var value = param\n                    .getValueByString(ExpressionKeyValue)\n                    .toFloat();\n                var blendType = void 0;\n                if (param.getValueByString(ExpressionKeyBlend).isNull() ||\n                    param.getValueByString(ExpressionKeyBlend).getString() ==\n                        BlendValueAdd) {\n                    blendType = ExpressionBlendType.ExpressionBlendType_Add;\n                }\n                else if (param.getValueByString(ExpressionKeyBlend).getString() ==\n                    BlendValueMultiply) {\n                    blendType = ExpressionBlendType.ExpressionBlendType_Multiply;\n                }\n                else if (param.getValueByString(ExpressionKeyBlend).getString() ==\n                    BlendValueOverwrite) {\n                    blendType = ExpressionBlendType.ExpressionBlendType_Overwrite;\n                }\n                else {\n                    blendType = ExpressionBlendType.ExpressionBlendType_Add;\n                }\n                var item = new ExpressionParameter();\n                item.parameterId = parameterId;\n                item.blendType = blendType;\n                item.value = value;\n                expression._parameters.pushBack(item);\n            }\n            CubismJson.delete(json);\n            return expression;\n        };\n        CubismExpressionMotion.prototype.doUpdateParameters = function (model, userTimeSeconds, weight, motionQueueEntry) {\n            for (var i = 0; i < this._parameters.getSize(); ++i) {\n                var parameter = this._parameters.at(i);\n                switch (parameter.blendType) {\n                    case ExpressionBlendType.ExpressionBlendType_Add: {\n                        model.addParameterValueById(parameter.parameterId, parameter.value, weight);\n                        break;\n                    }\n                    case ExpressionBlendType.ExpressionBlendType_Multiply: {\n                        model.multiplyParameterValueById(parameter.parameterId, parameter.value, weight);\n                        break;\n                    }\n                    case ExpressionBlendType.ExpressionBlendType_Overwrite: {\n                        model.setParameterValueById(parameter.parameterId, parameter.value, weight);\n                        break;\n                    }\n                    default:\n                        break;\n                }\n            }\n        };\n        return CubismExpressionMotion;\n    }(ACubismMotion));\n    Live2DCubismFramework.CubismExpressionMotion = CubismExpressionMotion;\n    var ExpressionBlendType;\n    (function (ExpressionBlendType) {\n        ExpressionBlendType[ExpressionBlendType[\"ExpressionBlendType_Add\"] = 0] = \"ExpressionBlendType_Add\";\n        ExpressionBlendType[ExpressionBlendType[\"ExpressionBlendType_Multiply\"] = 1] = \"ExpressionBlendType_Multiply\";\n        ExpressionBlendType[ExpressionBlendType[\"ExpressionBlendType_Overwrite\"] = 2] = \"ExpressionBlendType_Overwrite\";\n    })(ExpressionBlendType = Live2DCubismFramework.ExpressionBlendType || (Live2DCubismFramework.ExpressionBlendType = {}));\n    var ExpressionParameter = (function () {\n        function ExpressionParameter() {\n        }\n        return ExpressionParameter;\n    }());\n    Live2DCubismFramework.ExpressionParameter = ExpressionParameter;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21vdGlvbi9jdWJpc21leHByZXNzaW9ubW90aW9uLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vRnJhbWV3b3JrL3NyYy9tb3Rpb24vY3ViaXNtZXhwcmVzc2lvbm1vdGlvbi50cz84NWE2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0KGMpIExpdmUyRCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcbiAqIHRoYXQgY2FuIGJlIGZvdW5kIGF0IGh0dHBzOi8vd3d3LmxpdmUyZC5jb20vZXVsYS9saXZlMmQtb3Blbi1zb2Z0d2FyZS1saWNlbnNlLWFncmVlbWVudF9lbi5odG1sLlxuICovXG5cbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBhY3ViaXNtbW90aW9uIH0gZnJvbSAnLi9hY3ViaXNtbW90aW9uJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21qc29uIH0gZnJvbSAnLi4vdXRpbHMvY3ViaXNtanNvbic7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtaWQgfSBmcm9tICcuLi9pZC9jdWJpc21pZCc7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtZnJhbWV3b3JrIH0gZnJvbSAnLi4vbGl2ZTJkY3ViaXNtZnJhbWV3b3JrJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21tb2RlbCB9IGZyb20gJy4uL21vZGVsL2N1YmlzbW1vZGVsJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21tb3Rpb25xdWV1ZWVudHJ5IH0gZnJvbSAnLi9jdWJpc21tb3Rpb25xdWV1ZWVudHJ5JztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjc212ZWN0b3IgfSBmcm9tICcuLi90eXBlL2NzbXZlY3Rvcic7XG5pbXBvcnQgSnNvbkZsb2F0ID0gY3ViaXNtanNvbi5Kc29uRmxvYXQ7XG5pbXBvcnQgY3NtVmVjdG9yID0gY3NtdmVjdG9yLmNzbVZlY3RvcjtcbmltcG9ydCBDdWJpc21Nb3Rpb25RdWV1ZUVudHJ5ID0gY3ViaXNtbW90aW9ucXVldWVlbnRyeS5DdWJpc21Nb3Rpb25RdWV1ZUVudHJ5O1xuaW1wb3J0IEN1YmlzbU1vZGVsID0gY3ViaXNtbW9kZWwuQ3ViaXNtTW9kZWw7XG5pbXBvcnQgQ3ViaXNtRnJhbWV3b3JrID0gY3ViaXNtZnJhbWV3b3JrLkN1YmlzbUZyYW1ld29yaztcbmltcG9ydCBDdWJpc21JZEhhbmRsZSA9IGN1YmlzbWlkLkN1YmlzbUlkSGFuZGxlO1xuaW1wb3J0IEN1YmlzbUpzb24gPSBjdWJpc21qc29uLkN1YmlzbUpzb247XG5pbXBvcnQgVmFsdWUgPSBjdWJpc21qc29uLlZhbHVlO1xuaW1wb3J0IEFDdWJpc21Nb3Rpb24gPSBhY3ViaXNtbW90aW9uLkFDdWJpc21Nb3Rpb247XG5cbmV4cG9ydCBuYW1lc3BhY2UgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIHtcbiAgLy8gZXhwMy5qc29u44Gu44Kt44O844Go44OH44OV44Kp44Or44OIXG4gIGNvbnN0IEV4cHJlc3Npb25LZXlGYWRlSW4gPSAnRmFkZUluVGltZSc7XG4gIGNvbnN0IEV4cHJlc3Npb25LZXlGYWRlT3V0ID0gJ0ZhZGVPdXRUaW1lJztcbiAgY29uc3QgRXhwcmVzc2lvbktleVBhcmFtZXRlcnMgPSAnUGFyYW1ldGVycyc7XG4gIGNvbnN0IEV4cHJlc3Npb25LZXlJZCA9ICdJZCc7XG4gIGNvbnN0IEV4cHJlc3Npb25LZXlWYWx1ZSA9ICdWYWx1ZSc7XG4gIGNvbnN0IEV4cHJlc3Npb25LZXlCbGVuZCA9ICdCbGVuZCc7XG4gIGNvbnN0IEJsZW5kVmFsdWVBZGQgPSAnQWRkJztcbiAgY29uc3QgQmxlbmRWYWx1ZU11bHRpcGx5ID0gJ011bHRpcGx5JztcbiAgY29uc3QgQmxlbmRWYWx1ZU92ZXJ3cml0ZSA9ICdPdmVyd3JpdGUnO1xuICBjb25zdCBEZWZhdWx0RmFkZVRpbWUgPSAxLjA7XG5cbiAgLyoqXG4gICAqIOihqOaDheOBruODouODvOOCt+ODp+ODs1xuICAgKlxuICAgKiDooajmg4Xjga7jg6Ljg7zjgrfjg6fjg7Pjgq/jg6njgrnjgIJcbiAgICovXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21FeHByZXNzaW9uTW90aW9uIGV4dGVuZHMgQUN1YmlzbU1vdGlvbiB7XG4gICAgLyoqXG4gICAgICog44Kk44Oz44K544K/44Oz44K544KS5L2c5oiQ44GZ44KL44CCXG4gICAgICogQHBhcmFtIGJ1ZmZlciBleHDjg5XjgqHjgqTjg6vjgYzoqq3jgb/ovrzjgb7jgozjgabjgYTjgovjg5Djg4Pjg5XjgqFcbiAgICAgKiBAcGFyYW0gc2l6ZSDjg5Djg4Pjg5XjgqHjga7jgrXjgqTjgrpcbiAgICAgKiBAcmV0dXJuIOS9nOaIkOOBleOCjOOBn+OCpOODs+OCueOCv+ODs+OCuVxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKFxuICAgICAgYnVmZmVyOiBBcnJheUJ1ZmZlcixcbiAgICAgIHNpemU6IG51bWJlclxuICAgICk6IEN1YmlzbUV4cHJlc3Npb25Nb3Rpb24ge1xuICAgICAgY29uc3QgZXhwcmVzc2lvbjogQ3ViaXNtRXhwcmVzc2lvbk1vdGlvbiA9IG5ldyBDdWJpc21FeHByZXNzaW9uTW90aW9uKCk7XG5cbiAgICAgIGNvbnN0IGpzb246IEN1YmlzbUpzb24gPSBDdWJpc21Kc29uLmNyZWF0ZShidWZmZXIsIHNpemUpO1xuICAgICAgY29uc3Qgcm9vdDogVmFsdWUgPSBqc29uLmdldFJvb3QoKTtcblxuICAgICAgZXhwcmVzc2lvbi5zZXRGYWRlSW5UaW1lKFxuICAgICAgICByb290LmdldFZhbHVlQnlTdHJpbmcoRXhwcmVzc2lvbktleUZhZGVJbikudG9GbG9hdChEZWZhdWx0RmFkZVRpbWUpXG4gICAgICApOyAvLyDjg5Xjgqfjg7zjg4njgqTjg7NcbiAgICAgIGV4cHJlc3Npb24uc2V0RmFkZU91dFRpbWUoXG4gICAgICAgIHJvb3QuZ2V0VmFsdWVCeVN0cmluZyhFeHByZXNzaW9uS2V5RmFkZU91dCkudG9GbG9hdChEZWZhdWx0RmFkZVRpbWUpXG4gICAgICApOyAvLyDjg5Xjgqfjg7zjg4njgqLjgqbjg4hcblxuICAgICAgLy8g5ZCE44OR44Op44Oh44O844K/44Gr44Gk44GE44GmXG4gICAgICBjb25zdCBwYXJhbWV0ZXJDb3VudCA9IHJvb3RcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoRXhwcmVzc2lvbktleVBhcmFtZXRlcnMpXG4gICAgICAgIC5nZXRTaXplKCk7XG4gICAgICBleHByZXNzaW9uLl9wYXJhbWV0ZXJzLnByZXBhcmVDYXBhY2l0eShwYXJhbWV0ZXJDb3VudCk7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyYW1ldGVyQ291bnQ7ICsraSkge1xuICAgICAgICBjb25zdCBwYXJhbTogVmFsdWUgPSByb290XG4gICAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoRXhwcmVzc2lvbktleVBhcmFtZXRlcnMpXG4gICAgICAgICAgLmdldFZhbHVlQnlJbmRleChpKTtcbiAgICAgICAgY29uc3QgcGFyYW1ldGVySWQ6IEN1YmlzbUlkSGFuZGxlID0gQ3ViaXNtRnJhbWV3b3JrLmdldElkTWFuYWdlcigpLmdldElkKFxuICAgICAgICAgIHBhcmFtLmdldFZhbHVlQnlTdHJpbmcoRXhwcmVzc2lvbktleUlkKS5nZXRSYXdTdHJpbmcoKVxuICAgICAgICApOyAvLyDjg5Hjg6njg6Hjg7zjgr9JRFxuXG4gICAgICAgIGNvbnN0IHZhbHVlOiBudW1iZXIgPSBwYXJhbVxuICAgICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKEV4cHJlc3Npb25LZXlWYWx1ZSlcbiAgICAgICAgICAudG9GbG9hdCgpOyAvLyDlgKRcblxuICAgICAgICAvLyDoqIjnrpfmlrnms5Xjga7oqK3lrppcbiAgICAgICAgbGV0IGJsZW5kVHlwZTogRXhwcmVzc2lvbkJsZW5kVHlwZTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgcGFyYW0uZ2V0VmFsdWVCeVN0cmluZyhFeHByZXNzaW9uS2V5QmxlbmQpLmlzTnVsbCgpIHx8XG4gICAgICAgICAgcGFyYW0uZ2V0VmFsdWVCeVN0cmluZyhFeHByZXNzaW9uS2V5QmxlbmQpLmdldFN0cmluZygpID09XG4gICAgICAgICAgICBCbGVuZFZhbHVlQWRkXG4gICAgICAgICkge1xuICAgICAgICAgIGJsZW5kVHlwZSA9IEV4cHJlc3Npb25CbGVuZFR5cGUuRXhwcmVzc2lvbkJsZW5kVHlwZV9BZGQ7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgcGFyYW0uZ2V0VmFsdWVCeVN0cmluZyhFeHByZXNzaW9uS2V5QmxlbmQpLmdldFN0cmluZygpID09XG4gICAgICAgICAgQmxlbmRWYWx1ZU11bHRpcGx5XG4gICAgICAgICkge1xuICAgICAgICAgIGJsZW5kVHlwZSA9IEV4cHJlc3Npb25CbGVuZFR5cGUuRXhwcmVzc2lvbkJsZW5kVHlwZV9NdWx0aXBseTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICBwYXJhbS5nZXRWYWx1ZUJ5U3RyaW5nKEV4cHJlc3Npb25LZXlCbGVuZCkuZ2V0U3RyaW5nKCkgPT1cbiAgICAgICAgICBCbGVuZFZhbHVlT3ZlcndyaXRlXG4gICAgICAgICkge1xuICAgICAgICAgIGJsZW5kVHlwZSA9IEV4cHJlc3Npb25CbGVuZFR5cGUuRXhwcmVzc2lvbkJsZW5kVHlwZV9PdmVyd3JpdGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8g44Gd44Gu5LuWIOS7leanmOOBq+OBquOBhOWApOOCkuioreWumuOBl+OBn+aZguOBr+WKoOeul+ODouODvOODieOBq+OBmeOCi+OBk+OBqOOBp+W+qeaXp1xuICAgICAgICAgIGJsZW5kVHlwZSA9IEV4cHJlc3Npb25CbGVuZFR5cGUuRXhwcmVzc2lvbkJsZW5kVHlwZV9BZGQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyDoqK3lrprjgqrjg5bjgrjjgqfjgq/jg4jjgpLkvZzmiJDjgZfjgabjg6rjgrnjg4jjgavov73liqDjgZnjgotcbiAgICAgICAgY29uc3QgaXRlbTogRXhwcmVzc2lvblBhcmFtZXRlciA9IG5ldyBFeHByZXNzaW9uUGFyYW1ldGVyKCk7XG5cbiAgICAgICAgaXRlbS5wYXJhbWV0ZXJJZCA9IHBhcmFtZXRlcklkO1xuICAgICAgICBpdGVtLmJsZW5kVHlwZSA9IGJsZW5kVHlwZTtcbiAgICAgICAgaXRlbS52YWx1ZSA9IHZhbHVlO1xuXG4gICAgICAgIGV4cHJlc3Npb24uX3BhcmFtZXRlcnMucHVzaEJhY2soaXRlbSk7XG4gICAgICB9XG5cbiAgICAgIEN1YmlzbUpzb24uZGVsZXRlKGpzb24pOyAvLyBKU09O44OH44O844K/44Gv5LiN6KaB44Gr44Gq44Gj44Gf44KJ5YmK6Zmk44GZ44KLXG4gICAgICByZXR1cm4gZXhwcmVzc2lvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6Ljg4fjg6vjga7jg5Hjg6njg6Hjg7zjgr/jga7mm7TmlrDjga7lrp/ooYxcbiAgICAgKiBAcGFyYW0gbW9kZWwg5a++6LGh44Gu44Oi44OH44OrXG4gICAgICogQHBhcmFtIHVzZXJUaW1lU2Vjb25kcyDjg4fjg6vjgr/mmYLplpPjga7nqY3nrpflgKRb56eSXVxuICAgICAqIEBwYXJhbSB3ZWlnaHQg44Oi44O844K344On44Oz44Gu6YeN44G/XG4gICAgICogQHBhcmFtIG1vdGlvblF1ZXVlRW50cnkgQ3ViaXNtTW90aW9uUXVldWVNYW5hZ2Vy44Gn566h55CG44GV44KM44Gm44GE44KL44Oi44O844K344On44OzXG4gICAgICovXG4gICAgcHVibGljIGRvVXBkYXRlUGFyYW1ldGVycyhcbiAgICAgIG1vZGVsOiBDdWJpc21Nb2RlbCxcbiAgICAgIHVzZXJUaW1lU2Vjb25kczogbnVtYmVyLFxuICAgICAgd2VpZ2h0OiBudW1iZXIsXG4gICAgICBtb3Rpb25RdWV1ZUVudHJ5OiBDdWJpc21Nb3Rpb25RdWV1ZUVudHJ5XG4gICAgKTogdm9pZCB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3BhcmFtZXRlcnMuZ2V0U2l6ZSgpOyArK2kpIHtcbiAgICAgICAgY29uc3QgcGFyYW1ldGVyOiBFeHByZXNzaW9uUGFyYW1ldGVyID0gdGhpcy5fcGFyYW1ldGVycy5hdChpKTtcblxuICAgICAgICBzd2l0Y2ggKHBhcmFtZXRlci5ibGVuZFR5cGUpIHtcbiAgICAgICAgICBjYXNlIEV4cHJlc3Npb25CbGVuZFR5cGUuRXhwcmVzc2lvbkJsZW5kVHlwZV9BZGQ6IHtcbiAgICAgICAgICAgIG1vZGVsLmFkZFBhcmFtZXRlclZhbHVlQnlJZChcbiAgICAgICAgICAgICAgcGFyYW1ldGVyLnBhcmFtZXRlcklkLFxuICAgICAgICAgICAgICBwYXJhbWV0ZXIudmFsdWUsXG4gICAgICAgICAgICAgIHdlaWdodFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIEV4cHJlc3Npb25CbGVuZFR5cGUuRXhwcmVzc2lvbkJsZW5kVHlwZV9NdWx0aXBseToge1xuICAgICAgICAgICAgbW9kZWwubXVsdGlwbHlQYXJhbWV0ZXJWYWx1ZUJ5SWQoXG4gICAgICAgICAgICAgIHBhcmFtZXRlci5wYXJhbWV0ZXJJZCxcbiAgICAgICAgICAgICAgcGFyYW1ldGVyLnZhbHVlLFxuICAgICAgICAgICAgICB3ZWlnaHRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBFeHByZXNzaW9uQmxlbmRUeXBlLkV4cHJlc3Npb25CbGVuZFR5cGVfT3ZlcndyaXRlOiB7XG4gICAgICAgICAgICBtb2RlbC5zZXRQYXJhbWV0ZXJWYWx1ZUJ5SWQoXG4gICAgICAgICAgICAgIHBhcmFtZXRlci5wYXJhbWV0ZXJJZCxcbiAgICAgICAgICAgICAgcGFyYW1ldGVyLnZhbHVlLFxuICAgICAgICAgICAgICB3ZWlnaHRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIC8vIOS7leanmOOBq+OBquOBhOWApOOCkuioreWumuOBl+OBn+aZguOBr+OBmeOBp+OBq+WKoOeul+ODouODvOODieOBq+OBquOBo+OBpuOBhOOCi1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr9cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHN1cGVyKCk7XG5cbiAgICAgIHRoaXMuX3BhcmFtZXRlcnMgPSBuZXcgY3NtVmVjdG9yPEV4cHJlc3Npb25QYXJhbWV0ZXI+KCk7XG4gICAgfVxuXG4gICAgX3BhcmFtZXRlcnM6IGNzbVZlY3RvcjxFeHByZXNzaW9uUGFyYW1ldGVyPjsgLy8g6KGo5oOF44Gu44OR44Op44Oh44O844K/5oOF5aCx44Oq44K544OIXG4gIH1cblxuICAvKipcbiAgICog6KGo5oOF44OR44Op44Oh44O844K/5YCk44Gu6KiI566X5pa55byPXG4gICAqL1xuICBleHBvcnQgZW51bSBFeHByZXNzaW9uQmxlbmRUeXBlIHtcbiAgICBFeHByZXNzaW9uQmxlbmRUeXBlX0FkZCA9IDAsIC8vIOWKoOeul1xuICAgIEV4cHJlc3Npb25CbGVuZFR5cGVfTXVsdGlwbHkgPSAxLCAvLyDkuZfnrpdcbiAgICBFeHByZXNzaW9uQmxlbmRUeXBlX092ZXJ3cml0ZSA9IDIgLy8g5LiK5pu444GNXG4gIH1cblxuICAvKipcbiAgICog6KGo5oOF44Gu44OR44Op44Oh44O844K/5oOF5aCxXG4gICAqL1xuICBleHBvcnQgY2xhc3MgRXhwcmVzc2lvblBhcmFtZXRlciB7XG4gICAgcGFyYW1ldGVySWQ6IEN1YmlzbUlkSGFuZGxlOyAvLyDjg5Hjg6njg6Hjg7zjgr9JRFxuICAgIGJsZW5kVHlwZTogRXhwcmVzc2lvbkJsZW5kVHlwZTsgLy8g44OR44Op44Oh44O844K/44Gu5ryU566X56iu6aGeXG4gICAgdmFsdWU6IG51bWJlcjsgLy8g5YCkXG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQU9BO0FBQ0E7QUFFQTtBQUdBO0FBRUE7QUFHQTtBQUVBO0FBRUE7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUFBO0FBa0lBO0FBQUE7QUFHQTs7QUFDQTtBQS9IQTtBQUlBO0FBRUE7QUFDQTtBQUVBO0FBR0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBU0E7QUFNQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBWUE7QUFBQTtBQXpJQTtBQThJQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBSkE7QUFLQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Framework/src/motion/cubismexpressionmotion.ts\n");

/***/ }),

/***/ "./Framework/src/motion/cubismmotion.ts":
/*!**********************************************!*\
  !*** ./Framework/src/motion/cubismmotion.ts ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar cubismmotionjson_1 = __webpack_require__(/*! ./cubismmotionjson */ \"./Framework/src/motion/cubismmotionjson.ts\");\nvar cubismmotioninternal_1 = __webpack_require__(/*! ./cubismmotioninternal */ \"./Framework/src/motion/cubismmotioninternal.ts\");\nvar acubismmotion_1 = __webpack_require__(/*! ./acubismmotion */ \"./Framework/src/motion/acubismmotion.ts\");\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./Framework/src/live2dcubismframework.ts\");\nvar cubismmath_1 = __webpack_require__(/*! ../math/cubismmath */ \"./Framework/src/math/cubismmath.ts\");\nvar csmstring_1 = __webpack_require__(/*! ../type/csmstring */ \"./Framework/src/type/csmstring.ts\");\nvar cubismdebug_1 = __webpack_require__(/*! ../utils/cubismdebug */ \"./Framework/src/utils/cubismdebug.ts\");\nvar csmString = csmstring_1.Live2DCubismFramework.csmString;\nvar CubismMotionData = cubismmotioninternal_1.Live2DCubismFramework.CubismMotionData;\nvar CubismMotionSegment = cubismmotioninternal_1.Live2DCubismFramework.CubismMotionSegment;\nvar CubismMotionPoint = cubismmotioninternal_1.Live2DCubismFramework.CubismMotionPoint;\nvar CubismMotionEvent = cubismmotioninternal_1.Live2DCubismFramework.CubismMotionEvent;\nvar CubismMotionSegmentType = cubismmotioninternal_1.Live2DCubismFramework.CubismMotionSegmentType;\nvar CubismMotionCurve = cubismmotioninternal_1.Live2DCubismFramework.CubismMotionCurve;\nvar CubismMotionCurveTarget = cubismmotioninternal_1.Live2DCubismFramework.CubismMotionCurveTarget;\nvar CubismMath = cubismmath_1.Live2DCubismFramework.CubismMath;\nvar CubismFramework = live2dcubismframework_1.Live2DCubismFramework.CubismFramework;\nvar ACubismMotion = acubismmotion_1.Live2DCubismFramework.ACubismMotion;\nvar CubismMotionJson = cubismmotionjson_1.Live2DCubismFramework.CubismMotionJson;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var EffectNameEyeBlink = 'EyeBlink';\n    var EffectNameLipSync = 'LipSync';\n    var TargetNameModel = 'Model';\n    var TargetNameParameter = 'Parameter';\n    var TargetNamePartOpacity = 'PartOpacity';\n    function lerpPoints(a, b, t) {\n        var result = new CubismMotionPoint();\n        result.time = a.time + (b.time - a.time) * t;\n        result.value = a.value + (b.value - a.value) * t;\n        return result;\n    }\n    function linearEvaluate(points, time) {\n        var t = (time - points[0].time) / (points[1].time - points[0].time);\n        if (t < 0.0) {\n            t = 0.0;\n        }\n        return points[0].value + (points[1].value - points[0].value) * t;\n    }\n    function bezierEvaluate(points, time) {\n        var t = (time - points[0].time) / (points[3].time - points[0].time);\n        if (t < 0.0) {\n            t = 0.0;\n        }\n        var p01 = lerpPoints(points[0], points[1], t);\n        var p12 = lerpPoints(points[1], points[2], t);\n        var p23 = lerpPoints(points[2], points[3], t);\n        var p012 = lerpPoints(p01, p12, t);\n        var p123 = lerpPoints(p12, p23, t);\n        return lerpPoints(p012, p123, t).value;\n    }\n    function steppedEvaluate(points, time) {\n        return points[0].value;\n    }\n    function inverseSteppedEvaluate(points, time) {\n        return points[1].value;\n    }\n    function evaluateCurve(motionData, index, time) {\n        var curve = motionData.curves.at(index);\n        var target = -1;\n        var totalSegmentCount = curve.baseSegmentIndex + curve.segmentCount;\n        var pointPosition = 0;\n        for (var i = curve.baseSegmentIndex; i < totalSegmentCount; ++i) {\n            pointPosition =\n                motionData.segments.at(i).basePointIndex +\n                    (motionData.segments.at(i).segmentType ==\n                        CubismMotionSegmentType.CubismMotionSegmentType_Bezier\n                        ? 3\n                        : 1);\n            if (motionData.points.at(pointPosition).time > time) {\n                target = i;\n                break;\n            }\n        }\n        if (target == -1) {\n            return motionData.points.at(pointPosition).value;\n        }\n        var segment = motionData.segments.at(target);\n        return segment.evaluate(motionData.points.get(segment.basePointIndex), time);\n    }\n    var CubismMotion = (function (_super) {\n        __extends(CubismMotion, _super);\n        function CubismMotion() {\n            var _this = _super.call(this) || this;\n            _this._sourceFrameRate = 30.0;\n            _this._loopDurationSeconds = -1.0;\n            _this._isLoop = false;\n            _this._isLoopFadeIn = true;\n            _this._lastWeight = 0.0;\n            _this._motionData = null;\n            _this._modelCurveIdEyeBlink = null;\n            _this._modelCurveIdLipSync = null;\n            _this._eyeBlinkParameterIds = null;\n            _this._lipSyncParameterIds = null;\n            return _this;\n        }\n        CubismMotion.create = function (buffer, size, onFinishedMotionHandler) {\n            var ret = new CubismMotion();\n            ret.parse(buffer, size);\n            ret._sourceFrameRate = ret._motionData.fps;\n            ret._loopDurationSeconds = ret._motionData.duration;\n            ret._onFinishedMotion = onFinishedMotionHandler;\n            return ret;\n        };\n        CubismMotion.prototype.doUpdateParameters = function (model, userTimeSeconds, fadeWeight, motionQueueEntry) {\n            if (this._modelCurveIdEyeBlink == null) {\n                this._modelCurveIdEyeBlink = CubismFramework.getIdManager().getId(EffectNameEyeBlink);\n            }\n            if (this._modelCurveIdLipSync == null) {\n                this._modelCurveIdLipSync = CubismFramework.getIdManager().getId(EffectNameLipSync);\n            }\n            var timeOffsetSeconds = userTimeSeconds - motionQueueEntry.getStartTime();\n            if (timeOffsetSeconds < 0.0) {\n                timeOffsetSeconds = 0.0;\n            }\n            var lipSyncValue = Number.MAX_VALUE;\n            var eyeBlinkValue = Number.MAX_VALUE;\n            var MaxTargetSize = 64;\n            var lipSyncFlags = 0;\n            var eyeBlinkFlags = 0;\n            if (this._eyeBlinkParameterIds.getSize() > MaxTargetSize) {\n                cubismdebug_1.CubismLogDebug('too many eye blink targets : {0}', this._eyeBlinkParameterIds.getSize());\n            }\n            if (this._lipSyncParameterIds.getSize() > MaxTargetSize) {\n                cubismdebug_1.CubismLogDebug('too many lip sync targets : {0}', this._lipSyncParameterIds.getSize());\n            }\n            var tmpFadeIn = this._fadeInSeconds <= 0.0\n                ? 1.0\n                : CubismMath.getEasingSine((userTimeSeconds - motionQueueEntry.getFadeInStartTime()) /\n                    this._fadeInSeconds);\n            var tmpFadeOut = this._fadeOutSeconds <= 0.0 || motionQueueEntry.getEndTime() < 0.0\n                ? 1.0\n                : CubismMath.getEasingSine((motionQueueEntry.getEndTime() - userTimeSeconds) /\n                    this._fadeOutSeconds);\n            var value;\n            var c, parameterIndex;\n            var time = timeOffsetSeconds;\n            if (this._isLoop) {\n                while (time > this._motionData.duration) {\n                    time -= this._motionData.duration;\n                }\n            }\n            var curves = this._motionData.curves;\n            for (c = 0; c < this._motionData.curveCount &&\n                curves.at(c).type ==\n                    CubismMotionCurveTarget.CubismMotionCurveTarget_Model; ++c) {\n                value = evaluateCurve(this._motionData, c, time);\n                if (curves.at(c).id == this._modelCurveIdEyeBlink) {\n                    eyeBlinkValue = value;\n                }\n                else if (curves.at(c).id == this._modelCurveIdLipSync) {\n                    lipSyncValue = value;\n                }\n            }\n            var parameterMotionCurveCount = 0;\n            for (; c < this._motionData.curveCount &&\n                curves.at(c).type ==\n                    CubismMotionCurveTarget.CubismMotionCurveTarget_Parameter; ++c) {\n                parameterMotionCurveCount++;\n                parameterIndex = model.getParameterIndex(curves.at(c).id);\n                if (parameterIndex == -1) {\n                    continue;\n                }\n                var sourceValue = model.getParameterValueByIndex(parameterIndex);\n                value = evaluateCurve(this._motionData, c, time);\n                if (eyeBlinkValue != Number.MAX_VALUE) {\n                    for (var i = 0; i < this._eyeBlinkParameterIds.getSize() && i < MaxTargetSize; ++i) {\n                        if (this._eyeBlinkParameterIds.at(i) == curves.at(c).id) {\n                            value *= eyeBlinkValue;\n                            eyeBlinkFlags |= 1 << i;\n                            break;\n                        }\n                    }\n                }\n                if (lipSyncValue != Number.MAX_VALUE) {\n                    for (var i = 0; i < this._lipSyncParameterIds.getSize() && i < MaxTargetSize; ++i) {\n                        if (this._lipSyncParameterIds.at(i) == curves.at(c).id) {\n                            value += lipSyncValue;\n                            lipSyncFlags |= 1 << i;\n                            break;\n                        }\n                    }\n                }\n                var v = void 0;\n                if (curves.at(c).fadeInTime < 0.0 && curves.at(c).fadeOutTime < 0.0) {\n                    v = sourceValue + (value - sourceValue) * fadeWeight;\n                }\n                else {\n                    var fin = void 0;\n                    var fout = void 0;\n                    if (curves.at(c).fadeInTime < 0.0) {\n                        fin = tmpFadeIn;\n                    }\n                    else {\n                        fin =\n                            curves.at(c).fadeInTime == 0.0\n                                ? 1.0\n                                : CubismMath.getEasingSine((userTimeSeconds - motionQueueEntry.getFadeInStartTime()) /\n                                    curves.at(c).fadeInTime);\n                    }\n                    if (curves.at(c).fadeOutTime < 0.0) {\n                        fout = tmpFadeOut;\n                    }\n                    else {\n                        fout =\n                            curves.at(c).fadeOutTime == 0.0 ||\n                                motionQueueEntry.getEndTime() < 0.0\n                                ? 1.0\n                                : CubismMath.getEasingSine((motionQueueEntry.getEndTime() - userTimeSeconds) /\n                                    curves.at(c).fadeOutTime);\n                    }\n                    var paramWeight = this._weight * fin * fout;\n                    v = sourceValue + (value - sourceValue) * paramWeight;\n                }\n                model.setParameterValueByIndex(parameterIndex, v, 1.0);\n            }\n            {\n                if (eyeBlinkValue != Number.MAX_VALUE) {\n                    for (var i = 0; i < this._eyeBlinkParameterIds.getSize() && i < MaxTargetSize; ++i) {\n                        var sourceValue = model.getParameterValueById(this._eyeBlinkParameterIds.at(i));\n                        if ((eyeBlinkFlags >> i) & 0x01) {\n                            continue;\n                        }\n                        var v = sourceValue + (eyeBlinkValue - sourceValue) * fadeWeight;\n                        model.setParameterValueById(this._eyeBlinkParameterIds.at(i), v);\n                    }\n                }\n                if (lipSyncValue != Number.MAX_VALUE) {\n                    for (var i = 0; i < this._lipSyncParameterIds.getSize() && i < MaxTargetSize; ++i) {\n                        var sourceValue = model.getParameterValueById(this._lipSyncParameterIds.at(i));\n                        if ((lipSyncFlags >> i) & 0x01) {\n                            continue;\n                        }\n                        var v = sourceValue + (lipSyncValue - sourceValue) * fadeWeight;\n                        model.setParameterValueById(this._lipSyncParameterIds.at(i), v);\n                    }\n                }\n            }\n            for (; c < this._motionData.curveCount &&\n                curves.at(c).type ==\n                    CubismMotionCurveTarget.CubismMotionCurveTarget_PartOpacity; ++c) {\n                parameterIndex = model.getParameterIndex(curves.at(c).id);\n                if (parameterIndex == -1) {\n                    continue;\n                }\n                value = evaluateCurve(this._motionData, c, time);\n                model.setParameterValueByIndex(parameterIndex, value);\n            }\n            if (timeOffsetSeconds >= this._motionData.duration) {\n                if (this._isLoop) {\n                    motionQueueEntry.setStartTime(userTimeSeconds);\n                    if (this._isLoopFadeIn) {\n                        motionQueueEntry.setFadeInStartTime(userTimeSeconds);\n                    }\n                }\n                else {\n                    if (this._onFinishedMotion) {\n                        this._onFinishedMotion(this);\n                    }\n                    motionQueueEntry.setIsFinished(true);\n                }\n            }\n            this._lastWeight = fadeWeight;\n        };\n        CubismMotion.prototype.setIsLoop = function (loop) {\n            this._isLoop = loop;\n        };\n        CubismMotion.prototype.isLoop = function () {\n            return this._isLoop;\n        };\n        CubismMotion.prototype.setIsLoopFadeIn = function (loopFadeIn) {\n            this._isLoopFadeIn = loopFadeIn;\n        };\n        CubismMotion.prototype.isLoopFadeIn = function () {\n            return this._isLoopFadeIn;\n        };\n        CubismMotion.prototype.getDuration = function () {\n            return this._isLoop ? -1.0 : this._loopDurationSeconds;\n        };\n        CubismMotion.prototype.getLoopDuration = function () {\n            return this._loopDurationSeconds;\n        };\n        CubismMotion.prototype.setParameterFadeInTime = function (parameterId, value) {\n            var curves = this._motionData.curves;\n            for (var i = 0; i < this._motionData.curveCount; ++i) {\n                if (parameterId == curves.at(i).id) {\n                    curves.at(i).fadeInTime = value;\n                    return;\n                }\n            }\n        };\n        CubismMotion.prototype.setParameterFadeOutTime = function (parameterId, value) {\n            var curves = this._motionData.curves;\n            for (var i = 0; i < this._motionData.curveCount; ++i) {\n                if (parameterId == curves.at(i).id) {\n                    curves.at(i).fadeOutTime = value;\n                    return;\n                }\n            }\n        };\n        CubismMotion.prototype.getParameterFadeInTime = function (parameterId) {\n            var curves = this._motionData.curves;\n            for (var i = 0; i < this._motionData.curveCount; ++i) {\n                if (parameterId == curves.at(i).id) {\n                    return curves.at(i).fadeInTime;\n                }\n            }\n            return -1;\n        };\n        CubismMotion.prototype.getParameterFadeOutTime = function (parameterId) {\n            var curves = this._motionData.curves;\n            for (var i = 0; i < this._motionData.curveCount; ++i) {\n                if (parameterId == curves.at(i).id) {\n                    return curves.at(i).fadeOutTime;\n                }\n            }\n            return -1;\n        };\n        CubismMotion.prototype.setEffectIds = function (eyeBlinkParameterIds, lipSyncParameterIds) {\n            this._eyeBlinkParameterIds = eyeBlinkParameterIds;\n            this._lipSyncParameterIds = lipSyncParameterIds;\n        };\n        CubismMotion.prototype.release = function () {\n            this._motionData = void 0;\n            this._motionData = null;\n        };\n        CubismMotion.prototype.parse = function (motionJson, size) {\n            this._motionData = new CubismMotionData();\n            var json = new CubismMotionJson(motionJson, size);\n            this._motionData.duration = json.getMotionDuration();\n            this._motionData.loop = json.isMotionLoop();\n            this._motionData.curveCount = json.getMotionCurveCount();\n            this._motionData.fps = json.getMotionFps();\n            this._motionData.eventCount = json.getEventCount();\n            if (json.isExistMotionFadeInTime()) {\n                this._fadeInSeconds =\n                    json.getMotionFadeInTime() < 0.0 ? 1.0 : json.getMotionFadeInTime();\n            }\n            else {\n                this._fadeInSeconds = 1.0;\n            }\n            if (json.isExistMotionFadeOutTime()) {\n                this._fadeOutSeconds =\n                    json.getMotionFadeOutTime() < 0.0 ? 1.0 : json.getMotionFadeOutTime();\n            }\n            else {\n                this._fadeOutSeconds = 1.0;\n            }\n            this._motionData.curves.updateSize(this._motionData.curveCount, CubismMotionCurve, true);\n            this._motionData.segments.updateSize(json.getMotionTotalSegmentCount(), CubismMotionSegment, true);\n            this._motionData.points.updateSize(json.getMotionTotalPointCount(), CubismMotionPoint, true);\n            this._motionData.events.updateSize(this._motionData.eventCount, CubismMotionEvent, true);\n            var totalPointCount = 0;\n            var totalSegmentCount = 0;\n            for (var curveCount = 0; curveCount < this._motionData.curveCount; ++curveCount) {\n                if (json.getMotionCurveTarget(curveCount) == TargetNameModel) {\n                    this._motionData.curves.at(curveCount).type =\n                        CubismMotionCurveTarget.CubismMotionCurveTarget_Model;\n                }\n                else if (json.getMotionCurveTarget(curveCount) == TargetNameParameter) {\n                    this._motionData.curves.at(curveCount).type =\n                        CubismMotionCurveTarget.CubismMotionCurveTarget_Parameter;\n                }\n                else if (json.getMotionCurveTarget(curveCount) == TargetNamePartOpacity) {\n                    this._motionData.curves.at(curveCount).type =\n                        CubismMotionCurveTarget.CubismMotionCurveTarget_PartOpacity;\n                }\n                this._motionData.curves.at(curveCount).id = json.getMotionCurveId(curveCount);\n                this._motionData.curves.at(curveCount).baseSegmentIndex = totalSegmentCount;\n                this._motionData.curves.at(curveCount).fadeInTime = json.isExistMotionCurveFadeInTime(curveCount)\n                    ? json.getMotionCurveFadeInTime(curveCount)\n                    : -1.0;\n                this._motionData.curves.at(curveCount).fadeOutTime = json.isExistMotionCurveFadeOutTime(curveCount)\n                    ? json.getMotionCurveFadeOutTime(curveCount)\n                    : -1.0;\n                for (var segmentPosition = 0; segmentPosition < json.getMotionCurveSegmentCount(curveCount);) {\n                    if (segmentPosition == 0) {\n                        this._motionData.segments.at(totalSegmentCount).basePointIndex = totalPointCount;\n                        this._motionData.points.at(totalPointCount).time = json.getMotionCurveSegment(curveCount, segmentPosition);\n                        this._motionData.points.at(totalPointCount).value = json.getMotionCurveSegment(curveCount, segmentPosition + 1);\n                        totalPointCount += 1;\n                        segmentPosition += 2;\n                    }\n                    else {\n                        this._motionData.segments.at(totalSegmentCount).basePointIndex =\n                            totalPointCount - 1;\n                    }\n                    var segment = json.getMotionCurveSegment(curveCount, segmentPosition);\n                    switch (segment) {\n                        case CubismMotionSegmentType.CubismMotionSegmentType_Linear: {\n                            this._motionData.segments.at(totalSegmentCount).segmentType =\n                                CubismMotionSegmentType.CubismMotionSegmentType_Linear;\n                            this._motionData.segments.at(totalSegmentCount).evaluate = linearEvaluate;\n                            this._motionData.points.at(totalPointCount).time = json.getMotionCurveSegment(curveCount, segmentPosition + 1);\n                            this._motionData.points.at(totalPointCount).value = json.getMotionCurveSegment(curveCount, segmentPosition + 2);\n                            totalPointCount += 1;\n                            segmentPosition += 3;\n                            break;\n                        }\n                        case CubismMotionSegmentType.CubismMotionSegmentType_Bezier: {\n                            this._motionData.segments.at(totalSegmentCount).segmentType =\n                                CubismMotionSegmentType.CubismMotionSegmentType_Bezier;\n                            this._motionData.segments.at(totalSegmentCount).evaluate = bezierEvaluate;\n                            this._motionData.points.at(totalPointCount).time = json.getMotionCurveSegment(curveCount, segmentPosition + 1);\n                            this._motionData.points.at(totalPointCount).value = json.getMotionCurveSegment(curveCount, segmentPosition + 2);\n                            this._motionData.points.at(totalPointCount + 1).time = json.getMotionCurveSegment(curveCount, segmentPosition + 3);\n                            this._motionData.points.at(totalPointCount + 1).value = json.getMotionCurveSegment(curveCount, segmentPosition + 4);\n                            this._motionData.points.at(totalPointCount + 2).time = json.getMotionCurveSegment(curveCount, segmentPosition + 5);\n                            this._motionData.points.at(totalPointCount + 2).value = json.getMotionCurveSegment(curveCount, segmentPosition + 6);\n                            totalPointCount += 3;\n                            segmentPosition += 7;\n                            break;\n                        }\n                        case CubismMotionSegmentType.CubismMotionSegmentType_Stepped: {\n                            this._motionData.segments.at(totalSegmentCount).segmentType =\n                                CubismMotionSegmentType.CubismMotionSegmentType_Stepped;\n                            this._motionData.segments.at(totalSegmentCount).evaluate = steppedEvaluate;\n                            this._motionData.points.at(totalPointCount).time = json.getMotionCurveSegment(curveCount, segmentPosition + 1);\n                            this._motionData.points.at(totalPointCount).value = json.getMotionCurveSegment(curveCount, segmentPosition + 2);\n                            totalPointCount += 1;\n                            segmentPosition += 3;\n                            break;\n                        }\n                        case CubismMotionSegmentType.CubismMotionSegmentType_InverseStepped: {\n                            this._motionData.segments.at(totalSegmentCount).segmentType =\n                                CubismMotionSegmentType.CubismMotionSegmentType_InverseStepped;\n                            this._motionData.segments.at(totalSegmentCount).evaluate = inverseSteppedEvaluate;\n                            this._motionData.points.at(totalPointCount).time = json.getMotionCurveSegment(curveCount, segmentPosition + 1);\n                            this._motionData.points.at(totalPointCount).value = json.getMotionCurveSegment(curveCount, segmentPosition + 2);\n                            totalPointCount += 1;\n                            segmentPosition += 3;\n                            break;\n                        }\n                        default: {\n                            cubismdebug_1.CSM_ASSERT(0);\n                            break;\n                        }\n                    }\n                    ++this._motionData.curves.at(curveCount).segmentCount;\n                    ++totalSegmentCount;\n                }\n            }\n            for (var userdatacount = 0; userdatacount < json.getEventCount(); ++userdatacount) {\n                this._motionData.events.at(userdatacount).fireTime = json.getEventTime(userdatacount);\n                this._motionData.events.at(userdatacount).value = json.getEventValue(userdatacount);\n            }\n            json.release();\n            json = void 0;\n            json = null;\n        };\n        CubismMotion.prototype.getFiredEvent = function (beforeCheckTimeSeconds, motionTimeSeconds) {\n            this._firedEventValues.updateSize(0);\n            for (var u = 0; u < this._motionData.eventCount; ++u) {\n                if (this._motionData.events.at(u).fireTime > beforeCheckTimeSeconds &&\n                    this._motionData.events.at(u).fireTime <= motionTimeSeconds) {\n                    this._firedEventValues.pushBack(new csmString(this._motionData.events.at(u).value.s));\n                }\n            }\n            return this._firedEventValues;\n        };\n        return CubismMotion;\n    }(ACubismMotion));\n    Live2DCubismFramework.CubismMotion = CubismMotion;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21vdGlvbi9jdWJpc21tb3Rpb24udHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9GcmFtZXdvcmsvc3JjL21vdGlvbi9jdWJpc21tb3Rpb24udHM/ZmFmZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodChjKSBMaXZlMkQgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IHRoZSBMaXZlMkQgT3BlbiBTb2Z0d2FyZSBsaWNlbnNlXG4gKiB0aGF0IGNhbiBiZSBmb3VuZCBhdCBodHRwczovL3d3dy5saXZlMmQuY29tL2V1bGEvbGl2ZTJkLW9wZW4tc29mdHdhcmUtbGljZW5zZS1hZ3JlZW1lbnRfZW4uaHRtbC5cbiAqL1xuXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtbW90aW9uanNvbiB9IGZyb20gJy4vY3ViaXNtbW90aW9uanNvbic7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtbW90aW9uaW50ZXJuYWwgfSBmcm9tICcuL2N1YmlzbW1vdGlvbmludGVybmFsJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBhY3ViaXNtbW90aW9uIH0gZnJvbSAnLi9hY3ViaXNtbW90aW9uJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21tb2RlbCB9IGZyb20gJy4uL21vZGVsL2N1YmlzbW1vZGVsJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21mcmFtZXdvcmsgfSBmcm9tICcuLi9saXZlMmRjdWJpc21mcmFtZXdvcmsnO1xuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbW1vdGlvbnF1ZXVlZW50cnkgfSBmcm9tICcuL2N1YmlzbW1vdGlvbnF1ZXVlZW50cnknO1xuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbW1hdGggfSBmcm9tICcuLi9tYXRoL2N1YmlzbW1hdGgnO1xuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGNzbXZlY3RvciB9IGZyb20gJy4uL3R5cGUvY3NtdmVjdG9yJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21pZCB9IGZyb20gJy4uL2lkL2N1YmlzbWlkJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjc21zdHJpbmcgfSBmcm9tICcuLi90eXBlL2NzbXN0cmluZyc7XG5pbXBvcnQgeyBDdWJpc21Mb2dEZWJ1ZywgQ1NNX0FTU0VSVCB9IGZyb20gJy4uL3V0aWxzL2N1YmlzbWRlYnVnJztcbmltcG9ydCBjc21TdHJpbmcgPSBjc21zdHJpbmcuY3NtU3RyaW5nO1xuaW1wb3J0IEN1YmlzbU1vdGlvbkRhdGEgPSBjdWJpc21tb3Rpb25pbnRlcm5hbC5DdWJpc21Nb3Rpb25EYXRhO1xuaW1wb3J0IEN1YmlzbU1vdGlvblNlZ21lbnQgPSBjdWJpc21tb3Rpb25pbnRlcm5hbC5DdWJpc21Nb3Rpb25TZWdtZW50O1xuaW1wb3J0IEN1YmlzbU1vdGlvblBvaW50ID0gY3ViaXNtbW90aW9uaW50ZXJuYWwuQ3ViaXNtTW90aW9uUG9pbnQ7XG5pbXBvcnQgQ3ViaXNtTW90aW9uRXZlbnQgPSBjdWJpc21tb3Rpb25pbnRlcm5hbC5DdWJpc21Nb3Rpb25FdmVudDtcbmltcG9ydCBDdWJpc21Nb3Rpb25TZWdtZW50VHlwZSA9IGN1YmlzbW1vdGlvbmludGVybmFsLkN1YmlzbU1vdGlvblNlZ21lbnRUeXBlO1xuaW1wb3J0IEN1YmlzbUlkSGFuZGxlID0gY3ViaXNtaWQuQ3ViaXNtSWRIYW5kbGU7XG5pbXBvcnQgQ3ViaXNtTW90aW9uQ3VydmUgPSBjdWJpc21tb3Rpb25pbnRlcm5hbC5DdWJpc21Nb3Rpb25DdXJ2ZTtcbmltcG9ydCBDdWJpc21Nb3Rpb25DdXJ2ZVRhcmdldCA9IGN1YmlzbW1vdGlvbmludGVybmFsLkN1YmlzbU1vdGlvbkN1cnZlVGFyZ2V0O1xuaW1wb3J0IGNzbVZlY3RvciA9IGNzbXZlY3Rvci5jc21WZWN0b3I7XG5pbXBvcnQgQ3ViaXNtTWF0aCA9IGN1YmlzbW1hdGguQ3ViaXNtTWF0aDtcbmltcG9ydCBDdWJpc21Nb3Rpb25RdWV1ZUVudHJ5ID0gY3ViaXNtbW90aW9ucXVldWVlbnRyeS5DdWJpc21Nb3Rpb25RdWV1ZUVudHJ5O1xuaW1wb3J0IEN1YmlzbUZyYW1ld29yayA9IGN1YmlzbWZyYW1ld29yay5DdWJpc21GcmFtZXdvcms7XG5pbXBvcnQgQ3ViaXNtTW9kZWwgPSBjdWJpc21tb2RlbC5DdWJpc21Nb2RlbDtcbmltcG9ydCBBQ3ViaXNtTW90aW9uID0gYWN1YmlzbW1vdGlvbi5BQ3ViaXNtTW90aW9uO1xuaW1wb3J0IEZpbmlzaGVkTW90aW9uQ2FsbGJhY2sgPSBhY3ViaXNtbW90aW9uLkZpbmlzaGVkTW90aW9uQ2FsbGJhY2s7XG5pbXBvcnQgQ3ViaXNtTW90aW9uSnNvbiA9IGN1YmlzbW1vdGlvbmpzb24uQ3ViaXNtTW90aW9uSnNvbjtcblxuZXhwb3J0IG5hbWVzcGFjZSBMaXZlMkRDdWJpc21GcmFtZXdvcmsge1xuICBjb25zdCBFZmZlY3ROYW1lRXllQmxpbmsgPSAnRXllQmxpbmsnO1xuICBjb25zdCBFZmZlY3ROYW1lTGlwU3luYyA9ICdMaXBTeW5jJztcbiAgY29uc3QgVGFyZ2V0TmFtZU1vZGVsID0gJ01vZGVsJztcbiAgY29uc3QgVGFyZ2V0TmFtZVBhcmFtZXRlciA9ICdQYXJhbWV0ZXInO1xuICBjb25zdCBUYXJnZXROYW1lUGFydE9wYWNpdHkgPSAnUGFydE9wYWNpdHknO1xuXG4gIGZ1bmN0aW9uIGxlcnBQb2ludHMoXG4gICAgYTogQ3ViaXNtTW90aW9uUG9pbnQsXG4gICAgYjogQ3ViaXNtTW90aW9uUG9pbnQsXG4gICAgdDogbnVtYmVyXG4gICk6IEN1YmlzbU1vdGlvblBvaW50IHtcbiAgICBjb25zdCByZXN1bHQ6IEN1YmlzbU1vdGlvblBvaW50ID0gbmV3IEN1YmlzbU1vdGlvblBvaW50KCk7XG5cbiAgICByZXN1bHQudGltZSA9IGEudGltZSArIChiLnRpbWUgLSBhLnRpbWUpICogdDtcbiAgICByZXN1bHQudmFsdWUgPSBhLnZhbHVlICsgKGIudmFsdWUgLSBhLnZhbHVlKSAqIHQ7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gbGluZWFyRXZhbHVhdGUocG9pbnRzOiBDdWJpc21Nb3Rpb25Qb2ludFtdLCB0aW1lOiBudW1iZXIpOiBudW1iZXIge1xuICAgIGxldCB0OiBudW1iZXIgPSAodGltZSAtIHBvaW50c1swXS50aW1lKSAvIChwb2ludHNbMV0udGltZSAtIHBvaW50c1swXS50aW1lKTtcblxuICAgIGlmICh0IDwgMC4wKSB7XG4gICAgICB0ID0gMC4wO1xuICAgIH1cblxuICAgIHJldHVybiBwb2ludHNbMF0udmFsdWUgKyAocG9pbnRzWzFdLnZhbHVlIC0gcG9pbnRzWzBdLnZhbHVlKSAqIHQ7XG4gIH1cblxuICBmdW5jdGlvbiBiZXppZXJFdmFsdWF0ZShwb2ludHM6IEN1YmlzbU1vdGlvblBvaW50W10sIHRpbWU6IG51bWJlcik6IG51bWJlciB7XG4gICAgbGV0IHQ6IG51bWJlciA9ICh0aW1lIC0gcG9pbnRzWzBdLnRpbWUpIC8gKHBvaW50c1szXS50aW1lIC0gcG9pbnRzWzBdLnRpbWUpO1xuXG4gICAgaWYgKHQgPCAwLjApIHtcbiAgICAgIHQgPSAwLjA7XG4gICAgfVxuXG4gICAgY29uc3QgcDAxOiBDdWJpc21Nb3Rpb25Qb2ludCA9IGxlcnBQb2ludHMocG9pbnRzWzBdLCBwb2ludHNbMV0sIHQpO1xuICAgIGNvbnN0IHAxMjogQ3ViaXNtTW90aW9uUG9pbnQgPSBsZXJwUG9pbnRzKHBvaW50c1sxXSwgcG9pbnRzWzJdLCB0KTtcbiAgICBjb25zdCBwMjM6IEN1YmlzbU1vdGlvblBvaW50ID0gbGVycFBvaW50cyhwb2ludHNbMl0sIHBvaW50c1szXSwgdCk7XG5cbiAgICBjb25zdCBwMDEyOiBDdWJpc21Nb3Rpb25Qb2ludCA9IGxlcnBQb2ludHMocDAxLCBwMTIsIHQpO1xuICAgIGNvbnN0IHAxMjM6IEN1YmlzbU1vdGlvblBvaW50ID0gbGVycFBvaW50cyhwMTIsIHAyMywgdCk7XG5cbiAgICByZXR1cm4gbGVycFBvaW50cyhwMDEyLCBwMTIzLCB0KS52YWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0ZXBwZWRFdmFsdWF0ZShwb2ludHM6IEN1YmlzbU1vdGlvblBvaW50W10sIHRpbWU6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIHBvaW50c1swXS52YWx1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGludmVyc2VTdGVwcGVkRXZhbHVhdGUoXG4gICAgcG9pbnRzOiBDdWJpc21Nb3Rpb25Qb2ludFtdLFxuICAgIHRpbWU6IG51bWJlclxuICApOiBudW1iZXIge1xuICAgIHJldHVybiBwb2ludHNbMV0udmFsdWU7XG4gIH1cblxuICBmdW5jdGlvbiBldmFsdWF0ZUN1cnZlKFxuICAgIG1vdGlvbkRhdGE6IEN1YmlzbU1vdGlvbkRhdGEsXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICB0aW1lOiBudW1iZXJcbiAgKTogbnVtYmVyIHtcbiAgICAvLyBGaW5kIHNlZ21lbnQgdG8gZXZhbHVhdGUuXG4gICAgY29uc3QgY3VydmU6IEN1YmlzbU1vdGlvbkN1cnZlID0gbW90aW9uRGF0YS5jdXJ2ZXMuYXQoaW5kZXgpO1xuXG4gICAgbGV0IHRhcmdldCA9IC0xO1xuICAgIGNvbnN0IHRvdGFsU2VnbWVudENvdW50OiBudW1iZXIgPVxuICAgICAgY3VydmUuYmFzZVNlZ21lbnRJbmRleCArIGN1cnZlLnNlZ21lbnRDb3VudDtcbiAgICBsZXQgcG9pbnRQb3NpdGlvbiA9IDA7XG4gICAgZm9yIChsZXQgaTogbnVtYmVyID0gY3VydmUuYmFzZVNlZ21lbnRJbmRleDsgaSA8IHRvdGFsU2VnbWVudENvdW50OyArK2kpIHtcbiAgICAgIC8vIEdldCBmaXJzdCBwb2ludCBvZiBuZXh0IHNlZ21lbnQuXG4gICAgICBwb2ludFBvc2l0aW9uID1cbiAgICAgICAgbW90aW9uRGF0YS5zZWdtZW50cy5hdChpKS5iYXNlUG9pbnRJbmRleCArXG4gICAgICAgIChtb3Rpb25EYXRhLnNlZ21lbnRzLmF0KGkpLnNlZ21lbnRUeXBlID09XG4gICAgICAgIEN1YmlzbU1vdGlvblNlZ21lbnRUeXBlLkN1YmlzbU1vdGlvblNlZ21lbnRUeXBlX0JlemllclxuICAgICAgICAgID8gM1xuICAgICAgICAgIDogMSk7XG5cbiAgICAgIC8vIEJyZWFrIGlmIHRpbWUgbGllcyB3aXRoaW4gY3VycmVudCBzZWdtZW50LlxuICAgICAgaWYgKG1vdGlvbkRhdGEucG9pbnRzLmF0KHBvaW50UG9zaXRpb24pLnRpbWUgPiB0aW1lKSB7XG4gICAgICAgIHRhcmdldCA9IGk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0YXJnZXQgPT0gLTEpIHtcbiAgICAgIHJldHVybiBtb3Rpb25EYXRhLnBvaW50cy5hdChwb2ludFBvc2l0aW9uKS52YWx1ZTtcbiAgICB9XG5cbiAgICBjb25zdCBzZWdtZW50OiBDdWJpc21Nb3Rpb25TZWdtZW50ID0gbW90aW9uRGF0YS5zZWdtZW50cy5hdCh0YXJnZXQpO1xuXG4gICAgcmV0dXJuIHNlZ21lbnQuZXZhbHVhdGUoXG4gICAgICBtb3Rpb25EYXRhLnBvaW50cy5nZXQoc2VnbWVudC5iYXNlUG9pbnRJbmRleCksXG4gICAgICB0aW1lXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDjg6Ljg7zjgrfjg6fjg7Pjgq/jg6njgrlcbiAgICpcbiAgICog44Oi44O844K344On44Oz44Gu44Kv44Op44K544CCXG4gICAqL1xuICBleHBvcnQgY2xhc3MgQ3ViaXNtTW90aW9uIGV4dGVuZHMgQUN1YmlzbU1vdGlvbiB7XG4gICAgLyoqXG4gICAgICog44Kk44Oz44K544K/44Oz44K544KS5L2c5oiQ44GZ44KLXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYnVmZmVyIG1vdGlvbjMuanNvbuOBjOiqreOBv+i+vOOBvuOCjOOBpuOBhOOCi+ODkOODg+ODleOCoVxuICAgICAqIEBwYXJhbSBzaXplIOODkOODg+ODleOCoeOBruOCteOCpOOCulxuICAgICAqIEBwYXJhbSBvbkZpbmlzaGVkTW90aW9uSGFuZGxlciDjg6Ljg7zjgrfjg6fjg7Plho3nlJ/ntYLkuobmmYLjgavlkbzjgbPlh7rjgZXjgozjgovjgrPjg7zjg6vjg5Djg4Pjgq/plqLmlbBcbiAgICAgKiBAcmV0dXJuIOS9nOaIkOOBleOCjOOBn+OCpOODs+OCueOCv+ODs+OCuVxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKFxuICAgICAgYnVmZmVyOiBBcnJheUJ1ZmZlcixcbiAgICAgIHNpemU6IG51bWJlcixcbiAgICAgIG9uRmluaXNoZWRNb3Rpb25IYW5kbGVyPzogRmluaXNoZWRNb3Rpb25DYWxsYmFja1xuICAgICk6IEN1YmlzbU1vdGlvbiB7XG4gICAgICBjb25zdCByZXQgPSBuZXcgQ3ViaXNtTW90aW9uKCk7XG5cbiAgICAgIHJldC5wYXJzZShidWZmZXIsIHNpemUpO1xuICAgICAgcmV0Ll9zb3VyY2VGcmFtZVJhdGUgPSByZXQuX21vdGlvbkRhdGEuZnBzO1xuICAgICAgcmV0Ll9sb29wRHVyYXRpb25TZWNvbmRzID0gcmV0Ll9tb3Rpb25EYXRhLmR1cmF0aW9uO1xuICAgICAgcmV0Ll9vbkZpbmlzaGVkTW90aW9uID0gb25GaW5pc2hlZE1vdGlvbkhhbmRsZXI7XG5cbiAgICAgIC8vIE5PVEU6IEVkaXRvcuOBp+OBr+ODq+ODvOODl+OBguOCiuOBruODouODvOOCt+ODp+ODs+abuOOBjeWHuuOBl+OBr+mdnuWvvuW/nFxuICAgICAgLy8gcmV0LT5fbG9vcCA9IChyZXQtPl9tb3Rpb25EYXRhLT5Mb29wID4gMCk7XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODouODh+ODq+OBruODkeODqeODoeODvOOCv+OBruabtOaWsOOBruWun+ihjFxuICAgICAqIEBwYXJhbSBtb2RlbCAgICAgICAgICAgICDlr77osaHjga7jg6Ljg4fjg6tcbiAgICAgKiBAcGFyYW0gdXNlclRpbWVTZWNvbmRzICAg54++5Zyo44Gu5pmC5Yi7W+enkl1cbiAgICAgKiBAcGFyYW0gZmFkZVdlaWdodCAgICAgICAg44Oi44O844K344On44Oz44Gu6YeN44G/XG4gICAgICogQHBhcmFtIG1vdGlvblF1ZXVlRW50cnkgIEN1YmlzbU1vdGlvblF1ZXVlTWFuYWdlcuOBp+euoeeQhuOBleOCjOOBpuOBhOOCi+ODouODvOOCt+ODp+ODs1xuICAgICAqL1xuICAgIHB1YmxpYyBkb1VwZGF0ZVBhcmFtZXRlcnMoXG4gICAgICBtb2RlbDogQ3ViaXNtTW9kZWwsXG4gICAgICB1c2VyVGltZVNlY29uZHM6IG51bWJlcixcbiAgICAgIGZhZGVXZWlnaHQ6IG51bWJlcixcbiAgICAgIG1vdGlvblF1ZXVlRW50cnk6IEN1YmlzbU1vdGlvblF1ZXVlRW50cnlcbiAgICApOiB2b2lkIHtcbiAgICAgIGlmICh0aGlzLl9tb2RlbEN1cnZlSWRFeWVCbGluayA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuX21vZGVsQ3VydmVJZEV5ZUJsaW5rID0gQ3ViaXNtRnJhbWV3b3JrLmdldElkTWFuYWdlcigpLmdldElkKFxuICAgICAgICAgIEVmZmVjdE5hbWVFeWVCbGlua1xuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fbW9kZWxDdXJ2ZUlkTGlwU3luYyA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuX21vZGVsQ3VydmVJZExpcFN5bmMgPSBDdWJpc21GcmFtZXdvcmsuZ2V0SWRNYW5hZ2VyKCkuZ2V0SWQoXG4gICAgICAgICAgRWZmZWN0TmFtZUxpcFN5bmNcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgbGV0IHRpbWVPZmZzZXRTZWNvbmRzOiBudW1iZXIgPVxuICAgICAgICB1c2VyVGltZVNlY29uZHMgLSBtb3Rpb25RdWV1ZUVudHJ5LmdldFN0YXJ0VGltZSgpO1xuXG4gICAgICBpZiAodGltZU9mZnNldFNlY29uZHMgPCAwLjApIHtcbiAgICAgICAgdGltZU9mZnNldFNlY29uZHMgPSAwLjA7IC8vIOOCqOODqeODvOWbnumBv1xuICAgICAgfVxuXG4gICAgICBsZXQgbGlwU3luY1ZhbHVlOiBudW1iZXIgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgbGV0IGV5ZUJsaW5rVmFsdWU6IG51bWJlciA9IE51bWJlci5NQVhfVkFMVUU7XG5cbiAgICAgIC8v44G+44Gw44Gf44GN44CB44Oq44OD44OX44K344Oz44Kv44Gu44GG44Gh44Oi44O844K344On44Oz44Gu6YGp55So44KS5qSc5Ye644GZ44KL44Gf44KB44Gu44OT44OD44OI77yIbWF4RmxhZ0NvdW505YCL44G+44GnXG4gICAgICBjb25zdCBNYXhUYXJnZXRTaXplID0gNjQ7XG4gICAgICBsZXQgbGlwU3luY0ZsYWdzID0gMDtcbiAgICAgIGxldCBleWVCbGlua0ZsYWdzID0gMDtcblxuICAgICAgLy/nnqzjgY3jgIHjg6rjg4Pjg5fjgrfjg7Pjgq/jga7jgr/jg7zjgrLjg4Pjg4jmlbDjgYzkuIrpmZDjgpLotoXjgYjjgabjgYTjgovloLTlkIhcbiAgICAgIGlmICh0aGlzLl9leWVCbGlua1BhcmFtZXRlcklkcy5nZXRTaXplKCkgPiBNYXhUYXJnZXRTaXplKSB7XG4gICAgICAgIEN1YmlzbUxvZ0RlYnVnKFxuICAgICAgICAgICd0b28gbWFueSBleWUgYmxpbmsgdGFyZ2V0cyA6IHswfScsXG4gICAgICAgICAgdGhpcy5fZXllQmxpbmtQYXJhbWV0ZXJJZHMuZ2V0U2l6ZSgpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fbGlwU3luY1BhcmFtZXRlcklkcy5nZXRTaXplKCkgPiBNYXhUYXJnZXRTaXplKSB7XG4gICAgICAgIEN1YmlzbUxvZ0RlYnVnKFxuICAgICAgICAgICd0b28gbWFueSBsaXAgc3luYyB0YXJnZXRzIDogezB9JyxcbiAgICAgICAgICB0aGlzLl9saXBTeW5jUGFyYW1ldGVySWRzLmdldFNpemUoKVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0bXBGYWRlSW46IG51bWJlciA9XG4gICAgICAgIHRoaXMuX2ZhZGVJblNlY29uZHMgPD0gMC4wXG4gICAgICAgICAgPyAxLjBcbiAgICAgICAgICA6IEN1YmlzbU1hdGguZ2V0RWFzaW5nU2luZShcbiAgICAgICAgICAgICAgKHVzZXJUaW1lU2Vjb25kcyAtIG1vdGlvblF1ZXVlRW50cnkuZ2V0RmFkZUluU3RhcnRUaW1lKCkpIC9cbiAgICAgICAgICAgICAgICB0aGlzLl9mYWRlSW5TZWNvbmRzXG4gICAgICAgICAgICApO1xuXG4gICAgICBjb25zdCB0bXBGYWRlT3V0OiBudW1iZXIgPVxuICAgICAgICB0aGlzLl9mYWRlT3V0U2Vjb25kcyA8PSAwLjAgfHwgbW90aW9uUXVldWVFbnRyeS5nZXRFbmRUaW1lKCkgPCAwLjBcbiAgICAgICAgICA/IDEuMFxuICAgICAgICAgIDogQ3ViaXNtTWF0aC5nZXRFYXNpbmdTaW5lKFxuICAgICAgICAgICAgICAobW90aW9uUXVldWVFbnRyeS5nZXRFbmRUaW1lKCkgLSB1c2VyVGltZVNlY29uZHMpIC9cbiAgICAgICAgICAgICAgICB0aGlzLl9mYWRlT3V0U2Vjb25kc1xuICAgICAgICAgICAgKTtcbiAgICAgIGxldCB2YWx1ZTogbnVtYmVyO1xuICAgICAgbGV0IGM6IG51bWJlciwgcGFyYW1ldGVySW5kZXg6IG51bWJlcjtcblxuICAgICAgLy8gJ1JlcGVhdCcgdGltZSBhcyBuZWNlc3NhcnkuXG4gICAgICBsZXQgdGltZTogbnVtYmVyID0gdGltZU9mZnNldFNlY29uZHM7XG5cbiAgICAgIGlmICh0aGlzLl9pc0xvb3ApIHtcbiAgICAgICAgd2hpbGUgKHRpbWUgPiB0aGlzLl9tb3Rpb25EYXRhLmR1cmF0aW9uKSB7XG4gICAgICAgICAgdGltZSAtPSB0aGlzLl9tb3Rpb25EYXRhLmR1cmF0aW9uO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGN1cnZlczogY3NtVmVjdG9yPEN1YmlzbU1vdGlvbkN1cnZlPiA9IHRoaXMuX21vdGlvbkRhdGEuY3VydmVzO1xuXG4gICAgICAvLyBFdmFsdWF0ZSBtb2RlbCBjdXJ2ZXMuXG4gICAgICBmb3IgKFxuICAgICAgICBjID0gMDtcbiAgICAgICAgYyA8IHRoaXMuX21vdGlvbkRhdGEuY3VydmVDb3VudCAmJlxuICAgICAgICBjdXJ2ZXMuYXQoYykudHlwZSA9PVxuICAgICAgICAgIEN1YmlzbU1vdGlvbkN1cnZlVGFyZ2V0LkN1YmlzbU1vdGlvbkN1cnZlVGFyZ2V0X01vZGVsO1xuICAgICAgICArK2NcbiAgICAgICkge1xuICAgICAgICAvLyBFdmFsdWF0ZSBjdXJ2ZSBhbmQgY2FsbCBoYW5kbGVyLlxuICAgICAgICB2YWx1ZSA9IGV2YWx1YXRlQ3VydmUodGhpcy5fbW90aW9uRGF0YSwgYywgdGltZSk7XG5cbiAgICAgICAgaWYgKGN1cnZlcy5hdChjKS5pZCA9PSB0aGlzLl9tb2RlbEN1cnZlSWRFeWVCbGluaykge1xuICAgICAgICAgIGV5ZUJsaW5rVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChjdXJ2ZXMuYXQoYykuaWQgPT0gdGhpcy5fbW9kZWxDdXJ2ZUlkTGlwU3luYykge1xuICAgICAgICAgIGxpcFN5bmNWYWx1ZSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxldCBwYXJhbWV0ZXJNb3Rpb25DdXJ2ZUNvdW50ID0gMDtcblxuICAgICAgZm9yIChcbiAgICAgICAgO1xuICAgICAgICBjIDwgdGhpcy5fbW90aW9uRGF0YS5jdXJ2ZUNvdW50ICYmXG4gICAgICAgIGN1cnZlcy5hdChjKS50eXBlID09XG4gICAgICAgICAgQ3ViaXNtTW90aW9uQ3VydmVUYXJnZXQuQ3ViaXNtTW90aW9uQ3VydmVUYXJnZXRfUGFyYW1ldGVyO1xuICAgICAgICArK2NcbiAgICAgICkge1xuICAgICAgICBwYXJhbWV0ZXJNb3Rpb25DdXJ2ZUNvdW50Kys7XG5cbiAgICAgICAgLy8gRmluZCBwYXJhbWV0ZXIgaW5kZXguXG4gICAgICAgIHBhcmFtZXRlckluZGV4ID0gbW9kZWwuZ2V0UGFyYW1ldGVySW5kZXgoY3VydmVzLmF0KGMpLmlkKTtcblxuICAgICAgICAvLyBTa2lwIGN1cnZlIGV2YWx1YXRpb24gaWYgbm8gdmFsdWUgaW4gc2luay5cbiAgICAgICAgaWYgKHBhcmFtZXRlckluZGV4ID09IC0xKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzb3VyY2VWYWx1ZTogbnVtYmVyID0gbW9kZWwuZ2V0UGFyYW1ldGVyVmFsdWVCeUluZGV4KFxuICAgICAgICAgIHBhcmFtZXRlckluZGV4XG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gRXZhbHVhdGUgY3VydmUgYW5kIGFwcGx5IHZhbHVlLlxuICAgICAgICB2YWx1ZSA9IGV2YWx1YXRlQ3VydmUodGhpcy5fbW90aW9uRGF0YSwgYywgdGltZSk7XG5cbiAgICAgICAgaWYgKGV5ZUJsaW5rVmFsdWUgIT0gTnVtYmVyLk1BWF9WQUxVRSkge1xuICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgICAgICBpIDwgdGhpcy5fZXllQmxpbmtQYXJhbWV0ZXJJZHMuZ2V0U2l6ZSgpICYmIGkgPCBNYXhUYXJnZXRTaXplO1xuICAgICAgICAgICAgKytpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZXllQmxpbmtQYXJhbWV0ZXJJZHMuYXQoaSkgPT0gY3VydmVzLmF0KGMpLmlkKSB7XG4gICAgICAgICAgICAgIHZhbHVlICo9IGV5ZUJsaW5rVmFsdWU7XG4gICAgICAgICAgICAgIGV5ZUJsaW5rRmxhZ3MgfD0gMSA8PCBpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGlwU3luY1ZhbHVlICE9IE51bWJlci5NQVhfVkFMVUUpIHtcbiAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgaSA8IHRoaXMuX2xpcFN5bmNQYXJhbWV0ZXJJZHMuZ2V0U2l6ZSgpICYmIGkgPCBNYXhUYXJnZXRTaXplO1xuICAgICAgICAgICAgKytpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGlwU3luY1BhcmFtZXRlcklkcy5hdChpKSA9PSBjdXJ2ZXMuYXQoYykuaWQpIHtcbiAgICAgICAgICAgICAgdmFsdWUgKz0gbGlwU3luY1ZhbHVlO1xuICAgICAgICAgICAgICBsaXBTeW5jRmxhZ3MgfD0gMSA8PCBpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdjogbnVtYmVyO1xuXG4gICAgICAgIC8vIOODkeODqeODoeODvOOCv+OBlOOBqOOBruODleOCp+ODvOODiVxuICAgICAgICBpZiAoY3VydmVzLmF0KGMpLmZhZGVJblRpbWUgPCAwLjAgJiYgY3VydmVzLmF0KGMpLmZhZGVPdXRUaW1lIDwgMC4wKSB7XG4gICAgICAgICAgLy8g44Oi44O844K344On44Oz44Gu44OV44Kn44O844OJ44KS6YGp55SoXG4gICAgICAgICAgdiA9IHNvdXJjZVZhbHVlICsgKHZhbHVlIC0gc291cmNlVmFsdWUpICogZmFkZVdlaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyDjg5Hjg6njg6Hjg7zjgr/jgavlr77jgZfjgabjg5Xjgqfjg7zjg4njgqTjg7PjgYvjg5Xjgqfjg7zjg4njgqLjgqbjg4jjgYzoqK3lrprjgZfjgabjgYLjgovloLTlkIjjga/jgZ3jgaHjgonjgpLpgannlKhcbiAgICAgICAgICBsZXQgZmluOiBudW1iZXI7XG4gICAgICAgICAgbGV0IGZvdXQ6IG51bWJlcjtcblxuICAgICAgICAgIGlmIChjdXJ2ZXMuYXQoYykuZmFkZUluVGltZSA8IDAuMCkge1xuICAgICAgICAgICAgZmluID0gdG1wRmFkZUluO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmaW4gPVxuICAgICAgICAgICAgICBjdXJ2ZXMuYXQoYykuZmFkZUluVGltZSA9PSAwLjBcbiAgICAgICAgICAgICAgICA/IDEuMFxuICAgICAgICAgICAgICAgIDogQ3ViaXNtTWF0aC5nZXRFYXNpbmdTaW5lKFxuICAgICAgICAgICAgICAgICAgICAodXNlclRpbWVTZWNvbmRzIC0gbW90aW9uUXVldWVFbnRyeS5nZXRGYWRlSW5TdGFydFRpbWUoKSkgL1xuICAgICAgICAgICAgICAgICAgICAgIGN1cnZlcy5hdChjKS5mYWRlSW5UaW1lXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChjdXJ2ZXMuYXQoYykuZmFkZU91dFRpbWUgPCAwLjApIHtcbiAgICAgICAgICAgIGZvdXQgPSB0bXBGYWRlT3V0O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3V0ID1cbiAgICAgICAgICAgICAgY3VydmVzLmF0KGMpLmZhZGVPdXRUaW1lID09IDAuMCB8fFxuICAgICAgICAgICAgICBtb3Rpb25RdWV1ZUVudHJ5LmdldEVuZFRpbWUoKSA8IDAuMFxuICAgICAgICAgICAgICAgID8gMS4wXG4gICAgICAgICAgICAgICAgOiBDdWJpc21NYXRoLmdldEVhc2luZ1NpbmUoXG4gICAgICAgICAgICAgICAgICAgIChtb3Rpb25RdWV1ZUVudHJ5LmdldEVuZFRpbWUoKSAtIHVzZXJUaW1lU2Vjb25kcykgL1xuICAgICAgICAgICAgICAgICAgICAgIGN1cnZlcy5hdChjKS5mYWRlT3V0VGltZVxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBwYXJhbVdlaWdodDogbnVtYmVyID0gdGhpcy5fd2VpZ2h0ICogZmluICogZm91dDtcblxuICAgICAgICAgIC8vIOODkeODqeODoeODvOOCv+OBlOOBqOOBruODleOCp+ODvOODieOCkumBqeeUqFxuICAgICAgICAgIHYgPSBzb3VyY2VWYWx1ZSArICh2YWx1ZSAtIHNvdXJjZVZhbHVlKSAqIHBhcmFtV2VpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgbW9kZWwuc2V0UGFyYW1ldGVyVmFsdWVCeUluZGV4KHBhcmFtZXRlckluZGV4LCB2LCAxLjApO1xuICAgICAgfVxuXG4gICAgICB7XG4gICAgICAgIGlmIChleWVCbGlua1ZhbHVlICE9IE51bWJlci5NQVhfVkFMVUUpIHtcbiAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgaSA8IHRoaXMuX2V5ZUJsaW5rUGFyYW1ldGVySWRzLmdldFNpemUoKSAmJiBpIDwgTWF4VGFyZ2V0U2l6ZTtcbiAgICAgICAgICAgICsraVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY29uc3Qgc291cmNlVmFsdWU6IG51bWJlciA9IG1vZGVsLmdldFBhcmFtZXRlclZhbHVlQnlJZChcbiAgICAgICAgICAgICAgdGhpcy5fZXllQmxpbmtQYXJhbWV0ZXJJZHMuYXQoaSlcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8vIOODouODvOOCt+ODp+ODs+OBp+OBruS4iuabuOOBjeOBjOOBguOBo+OBn+aZguOBq+OBr+OBvuOBsOOBn+OBjeOBr+mBqeeUqOOBl+OBquOBhFxuICAgICAgICAgICAgaWYgKChleWVCbGlua0ZsYWdzID4+IGkpICYgMHgwMSkge1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdjogbnVtYmVyID1cbiAgICAgICAgICAgICAgc291cmNlVmFsdWUgKyAoZXllQmxpbmtWYWx1ZSAtIHNvdXJjZVZhbHVlKSAqIGZhZGVXZWlnaHQ7XG5cbiAgICAgICAgICAgIG1vZGVsLnNldFBhcmFtZXRlclZhbHVlQnlJZCh0aGlzLl9leWVCbGlua1BhcmFtZXRlcklkcy5hdChpKSwgdik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxpcFN5bmNWYWx1ZSAhPSBOdW1iZXIuTUFYX1ZBTFVFKSB7XG4gICAgICAgICAgZm9yIChcbiAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgIGkgPCB0aGlzLl9saXBTeW5jUGFyYW1ldGVySWRzLmdldFNpemUoKSAmJiBpIDwgTWF4VGFyZ2V0U2l6ZTtcbiAgICAgICAgICAgICsraVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY29uc3Qgc291cmNlVmFsdWU6IG51bWJlciA9IG1vZGVsLmdldFBhcmFtZXRlclZhbHVlQnlJZChcbiAgICAgICAgICAgICAgdGhpcy5fbGlwU3luY1BhcmFtZXRlcklkcy5hdChpKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy8g44Oi44O844K344On44Oz44Gn44Gu5LiK5pu444GN44GM44GC44Gj44Gf5pmC44Gr44Gv44Oq44OD44OX44K344Oz44Kv44Gv6YGp55So44GX44Gq44GEXG4gICAgICAgICAgICBpZiAoKGxpcFN5bmNGbGFncyA+PiBpKSAmIDB4MDEpIHtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHY6IG51bWJlciA9XG4gICAgICAgICAgICAgIHNvdXJjZVZhbHVlICsgKGxpcFN5bmNWYWx1ZSAtIHNvdXJjZVZhbHVlKSAqIGZhZGVXZWlnaHQ7XG5cbiAgICAgICAgICAgIG1vZGVsLnNldFBhcmFtZXRlclZhbHVlQnlJZCh0aGlzLl9saXBTeW5jUGFyYW1ldGVySWRzLmF0KGkpLCB2KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yIChcbiAgICAgICAgO1xuICAgICAgICBjIDwgdGhpcy5fbW90aW9uRGF0YS5jdXJ2ZUNvdW50ICYmXG4gICAgICAgIGN1cnZlcy5hdChjKS50eXBlID09XG4gICAgICAgICAgQ3ViaXNtTW90aW9uQ3VydmVUYXJnZXQuQ3ViaXNtTW90aW9uQ3VydmVUYXJnZXRfUGFydE9wYWNpdHk7XG4gICAgICAgICsrY1xuICAgICAgKSB7XG4gICAgICAgIC8vIEZpbmQgcGFyYW1ldGVyIGluZGV4LlxuICAgICAgICBwYXJhbWV0ZXJJbmRleCA9IG1vZGVsLmdldFBhcmFtZXRlckluZGV4KGN1cnZlcy5hdChjKS5pZCk7XG5cbiAgICAgICAgLy8gU2tpcCBjdXJ2ZSBldmFsdWF0aW9uIGlmIG5vIHZhbHVlIGluIHNpbmsuXG4gICAgICAgIGlmIChwYXJhbWV0ZXJJbmRleCA9PSAtMSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRXZhbHVhdGUgY3VydmUgYW5kIGFwcGx5IHZhbHVlLlxuICAgICAgICB2YWx1ZSA9IGV2YWx1YXRlQ3VydmUodGhpcy5fbW90aW9uRGF0YSwgYywgdGltZSk7XG5cbiAgICAgICAgbW9kZWwuc2V0UGFyYW1ldGVyVmFsdWVCeUluZGV4KHBhcmFtZXRlckluZGV4LCB2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aW1lT2Zmc2V0U2Vjb25kcyA+PSB0aGlzLl9tb3Rpb25EYXRhLmR1cmF0aW9uKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0xvb3ApIHtcbiAgICAgICAgICBtb3Rpb25RdWV1ZUVudHJ5LnNldFN0YXJ0VGltZSh1c2VyVGltZVNlY29uZHMpOyAvLyDmnIDliJ3jga7nirbmhYvjgbhcbiAgICAgICAgICBpZiAodGhpcy5faXNMb29wRmFkZUluKSB7XG4gICAgICAgICAgICAvLyDjg6vjg7zjg5flhoXjgafjg6vjg7zjg5fnlKjjg5Xjgqfjg7zjg4njgqTjg7PjgYzmnInlirnjga7mmYLjga/jgIHjg5Xjgqfjg7zjg4njgqTjg7PoqK3lrprjgZfnm7TjgZdcbiAgICAgICAgICAgIG1vdGlvblF1ZXVlRW50cnkuc2V0RmFkZUluU3RhcnRUaW1lKHVzZXJUaW1lU2Vjb25kcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh0aGlzLl9vbkZpbmlzaGVkTW90aW9uKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkZpbmlzaGVkTW90aW9uKHRoaXMpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG1vdGlvblF1ZXVlRW50cnkuc2V0SXNGaW5pc2hlZCh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5fbGFzdFdlaWdodCA9IGZhZGVXZWlnaHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Or44O844OX5oOF5aCx44Gu6Kit5a6aXG4gICAgICogQHBhcmFtIGxvb3Ag44Or44O844OX5oOF5aCxXG4gICAgICovXG4gICAgcHVibGljIHNldElzTG9vcChsb29wOiBib29sZWFuKTogdm9pZCB7XG4gICAgICB0aGlzLl9pc0xvb3AgPSBsb29wO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODq+ODvOODl+aDheWgseOBruWPluW+l1xuICAgICAqIEByZXR1cm4gdHJ1ZSDjg6vjg7zjg5fjgZnjgotcbiAgICAgKiBAcmV0dXJuIGZhbHNlIOODq+ODvOODl+OBl+OBquOBhFxuICAgICAqL1xuICAgIHB1YmxpYyBpc0xvb3AoKTogYm9vbGVhbiB7XG4gICAgICByZXR1cm4gdGhpcy5faXNMb29wO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODq+ODvOODl+aZguOBruODleOCp+ODvOODieOCpOODs+aDheWgseOBruioreWumlxuICAgICAqIEBwYXJhbSBsb29wRmFkZUluICDjg6vjg7zjg5fmmYLjga7jg5Xjgqfjg7zjg4njgqTjg7Pmg4XloLFcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0SXNMb29wRmFkZUluKGxvb3BGYWRlSW46IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgIHRoaXMuX2lzTG9vcEZhZGVJbiA9IGxvb3BGYWRlSW47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Or44O844OX5pmC44Gu44OV44Kn44O844OJ44Kk44Oz5oOF5aCx44Gu5Y+W5b6XXG4gICAgICpcbiAgICAgKiBAcmV0dXJuICB0cnVlICAgIOOBmeOCi1xuICAgICAqIEByZXR1cm4gIGZhbHNlICAg44GX44Gq44GEXG4gICAgICovXG4gICAgcHVibGljIGlzTG9vcEZhZGVJbigpOiBib29sZWFuIHtcbiAgICAgIHJldHVybiB0aGlzLl9pc0xvb3BGYWRlSW47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Oi44O844K344On44Oz44Gu6ZW344GV44KS5Y+W5b6X44GZ44KL44CCXG4gICAgICpcbiAgICAgKiBAcmV0dXJuICDjg6Ljg7zjgrfjg6fjg7Pjga7plbfjgZVb56eSXVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXREdXJhdGlvbigpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHRoaXMuX2lzTG9vcCA/IC0xLjAgOiB0aGlzLl9sb29wRHVyYXRpb25TZWNvbmRzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODouODvOOCt+ODp+ODs+OBruODq+ODvOODl+aZguOBrumVt+OBleOCkuWPluW+l+OBmeOCi+OAglxuICAgICAqXG4gICAgICogQHJldHVybiAg44Oi44O844K344On44Oz44Gu44Or44O844OX5pmC44Gu6ZW344GVW+enkl1cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0TG9vcER1cmF0aW9uKCk6IG51bWJlciB7XG4gICAgICByZXR1cm4gdGhpcy5fbG9vcER1cmF0aW9uU2Vjb25kcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg5Hjg6njg6Hjg7zjgr/jgavlr77jgZnjgovjg5Xjgqfjg7zjg4njgqTjg7Pjga7mmYLplpPjgpLoqK3lrprjgZnjgovjgIJcbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXJhbWV0ZXJJZCAgICAg44OR44Op44Oh44O844K/SURcbiAgICAgKiBAcGFyYW0gdmFsdWUgICAgICAgICAgIOODleOCp+ODvOODieOCpOODs+OBq+OBi+OBi+OCi+aZgumWk1vnp5JdXG4gICAgICovXG4gICAgcHVibGljIHNldFBhcmFtZXRlckZhZGVJblRpbWUoXG4gICAgICBwYXJhbWV0ZXJJZDogQ3ViaXNtSWRIYW5kbGUsXG4gICAgICB2YWx1ZTogbnVtYmVyXG4gICAgKTogdm9pZCB7XG4gICAgICBjb25zdCBjdXJ2ZXM6IGNzbVZlY3RvcjxDdWJpc21Nb3Rpb25DdXJ2ZT4gPSB0aGlzLl9tb3Rpb25EYXRhLmN1cnZlcztcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9tb3Rpb25EYXRhLmN1cnZlQ291bnQ7ICsraSkge1xuICAgICAgICBpZiAocGFyYW1ldGVySWQgPT0gY3VydmVzLmF0KGkpLmlkKSB7XG4gICAgICAgICAgY3VydmVzLmF0KGkpLmZhZGVJblRpbWUgPSB2YWx1ZTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg5Hjg6njg6Hjg7zjgr/jgavlr77jgZnjgovjg5Xjgqfjg7zjg4njgqLjgqbjg4jjga7mmYLplpPjga7oqK3lrppcbiAgICAgKiBAcGFyYW0gcGFyYW1ldGVySWQgICAgIOODkeODqeODoeODvOOCv0lEXG4gICAgICogQHBhcmFtIHZhbHVlICAgICAgICAgICDjg5Xjgqfjg7zjg4njgqLjgqbjg4jjgavjgYvjgYvjgovmmYLplpNb56eSXVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXRQYXJhbWV0ZXJGYWRlT3V0VGltZShcbiAgICAgIHBhcmFtZXRlcklkOiBDdWJpc21JZEhhbmRsZSxcbiAgICAgIHZhbHVlOiBudW1iZXJcbiAgICApOiB2b2lkIHtcbiAgICAgIGNvbnN0IGN1cnZlczogY3NtVmVjdG9yPEN1YmlzbU1vdGlvbkN1cnZlPiA9IHRoaXMuX21vdGlvbkRhdGEuY3VydmVzO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX21vdGlvbkRhdGEuY3VydmVDb3VudDsgKytpKSB7XG4gICAgICAgIGlmIChwYXJhbWV0ZXJJZCA9PSBjdXJ2ZXMuYXQoaSkuaWQpIHtcbiAgICAgICAgICBjdXJ2ZXMuYXQoaSkuZmFkZU91dFRpbWUgPSB2YWx1ZTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg5Hjg6njg6Hjg7zjgr/jgavlr77jgZnjgovjg5Xjgqfjg7zjg4njgqTjg7Pjga7mmYLplpPjga7lj5blvpdcbiAgICAgKiBAcGFyYW0gICAgcGFyYW1ldGVySWQgICAgIOODkeODqeODoeODvOOCv0lEXG4gICAgICogQHJldHVybiAgIOODleOCp+ODvOODieOCpOODs+OBq+OBi+OBi+OCi+aZgumWk1vnp5JdXG4gICAgICovXG4gICAgcHVibGljIGdldFBhcmFtZXRlckZhZGVJblRpbWUocGFyYW1ldGVySWQ6IEN1YmlzbUlkSGFuZGxlKTogbnVtYmVyIHtcbiAgICAgIGNvbnN0IGN1cnZlczogY3NtVmVjdG9yPEN1YmlzbU1vdGlvbkN1cnZlPiA9IHRoaXMuX21vdGlvbkRhdGEuY3VydmVzO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX21vdGlvbkRhdGEuY3VydmVDb3VudDsgKytpKSB7XG4gICAgICAgIGlmIChwYXJhbWV0ZXJJZCA9PSBjdXJ2ZXMuYXQoaSkuaWQpIHtcbiAgICAgICAgICByZXR1cm4gY3VydmVzLmF0KGkpLmZhZGVJblRpbWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODkeODqeODoeODvOOCv+OBq+WvvuOBmeOCi+ODleOCp+ODvOODieOCouOCpuODiOOBruaZgumWk+OCkuWPluW+l1xuICAgICAqXG4gICAgICogQHBhcmFtICAgcGFyYW1ldGVySWQgICAgIOODkeODqeODoeODvOOCv0lEXG4gICAgICogQHJldHVybiAgIOODleOCp+ODvOODieOCouOCpuODiOOBq+OBi+OBi+OCi+aZgumWk1vnp5JdXG4gICAgICovXG4gICAgcHVibGljIGdldFBhcmFtZXRlckZhZGVPdXRUaW1lKHBhcmFtZXRlcklkOiBDdWJpc21JZEhhbmRsZSk6IG51bWJlciB7XG4gICAgICBjb25zdCBjdXJ2ZXM6IGNzbVZlY3RvcjxDdWJpc21Nb3Rpb25DdXJ2ZT4gPSB0aGlzLl9tb3Rpb25EYXRhLmN1cnZlcztcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9tb3Rpb25EYXRhLmN1cnZlQ291bnQ7ICsraSkge1xuICAgICAgICBpZiAocGFyYW1ldGVySWQgPT0gY3VydmVzLmF0KGkpLmlkKSB7XG4gICAgICAgICAgcmV0dXJuIGN1cnZlcy5hdChpKS5mYWRlT3V0VGltZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6Ieq5YuV44Ko44OV44Kn44Kv44OI44GM44GL44GL44Gj44Gm44GE44KL44OR44Op44Oh44O844K/SUTjg6rjgrnjg4jjga7oqK3lrppcbiAgICAgKiBAcGFyYW0gZXllQmxpbmtQYXJhbWV0ZXJJZHMgICAg6Ieq5YuV44G+44Gw44Gf44GN44GM44GL44GL44Gj44Gm44GE44KL44OR44Op44Oh44O844K/SUTjga7jg6rjgrnjg4hcbiAgICAgKiBAcGFyYW0gbGlwU3luY1BhcmFtZXRlcklkcyAgICAg44Oq44OD44OX44K344Oz44Kv44GM44GL44GL44Gj44Gm44GE44KL44OR44Op44Oh44O844K/SUTjga7jg6rjgrnjg4hcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0RWZmZWN0SWRzKFxuICAgICAgZXllQmxpbmtQYXJhbWV0ZXJJZHM6IGNzbVZlY3RvcjxDdWJpc21JZEhhbmRsZT4sXG4gICAgICBsaXBTeW5jUGFyYW1ldGVySWRzOiBjc21WZWN0b3I8Q3ViaXNtSWRIYW5kbGU+XG4gICAgKTogdm9pZCB7XG4gICAgICB0aGlzLl9leWVCbGlua1BhcmFtZXRlcklkcyA9IGV5ZUJsaW5rUGFyYW1ldGVySWRzO1xuICAgICAgdGhpcy5fbGlwU3luY1BhcmFtZXRlcklkcyA9IGxpcFN5bmNQYXJhbWV0ZXJJZHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Kz44Oz44K544OI44Op44Kv44K/XG4gICAgICovXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgICAgc3VwZXIoKTtcbiAgICAgIHRoaXMuX3NvdXJjZUZyYW1lUmF0ZSA9IDMwLjA7XG4gICAgICB0aGlzLl9sb29wRHVyYXRpb25TZWNvbmRzID0gLTEuMDtcbiAgICAgIHRoaXMuX2lzTG9vcCA9IGZhbHNlOyAvLyB0cnVl44GL44KJIGZhbHNlIOOBuOODh+ODleOCqeODq+ODiOOCkuWkieabtFxuICAgICAgdGhpcy5faXNMb29wRmFkZUluID0gdHJ1ZTsgLy8g44Or44O844OX5pmC44Gr44OV44Kn44O844OJ44Kk44Oz44GM5pyJ5Yq544GL44Gp44GG44GL44Gu44OV44Op44KwXG4gICAgICB0aGlzLl9sYXN0V2VpZ2h0ID0gMC4wO1xuICAgICAgdGhpcy5fbW90aW9uRGF0YSA9IG51bGw7XG4gICAgICB0aGlzLl9tb2RlbEN1cnZlSWRFeWVCbGluayA9IG51bGw7XG4gICAgICB0aGlzLl9tb2RlbEN1cnZlSWRMaXBTeW5jID0gbnVsbDtcbiAgICAgIHRoaXMuX2V5ZUJsaW5rUGFyYW1ldGVySWRzID0gbnVsbDtcbiAgICAgIHRoaXMuX2xpcFN5bmNQYXJhbWV0ZXJJZHMgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODh+OCueODiOODqeOCr+OCv+ebuOW9k+OBruWHpueQhlxuICAgICAqL1xuICAgIHB1YmxpYyByZWxlYXNlKCk6IHZvaWQge1xuICAgICAgdGhpcy5fbW90aW9uRGF0YSA9IHZvaWQgMDtcbiAgICAgIHRoaXMuX21vdGlvbkRhdGEgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIG1vdGlvbjMuanNvbuOCkuODkeODvOOCueOBmeOCi+OAglxuICAgICAqXG4gICAgICogQHBhcmFtIG1vdGlvbkpzb24gIG1vdGlvbjMuanNvbuOBjOiqreOBv+i+vOOBvuOCjOOBpuOBhOOCi+ODkOODg+ODleOCoVxuICAgICAqIEBwYXJhbSBzaXplICAgICAgICDjg5Djg4Pjg5XjgqHjga7jgrXjgqTjgrpcbiAgICAgKi9cbiAgICBwdWJsaWMgcGFyc2UobW90aW9uSnNvbjogQXJyYXlCdWZmZXIsIHNpemU6IG51bWJlcik6IHZvaWQge1xuICAgICAgdGhpcy5fbW90aW9uRGF0YSA9IG5ldyBDdWJpc21Nb3Rpb25EYXRhKCk7XG5cbiAgICAgIGxldCBqc29uOiBDdWJpc21Nb3Rpb25Kc29uID0gbmV3IEN1YmlzbU1vdGlvbkpzb24obW90aW9uSnNvbiwgc2l6ZSk7XG5cbiAgICAgIHRoaXMuX21vdGlvbkRhdGEuZHVyYXRpb24gPSBqc29uLmdldE1vdGlvbkR1cmF0aW9uKCk7XG4gICAgICB0aGlzLl9tb3Rpb25EYXRhLmxvb3AgPSBqc29uLmlzTW90aW9uTG9vcCgpO1xuICAgICAgdGhpcy5fbW90aW9uRGF0YS5jdXJ2ZUNvdW50ID0ganNvbi5nZXRNb3Rpb25DdXJ2ZUNvdW50KCk7XG4gICAgICB0aGlzLl9tb3Rpb25EYXRhLmZwcyA9IGpzb24uZ2V0TW90aW9uRnBzKCk7XG4gICAgICB0aGlzLl9tb3Rpb25EYXRhLmV2ZW50Q291bnQgPSBqc29uLmdldEV2ZW50Q291bnQoKTtcblxuICAgICAgaWYgKGpzb24uaXNFeGlzdE1vdGlvbkZhZGVJblRpbWUoKSkge1xuICAgICAgICB0aGlzLl9mYWRlSW5TZWNvbmRzID1cbiAgICAgICAgICBqc29uLmdldE1vdGlvbkZhZGVJblRpbWUoKSA8IDAuMCA/IDEuMCA6IGpzb24uZ2V0TW90aW9uRmFkZUluVGltZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fZmFkZUluU2Vjb25kcyA9IDEuMDtcbiAgICAgIH1cblxuICAgICAgaWYgKGpzb24uaXNFeGlzdE1vdGlvbkZhZGVPdXRUaW1lKCkpIHtcbiAgICAgICAgdGhpcy5fZmFkZU91dFNlY29uZHMgPVxuICAgICAgICAgIGpzb24uZ2V0TW90aW9uRmFkZU91dFRpbWUoKSA8IDAuMCA/IDEuMCA6IGpzb24uZ2V0TW90aW9uRmFkZU91dFRpbWUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2ZhZGVPdXRTZWNvbmRzID0gMS4wO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9tb3Rpb25EYXRhLmN1cnZlcy51cGRhdGVTaXplKFxuICAgICAgICB0aGlzLl9tb3Rpb25EYXRhLmN1cnZlQ291bnQsXG4gICAgICAgIEN1YmlzbU1vdGlvbkN1cnZlLFxuICAgICAgICB0cnVlXG4gICAgICApO1xuICAgICAgdGhpcy5fbW90aW9uRGF0YS5zZWdtZW50cy51cGRhdGVTaXplKFxuICAgICAgICBqc29uLmdldE1vdGlvblRvdGFsU2VnbWVudENvdW50KCksXG4gICAgICAgIEN1YmlzbU1vdGlvblNlZ21lbnQsXG4gICAgICAgIHRydWVcbiAgICAgICk7XG4gICAgICB0aGlzLl9tb3Rpb25EYXRhLnBvaW50cy51cGRhdGVTaXplKFxuICAgICAgICBqc29uLmdldE1vdGlvblRvdGFsUG9pbnRDb3VudCgpLFxuICAgICAgICBDdWJpc21Nb3Rpb25Qb2ludCxcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcbiAgICAgIHRoaXMuX21vdGlvbkRhdGEuZXZlbnRzLnVwZGF0ZVNpemUoXG4gICAgICAgIHRoaXMuX21vdGlvbkRhdGEuZXZlbnRDb3VudCxcbiAgICAgICAgQ3ViaXNtTW90aW9uRXZlbnQsXG4gICAgICAgIHRydWVcbiAgICAgICk7XG5cbiAgICAgIGxldCB0b3RhbFBvaW50Q291bnQgPSAwO1xuICAgICAgbGV0IHRvdGFsU2VnbWVudENvdW50ID0gMDtcblxuICAgICAgLy8gQ3VydmVzXG4gICAgICBmb3IgKFxuICAgICAgICBsZXQgY3VydmVDb3VudCA9IDA7XG4gICAgICAgIGN1cnZlQ291bnQgPCB0aGlzLl9tb3Rpb25EYXRhLmN1cnZlQ291bnQ7XG4gICAgICAgICsrY3VydmVDb3VudFxuICAgICAgKSB7XG4gICAgICAgIGlmIChqc29uLmdldE1vdGlvbkN1cnZlVGFyZ2V0KGN1cnZlQ291bnQpID09IFRhcmdldE5hbWVNb2RlbCkge1xuICAgICAgICAgIHRoaXMuX21vdGlvbkRhdGEuY3VydmVzLmF0KGN1cnZlQ291bnQpLnR5cGUgPVxuICAgICAgICAgICAgQ3ViaXNtTW90aW9uQ3VydmVUYXJnZXQuQ3ViaXNtTW90aW9uQ3VydmVUYXJnZXRfTW9kZWw7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAganNvbi5nZXRNb3Rpb25DdXJ2ZVRhcmdldChjdXJ2ZUNvdW50KSA9PSBUYXJnZXROYW1lUGFyYW1ldGVyXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMuX21vdGlvbkRhdGEuY3VydmVzLmF0KGN1cnZlQ291bnQpLnR5cGUgPVxuICAgICAgICAgICAgQ3ViaXNtTW90aW9uQ3VydmVUYXJnZXQuQ3ViaXNtTW90aW9uQ3VydmVUYXJnZXRfUGFyYW1ldGVyO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIGpzb24uZ2V0TW90aW9uQ3VydmVUYXJnZXQoY3VydmVDb3VudCkgPT0gVGFyZ2V0TmFtZVBhcnRPcGFjaXR5XG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMuX21vdGlvbkRhdGEuY3VydmVzLmF0KGN1cnZlQ291bnQpLnR5cGUgPVxuICAgICAgICAgICAgQ3ViaXNtTW90aW9uQ3VydmVUYXJnZXQuQ3ViaXNtTW90aW9uQ3VydmVUYXJnZXRfUGFydE9wYWNpdHk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9tb3Rpb25EYXRhLmN1cnZlcy5hdChjdXJ2ZUNvdW50KS5pZCA9IGpzb24uZ2V0TW90aW9uQ3VydmVJZChcbiAgICAgICAgICBjdXJ2ZUNvdW50XG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5fbW90aW9uRGF0YS5jdXJ2ZXMuYXQoXG4gICAgICAgICAgY3VydmVDb3VudFxuICAgICAgICApLmJhc2VTZWdtZW50SW5kZXggPSB0b3RhbFNlZ21lbnRDb3VudDtcblxuICAgICAgICB0aGlzLl9tb3Rpb25EYXRhLmN1cnZlcy5hdChcbiAgICAgICAgICBjdXJ2ZUNvdW50XG4gICAgICAgICkuZmFkZUluVGltZSA9IGpzb24uaXNFeGlzdE1vdGlvbkN1cnZlRmFkZUluVGltZShjdXJ2ZUNvdW50KVxuICAgICAgICAgID8ganNvbi5nZXRNb3Rpb25DdXJ2ZUZhZGVJblRpbWUoY3VydmVDb3VudClcbiAgICAgICAgICA6IC0xLjA7XG4gICAgICAgIHRoaXMuX21vdGlvbkRhdGEuY3VydmVzLmF0KFxuICAgICAgICAgIGN1cnZlQ291bnRcbiAgICAgICAgKS5mYWRlT3V0VGltZSA9IGpzb24uaXNFeGlzdE1vdGlvbkN1cnZlRmFkZU91dFRpbWUoY3VydmVDb3VudClcbiAgICAgICAgICA/IGpzb24uZ2V0TW90aW9uQ3VydmVGYWRlT3V0VGltZShjdXJ2ZUNvdW50KVxuICAgICAgICAgIDogLTEuMDtcblxuICAgICAgICAvLyBTZWdtZW50c1xuICAgICAgICBmb3IgKFxuICAgICAgICAgIGxldCBzZWdtZW50UG9zaXRpb24gPSAwO1xuICAgICAgICAgIHNlZ21lbnRQb3NpdGlvbiA8IGpzb24uZ2V0TW90aW9uQ3VydmVTZWdtZW50Q291bnQoY3VydmVDb3VudCk7XG5cbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKHNlZ21lbnRQb3NpdGlvbiA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9tb3Rpb25EYXRhLnNlZ21lbnRzLmF0KFxuICAgICAgICAgICAgICB0b3RhbFNlZ21lbnRDb3VudFxuICAgICAgICAgICAgKS5iYXNlUG9pbnRJbmRleCA9IHRvdGFsUG9pbnRDb3VudDtcblxuICAgICAgICAgICAgdGhpcy5fbW90aW9uRGF0YS5wb2ludHMuYXQoXG4gICAgICAgICAgICAgIHRvdGFsUG9pbnRDb3VudFxuICAgICAgICAgICAgKS50aW1lID0ganNvbi5nZXRNb3Rpb25DdXJ2ZVNlZ21lbnQoY3VydmVDb3VudCwgc2VnbWVudFBvc2l0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuX21vdGlvbkRhdGEucG9pbnRzLmF0KFxuICAgICAgICAgICAgICB0b3RhbFBvaW50Q291bnRcbiAgICAgICAgICAgICkudmFsdWUgPSBqc29uLmdldE1vdGlvbkN1cnZlU2VnbWVudChcbiAgICAgICAgICAgICAgY3VydmVDb3VudCxcbiAgICAgICAgICAgICAgc2VnbWVudFBvc2l0aW9uICsgMVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgdG90YWxQb2ludENvdW50ICs9IDE7XG4gICAgICAgICAgICBzZWdtZW50UG9zaXRpb24gKz0gMjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbW90aW9uRGF0YS5zZWdtZW50cy5hdCh0b3RhbFNlZ21lbnRDb3VudCkuYmFzZVBvaW50SW5kZXggPVxuICAgICAgICAgICAgICB0b3RhbFBvaW50Q291bnQgLSAxO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHNlZ21lbnQ6IG51bWJlciA9IGpzb24uZ2V0TW90aW9uQ3VydmVTZWdtZW50KFxuICAgICAgICAgICAgY3VydmVDb3VudCxcbiAgICAgICAgICAgIHNlZ21lbnRQb3NpdGlvblxuICAgICAgICAgICk7XG4gICAgICAgICAgc3dpdGNoIChzZWdtZW50KSB7XG4gICAgICAgICAgICBjYXNlIEN1YmlzbU1vdGlvblNlZ21lbnRUeXBlLkN1YmlzbU1vdGlvblNlZ21lbnRUeXBlX0xpbmVhcjoge1xuICAgICAgICAgICAgICB0aGlzLl9tb3Rpb25EYXRhLnNlZ21lbnRzLmF0KHRvdGFsU2VnbWVudENvdW50KS5zZWdtZW50VHlwZSA9XG4gICAgICAgICAgICAgICAgQ3ViaXNtTW90aW9uU2VnbWVudFR5cGUuQ3ViaXNtTW90aW9uU2VnbWVudFR5cGVfTGluZWFyO1xuICAgICAgICAgICAgICB0aGlzLl9tb3Rpb25EYXRhLnNlZ21lbnRzLmF0KFxuICAgICAgICAgICAgICAgIHRvdGFsU2VnbWVudENvdW50XG4gICAgICAgICAgICAgICkuZXZhbHVhdGUgPSBsaW5lYXJFdmFsdWF0ZTtcblxuICAgICAgICAgICAgICB0aGlzLl9tb3Rpb25EYXRhLnBvaW50cy5hdChcbiAgICAgICAgICAgICAgICB0b3RhbFBvaW50Q291bnRcbiAgICAgICAgICAgICAgKS50aW1lID0ganNvbi5nZXRNb3Rpb25DdXJ2ZVNlZ21lbnQoXG4gICAgICAgICAgICAgICAgY3VydmVDb3VudCxcbiAgICAgICAgICAgICAgICBzZWdtZW50UG9zaXRpb24gKyAxXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHRoaXMuX21vdGlvbkRhdGEucG9pbnRzLmF0KFxuICAgICAgICAgICAgICAgIHRvdGFsUG9pbnRDb3VudFxuICAgICAgICAgICAgICApLnZhbHVlID0ganNvbi5nZXRNb3Rpb25DdXJ2ZVNlZ21lbnQoXG4gICAgICAgICAgICAgICAgY3VydmVDb3VudCxcbiAgICAgICAgICAgICAgICBzZWdtZW50UG9zaXRpb24gKyAyXG4gICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgdG90YWxQb2ludENvdW50ICs9IDE7XG4gICAgICAgICAgICAgIHNlZ21lbnRQb3NpdGlvbiArPSAzO1xuXG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBDdWJpc21Nb3Rpb25TZWdtZW50VHlwZS5DdWJpc21Nb3Rpb25TZWdtZW50VHlwZV9CZXppZXI6IHtcbiAgICAgICAgICAgICAgdGhpcy5fbW90aW9uRGF0YS5zZWdtZW50cy5hdCh0b3RhbFNlZ21lbnRDb3VudCkuc2VnbWVudFR5cGUgPVxuICAgICAgICAgICAgICAgIEN1YmlzbU1vdGlvblNlZ21lbnRUeXBlLkN1YmlzbU1vdGlvblNlZ21lbnRUeXBlX0JlemllcjtcbiAgICAgICAgICAgICAgdGhpcy5fbW90aW9uRGF0YS5zZWdtZW50cy5hdChcbiAgICAgICAgICAgICAgICB0b3RhbFNlZ21lbnRDb3VudFxuICAgICAgICAgICAgICApLmV2YWx1YXRlID0gYmV6aWVyRXZhbHVhdGU7XG5cbiAgICAgICAgICAgICAgdGhpcy5fbW90aW9uRGF0YS5wb2ludHMuYXQoXG4gICAgICAgICAgICAgICAgdG90YWxQb2ludENvdW50XG4gICAgICAgICAgICAgICkudGltZSA9IGpzb24uZ2V0TW90aW9uQ3VydmVTZWdtZW50KFxuICAgICAgICAgICAgICAgIGN1cnZlQ291bnQsXG4gICAgICAgICAgICAgICAgc2VnbWVudFBvc2l0aW9uICsgMVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB0aGlzLl9tb3Rpb25EYXRhLnBvaW50cy5hdChcbiAgICAgICAgICAgICAgICB0b3RhbFBvaW50Q291bnRcbiAgICAgICAgICAgICAgKS52YWx1ZSA9IGpzb24uZ2V0TW90aW9uQ3VydmVTZWdtZW50KFxuICAgICAgICAgICAgICAgIGN1cnZlQ291bnQsXG4gICAgICAgICAgICAgICAgc2VnbWVudFBvc2l0aW9uICsgMlxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIHRoaXMuX21vdGlvbkRhdGEucG9pbnRzLmF0KFxuICAgICAgICAgICAgICAgIHRvdGFsUG9pbnRDb3VudCArIDFcbiAgICAgICAgICAgICAgKS50aW1lID0ganNvbi5nZXRNb3Rpb25DdXJ2ZVNlZ21lbnQoXG4gICAgICAgICAgICAgICAgY3VydmVDb3VudCxcbiAgICAgICAgICAgICAgICBzZWdtZW50UG9zaXRpb24gKyAzXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHRoaXMuX21vdGlvbkRhdGEucG9pbnRzLmF0KFxuICAgICAgICAgICAgICAgIHRvdGFsUG9pbnRDb3VudCArIDFcbiAgICAgICAgICAgICAgKS52YWx1ZSA9IGpzb24uZ2V0TW90aW9uQ3VydmVTZWdtZW50KFxuICAgICAgICAgICAgICAgIGN1cnZlQ291bnQsXG4gICAgICAgICAgICAgICAgc2VnbWVudFBvc2l0aW9uICsgNFxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIHRoaXMuX21vdGlvbkRhdGEucG9pbnRzLmF0KFxuICAgICAgICAgICAgICAgIHRvdGFsUG9pbnRDb3VudCArIDJcbiAgICAgICAgICAgICAgKS50aW1lID0ganNvbi5nZXRNb3Rpb25DdXJ2ZVNlZ21lbnQoXG4gICAgICAgICAgICAgICAgY3VydmVDb3VudCxcbiAgICAgICAgICAgICAgICBzZWdtZW50UG9zaXRpb24gKyA1XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHRoaXMuX21vdGlvbkRhdGEucG9pbnRzLmF0KFxuICAgICAgICAgICAgICAgIHRvdGFsUG9pbnRDb3VudCArIDJcbiAgICAgICAgICAgICAgKS52YWx1ZSA9IGpzb24uZ2V0TW90aW9uQ3VydmVTZWdtZW50KFxuICAgICAgICAgICAgICAgIGN1cnZlQ291bnQsXG4gICAgICAgICAgICAgICAgc2VnbWVudFBvc2l0aW9uICsgNlxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIHRvdGFsUG9pbnRDb3VudCArPSAzO1xuICAgICAgICAgICAgICBzZWdtZW50UG9zaXRpb24gKz0gNztcblxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSBDdWJpc21Nb3Rpb25TZWdtZW50VHlwZS5DdWJpc21Nb3Rpb25TZWdtZW50VHlwZV9TdGVwcGVkOiB7XG4gICAgICAgICAgICAgIHRoaXMuX21vdGlvbkRhdGEuc2VnbWVudHMuYXQodG90YWxTZWdtZW50Q291bnQpLnNlZ21lbnRUeXBlID1cbiAgICAgICAgICAgICAgICBDdWJpc21Nb3Rpb25TZWdtZW50VHlwZS5DdWJpc21Nb3Rpb25TZWdtZW50VHlwZV9TdGVwcGVkO1xuICAgICAgICAgICAgICB0aGlzLl9tb3Rpb25EYXRhLnNlZ21lbnRzLmF0KFxuICAgICAgICAgICAgICAgIHRvdGFsU2VnbWVudENvdW50XG4gICAgICAgICAgICAgICkuZXZhbHVhdGUgPSBzdGVwcGVkRXZhbHVhdGU7XG5cbiAgICAgICAgICAgICAgdGhpcy5fbW90aW9uRGF0YS5wb2ludHMuYXQoXG4gICAgICAgICAgICAgICAgdG90YWxQb2ludENvdW50XG4gICAgICAgICAgICAgICkudGltZSA9IGpzb24uZ2V0TW90aW9uQ3VydmVTZWdtZW50KFxuICAgICAgICAgICAgICAgIGN1cnZlQ291bnQsXG4gICAgICAgICAgICAgICAgc2VnbWVudFBvc2l0aW9uICsgMVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB0aGlzLl9tb3Rpb25EYXRhLnBvaW50cy5hdChcbiAgICAgICAgICAgICAgICB0b3RhbFBvaW50Q291bnRcbiAgICAgICAgICAgICAgKS52YWx1ZSA9IGpzb24uZ2V0TW90aW9uQ3VydmVTZWdtZW50KFxuICAgICAgICAgICAgICAgIGN1cnZlQ291bnQsXG4gICAgICAgICAgICAgICAgc2VnbWVudFBvc2l0aW9uICsgMlxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIHRvdGFsUG9pbnRDb3VudCArPSAxO1xuICAgICAgICAgICAgICBzZWdtZW50UG9zaXRpb24gKz0gMztcblxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FzZSBDdWJpc21Nb3Rpb25TZWdtZW50VHlwZS5DdWJpc21Nb3Rpb25TZWdtZW50VHlwZV9JbnZlcnNlU3RlcHBlZDoge1xuICAgICAgICAgICAgICB0aGlzLl9tb3Rpb25EYXRhLnNlZ21lbnRzLmF0KHRvdGFsU2VnbWVudENvdW50KS5zZWdtZW50VHlwZSA9XG4gICAgICAgICAgICAgICAgQ3ViaXNtTW90aW9uU2VnbWVudFR5cGUuQ3ViaXNtTW90aW9uU2VnbWVudFR5cGVfSW52ZXJzZVN0ZXBwZWQ7XG4gICAgICAgICAgICAgIHRoaXMuX21vdGlvbkRhdGEuc2VnbWVudHMuYXQoXG4gICAgICAgICAgICAgICAgdG90YWxTZWdtZW50Q291bnRcbiAgICAgICAgICAgICAgKS5ldmFsdWF0ZSA9IGludmVyc2VTdGVwcGVkRXZhbHVhdGU7XG5cbiAgICAgICAgICAgICAgdGhpcy5fbW90aW9uRGF0YS5wb2ludHMuYXQoXG4gICAgICAgICAgICAgICAgdG90YWxQb2ludENvdW50XG4gICAgICAgICAgICAgICkudGltZSA9IGpzb24uZ2V0TW90aW9uQ3VydmVTZWdtZW50KFxuICAgICAgICAgICAgICAgIGN1cnZlQ291bnQsXG4gICAgICAgICAgICAgICAgc2VnbWVudFBvc2l0aW9uICsgMVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB0aGlzLl9tb3Rpb25EYXRhLnBvaW50cy5hdChcbiAgICAgICAgICAgICAgICB0b3RhbFBvaW50Q291bnRcbiAgICAgICAgICAgICAgKS52YWx1ZSA9IGpzb24uZ2V0TW90aW9uQ3VydmVTZWdtZW50KFxuICAgICAgICAgICAgICAgIGN1cnZlQ291bnQsXG4gICAgICAgICAgICAgICAgc2VnbWVudFBvc2l0aW9uICsgMlxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIHRvdGFsUG9pbnRDb3VudCArPSAxO1xuICAgICAgICAgICAgICBzZWdtZW50UG9zaXRpb24gKz0gMztcblxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgQ1NNX0FTU0VSVCgwKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgKyt0aGlzLl9tb3Rpb25EYXRhLmN1cnZlcy5hdChjdXJ2ZUNvdW50KS5zZWdtZW50Q291bnQ7XG4gICAgICAgICAgKyt0b3RhbFNlZ21lbnRDb3VudDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKFxuICAgICAgICBsZXQgdXNlcmRhdGFjb3VudCA9IDA7XG4gICAgICAgIHVzZXJkYXRhY291bnQgPCBqc29uLmdldEV2ZW50Q291bnQoKTtcbiAgICAgICAgKyt1c2VyZGF0YWNvdW50XG4gICAgICApIHtcbiAgICAgICAgdGhpcy5fbW90aW9uRGF0YS5ldmVudHMuYXQodXNlcmRhdGFjb3VudCkuZmlyZVRpbWUgPSBqc29uLmdldEV2ZW50VGltZShcbiAgICAgICAgICB1c2VyZGF0YWNvdW50XG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuX21vdGlvbkRhdGEuZXZlbnRzLmF0KHVzZXJkYXRhY291bnQpLnZhbHVlID0ganNvbi5nZXRFdmVudFZhbHVlKFxuICAgICAgICAgIHVzZXJkYXRhY291bnRcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAganNvbi5yZWxlYXNlKCk7XG4gICAgICBqc29uID0gdm9pZCAwO1xuICAgICAganNvbiA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Oi44OH44Or44Gu44OR44Op44Oh44O844K/5pu05pawXG4gICAgICpcbiAgICAgKiDjgqTjg5njg7Pjg4jnmbrngavjga7jg4Hjgqfjg4Pjgq/jgIJcbiAgICAgKiDlhaXlipvjgZnjgovmmYLplpPjga/lkbzjgbDjgozjgovjg6Ljg7zjgrfjg6fjg7Pjgr/jgqTjg5/jg7PjgrDjgpLvvJDjgajjgZfjgZ/np5LmlbDjgafooYzjgYbjgIJcbiAgICAgKlxuICAgICAqIEBwYXJhbSBiZWZvcmVDaGVja1RpbWVTZWNvbmRzICAg5YmN5Zue44Gu44Kk44OZ44Oz44OI44OB44Kn44OD44Kv5pmC6ZaTW+enkl1cbiAgICAgKiBAcGFyYW0gbW90aW9uVGltZVNlY29uZHMgICAgICAgIOS7iuWbnuOBruWGjeeUn+aZgumWk1vnp5JdXG4gICAgICovXG4gICAgcHVibGljIGdldEZpcmVkRXZlbnQoXG4gICAgICBiZWZvcmVDaGVja1RpbWVTZWNvbmRzOiBudW1iZXIsXG4gICAgICBtb3Rpb25UaW1lU2Vjb25kczogbnVtYmVyXG4gICAgKTogY3NtVmVjdG9yPGNzbVN0cmluZz4ge1xuICAgICAgdGhpcy5fZmlyZWRFdmVudFZhbHVlcy51cGRhdGVTaXplKDApO1xuXG4gICAgICAvLyDjgqTjg5njg7Pjg4jjga7nmbrngavjg4Hjgqfjg4Pjgq9cbiAgICAgIGZvciAobGV0IHUgPSAwOyB1IDwgdGhpcy5fbW90aW9uRGF0YS5ldmVudENvdW50OyArK3UpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRoaXMuX21vdGlvbkRhdGEuZXZlbnRzLmF0KHUpLmZpcmVUaW1lID4gYmVmb3JlQ2hlY2tUaW1lU2Vjb25kcyAmJlxuICAgICAgICAgIHRoaXMuX21vdGlvbkRhdGEuZXZlbnRzLmF0KHUpLmZpcmVUaW1lIDw9IG1vdGlvblRpbWVTZWNvbmRzXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMuX2ZpcmVkRXZlbnRWYWx1ZXMucHVzaEJhY2soXG4gICAgICAgICAgICBuZXcgY3NtU3RyaW5nKHRoaXMuX21vdGlvbkRhdGEuZXZlbnRzLmF0KHUpLnZhbHVlLnMpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5fZmlyZWRFdmVudFZhbHVlcztcbiAgICB9XG5cbiAgICBwdWJsaWMgX3NvdXJjZUZyYW1lUmF0ZTogbnVtYmVyOyAvLyDjg63jg7zjg4njgZfjgZ/jg5XjgqHjgqTjg6vjga5GUFPjgILoqJjov7DjgYznhKHjgZHjgozjgbDjg4fjg5Xjgqnjg6vjg4jlgKQxNWZwc+OBqOOBquOCi1xuICAgIHB1YmxpYyBfbG9vcER1cmF0aW9uU2Vjb25kczogbnVtYmVyOyAvLyBtdG7jg5XjgqHjgqTjg6vjgaflrprnvqnjgZXjgozjgovkuIDpgKPjga7jg6Ljg7zjgrfjg6fjg7Pjga7plbfjgZVcbiAgICBwdWJsaWMgX2lzTG9vcDogYm9vbGVhbjsgLy8g44Or44O844OX44GZ44KL44GLP1xuICAgIHB1YmxpYyBfaXNMb29wRmFkZUluOiBib29sZWFuOyAvLyDjg6vjg7zjg5fmmYLjgavjg5Xjgqfjg7zjg4njgqTjg7PjgYzmnInlirnjgYvjganjgYbjgYvjga7jg5Xjg6njgrDjgILliJ3mnJ/lgKTjgafjga/mnInlirnjgIJcbiAgICBwdWJsaWMgX2xhc3RXZWlnaHQ6IG51bWJlcjsgLy8g5pyA5b6M44Gr6Kit5a6a44GV44KM44Gf6YeN44G/XG5cbiAgICBwdWJsaWMgX21vdGlvbkRhdGE6IEN1YmlzbU1vdGlvbkRhdGE7IC8vIOWun+mam+OBruODouODvOOCt+ODp+ODs+ODh+ODvOOCv+acrOS9k1xuXG4gICAgcHVibGljIF9leWVCbGlua1BhcmFtZXRlcklkczogY3NtVmVjdG9yPEN1YmlzbUlkSGFuZGxlPjsgLy8g6Ieq5YuV44G+44Gw44Gf44GN44KS6YGp55So44GZ44KL44OR44Op44Oh44O844K/SUTjg4/jg7Pjg4njg6vjga7jg6rjgrnjg4jjgIIgIOODouODh+ODq++8iOODouODh+ODq+OCu+ODg+ODhuOCo+ODs+OCsO+8ieOBqOODkeODqeODoeODvOOCv+OCkuWvvuW/nOS7mOOBkeOCi+OAglxuICAgIHB1YmxpYyBfbGlwU3luY1BhcmFtZXRlcklkczogY3NtVmVjdG9yPEN1YmlzbUlkSGFuZGxlPjsgLy8g44Oq44OD44OX44K344Oz44Kv44KS6YGp55So44GZ44KL44OR44Op44Oh44O844K/SUTjg4/jg7Pjg4njg6vjga7jg6rjgrnjg4jjgIIgIOODouODh+ODq++8iOODouODh+ODq+OCu+ODg+ODhuOCo+ODs+OCsO+8ieOBqOODkeODqeODoeODvOOCv+OCkuWvvuW/nOS7mOOBkeOCi+OAglxuXG4gICAgcHVibGljIF9tb2RlbEN1cnZlSWRFeWVCbGluazogQ3ViaXNtSWRIYW5kbGU7IC8vIOODouODh+ODq+OBjOaMgeOBpOiHquWLleOBvuOBsOOBn+OBjeeUqOODkeODqeODoeODvOOCv0lE44Gu44OP44Oz44OJ44Or44CCICDjg6Ljg4fjg6vjgajjg6Ljg7zjgrfjg6fjg7PjgpLlr77lv5zku5jjgZHjgovjgIJcbiAgICBwdWJsaWMgX21vZGVsQ3VydmVJZExpcFN5bmM6IEN1YmlzbUlkSGFuZGxlOyAvLyDjg6Ljg4fjg6vjgYzmjIHjgaTjg6rjg4Pjg5fjgrfjg7Pjgq/nlKjjg5Hjg6njg6Hjg7zjgr9JROOBruODj+ODs+ODieODq+OAgiAg44Oi44OH44Or44Go44Oi44O844K344On44Oz44KS5a++5b+c5LuY44GR44KL44CCXG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQU9BO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUVBO0FBTUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBSUE7QUFPQTtBQUFBO0FBc2NBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQXpjQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBU0E7QUFNQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBR0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUdBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFHQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFHQTtBQUNBO0FBR0E7QUFHQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFLQTtBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUlBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFRQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFRQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFPQTtBQUlBO0FBQ0E7QUFDQTtBQXNCQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUtBO0FBS0E7QUFNQTtBQUNBO0FBR0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBSUE7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFLQTtBQUNBO0FBSUE7QUFHQTtBQU9BO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFNQTtBQU9BO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQU1BO0FBT0E7QUFNQTtBQU9BO0FBTUE7QUFPQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFNQTtBQU9BO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQU1BO0FBT0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBR0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBV0E7QUFJQTtBQUdBO0FBQ0E7QUFFQTtBQUVBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFlQTtBQUFBO0FBcHlCQTtBQXF5QkE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Framework/src/motion/cubismmotion.ts\n");

/***/ }),

/***/ "./Framework/src/motion/cubismmotioninternal.ts":
/*!******************************************************!*\
  !*** ./Framework/src/motion/cubismmotioninternal.ts ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./Framework/src/type/csmvector.ts\");\nvar csmVector = csmvector_1.Live2DCubismFramework.csmVector;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var CubismMotionCurveTarget;\n    (function (CubismMotionCurveTarget) {\n        CubismMotionCurveTarget[CubismMotionCurveTarget[\"CubismMotionCurveTarget_Model\"] = 0] = \"CubismMotionCurveTarget_Model\";\n        CubismMotionCurveTarget[CubismMotionCurveTarget[\"CubismMotionCurveTarget_Parameter\"] = 1] = \"CubismMotionCurveTarget_Parameter\";\n        CubismMotionCurveTarget[CubismMotionCurveTarget[\"CubismMotionCurveTarget_PartOpacity\"] = 2] = \"CubismMotionCurveTarget_PartOpacity\";\n    })(CubismMotionCurveTarget = Live2DCubismFramework.CubismMotionCurveTarget || (Live2DCubismFramework.CubismMotionCurveTarget = {}));\n    var CubismMotionSegmentType;\n    (function (CubismMotionSegmentType) {\n        CubismMotionSegmentType[CubismMotionSegmentType[\"CubismMotionSegmentType_Linear\"] = 0] = \"CubismMotionSegmentType_Linear\";\n        CubismMotionSegmentType[CubismMotionSegmentType[\"CubismMotionSegmentType_Bezier\"] = 1] = \"CubismMotionSegmentType_Bezier\";\n        CubismMotionSegmentType[CubismMotionSegmentType[\"CubismMotionSegmentType_Stepped\"] = 2] = \"CubismMotionSegmentType_Stepped\";\n        CubismMotionSegmentType[CubismMotionSegmentType[\"CubismMotionSegmentType_InverseStepped\"] = 3] = \"CubismMotionSegmentType_InverseStepped\";\n    })(CubismMotionSegmentType = Live2DCubismFramework.CubismMotionSegmentType || (Live2DCubismFramework.CubismMotionSegmentType = {}));\n    var CubismMotionPoint = (function () {\n        function CubismMotionPoint() {\n            this.time = 0.0;\n            this.value = 0.0;\n        }\n        return CubismMotionPoint;\n    }());\n    Live2DCubismFramework.CubismMotionPoint = CubismMotionPoint;\n    var CubismMotionSegment = (function () {\n        function CubismMotionSegment() {\n            this.evaluate = null;\n            this.basePointIndex = 0;\n            this.segmentType = 0;\n        }\n        return CubismMotionSegment;\n    }());\n    Live2DCubismFramework.CubismMotionSegment = CubismMotionSegment;\n    var CubismMotionCurve = (function () {\n        function CubismMotionCurve() {\n            this.type = CubismMotionCurveTarget.CubismMotionCurveTarget_Model;\n            this.segmentCount = 0;\n            this.baseSegmentIndex = 0;\n            this.fadeInTime = 0.0;\n            this.fadeOutTime = 0.0;\n        }\n        return CubismMotionCurve;\n    }());\n    Live2DCubismFramework.CubismMotionCurve = CubismMotionCurve;\n    var CubismMotionEvent = (function () {\n        function CubismMotionEvent() {\n            this.fireTime = 0.0;\n        }\n        return CubismMotionEvent;\n    }());\n    Live2DCubismFramework.CubismMotionEvent = CubismMotionEvent;\n    var CubismMotionData = (function () {\n        function CubismMotionData() {\n            this.duration = 0.0;\n            this.loop = false;\n            this.curveCount = 0;\n            this.eventCount = 0;\n            this.fps = 0.0;\n            this.curves = new csmVector();\n            this.segments = new csmVector();\n            this.points = new csmVector();\n            this.events = new csmVector();\n        }\n        return CubismMotionData;\n    }());\n    Live2DCubismFramework.CubismMotionData = CubismMotionData;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21vdGlvbi9jdWJpc21tb3Rpb25pbnRlcm5hbC50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL0ZyYW1ld29yay9zcmMvbW90aW9uL2N1YmlzbW1vdGlvbmludGVybmFsLnRzP2U2ZGUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTGl2ZTJEIE9wZW4gU29mdHdhcmUgbGljZW5zZVxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXG4gKi9cblxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbWlkIH0gZnJvbSAnLi4vaWQvY3ViaXNtaWQnO1xuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGNzbXN0cmluZyB9IGZyb20gJy4uL3R5cGUvY3Ntc3RyaW5nJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjc212ZWN0b3IgfSBmcm9tICcuLi90eXBlL2NzbXZlY3Rvcic7XG5pbXBvcnQgY3NtVmVjdG9yID0gY3NtdmVjdG9yLmNzbVZlY3RvcjtcbmltcG9ydCBjc21TdHJpbmcgPSBjc21zdHJpbmcuY3NtU3RyaW5nO1xuaW1wb3J0IEN1YmlzbUlkSGFuZGxlID0gY3ViaXNtaWQuQ3ViaXNtSWRIYW5kbGU7XG5cbmV4cG9ydCBuYW1lc3BhY2UgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIHtcbiAgLyoqXG4gICAqIEBicmllZiDjg6Ljg7zjgrfjg6fjg7Pjgqvjg7zjg5bjga7nqK7poZ5cbiAgICpcbiAgICog44Oi44O844K344On44Oz44Kr44O844OW44Gu56iu6aGe44CCXG4gICAqL1xuICBleHBvcnQgZW51bSBDdWJpc21Nb3Rpb25DdXJ2ZVRhcmdldCB7XG4gICAgQ3ViaXNtTW90aW9uQ3VydmVUYXJnZXRfTW9kZWwsIC8vIOODouODh+ODq+OBq+WvvuOBl+OBplxuICAgIEN1YmlzbU1vdGlvbkN1cnZlVGFyZ2V0X1BhcmFtZXRlciwgLy8g44OR44Op44Oh44O844K/44Gr5a++44GX44GmXG4gICAgQ3ViaXNtTW90aW9uQ3VydmVUYXJnZXRfUGFydE9wYWNpdHkgLy8g44OR44O844OE44Gu5LiN6YCP5piO5bqm44Gr5a++44GX44GmXG4gIH1cblxuICAvKipcbiAgICogQGJyaWVmIOODouODvOOCt+ODp+ODs+OCq+ODvOODluOBruOCu+OCsOODoeODs+ODiOOBrueorumhnlxuICAgKlxuICAgKiDjg6Ljg7zjgrfjg6fjg7Pjgqvjg7zjg5bjga7jgrvjgrDjg6Hjg7Pjg4jjga7nqK7poZ7jgIJcbiAgICovXG4gIGV4cG9ydCBlbnVtIEN1YmlzbU1vdGlvblNlZ21lbnRUeXBlIHtcbiAgICBDdWJpc21Nb3Rpb25TZWdtZW50VHlwZV9MaW5lYXIgPSAwLCAvLyDjg6rjg4vjgqJcbiAgICBDdWJpc21Nb3Rpb25TZWdtZW50VHlwZV9CZXppZXIgPSAxLCAvLyDjg5njgrjjgqfmm7Lnt5pcbiAgICBDdWJpc21Nb3Rpb25TZWdtZW50VHlwZV9TdGVwcGVkID0gMiwgLy8g44K544OG44OD44OXXG4gICAgQ3ViaXNtTW90aW9uU2VnbWVudFR5cGVfSW52ZXJzZVN0ZXBwZWQgPSAzIC8vIOOCpOODs+ODkOODvOOCueOCueODhuODg+ODl1xuICB9XG5cbiAgLyoqXG4gICAqIEBicmllZiDjg6Ljg7zjgrfjg6fjg7Pjgqvjg7zjg5bjga7liLblvqHngrlcbiAgICpcbiAgICog44Oi44O844K344On44Oz44Kr44O844OW44Gu5Yi25b6h54K544CCXG4gICAqL1xuICBleHBvcnQgY2xhc3MgQ3ViaXNtTW90aW9uUG9pbnQge1xuICAgIHRpbWUgPSAwLjA7IC8vIOaZgumWk1vnp5JdXG4gICAgdmFsdWUgPSAwLjA7IC8vIOWApFxuICB9XG5cbiAgLyoqXG4gICAqIOODouODvOOCt+ODp+ODs+OCq+ODvOODluOBruOCu+OCsOODoeODs+ODiOOBruipleS+oemWouaVsFxuICAgKlxuICAgKiBAcGFyYW0gICBwb2ludHMgICAgICDjg6Ljg7zjgrfjg6fjg7Pjgqvjg7zjg5bjga7liLblvqHngrnjg6rjgrnjg4hcbiAgICogQHBhcmFtICAgdGltZSAgICAgICAg6KmV5L6h44GZ44KL5pmC6ZaTW+enkl1cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgY3NtTW90aW9uU2VnbWVudEV2YWx1YXRpb25GdW5jdGlvbiB7XG4gICAgKHBvaW50czogQ3ViaXNtTW90aW9uUG9pbnRbXSwgdGltZTogbnVtYmVyKTogbnVtYmVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEBicmllZiDjg6Ljg7zjgrfjg6fjg7Pjgqvjg7zjg5bjga7jgrvjgrDjg6Hjg7Pjg4hcbiAgICpcbiAgICog44Oi44O844K344On44Oz44Kr44O844OW44Gu44K744Kw44Oh44Oz44OI44CCXG4gICAqL1xuICBleHBvcnQgY2xhc3MgQ3ViaXNtTW90aW9uU2VnbWVudCB7XG4gICAgLyoqXG4gICAgICogQGJyaWVmIOOCs+ODs+OCueODiOODqeOCr+OCv1xuICAgICAqXG4gICAgICog44Kz44Oz44K544OI44Op44Kv44K/44CCXG4gICAgICovXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgICAgdGhpcy5ldmFsdWF0ZSA9IG51bGw7XG4gICAgICB0aGlzLmJhc2VQb2ludEluZGV4ID0gMDtcbiAgICAgIHRoaXMuc2VnbWVudFR5cGUgPSAwO1xuICAgIH1cblxuICAgIGV2YWx1YXRlOiBjc21Nb3Rpb25TZWdtZW50RXZhbHVhdGlvbkZ1bmN0aW9uOyAvLyDkvb/nlKjjgZnjgovoqZXkvqHplqLmlbBcbiAgICBiYXNlUG9pbnRJbmRleDogbnVtYmVyOyAvLyDmnIDliJ3jga7jgrvjgrDjg6Hjg7Pjg4jjgbjjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcbiAgICBzZWdtZW50VHlwZTogbnVtYmVyOyAvLyDjgrvjgrDjg6Hjg7Pjg4jjga7nqK7poZ5cbiAgfVxuXG4gIC8qKlxuICAgKiBAYnJpZWYg44Oi44O844K344On44Oz44Kr44O844OWXG4gICAqXG4gICAqIOODouODvOOCt+ODp+ODs+OCq+ODvOODluOAglxuICAgKi9cbiAgZXhwb3J0IGNsYXNzIEN1YmlzbU1vdGlvbkN1cnZlIHtcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgICB0aGlzLnR5cGUgPSBDdWJpc21Nb3Rpb25DdXJ2ZVRhcmdldC5DdWJpc21Nb3Rpb25DdXJ2ZVRhcmdldF9Nb2RlbDtcbiAgICAgIHRoaXMuc2VnbWVudENvdW50ID0gMDtcbiAgICAgIHRoaXMuYmFzZVNlZ21lbnRJbmRleCA9IDA7XG4gICAgICB0aGlzLmZhZGVJblRpbWUgPSAwLjA7XG4gICAgICB0aGlzLmZhZGVPdXRUaW1lID0gMC4wO1xuICAgIH1cblxuICAgIHR5cGU6IEN1YmlzbU1vdGlvbkN1cnZlVGFyZ2V0OyAvLyDjgqvjg7zjg5bjga7nqK7poZ5cbiAgICBpZDogQ3ViaXNtSWRIYW5kbGU7IC8vIOOCq+ODvOODluOBrklEXG4gICAgc2VnbWVudENvdW50OiBudW1iZXI7IC8vIOOCu+OCsOODoeODs+ODiOOBruWAi+aVsFxuICAgIGJhc2VTZWdtZW50SW5kZXg6IG51bWJlcjsgLy8g5pyA5Yid44Gu44K744Kw44Oh44Oz44OI44Gu44Kk44Oz44OH44OD44Kv44K5XG4gICAgZmFkZUluVGltZTogbnVtYmVyOyAvLyDjg5Xjgqfjg7zjg4njgqTjg7PjgavjgYvjgYvjgovmmYLplpNb56eSXVxuICAgIGZhZGVPdXRUaW1lOiBudW1iZXI7IC8vIOODleOCp+ODvOODieOCouOCpuODiOOBq+OBi+OBi+OCi+aZgumWk1vnp5JdXG4gIH1cblxuICAvKipcbiAgICog44Kk44OZ44Oz44OI44CCXG4gICAqL1xuICBleHBvcnQgY2xhc3MgQ3ViaXNtTW90aW9uRXZlbnQge1xuICAgIGZpcmVUaW1lID0gMC4wO1xuICAgIHZhbHVlOiBjc21TdHJpbmc7XG4gIH1cblxuICAvKipcbiAgICogQGJyaWVmIOODouODvOOCt+ODp+ODs+ODh+ODvOOCv1xuICAgKlxuICAgKiDjg6Ljg7zjgrfjg6fjg7Pjg4fjg7zjgr/jgIJcbiAgICovXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21Nb3Rpb25EYXRhIHtcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgICB0aGlzLmR1cmF0aW9uID0gMC4wO1xuICAgICAgdGhpcy5sb29wID0gZmFsc2U7XG4gICAgICB0aGlzLmN1cnZlQ291bnQgPSAwO1xuICAgICAgdGhpcy5ldmVudENvdW50ID0gMDtcbiAgICAgIHRoaXMuZnBzID0gMC4wO1xuXG4gICAgICB0aGlzLmN1cnZlcyA9IG5ldyBjc21WZWN0b3I8Q3ViaXNtTW90aW9uQ3VydmU+KCk7XG4gICAgICB0aGlzLnNlZ21lbnRzID0gbmV3IGNzbVZlY3RvcjxDdWJpc21Nb3Rpb25TZWdtZW50PigpO1xuICAgICAgdGhpcy5wb2ludHMgPSBuZXcgY3NtVmVjdG9yPEN1YmlzbU1vdGlvblBvaW50PigpO1xuICAgICAgdGhpcy5ldmVudHMgPSBuZXcgY3NtVmVjdG9yPEN1YmlzbU1vdGlvbkV2ZW50PigpO1xuICAgIH1cblxuICAgIGR1cmF0aW9uOiBudW1iZXI7IC8vIOODouODvOOCt+ODp+ODs+OBrumVt+OBlVvnp5JdXG4gICAgbG9vcDogYm9vbGVhbjsgLy8g44Or44O844OX44GZ44KL44GL44Gp44GG44GLXG4gICAgY3VydmVDb3VudDogbnVtYmVyOyAvLyDjgqvjg7zjg5bjga7lgIvmlbBcbiAgICBldmVudENvdW50OiBudW1iZXI7IC8vIFVzZXJEYXRh44Gu5YCL5pWwXG4gICAgZnBzOiBudW1iZXI7IC8vIOODleODrOODvOODoOODrOODvOODiFxuICAgIGN1cnZlczogY3NtVmVjdG9yPEN1YmlzbU1vdGlvbkN1cnZlPjsgLy8g44Kr44O844OW44Gu44Oq44K544OIXG4gICAgc2VnbWVudHM6IGNzbVZlY3RvcjxDdWJpc21Nb3Rpb25TZWdtZW50PjsgLy8g44K744Kw44Oh44Oz44OI44Gu44Oq44K544OIXG4gICAgcG9pbnRzOiBjc21WZWN0b3I8Q3ViaXNtTW90aW9uUG9pbnQ+OyAvLyDjg53jgqTjg7Pjg4jjga7jg6rjgrnjg4hcbiAgICBldmVudHM6IGNzbVZlY3RvcjxDdWJpc21Nb3Rpb25FdmVudD47IC8vIOOCpOODmeODs+ODiOOBruODquOCueODiFxuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7OztBQVNBO0FBQ0E7QUFJQTtBQUFBO0FBTUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUhBO0FBb0JBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFmQTtBQXNCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFBQTtBQWZBO0FBb0JBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUhBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBV0E7QUFBQTtBQXZCQTtBQXdCQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Framework/src/motion/cubismmotioninternal.ts\n");

/***/ }),

/***/ "./Framework/src/motion/cubismmotionjson.ts":
/*!**************************************************!*\
  !*** ./Framework/src/motion/cubismmotionjson.ts ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar cubismjson_1 = __webpack_require__(/*! ../utils/cubismjson */ \"./Framework/src/utils/cubismjson.ts\");\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./Framework/src/live2dcubismframework.ts\");\nvar csmstring_1 = __webpack_require__(/*! ../type/csmstring */ \"./Framework/src/type/csmstring.ts\");\nvar csmString = csmstring_1.Live2DCubismFramework.csmString;\nvar CubismFramework = live2dcubismframework_1.Live2DCubismFramework.CubismFramework;\nvar CubismJson = cubismjson_1.Live2DCubismFramework.CubismJson;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var Meta = 'Meta';\n    var Duration = 'Duration';\n    var Loop = 'Loop';\n    var CurveCount = 'CurveCount';\n    var Fps = 'Fps';\n    var TotalSegmentCount = 'TotalSegmentCount';\n    var TotalPointCount = 'TotalPointCount';\n    var Curves = 'Curves';\n    var Target = 'Target';\n    var Id = 'Id';\n    var FadeInTime = 'FadeInTime';\n    var FadeOutTime = 'FadeOutTime';\n    var Segments = 'Segments';\n    var UserData = 'UserData';\n    var UserDataCount = 'UserDataCount';\n    var TotalUserDataSize = 'TotalUserDataSize';\n    var Time = 'Time';\n    var Value = 'Value';\n    var CubismMotionJson = (function () {\n        function CubismMotionJson(buffer, size) {\n            this._json = CubismJson.create(buffer, size);\n        }\n        CubismMotionJson.prototype.release = function () {\n            CubismJson.delete(this._json);\n        };\n        CubismMotionJson.prototype.getMotionDuration = function () {\n            return this._json\n                .getRoot()\n                .getValueByString(Meta)\n                .getValueByString(Duration)\n                .toFloat();\n        };\n        CubismMotionJson.prototype.isMotionLoop = function () {\n            return this._json\n                .getRoot()\n                .getValueByString(Meta)\n                .getValueByString(Loop)\n                .toBoolean();\n        };\n        CubismMotionJson.prototype.getMotionCurveCount = function () {\n            return this._json\n                .getRoot()\n                .getValueByString(Meta)\n                .getValueByString(CurveCount)\n                .toInt();\n        };\n        CubismMotionJson.prototype.getMotionFps = function () {\n            return this._json\n                .getRoot()\n                .getValueByString(Meta)\n                .getValueByString(Fps)\n                .toFloat();\n        };\n        CubismMotionJson.prototype.getMotionTotalSegmentCount = function () {\n            return this._json\n                .getRoot()\n                .getValueByString(Meta)\n                .getValueByString(TotalSegmentCount)\n                .toInt();\n        };\n        CubismMotionJson.prototype.getMotionTotalPointCount = function () {\n            return this._json\n                .getRoot()\n                .getValueByString(Meta)\n                .getValueByString(TotalPointCount)\n                .toInt();\n        };\n        CubismMotionJson.prototype.isExistMotionFadeInTime = function () {\n            return !this._json\n                .getRoot()\n                .getValueByString(Meta)\n                .getValueByString(FadeInTime)\n                .isNull();\n        };\n        CubismMotionJson.prototype.isExistMotionFadeOutTime = function () {\n            return !this._json\n                .getRoot()\n                .getValueByString(Meta)\n                .getValueByString(FadeOutTime)\n                .isNull();\n        };\n        CubismMotionJson.prototype.getMotionFadeInTime = function () {\n            return this._json\n                .getRoot()\n                .getValueByString(Meta)\n                .getValueByString(FadeInTime)\n                .toFloat();\n        };\n        CubismMotionJson.prototype.getMotionFadeOutTime = function () {\n            return this._json\n                .getRoot()\n                .getValueByString(Meta)\n                .getValueByString(FadeOutTime)\n                .toFloat();\n        };\n        CubismMotionJson.prototype.getMotionCurveTarget = function (curveIndex) {\n            return this._json\n                .getRoot()\n                .getValueByString(Curves)\n                .getValueByIndex(curveIndex)\n                .getValueByString(Target)\n                .getRawString();\n        };\n        CubismMotionJson.prototype.getMotionCurveId = function (curveIndex) {\n            return CubismFramework.getIdManager().getId(this._json\n                .getRoot()\n                .getValueByString(Curves)\n                .getValueByIndex(curveIndex)\n                .getValueByString(Id)\n                .getRawString());\n        };\n        CubismMotionJson.prototype.isExistMotionCurveFadeInTime = function (curveIndex) {\n            return !this._json\n                .getRoot()\n                .getValueByString(Curves)\n                .getValueByIndex(curveIndex)\n                .getValueByString(FadeInTime)\n                .isNull();\n        };\n        CubismMotionJson.prototype.isExistMotionCurveFadeOutTime = function (curveIndex) {\n            return !this._json\n                .getRoot()\n                .getValueByString(Curves)\n                .getValueByIndex(curveIndex)\n                .getValueByString(FadeOutTime)\n                .isNull();\n        };\n        CubismMotionJson.prototype.getMotionCurveFadeInTime = function (curveIndex) {\n            return this._json\n                .getRoot()\n                .getValueByString(Curves)\n                .getValueByIndex(curveIndex)\n                .getValueByString(FadeInTime)\n                .toFloat();\n        };\n        CubismMotionJson.prototype.getMotionCurveFadeOutTime = function (curveIndex) {\n            return this._json\n                .getRoot()\n                .getValueByString(Curves)\n                .getValueByIndex(curveIndex)\n                .getValueByString(FadeOutTime)\n                .toFloat();\n        };\n        CubismMotionJson.prototype.getMotionCurveSegmentCount = function (curveIndex) {\n            return this._json\n                .getRoot()\n                .getValueByString(Curves)\n                .getValueByIndex(curveIndex)\n                .getValueByString(Segments)\n                .getVector()\n                .getSize();\n        };\n        CubismMotionJson.prototype.getMotionCurveSegment = function (curveIndex, segmentIndex) {\n            return this._json\n                .getRoot()\n                .getValueByString(Curves)\n                .getValueByIndex(curveIndex)\n                .getValueByString(Segments)\n                .getValueByIndex(segmentIndex)\n                .toFloat();\n        };\n        CubismMotionJson.prototype.getEventCount = function () {\n            return this._json\n                .getRoot()\n                .getValueByString(Meta)\n                .getValueByString(UserDataCount)\n                .toInt();\n        };\n        CubismMotionJson.prototype.getTotalEventValueSize = function () {\n            return this._json\n                .getRoot()\n                .getValueByString(Meta)\n                .getValueByString(TotalUserDataSize)\n                .toInt();\n        };\n        CubismMotionJson.prototype.getEventTime = function (userDataIndex) {\n            return this._json\n                .getRoot()\n                .getValueByString(UserData)\n                .getValueByIndex(userDataIndex)\n                .getValueByString(Time)\n                .toInt();\n        };\n        CubismMotionJson.prototype.getEventValue = function (userDataIndex) {\n            return new csmString(this._json\n                .getRoot()\n                .getValueByString(UserData)\n                .getValueByIndex(userDataIndex)\n                .getValueByString(Value)\n                .getRawString());\n        };\n        return CubismMotionJson;\n    }());\n    Live2DCubismFramework.CubismMotionJson = CubismMotionJson;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21vdGlvbi9jdWJpc21tb3Rpb25qc29uLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vRnJhbWV3b3JrL3NyYy9tb3Rpb24vY3ViaXNtbW90aW9uanNvbi50cz8zZjhkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0KGMpIExpdmUyRCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcbiAqIHRoYXQgY2FuIGJlIGZvdW5kIGF0IGh0dHBzOi8vd3d3LmxpdmUyZC5jb20vZXVsYS9saXZlMmQtb3Blbi1zb2Z0d2FyZS1saWNlbnNlLWFncmVlbWVudF9lbi5odG1sLlxuICovXG5cbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21qc29uIH0gZnJvbSAnLi4vdXRpbHMvY3ViaXNtanNvbic7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtaWQgfSBmcm9tICcuLi9pZC9jdWJpc21pZCc7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtZnJhbWV3b3JrIH0gZnJvbSAnLi4vbGl2ZTJkY3ViaXNtZnJhbWV3b3JrJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjc21zdHJpbmcgfSBmcm9tICcuLi90eXBlL2NzbXN0cmluZyc7XG5pbXBvcnQgY3NtU3RyaW5nID0gY3Ntc3RyaW5nLmNzbVN0cmluZztcbmltcG9ydCBDdWJpc21GcmFtZXdvcmsgPSBjdWJpc21mcmFtZXdvcmsuQ3ViaXNtRnJhbWV3b3JrO1xuaW1wb3J0IEN1YmlzbUlkSGFuZGxlID0gY3ViaXNtaWQuQ3ViaXNtSWRIYW5kbGU7XG5pbXBvcnQgQ3ViaXNtSnNvbiA9IGN1YmlzbWpzb24uQ3ViaXNtSnNvbjtcblxuZXhwb3J0IG5hbWVzcGFjZSBMaXZlMkRDdWJpc21GcmFtZXdvcmsge1xuICAvLyBKU09OIGtleXNcbiAgY29uc3QgTWV0YSA9ICdNZXRhJztcbiAgY29uc3QgRHVyYXRpb24gPSAnRHVyYXRpb24nO1xuICBjb25zdCBMb29wID0gJ0xvb3AnO1xuICBjb25zdCBDdXJ2ZUNvdW50ID0gJ0N1cnZlQ291bnQnO1xuICBjb25zdCBGcHMgPSAnRnBzJztcbiAgY29uc3QgVG90YWxTZWdtZW50Q291bnQgPSAnVG90YWxTZWdtZW50Q291bnQnO1xuICBjb25zdCBUb3RhbFBvaW50Q291bnQgPSAnVG90YWxQb2ludENvdW50JztcbiAgY29uc3QgQ3VydmVzID0gJ0N1cnZlcyc7XG4gIGNvbnN0IFRhcmdldCA9ICdUYXJnZXQnO1xuICBjb25zdCBJZCA9ICdJZCc7XG4gIGNvbnN0IEZhZGVJblRpbWUgPSAnRmFkZUluVGltZSc7XG4gIGNvbnN0IEZhZGVPdXRUaW1lID0gJ0ZhZGVPdXRUaW1lJztcbiAgY29uc3QgU2VnbWVudHMgPSAnU2VnbWVudHMnO1xuICBjb25zdCBVc2VyRGF0YSA9ICdVc2VyRGF0YSc7XG4gIGNvbnN0IFVzZXJEYXRhQ291bnQgPSAnVXNlckRhdGFDb3VudCc7XG4gIGNvbnN0IFRvdGFsVXNlckRhdGFTaXplID0gJ1RvdGFsVXNlckRhdGFTaXplJztcbiAgY29uc3QgVGltZSA9ICdUaW1lJztcbiAgY29uc3QgVmFsdWUgPSAnVmFsdWUnO1xuXG4gIC8qKlxuICAgKiBtb3Rpb24zLmpzb27jga7jgrPjg7Pjg4bjg4rjgIJcbiAgICovXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21Nb3Rpb25Kc29uIHtcbiAgICAvKipcbiAgICAgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr9cbiAgICAgKiBAcGFyYW0gYnVmZmVyIG1vdGlvbjMuanNvbuOBjOiqreOBv+i+vOOBvuOCjOOBpuOBhOOCi+ODkOODg+ODleOCoVxuICAgICAqIEBwYXJhbSBzaXplIOODkOODg+ODleOCoeOBruOCteOCpOOCulxuICAgICAqL1xuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihidWZmZXI6IEFycmF5QnVmZmVyLCBzaXplOiBudW1iZXIpIHtcbiAgICAgIHRoaXMuX2pzb24gPSBDdWJpc21Kc29uLmNyZWF0ZShidWZmZXIsIHNpemUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODh+OCueODiOODqeOCr+OCv+ebuOW9k+OBruWHpueQhlxuICAgICAqL1xuICAgIHB1YmxpYyByZWxlYXNlKCk6IHZvaWQge1xuICAgICAgQ3ViaXNtSnNvbi5kZWxldGUodGhpcy5fanNvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Oi44O844K344On44Oz44Gu6ZW344GV44KS5Y+W5b6X44GZ44KLXG4gICAgICogQHJldHVybiDjg6Ljg7zjgrfjg6fjg7Pjga7plbfjgZVb56eSXVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRNb3Rpb25EdXJhdGlvbigpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cbiAgICAgICAgLmdldFJvb3QoKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhNZXRhKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhEdXJhdGlvbilcbiAgICAgICAgLnRvRmxvYXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Pjga7jg6vjg7zjg5fmg4XloLHjga7lj5blvpdcbiAgICAgKiBAcmV0dXJuIHRydWUg44Or44O844OX44GZ44KLXG4gICAgICogQHJldHVybiBmYWxzZSDjg6vjg7zjg5fjgZfjgarjgYRcbiAgICAgKi9cbiAgICBwdWJsaWMgaXNNb3Rpb25Mb29wKCk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cbiAgICAgICAgLmdldFJvb3QoKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhNZXRhKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhMb29wKVxuICAgICAgICAudG9Cb29sZWFuKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Oi44O844K344On44Oz44Kr44O844OW44Gu5YCL5pWw44Gu5Y+W5b6XXG4gICAgICogQHJldHVybiDjg6Ljg7zjgrfjg6fjg7Pjgqvjg7zjg5bjga7lgIvmlbBcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0TW90aW9uQ3VydmVDb3VudCgpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cbiAgICAgICAgLmdldFJvb3QoKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhNZXRhKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhDdXJ2ZUNvdW50KVxuICAgICAgICAudG9JbnQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Pjga7jg5Xjg6zjg7zjg6Djg6zjg7zjg4jjga7lj5blvpdcbiAgICAgKiBAcmV0dXJuIOODleODrOODvOODoOODrOODvOODiFtGUFNdXG4gICAgICovXG4gICAgcHVibGljIGdldE1vdGlvbkZwcygpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cbiAgICAgICAgLmdldFJvb3QoKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhNZXRhKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhGcHMpXG4gICAgICAgIC50b0Zsb2F0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Oi44O844K344On44Oz44Gu44K744Kw44Oh44Oz44OI44Gu57eP5ZCI6KiI44Gu5Y+W5b6XXG4gICAgICogQHJldHVybiDjg6Ljg7zjgrfjg6fjg7Pjga7jgrvjgrDjg6Hjg7Pjg4jjga7lj5blvpdcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0TW90aW9uVG90YWxTZWdtZW50Q291bnQoKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiB0aGlzLl9qc29uXG4gICAgICAgIC5nZXRSb290KClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoTWV0YSlcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoVG90YWxTZWdtZW50Q291bnQpXG4gICAgICAgIC50b0ludCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODouODvOOCt+ODp+ODs+OBruOCq+ODvOODluOBruWItuW+oeW6l+OBrue3j+WQiOioiOOBruWPluW+l1xuICAgICAqIEByZXR1cm4g44Oi44O844K344On44Oz44Gu44Kr44O844OW44Gu5Yi25b6h54K544Gu57eP5ZCI6KiIXG4gICAgICovXG4gICAgcHVibGljIGdldE1vdGlvblRvdGFsUG9pbnRDb3VudCgpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cbiAgICAgICAgLmdldFJvb3QoKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhNZXRhKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhUb3RhbFBvaW50Q291bnQpXG4gICAgICAgIC50b0ludCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODouODvOOCt+ODp+ODs+OBruODleOCp+ODvOODieOCpOODs+aZgumWk+OBruWtmOWcqFxuICAgICAqIEByZXR1cm4gdHJ1ZSDlrZjlnKjjgZnjgotcbiAgICAgKiBAcmV0dXJuIGZhbHNlIOWtmOWcqOOBl+OBquOBhFxuICAgICAqL1xuICAgIHB1YmxpYyBpc0V4aXN0TW90aW9uRmFkZUluVGltZSgpOiBib29sZWFuIHtcbiAgICAgIHJldHVybiAhdGhpcy5fanNvblxuICAgICAgICAuZ2V0Um9vdCgpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKE1ldGEpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKEZhZGVJblRpbWUpXG4gICAgICAgIC5pc051bGwoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Pjga7jg5Xjgqfjg7zjg4njgqLjgqbjg4jmmYLplpPjga7lrZjlnKhcbiAgICAgKiBAcmV0dXJuIHRydWUg5a2Y5Zyo44GZ44KLXG4gICAgICogQHJldHVybiBmYWxzZSDlrZjlnKjjgZfjgarjgYRcbiAgICAgKi9cbiAgICBwdWJsaWMgaXNFeGlzdE1vdGlvbkZhZGVPdXRUaW1lKCk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuICF0aGlzLl9qc29uXG4gICAgICAgIC5nZXRSb290KClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoTWV0YSlcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoRmFkZU91dFRpbWUpXG4gICAgICAgIC5pc051bGwoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Pjga7jg5Xjgqfjg7zjg4njgqTjg7PmmYLplpPjga7lj5blvpdcbiAgICAgKiBAcmV0dXJuIOODleOCp+ODvOODieOCpOODs+aZgumWk1vnp5JdXG4gICAgICovXG4gICAgcHVibGljIGdldE1vdGlvbkZhZGVJblRpbWUoKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiB0aGlzLl9qc29uXG4gICAgICAgIC5nZXRSb290KClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoTWV0YSlcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoRmFkZUluVGltZSlcbiAgICAgICAgLnRvRmxvYXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Pjga7jg5Xjgqfjg7zjg4njgqLjgqbjg4jmmYLplpPjga7lj5blvpdcbiAgICAgKiBAcmV0dXJuIOODleOCp+ODvOODieOCouOCpuODiOaZgumWk1vnp5JdXG4gICAgICovXG4gICAgcHVibGljIGdldE1vdGlvbkZhZGVPdXRUaW1lKCk6IG51bWJlciB7XG4gICAgICByZXR1cm4gdGhpcy5fanNvblxuICAgICAgICAuZ2V0Um9vdCgpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKE1ldGEpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKEZhZGVPdXRUaW1lKVxuICAgICAgICAudG9GbG9hdCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODouODvOOCt+ODp+ODs+OBruOCq+ODvOODluOBrueorumhnuOBruWPluW+l1xuICAgICAqIEBwYXJhbSBjdXJ2ZUluZGV4IOOCq+ODvOODluOBruOCpOODs+ODh+ODg+OCr+OCuVxuICAgICAqIEByZXR1cm4g44Kr44O844OW44Gu56iu6aGeXG4gICAgICovXG4gICAgcHVibGljIGdldE1vdGlvbkN1cnZlVGFyZ2V0KGN1cnZlSW5kZXg6IG51bWJlcik6IHN0cmluZyB7XG4gICAgICByZXR1cm4gdGhpcy5fanNvblxuICAgICAgICAuZ2V0Um9vdCgpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKEN1cnZlcylcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChjdXJ2ZUluZGV4KVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhUYXJnZXQpXG4gICAgICAgIC5nZXRSYXdTdHJpbmcoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Pjga7jgqvjg7zjg5bjga5JROOBruWPluW+l1xuICAgICAqIEBwYXJhbSBjdXJ2ZUluZGV4IOOCq+ODvOODluOBruOCpOODs+ODh+ODg+OCr+OCuVxuICAgICAqIEByZXR1cm4g44Kr44O844OW44GuSURcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0TW90aW9uQ3VydmVJZChjdXJ2ZUluZGV4OiBudW1iZXIpOiBDdWJpc21JZEhhbmRsZSB7XG4gICAgICByZXR1cm4gQ3ViaXNtRnJhbWV3b3JrLmdldElkTWFuYWdlcigpLmdldElkKFxuICAgICAgICB0aGlzLl9qc29uXG4gICAgICAgICAgLmdldFJvb3QoKVxuICAgICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKEN1cnZlcylcbiAgICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KGN1cnZlSW5kZXgpXG4gICAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoSWQpXG4gICAgICAgICAgLmdldFJhd1N0cmluZygpXG4gICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODouODvOOCt+ODp+ODs+OBruOCq+ODvOODluOBruODleOCp+ODvOODieOCpOODs+aZgumWk+OBruWtmOWcqFxuICAgICAqIEBwYXJhbSBjdXJ2ZUluZGV4IOOCq+ODvOODluOBruOCpOODs+ODh+ODg+OCr+OCuVxuICAgICAqIEByZXR1cm4gdHJ1ZSDlrZjlnKjjgZnjgotcbiAgICAgKiBAcmV0dXJuIGZhbHNlIOWtmOWcqOOBl+OBquOBhFxuICAgICAqL1xuICAgIHB1YmxpYyBpc0V4aXN0TW90aW9uQ3VydmVGYWRlSW5UaW1lKGN1cnZlSW5kZXg6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuICF0aGlzLl9qc29uXG4gICAgICAgIC5nZXRSb290KClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoQ3VydmVzKVxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KGN1cnZlSW5kZXgpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKEZhZGVJblRpbWUpXG4gICAgICAgIC5pc051bGwoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Pjga7jgqvjg7zjg5bjga7jg5Xjgqfjg7zjg4njgqLjgqbjg4jmmYLplpPjga7lrZjlnKhcbiAgICAgKiBAcGFyYW0gY3VydmVJbmRleCDjgqvjg7zjg5bjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcbiAgICAgKiBAcmV0dXJuIHRydWUg5a2Y5Zyo44GZ44KLXG4gICAgICogQHJldHVybiBmYWxzZSDlrZjlnKjjgZfjgarjgYRcbiAgICAgKi9cbiAgICBwdWJsaWMgaXNFeGlzdE1vdGlvbkN1cnZlRmFkZU91dFRpbWUoY3VydmVJbmRleDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICByZXR1cm4gIXRoaXMuX2pzb25cbiAgICAgICAgLmdldFJvb3QoKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhDdXJ2ZXMpXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgoY3VydmVJbmRleClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoRmFkZU91dFRpbWUpXG4gICAgICAgIC5pc051bGwoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Pjga7jgqvjg7zjg5bjga7jg5Xjgqfjg7zjg4njgqTjg7PmmYLplpPjga7lj5blvpdcbiAgICAgKiBAcGFyYW0gY3VydmVJbmRleCDjgqvjg7zjg5bjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcbiAgICAgKiBAcmV0dXJuIOODleOCp+ODvOODieOCpOODs+aZgumWk1vnp5JdXG4gICAgICovXG4gICAgcHVibGljIGdldE1vdGlvbkN1cnZlRmFkZUluVGltZShjdXJ2ZUluZGV4OiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cbiAgICAgICAgLmdldFJvb3QoKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhDdXJ2ZXMpXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgoY3VydmVJbmRleClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoRmFkZUluVGltZSlcbiAgICAgICAgLnRvRmxvYXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Pjga7jgqvjg7zjg5bjga7jg5Xjgqfjg7zjg4njgqLjgqbjg4jmmYLplpPjga7lj5blvpdcbiAgICAgKiBAcGFyYW0gY3VydmVJbmRleCDjgqvjg7zjg5bjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcbiAgICAgKiBAcmV0dXJuIOODleOCp+ODvOODieOCouOCpuODiOaZgumWk1vnp5JdXG4gICAgICovXG4gICAgcHVibGljIGdldE1vdGlvbkN1cnZlRmFkZU91dFRpbWUoY3VydmVJbmRleDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiB0aGlzLl9qc29uXG4gICAgICAgIC5nZXRSb290KClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoQ3VydmVzKVxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KGN1cnZlSW5kZXgpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKEZhZGVPdXRUaW1lKVxuICAgICAgICAudG9GbG9hdCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODouODvOOCt+ODp+ODs+OBruOCq+ODvOODluOBruOCu+OCsOODoeODs+ODiOOBruWAi+aVsOOCkuWPluW+l+OBmeOCi1xuICAgICAqIEBwYXJhbSBjdXJ2ZUluZGV4IOOCq+ODvOODluOBruOCpOODs+ODh+ODg+OCr+OCuVxuICAgICAqIEByZXR1cm4g44Oi44O844K344On44Oz44Gu44Kr44O844OW44Gu44K744Kw44Oh44Oz44OI44Gu5YCL5pWwXG4gICAgICovXG4gICAgcHVibGljIGdldE1vdGlvbkN1cnZlU2VnbWVudENvdW50KGN1cnZlSW5kZXg6IG51bWJlcik6IG51bWJlciB7XG4gICAgICByZXR1cm4gdGhpcy5fanNvblxuICAgICAgICAuZ2V0Um9vdCgpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKEN1cnZlcylcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChjdXJ2ZUluZGV4KVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhTZWdtZW50cylcbiAgICAgICAgLmdldFZlY3RvcigpXG4gICAgICAgIC5nZXRTaXplKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Oi44O844K344On44Oz44Gu44Kr44O844OW44Gu44K744Kw44Oh44Oz44OI44Gu5YCk44Gu5Y+W5b6XXG4gICAgICogQHBhcmFtIGN1cnZlSW5kZXgg44Kr44O844OW44Gu44Kk44Oz44OH44OD44Kv44K5XG4gICAgICogQHBhcmFtIHNlZ21lbnRJbmRleCDjgrvjgrDjg6Hjg7Pjg4jjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcbiAgICAgKiBAcmV0dXJuIOOCu+OCsOODoeODs+ODiOOBruWApFxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRNb3Rpb25DdXJ2ZVNlZ21lbnQoXG4gICAgICBjdXJ2ZUluZGV4OiBudW1iZXIsXG4gICAgICBzZWdtZW50SW5kZXg6IG51bWJlclxuICAgICk6IG51bWJlciB7XG4gICAgICByZXR1cm4gdGhpcy5fanNvblxuICAgICAgICAuZ2V0Um9vdCgpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKEN1cnZlcylcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChjdXJ2ZUluZGV4KVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhTZWdtZW50cylcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChzZWdtZW50SW5kZXgpXG4gICAgICAgIC50b0Zsb2F0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Kk44OZ44Oz44OI44Gu5YCL5pWw44Gu5Y+W5b6XXG4gICAgICogQHJldHVybiDjgqTjg5njg7Pjg4jjga7lgIvmlbBcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0RXZlbnRDb3VudCgpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cbiAgICAgICAgLmdldFJvb3QoKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhNZXRhKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhVc2VyRGF0YUNvdW50KVxuICAgICAgICAudG9JbnQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAg44Kk44OZ44Oz44OI44Gu57eP5paH5a2X5pWw44Gu5Y+W5b6XXG4gICAgICogQHJldHVybiDjgqTjg5njg7Pjg4jjga7nt4/mloflrZfmlbBcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0VG90YWxFdmVudFZhbHVlU2l6ZSgpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cbiAgICAgICAgLmdldFJvb3QoKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhNZXRhKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhUb3RhbFVzZXJEYXRhU2l6ZSlcbiAgICAgICAgLnRvSW50KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Kk44OZ44Oz44OI44Gu5pmC6ZaT44Gu5Y+W5b6XXG4gICAgICogQHBhcmFtIHVzZXJEYXRhSW5kZXgg44Kk44OZ44Oz44OI44Gu44Kk44Oz44OH44OD44Kv44K5XG4gICAgICogQHJldHVybiDjgqTjg5njg7Pjg4jjga7mmYLplpNb56eSXVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRFdmVudFRpbWUodXNlckRhdGFJbmRleDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiB0aGlzLl9qc29uXG4gICAgICAgIC5nZXRSb290KClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoVXNlckRhdGEpXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgodXNlckRhdGFJbmRleClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoVGltZSlcbiAgICAgICAgLnRvSW50KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Kk44OZ44Oz44OI44Gu5Y+W5b6XXG4gICAgICogQHBhcmFtIHVzZXJEYXRhSW5kZXgg44Kk44OZ44Oz44OI44Gu44Kk44Oz44OH44OD44Kv44K5XG4gICAgICogQHJldHVybiDjgqTjg5njg7Pjg4jjga7mloflrZfliJdcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0RXZlbnRWYWx1ZSh1c2VyRGF0YUluZGV4OiBudW1iZXIpOiBjc21TdHJpbmcge1xuICAgICAgcmV0dXJuIG5ldyBjc21TdHJpbmcoXG4gICAgICAgIHRoaXMuX2pzb25cbiAgICAgICAgICAuZ2V0Um9vdCgpXG4gICAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoVXNlckRhdGEpXG4gICAgICAgICAgLmdldFZhbHVlQnlJbmRleCh1c2VyRGF0YUluZGV4KVxuICAgICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFZhbHVlKVxuICAgICAgICAgIC5nZXRSYXdTdHJpbmcoKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBfanNvbjogQ3ViaXNtSnNvbjsgLy8gbW90aW9uMy5qc29u44Gu44OH44O844K/XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7O0FBT0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBTUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUFBO0FBN1RBO0FBOFRBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/motion/cubismmotionjson.ts\n");

/***/ }),

/***/ "./Framework/src/motion/cubismmotionmanager.ts":
/*!*****************************************************!*\
  !*** ./Framework/src/motion/cubismmotionmanager.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar cubismmotionqueuemanager_1 = __webpack_require__(/*! ./cubismmotionqueuemanager */ \"./Framework/src/motion/cubismmotionqueuemanager.ts\");\nvar CubismMotionQueueManager = cubismmotionqueuemanager_1.Live2DCubismFramework.CubismMotionQueueManager;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var CubismMotionManager = (function (_super) {\n        __extends(CubismMotionManager, _super);\n        function CubismMotionManager() {\n            var _this = _super.call(this) || this;\n            _this._currentPriority = 0;\n            _this._reservePriority = 0;\n            return _this;\n        }\n        CubismMotionManager.prototype.getCurrentPriority = function () {\n            return this._currentPriority;\n        };\n        CubismMotionManager.prototype.getReservePriority = function () {\n            return this._reservePriority;\n        };\n        CubismMotionManager.prototype.setReservePriority = function (val) {\n            this._reservePriority = val;\n        };\n        CubismMotionManager.prototype.startMotionPriority = function (motion, autoDelete, priority) {\n            if (priority == this._reservePriority) {\n                this._reservePriority = 0;\n            }\n            this._currentPriority = priority;\n            return _super.prototype.startMotion.call(this, motion, autoDelete, this._userTimeSeconds);\n        };\n        CubismMotionManager.prototype.updateMotion = function (model, deltaTimeSeconds) {\n            this._userTimeSeconds += deltaTimeSeconds;\n            var updated = _super.prototype.doUpdateMotion.call(this, model, this._userTimeSeconds);\n            if (this.isFinished()) {\n                this._currentPriority = 0;\n            }\n            return updated;\n        };\n        CubismMotionManager.prototype.reserveMotion = function (priority) {\n            if (priority <= this._reservePriority ||\n                priority <= this._currentPriority) {\n                return false;\n            }\n            this._reservePriority = priority;\n            return true;\n        };\n        return CubismMotionManager;\n    }(CubismMotionQueueManager));\n    Live2DCubismFramework.CubismMotionManager = CubismMotionManager;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21vdGlvbi9jdWJpc21tb3Rpb25tYW5hZ2VyLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vRnJhbWV3b3JrL3NyYy9tb3Rpb24vY3ViaXNtbW90aW9ubWFuYWdlci50cz81ZmE2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0KGMpIExpdmUyRCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcbiAqIHRoYXQgY2FuIGJlIGZvdW5kIGF0IGh0dHBzOi8vd3d3LmxpdmUyZC5jb20vZXVsYS9saXZlMmQtb3Blbi1zb2Z0d2FyZS1saWNlbnNlLWFncmVlbWVudF9lbi5odG1sLlxuICovXG5cbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21tb3Rpb25xdWV1ZW1hbmFnZXIgfSBmcm9tICcuL2N1YmlzbW1vdGlvbnF1ZXVlbWFuYWdlcic7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgYWN1YmlzbW1vdGlvbiB9IGZyb20gJy4vYWN1YmlzbW1vdGlvbic7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtbW9kZWwgfSBmcm9tICcuLi9tb2RlbC9jdWJpc21tb2RlbCc7XG5pbXBvcnQgQ3ViaXNtTW90aW9uUXVldWVFbnRyeUhhbmRsZSA9IGN1YmlzbW1vdGlvbnF1ZXVlbWFuYWdlci5DdWJpc21Nb3Rpb25RdWV1ZUVudHJ5SGFuZGxlO1xuaW1wb3J0IEN1YmlzbU1vZGVsID0gY3ViaXNtbW9kZWwuQ3ViaXNtTW9kZWw7XG5pbXBvcnQgQUN1YmlzbU1vdGlvbiA9IGFjdWJpc21tb3Rpb24uQUN1YmlzbU1vdGlvbjtcbmltcG9ydCBDdWJpc21Nb3Rpb25RdWV1ZU1hbmFnZXIgPSBjdWJpc21tb3Rpb25xdWV1ZW1hbmFnZXIuQ3ViaXNtTW90aW9uUXVldWVNYW5hZ2VyO1xuXG5leHBvcnQgbmFtZXNwYWNlIExpdmUyREN1YmlzbUZyYW1ld29yayB7XG4gIC8qKlxuICAgKiDjg6Ljg7zjgrfjg6fjg7Pjga7nrqHnkIZcbiAgICpcbiAgICog44Oi44O844K344On44Oz44Gu566h55CG44KS6KGM44GG44Kv44Op44K5XG4gICAqL1xuICBleHBvcnQgY2xhc3MgQ3ViaXNtTW90aW9uTWFuYWdlciBleHRlbmRzIEN1YmlzbU1vdGlvblF1ZXVlTWFuYWdlciB7XG4gICAgLyoqXG4gICAgICog44Kz44Oz44K544OI44Op44Kv44K/XG4gICAgICovXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgICAgc3VwZXIoKTtcbiAgICAgIHRoaXMuX2N1cnJlbnRQcmlvcml0eSA9IDA7XG4gICAgICB0aGlzLl9yZXNlcnZlUHJpb3JpdHkgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWGjeeUn+S4reOBruODouODvOOCt+ODp+ODs+OBruWEquWFiOW6puOBruWPluW+l1xuICAgICAqIEByZXR1cm4gIOODouODvOOCt+ODp+ODs+OBruWEquWFiOW6plxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRDdXJyZW50UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50UHJpb3JpdHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5LqI57SE5Lit44Gu44Oi44O844K344On44Oz44Gu5YSq5YWI5bqm44KS5Y+W5b6X44GZ44KL44CCXG4gICAgICogQHJldHVybiAg44Oi44O844K344On44Oz44Gu5YSq5YWI5bqmXG4gICAgICovXG4gICAgcHVibGljIGdldFJlc2VydmVQcmlvcml0eSgpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHRoaXMuX3Jlc2VydmVQcmlvcml0eTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDkuojntITkuK3jga7jg6Ljg7zjgrfjg6fjg7Pjga7lhKrlhYjluqbjgpLoqK3lrprjgZnjgovjgIJcbiAgICAgKiBAcGFyYW0gICB2YWwgICAgIOWEquWFiOW6plxuICAgICAqL1xuICAgIHB1YmxpYyBzZXRSZXNlcnZlUHJpb3JpdHkodmFsOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgIHRoaXMuX3Jlc2VydmVQcmlvcml0eSA9IHZhbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlhKrlhYjluqbjgpLoqK3lrprjgZfjgabjg6Ljg7zjgrfjg6fjg7PjgpLplovlp4vjgZnjgovjgIJcbiAgICAgKlxuICAgICAqIEBwYXJhbSBtb3Rpb24gICAgICAgICAg44Oi44O844K344On44OzXG4gICAgICogQHBhcmFtIGF1dG9EZWxldGUgICAgICDlho3nlJ/jgYzni6nnjJ/jgZfjgZ/jg6Ljg7zjgrfjg6fjg7Pjga7jgqTjg7Pjgrnjgr/jg7PjgrnjgpLliYrpmaTjgZnjgovjgarjgol0cnVlXG4gICAgICogQHBhcmFtIHByaW9yaXR5ICAgICAgICDlhKrlhYjluqZcbiAgICAgKiBAcmV0dXJuICAgICAgICAgICAgICAgIOmWi+Wni+OBl+OBn+ODouODvOOCt+ODp+ODs+OBruitmOWIpeeVquWPt+OCkui/lOOBmeOAguWAi+WIpeOBruODouODvOOCt+ODp+ODs+OBjOe1guS6huOBl+OBn+OBi+WQpuOBi+OCkuWIpOWumuOBmeOCi0lzRmluaXNoZWQoKeOBruW8leaVsOOBp+S9v+eUqOOBmeOCi+OAgumWi+Wni+OBp+OBjeOBquOBhOaZguOBr+OAjC0x44CNXG4gICAgICovXG4gICAgcHVibGljIHN0YXJ0TW90aW9uUHJpb3JpdHkoXG4gICAgICBtb3Rpb246IEFDdWJpc21Nb3Rpb24sXG4gICAgICBhdXRvRGVsZXRlOiBib29sZWFuLFxuICAgICAgcHJpb3JpdHk6IG51bWJlclxuICAgICk6IEN1YmlzbU1vdGlvblF1ZXVlRW50cnlIYW5kbGUge1xuICAgICAgaWYgKHByaW9yaXR5ID09IHRoaXMuX3Jlc2VydmVQcmlvcml0eSkge1xuICAgICAgICB0aGlzLl9yZXNlcnZlUHJpb3JpdHkgPSAwOyAvLyDkuojntITjgpLop6PpmaRcbiAgICAgIH1cblxuICAgICAgdGhpcy5fY3VycmVudFByaW9yaXR5ID0gcHJpb3JpdHk7IC8vIOWGjeeUn+S4reODouODvOOCt+ODp+ODs+OBruWEquWFiOW6puOCkuioreWumlxuXG4gICAgICByZXR1cm4gc3VwZXIuc3RhcnRNb3Rpb24obW90aW9uLCBhdXRvRGVsZXRlLCB0aGlzLl91c2VyVGltZVNlY29uZHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODouODvOOCt+ODp+ODs+OCkuabtOaWsOOBl+OBpuOAgeODouODh+ODq+OBq+ODkeODqeODoeODvOOCv+WApOOCkuWPjeaYoOOBmeOCi+OAglxuICAgICAqXG4gICAgICogQHBhcmFtIG1vZGVsICAg5a++6LGh44Gu44Oi44OH44OrXG4gICAgICogQHBhcmFtIGRlbHRhVGltZVNlY29uZHMgICAg44OH44Or44K/5pmC6ZaTW+enkl1cbiAgICAgKiBAcmV0dXJuICB0cnVlICAgIOabtOaWsOOBleOCjOOBpuOBhOOCi1xuICAgICAqIEByZXR1cm4gIGZhbHNlICAg5pu05paw44GV44KM44Gm44GE44Gq44GEXG4gICAgICovXG4gICAgcHVibGljIHVwZGF0ZU1vdGlvbihtb2RlbDogQ3ViaXNtTW9kZWwsIGRlbHRhVGltZVNlY29uZHM6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgdGhpcy5fdXNlclRpbWVTZWNvbmRzICs9IGRlbHRhVGltZVNlY29uZHM7XG5cbiAgICAgIGNvbnN0IHVwZGF0ZWQ6IGJvb2xlYW4gPSBzdXBlci5kb1VwZGF0ZU1vdGlvbihcbiAgICAgICAgbW9kZWwsXG4gICAgICAgIHRoaXMuX3VzZXJUaW1lU2Vjb25kc1xuICAgICAgKTtcblxuICAgICAgaWYgKHRoaXMuaXNGaW5pc2hlZCgpKSB7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRQcmlvcml0eSA9IDA7IC8vIOWGjeeUn+S4reOBruODouODvOOCt+ODp+ODs+OBruWEquWFiOW6puOCkuino+mZpFxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdXBkYXRlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7PjgpLkuojntITjgZnjgovjgIJcbiAgICAgKlxuICAgICAqIEBwYXJhbSAgIHByaW9yaXR5ICAgIOWEquWFiOW6plxuICAgICAqIEByZXR1cm4gIHRydWUgICAg5LqI57SE44Gn44GN44GfXG4gICAgICogQHJldHVybiAgZmFsc2UgICDkuojntITjgafjgY3jgarjgYvjgaPjgZ9cbiAgICAgKi9cbiAgICBwdWJsaWMgcmVzZXJ2ZU1vdGlvbihwcmlvcml0eTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICBpZiAoXG4gICAgICAgIHByaW9yaXR5IDw9IHRoaXMuX3Jlc2VydmVQcmlvcml0eSB8fFxuICAgICAgICBwcmlvcml0eSA8PSB0aGlzLl9jdXJyZW50UHJpb3JpdHlcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3Jlc2VydmVQcmlvcml0eSA9IHByaW9yaXR5O1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBfY3VycmVudFByaW9yaXR5OiBudW1iZXI7IC8vIOePvuWcqOWGjeeUn+S4reOBruODouODvOOCt+ODp+ODs+OBruWEquWFiOW6plxuICAgIF9yZXNlcnZlUHJpb3JpdHk6IG51bWJlcjsgLy8g5YaN55Sf5LqI5a6a44Gu44Oi44O844K344On44Oz44Gu5YSq5YWI5bqm44CC5YaN55Sf5Lit44GvMOOBq+OBquOCi+OAguODouODvOOCt+ODp+ODs+ODleOCoeOCpOODq+OCkuWIpeOCueODrOODg+ODieOBp+iqreOBv+i+vOOCgOOBqOOBjeOBruapn+iDveOAglxuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPQTtBQU1BO0FBRUE7QUFBQTtBQU1BO0FBQUE7QUFJQTtBQUFBO0FBRUE7QUFDQTs7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQVVBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBVUE7QUFDQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFJQTtBQUFBO0FBckdBO0FBc0dBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/motion/cubismmotionmanager.ts\n");

/***/ }),

/***/ "./Framework/src/motion/cubismmotionqueueentry.ts":
/*!********************************************************!*\
  !*** ./Framework/src/motion/cubismmotionqueueentry.ts ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar acubismmotion_1 = __webpack_require__(/*! ./acubismmotion */ \"./Framework/src/motion/acubismmotion.ts\");\nvar ACubismMotion = acubismmotion_1.Live2DCubismFramework.ACubismMotion;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var CubismMotionQueueEntry = (function () {\n        function CubismMotionQueueEntry() {\n            this._autoDelete = false;\n            this._motion = null;\n            this._available = true;\n            this._finished = false;\n            this._started = false;\n            this._startTimeSeconds = -1.0;\n            this._fadeInStartTimeSeconds = 0.0;\n            this._endTimeSeconds = -1.0;\n            this._stateTimeSeconds = 0.0;\n            this._stateWeight = 0.0;\n            this._lastEventCheckSeconds = 0.0;\n            this._motionQueueEntryHandle = this;\n        }\n        CubismMotionQueueEntry.prototype.release = function () {\n            if (this._autoDelete && this._motion) {\n                ACubismMotion.delete(this._motion);\n            }\n        };\n        CubismMotionQueueEntry.prototype.startFadeout = function (fadeoutSeconds, userTimeSeconds) {\n            var newEndTimeSeconds = userTimeSeconds + fadeoutSeconds;\n            if (this._endTimeSeconds < 0.0 ||\n                newEndTimeSeconds < this._endTimeSeconds) {\n                this._endTimeSeconds = newEndTimeSeconds;\n            }\n        };\n        CubismMotionQueueEntry.prototype.isFinished = function () {\n            return this._finished;\n        };\n        CubismMotionQueueEntry.prototype.isStarted = function () {\n            return this._started;\n        };\n        CubismMotionQueueEntry.prototype.getStartTime = function () {\n            return this._startTimeSeconds;\n        };\n        CubismMotionQueueEntry.prototype.getFadeInStartTime = function () {\n            return this._fadeInStartTimeSeconds;\n        };\n        CubismMotionQueueEntry.prototype.getEndTime = function () {\n            return this._endTimeSeconds;\n        };\n        CubismMotionQueueEntry.prototype.setStartTime = function (startTime) {\n            this._startTimeSeconds = startTime;\n        };\n        CubismMotionQueueEntry.prototype.setFadeInStartTime = function (startTime) {\n            this._fadeInStartTimeSeconds = startTime;\n        };\n        CubismMotionQueueEntry.prototype.setEndTime = function (endTime) {\n            this._endTimeSeconds = endTime;\n        };\n        CubismMotionQueueEntry.prototype.setIsFinished = function (f) {\n            this._finished = f;\n        };\n        CubismMotionQueueEntry.prototype.setIsStarted = function (f) {\n            this._started = f;\n        };\n        CubismMotionQueueEntry.prototype.isAvailable = function () {\n            return this._available;\n        };\n        CubismMotionQueueEntry.prototype.setIsAvailable = function (v) {\n            this._available = v;\n        };\n        CubismMotionQueueEntry.prototype.setState = function (timeSeconds, weight) {\n            this._stateTimeSeconds = timeSeconds;\n            this._stateWeight = weight;\n        };\n        CubismMotionQueueEntry.prototype.getStateTime = function () {\n            return this._stateTimeSeconds;\n        };\n        CubismMotionQueueEntry.prototype.getStateWeight = function () {\n            return this._stateWeight;\n        };\n        CubismMotionQueueEntry.prototype.getLastCheckEventTime = function () {\n            return this._lastEventCheckSeconds;\n        };\n        CubismMotionQueueEntry.prototype.setLastCheckEventTime = function (checkTime) {\n            this._lastEventCheckSeconds = checkTime;\n        };\n        return CubismMotionQueueEntry;\n    }());\n    Live2DCubismFramework.CubismMotionQueueEntry = CubismMotionQueueEntry;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21vdGlvbi9jdWJpc21tb3Rpb25xdWV1ZWVudHJ5LnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vRnJhbWV3b3JrL3NyYy9tb3Rpb24vY3ViaXNtbW90aW9ucXVldWVlbnRyeS50cz9hOTFlIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0KGMpIExpdmUyRCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcbiAqIHRoYXQgY2FuIGJlIGZvdW5kIGF0IGh0dHBzOi8vd3d3LmxpdmUyZC5jb20vZXVsYS9saXZlMmQtb3Blbi1zb2Z0d2FyZS1saWNlbnNlLWFncmVlbWVudF9lbi5odG1sLlxuICovXG5cbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBhY3ViaXNtbW90aW9uIH0gZnJvbSAnLi9hY3ViaXNtbW90aW9uJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21tb3Rpb25xdWV1ZW1hbmFnZXIgfSBmcm9tICcuL2N1YmlzbW1vdGlvbnF1ZXVlbWFuYWdlcic7XG5pbXBvcnQgQ3ViaXNtTW90aW9uUXVldWVFbnRyeUhhbmRsZSA9IGN1YmlzbW1vdGlvbnF1ZXVlbWFuYWdlci5DdWJpc21Nb3Rpb25RdWV1ZUVudHJ5SGFuZGxlO1xuaW1wb3J0IEFDdWJpc21Nb3Rpb24gPSBhY3ViaXNtbW90aW9uLkFDdWJpc21Nb3Rpb247XG5cbmV4cG9ydCBuYW1lc3BhY2UgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIHtcbiAgLyoqXG4gICAqIEN1YmlzbU1vdGlvblF1ZXVlTWFuYWdlcuOBp+WGjeeUn+OBl+OBpuOBhOOCi+WQhOODouODvOOCt+ODp+ODs+OBrueuoeeQhuOCr+ODqeOCueOAglxuICAgKi9cbiAgZXhwb3J0IGNsYXNzIEN1YmlzbU1vdGlvblF1ZXVlRW50cnkge1xuICAgIC8qKlxuICAgICAqIOOCs+ODs+OCueODiOODqeOCr+OCv1xuICAgICAqL1xuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHRoaXMuX2F1dG9EZWxldGUgPSBmYWxzZTtcbiAgICAgIHRoaXMuX21vdGlvbiA9IG51bGw7XG4gICAgICB0aGlzLl9hdmFpbGFibGUgPSB0cnVlO1xuICAgICAgdGhpcy5fZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuX3N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuX3N0YXJ0VGltZVNlY29uZHMgPSAtMS4wO1xuICAgICAgdGhpcy5fZmFkZUluU3RhcnRUaW1lU2Vjb25kcyA9IDAuMDtcbiAgICAgIHRoaXMuX2VuZFRpbWVTZWNvbmRzID0gLTEuMDtcbiAgICAgIHRoaXMuX3N0YXRlVGltZVNlY29uZHMgPSAwLjA7XG4gICAgICB0aGlzLl9zdGF0ZVdlaWdodCA9IDAuMDtcbiAgICAgIHRoaXMuX2xhc3RFdmVudENoZWNrU2Vjb25kcyA9IDAuMDtcbiAgICAgIHRoaXMuX21vdGlvblF1ZXVlRW50cnlIYW5kbGUgPSB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODh+OCueODiOODqeOCr+OCv+ebuOW9k+OBruWHpueQhlxuICAgICAqL1xuICAgIHB1YmxpYyByZWxlYXNlKCk6IHZvaWQge1xuICAgICAgaWYgKHRoaXMuX2F1dG9EZWxldGUgJiYgdGhpcy5fbW90aW9uKSB7XG4gICAgICAgIEFDdWJpc21Nb3Rpb24uZGVsZXRlKHRoaXMuX21vdGlvbik7IC8vXG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44OV44Kn44O844OJ44Ki44Km44OI44Gu6ZaL5aeLXG4gICAgICogQHBhcmFtIGZhZGVPdXRTZWNvbmRzIOODleOCp+ODvOODieOCouOCpuODiOOBq+OBi+OBi+OCi+aZgumWk1vnp5JdXG4gICAgICogQHBhcmFtIHVzZXJUaW1lU2Vjb25kcyDjg4fjg6vjgr/mmYLplpPjga7nqY3nrpflgKRb56eSXVxuICAgICAqL1xuICAgIHB1YmxpYyBzdGFydEZhZGVvdXQoZmFkZW91dFNlY29uZHM6IG51bWJlciwgdXNlclRpbWVTZWNvbmRzOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgIGNvbnN0IG5ld0VuZFRpbWVTZWNvbmRzOiBudW1iZXIgPSB1c2VyVGltZVNlY29uZHMgKyBmYWRlb3V0U2Vjb25kcztcblxuICAgICAgaWYgKFxuICAgICAgICB0aGlzLl9lbmRUaW1lU2Vjb25kcyA8IDAuMCB8fFxuICAgICAgICBuZXdFbmRUaW1lU2Vjb25kcyA8IHRoaXMuX2VuZFRpbWVTZWNvbmRzXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5fZW5kVGltZVNlY29uZHMgPSBuZXdFbmRUaW1lU2Vjb25kcztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Pjga7ntYLkuobjga7norroqo1cbiAgICAgKlxuICAgICAqIEByZXR1cm4gdHJ1ZSDjg6Ljg7zjgrfjg6fjg7PjgYzntYLkuobjgZfjgZ9cbiAgICAgKiBAcmV0dXJuIGZhbHNlIOe1guS6huOBl+OBpuOBhOOBquOBhFxuICAgICAqL1xuICAgIHB1YmxpYyBpc0ZpbmlzaGVkKCk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIHRoaXMuX2ZpbmlzaGVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODouODvOOCt+ODp+ODs+OBrumWi+Wni+OBrueiuuiqjVxuICAgICAqIEByZXR1cm4gdHJ1ZSDjg6Ljg7zjgrfjg6fjg7PjgYzplovlp4vjgZfjgZ9cbiAgICAgKiBAcmV0dXJuIGZhbHNlIOmWi+Wni+OBl+OBpuOBhOOBquOBhFxuICAgICAqL1xuICAgIHB1YmxpYyBpc1N0YXJ0ZWQoKTogYm9vbGVhbiB7XG4gICAgICByZXR1cm4gdGhpcy5fc3RhcnRlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Pjga7plovlp4vmmYLliLvjga7lj5blvpdcbiAgICAgKiBAcmV0dXJuIOODouODvOOCt+ODp+ODs+OBrumWi+Wni+aZguWIu1vnp5JdXG4gICAgICovXG4gICAgcHVibGljIGdldFN0YXJ0VGltZSgpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHRoaXMuX3N0YXJ0VGltZVNlY29uZHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44OV44Kn44O844OJ44Kk44Oz44Gu6ZaL5aeL5pmC5Yi744Gu5Y+W5b6XXG4gICAgICogQHJldHVybiDjg5Xjgqfjg7zjg4njgqTjg7Pjga7plovlp4vmmYLliLtb56eSXVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRGYWRlSW5TdGFydFRpbWUoKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiB0aGlzLl9mYWRlSW5TdGFydFRpbWVTZWNvbmRzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODleOCp+ODvOODieOCpOODs+OBrue1guS6huaZguWIu+OBruWPluW+l1xuICAgICAqIEByZXR1cm4g44OV44Kn44O844OJ44Kk44Oz44Gu57WC5LqG5pmC5Yi744Gu5Y+W5b6XXG4gICAgICovXG4gICAgcHVibGljIGdldEVuZFRpbWUoKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiB0aGlzLl9lbmRUaW1lU2Vjb25kcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Pjga7plovlp4vmmYLliLvjga7oqK3lrppcbiAgICAgKiBAcGFyYW0gc3RhcnRUaW1lIOODouODvOOCt+ODp+ODs+OBrumWi+Wni+aZguWIu1xuICAgICAqL1xuICAgIHB1YmxpYyBzZXRTdGFydFRpbWUoc3RhcnRUaW1lOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgIHRoaXMuX3N0YXJ0VGltZVNlY29uZHMgPSBzdGFydFRpbWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44OV44Kn44O844OJ44Kk44Oz44Gu6ZaL5aeL5pmC5Yi744Gu6Kit5a6aXG4gICAgICogQHBhcmFtIHN0YXJ0VGltZSDjg5Xjgqfjg7zjg4njgqTjg7Pjga7plovlp4vmmYLliLtb56eSXVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXRGYWRlSW5TdGFydFRpbWUoc3RhcnRUaW1lOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgIHRoaXMuX2ZhZGVJblN0YXJ0VGltZVNlY29uZHMgPSBzdGFydFRpbWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44OV44Kn44O844OJ44Kk44Oz44Gu57WC5LqG5pmC5Yi744Gu6Kit5a6aXG4gICAgICogQHBhcmFtIGVuZFRpbWUg44OV44Kn44O844OJ44Kk44Oz44Gu57WC5LqG5pmC5Yi7W+enkl1cbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0RW5kVGltZShlbmRUaW1lOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgIHRoaXMuX2VuZFRpbWVTZWNvbmRzID0gZW5kVGltZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Pjga7ntYLkuobjga7oqK3lrppcbiAgICAgKiBAcGFyYW0gZiB0cnVl44Gq44KJ44Oi44O844K344On44Oz44Gu57WC5LqGXG4gICAgICovXG4gICAgcHVibGljIHNldElzRmluaXNoZWQoZjogYm9vbGVhbik6IHZvaWQge1xuICAgICAgdGhpcy5fZmluaXNoZWQgPSBmO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODouODvOOCt+ODp+ODs+mWi+Wni+OBruioreWumlxuICAgICAqIEBwYXJhbSBmIHRydWXjgarjgonjg6Ljg7zjgrfjg6fjg7Pjga7plovlp4tcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0SXNTdGFydGVkKGY6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgIHRoaXMuX3N0YXJ0ZWQgPSBmO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODouODvOOCt+ODp+ODs+OBruacieWKueaAp+OBrueiuuiqjVxuICAgICAqIEByZXR1cm4gdHJ1ZSDjg6Ljg7zjgrfjg6fjg7Pjga/mnInlirlcbiAgICAgKiBAcmV0dXJuIGZhbHNlIOODouODvOOCt+ODp+ODs+OBr+eEoeWKuVxuICAgICAqL1xuICAgIHB1YmxpYyBpc0F2YWlsYWJsZSgpOiBib29sZWFuIHtcbiAgICAgIHJldHVybiB0aGlzLl9hdmFpbGFibGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Oi44O844K344On44Oz44Gu5pyJ5Yq55oCn44Gu6Kit5a6aXG4gICAgICogQHBhcmFtIHYgdHJ1ZeOBquOCieODouODvOOCt+ODp+ODs+OBr+acieWKuVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXRJc0F2YWlsYWJsZSh2OiBib29sZWFuKTogdm9pZCB7XG4gICAgICB0aGlzLl9hdmFpbGFibGUgPSB2O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODouODvOOCt+ODp+ODs+OBrueKtuaFi+OBruioreWumlxuICAgICAqIEBwYXJhbSB0aW1lU2Vjb25kcyDnj77lnKjmmYLliLtb56eSXVxuICAgICAqIEBwYXJhbSB3ZWlnaHQg44Oi44O844K344On44Oz5bC+6YeN44G/XG4gICAgICovXG4gICAgcHVibGljIHNldFN0YXRlKHRpbWVTZWNvbmRzOiBudW1iZXIsIHdlaWdodDogbnVtYmVyKTogdm9pZCB7XG4gICAgICB0aGlzLl9zdGF0ZVRpbWVTZWNvbmRzID0gdGltZVNlY29uZHM7XG4gICAgICB0aGlzLl9zdGF0ZVdlaWdodCA9IHdlaWdodDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6Ljg7zjgrfjg6fjg7Pjga7nj77lnKjmmYLliLvjga7lj5blvpdcbiAgICAgKiBAcmV0dXJuIOODouODvOOCt+ODp+ODs+OBruePvuWcqOaZguWIu1vnp5JdXG4gICAgICovXG4gICAgcHVibGljIGdldFN0YXRlVGltZSgpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlVGltZVNlY29uZHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Oi44O844K344On44Oz44Gu6YeN44G/44Gu5Y+W5b6XXG4gICAgICogQHJldHVybiDjg6Ljg7zjgrfjg6fjg7Pjga7ph43jgb9cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0U3RhdGVXZWlnaHQoKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiB0aGlzLl9zdGF0ZVdlaWdodDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDmnIDlvozjgavjgqTjg5njg7Pjg4jjga7nmbrngavjgpLjg4Hjgqfjg4Pjgq/jgZfjgZ/mmYLplpPjgpLlj5blvpdcbiAgICAgKlxuICAgICAqIEByZXR1cm4g5pyA5b6M44Gr44Kk44OZ44Oz44OI44Gu55m654Gr44KS44OB44Kn44OD44Kv44GX44Gf5pmC6ZaTW+enkl1cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0TGFzdENoZWNrRXZlbnRUaW1lKCk6IG51bWJlciB7XG4gICAgICByZXR1cm4gdGhpcy5fbGFzdEV2ZW50Q2hlY2tTZWNvbmRzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOacgOW+jOOBq+OCpOODmeODs+ODiOOCkuODgeOCp+ODg+OCr+OBl+OBn+aZgumWk+OCkuioreWumlxuICAgICAqIEBwYXJhbSBjaGVja1RpbWUg5pyA5b6M44Gr44Kk44OZ44Oz44OI44KS44OB44Kn44OD44Kv44GX44Gf5pmC6ZaTW+enkl1cbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0TGFzdENoZWNrRXZlbnRUaW1lKGNoZWNrVGltZTogbnVtYmVyKTogdm9pZCB7XG4gICAgICB0aGlzLl9sYXN0RXZlbnRDaGVja1NlY29uZHMgPSBjaGVja1RpbWU7XG4gICAgfVxuXG4gICAgX2F1dG9EZWxldGU6IGJvb2xlYW47IC8vIOiHquWLleWJiumZpFxuICAgIF9tb3Rpb246IEFDdWJpc21Nb3Rpb247IC8vIOODouODvOOCt+ODp+ODs1xuXG4gICAgX2F2YWlsYWJsZTogYm9vbGVhbjsgLy8g5pyJ5Yq55YyW44OV44Op44KwXG4gICAgX2ZpbmlzaGVkOiBib29sZWFuOyAvLyDntYLkuobjg5Xjg6njgrBcbiAgICBfc3RhcnRlZDogYm9vbGVhbjsgLy8g6ZaL5aeL44OV44Op44KwXG4gICAgX3N0YXJ0VGltZVNlY29uZHM6IG51bWJlcjsgLy8g44Oi44O844K344On44Oz5YaN55Sf6ZaL5aeL5pmC5Yi7W+enkl1cbiAgICBfZmFkZUluU3RhcnRUaW1lU2Vjb25kczogbnVtYmVyOyAvLyDjg5Xjgqfjg7zjg4njgqTjg7Pplovlp4vmmYLliLvvvIjjg6vjg7zjg5fjga7mmYLjga/liJ3lm57jga7jgb/vvIlb56eSXVxuICAgIF9lbmRUaW1lU2Vjb25kczogbnVtYmVyOyAvLyDntYLkuobkuojlrprmmYLliLtb56eSXVxuICAgIF9zdGF0ZVRpbWVTZWNvbmRzOiBudW1iZXI7IC8vIOaZguWIu+OBrueKtuaFi1vnp5JdXG4gICAgX3N0YXRlV2VpZ2h0OiBudW1iZXI7IC8vIOmHjeOBv+OBrueKtuaFi1xuICAgIF9sYXN0RXZlbnRDaGVja1NlY29uZHM6IG51bWJlcjsgLy8g5pyA57WC44GuTW90aW9u5YG044Gu44OB44Kn44OD44Kv44GX44Gf5pmC6ZaTXG5cbiAgICBfbW90aW9uUXVldWVFbnRyeUhhbmRsZTogQ3ViaXNtTW90aW9uUXVldWVFbnRyeUhhbmRsZTsgLy8g44Kk44Oz44K544K/44Oz44K544GU44Go44Gr5LiA5oSP44Gu5YCk44KS5oyB44Gk6K2Y5Yil55Wq5Y+3XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7O0FBT0E7QUFHQTtBQUVBO0FBQUE7QUFJQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQWdCQTtBQUFBO0FBek1BO0FBME1BOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/motion/cubismmotionqueueentry.ts\n");

/***/ }),

/***/ "./Framework/src/motion/cubismmotionqueuemanager.ts":
/*!**********************************************************!*\
  !*** ./Framework/src/motion/cubismmotionqueuemanager.ts ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar cubismmotionqueueentry_1 = __webpack_require__(/*! ./cubismmotionqueueentry */ \"./Framework/src/motion/cubismmotionqueueentry.ts\");\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./Framework/src/type/csmvector.ts\");\nvar csmVector = csmvector_1.Live2DCubismFramework.csmVector;\nvar CubismMotionQueueEntry = cubismmotionqueueentry_1.Live2DCubismFramework.CubismMotionQueueEntry;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var CubismMotionQueueManager = (function () {\n        function CubismMotionQueueManager() {\n            this._userTimeSeconds = 0.0;\n            this._eventCallBack = null;\n            this._eventCustomData = null;\n            this._motions = new csmVector();\n        }\n        CubismMotionQueueManager.prototype.release = function () {\n            for (var i = 0; i < this._motions.getSize(); ++i) {\n                if (this._motions.at(i)) {\n                    this._motions.at(i).release();\n                    this._motions.set(i, void 0);\n                    this._motions.set(i, null);\n                }\n            }\n            this._motions = null;\n        };\n        CubismMotionQueueManager.prototype.startMotion = function (motion, autoDelete, userTimeSeconds) {\n            if (motion == null) {\n                return Live2DCubismFramework.InvalidMotionQueueEntryHandleValue;\n            }\n            var motionQueueEntry = null;\n            for (var i = 0; i < this._motions.getSize(); ++i) {\n                motionQueueEntry = this._motions.at(i);\n                if (motionQueueEntry == null) {\n                    continue;\n                }\n                motionQueueEntry.startFadeout(motionQueueEntry._motion.getFadeOutTime(), userTimeSeconds);\n            }\n            motionQueueEntry = new CubismMotionQueueEntry();\n            motionQueueEntry._autoDelete = autoDelete;\n            motionQueueEntry._motion = motion;\n            this._motions.pushBack(motionQueueEntry);\n            return motionQueueEntry._motionQueueEntryHandle;\n        };\n        CubismMotionQueueManager.prototype.isFinished = function () {\n            for (var ite = this._motions.begin(); ite.notEqual(this._motions.end());) {\n                var motionQueueEntry = ite.ptr();\n                if (motionQueueEntry == null) {\n                    ite = this._motions.erase(ite);\n                    continue;\n                }\n                var motion = motionQueueEntry._motion;\n                if (motion == null) {\n                    motionQueueEntry.release();\n                    motionQueueEntry = void 0;\n                    motionQueueEntry = null;\n                    ite = this._motions.erase(ite);\n                    continue;\n                }\n                if (!motionQueueEntry.isFinished()) {\n                    return false;\n                }\n                else {\n                    ite.preIncrement();\n                }\n            }\n            return true;\n        };\n        CubismMotionQueueManager.prototype.isFinishedByHandle = function (motionQueueEntryNumber) {\n            for (var ite = this._motions.begin(); ite.notEqual(this._motions.end()); ite.increment()) {\n                var motionQueueEntry = ite.ptr();\n                if (motionQueueEntry == null) {\n                    continue;\n                }\n                if (motionQueueEntry._motionQueueEntryHandle == motionQueueEntryNumber &&\n                    !motionQueueEntry.isFinished()) {\n                    return false;\n                }\n            }\n            return true;\n        };\n        CubismMotionQueueManager.prototype.stopAllMotions = function () {\n            for (var ite = this._motions.begin(); ite.notEqual(this._motions.end());) {\n                var motionQueueEntry = ite.ptr();\n                if (motionQueueEntry == null) {\n                    ite = this._motions.erase(ite);\n                    continue;\n                }\n                motionQueueEntry.release();\n                motionQueueEntry = void 0;\n                motionQueueEntry = null;\n                ite = this._motions.erase(ite);\n            }\n        };\n        CubismMotionQueueManager.prototype.getCubismMotionQueueEntry = function (motionQueueEntryNumber) {\n            for (var ite = this._motions.begin(); ite.notEqual(this._motions.end()); ite.preIncrement()) {\n                var motionQueueEntry = ite.ptr();\n                if (motionQueueEntry == null) {\n                    continue;\n                }\n                if (motionQueueEntry._motionQueueEntryHandle == motionQueueEntryNumber) {\n                    return motionQueueEntry;\n                }\n            }\n            return null;\n        };\n        CubismMotionQueueManager.prototype.setEventCallback = function (callback, customData) {\n            if (customData === void 0) { customData = null; }\n            this._eventCallBack = callback;\n            this._eventCustomData = customData;\n        };\n        CubismMotionQueueManager.prototype.doUpdateMotion = function (model, userTimeSeconds) {\n            var updated = false;\n            for (var ite = this._motions.begin(); ite.notEqual(this._motions.end());) {\n                var motionQueueEntry = ite.ptr();\n                if (motionQueueEntry == null) {\n                    ite = this._motions.erase(ite);\n                    continue;\n                }\n                var motion = motionQueueEntry._motion;\n                if (motion == null) {\n                    motionQueueEntry.release();\n                    motionQueueEntry = void 0;\n                    motionQueueEntry = null;\n                    ite = this._motions.erase(ite);\n                    continue;\n                }\n                motion.updateParameters(model, motionQueueEntry, userTimeSeconds);\n                updated = true;\n                var firedList = motion.getFiredEvent(motionQueueEntry.getLastCheckEventTime() -\n                    motionQueueEntry.getStartTime(), userTimeSeconds - motionQueueEntry.getStartTime());\n                for (var i = 0; i < firedList.getSize(); ++i) {\n                    this._eventCallBack(this, firedList.at(i), this._eventCustomData);\n                }\n                motionQueueEntry.setLastCheckEventTime(userTimeSeconds);\n                if (motionQueueEntry.isFinished()) {\n                    motionQueueEntry.release();\n                    motionQueueEntry = void 0;\n                    motionQueueEntry = null;\n                    ite = this._motions.erase(ite);\n                }\n                else {\n                    ite.preIncrement();\n                }\n            }\n            return updated;\n        };\n        return CubismMotionQueueManager;\n    }());\n    Live2DCubismFramework.CubismMotionQueueManager = CubismMotionQueueManager;\n    Live2DCubismFramework.InvalidMotionQueueEntryHandleValue = -1;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL21vdGlvbi9jdWJpc21tb3Rpb25xdWV1ZW1hbmFnZXIudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9GcmFtZXdvcmsvc3JjL21vdGlvbi9jdWJpc21tb3Rpb25xdWV1ZW1hbmFnZXIudHM/ZTU4NiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodChjKSBMaXZlMkQgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IHRoZSBMaXZlMkQgT3BlbiBTb2Z0d2FyZSBsaWNlbnNlXG4gKiB0aGF0IGNhbiBiZSBmb3VuZCBhdCBodHRwczovL3d3dy5saXZlMmQuY29tL2V1bGEvbGl2ZTJkLW9wZW4tc29mdHdhcmUtbGljZW5zZS1hZ3JlZW1lbnRfZW4uaHRtbC5cbiAqL1xuXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgYWN1YmlzbW1vdGlvbiB9IGZyb20gJy4vYWN1YmlzbW1vdGlvbic7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtbW90aW9ucXVldWVlbnRyeSB9IGZyb20gJy4vY3ViaXNtbW90aW9ucXVldWVlbnRyeSc7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3NtdmVjdG9yIH0gZnJvbSAnLi4vdHlwZS9jc212ZWN0b3InO1xuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbW1vZGVsIH0gZnJvbSAnLi4vbW9kZWwvY3ViaXNtbW9kZWwnO1xuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGNzbXN0cmluZyB9IGZyb20gJy4uL3R5cGUvY3Ntc3RyaW5nJztcbmltcG9ydCBjc21TdHJpbmcgPSBjc21zdHJpbmcuY3NtU3RyaW5nO1xuaW1wb3J0IEN1YmlzbU1vZGVsID0gY3ViaXNtbW9kZWwuQ3ViaXNtTW9kZWw7XG5pbXBvcnQgY3NtVmVjdG9yID0gY3NtdmVjdG9yLmNzbVZlY3RvcjtcbmltcG9ydCBpdGVyYXRvciA9IGNzbXZlY3Rvci5pdGVyYXRvcjtcbmltcG9ydCBDdWJpc21Nb3Rpb25RdWV1ZUVudHJ5ID0gY3ViaXNtbW90aW9ucXVldWVlbnRyeS5DdWJpc21Nb3Rpb25RdWV1ZUVudHJ5O1xuaW1wb3J0IEFDdWJpc21Nb3Rpb24gPSBhY3ViaXNtbW90aW9uLkFDdWJpc21Nb3Rpb247XG5cbmV4cG9ydCBuYW1lc3BhY2UgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIHtcbiAgLyoqXG4gICAqIOODouODvOOCt+ODp+ODs+WGjeeUn+OBrueuoeeQhlxuICAgKlxuICAgKiDjg6Ljg7zjgrfjg6fjg7Plho3nlJ/jga7nrqHnkIbnlKjjgq/jg6njgrnjgIJDdWJpc21Nb3Rpb27jg6Ljg7zjgrfjg6fjg7PjgarjgalBQ3ViaXNtTW90aW9u44Gu44K144OW44Kv44Op44K544KS5YaN55Sf44GZ44KL44Gf44KB44Gr5L2/55So44GZ44KL44CCXG4gICAqXG4gICAqIEBub3RlIOWGjeeUn+S4reOBq+WIpeOBruODouODvOOCt+ODp+ODs+OBjCBTdGFydE1vdGlvbigp44GV44KM44Gf5aC05ZCI44Gv44CB5paw44GX44GE44Oi44O844K344On44Oz44Gr5ruR44KJ44GL44Gr5aSJ5YyW44GX5pen44Oi44O844K344On44Oz44Gv5Lit5pat44GZ44KL44CCXG4gICAqICAgICAgIOihqOaDheeUqOODouODvOOCt+ODp+ODs+OAgeS9k+eUqOODouODvOOCt+ODp+ODs+OBquOBqeOCkuWIhuOBkeOBpuODouODvOOCt+ODp+ODs+WMluOBl+OBn+WgtOWQiOOBquOBqeOAgVxuICAgKiAgICAgICDopIfmlbDjga7jg6Ljg7zjgrfjg6fjg7PjgpLlkIzmmYLjgavlho3nlJ/jgZXjgZvjgovloLTlkIjjga/jgIHopIfmlbDjga5DdWJpc21Nb3Rpb25RdWV1ZU1hbmFnZXLjgqTjg7Pjgrnjgr/jg7PjgrnjgpLkvb/nlKjjgZnjgovjgIJcbiAgICovXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21Nb3Rpb25RdWV1ZU1hbmFnZXIge1xuICAgIC8qKlxuICAgICAqIOOCs+ODs+OCueODiOODqeOCr+OCv1xuICAgICAqL1xuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHRoaXMuX3VzZXJUaW1lU2Vjb25kcyA9IDAuMDtcbiAgICAgIHRoaXMuX2V2ZW50Q2FsbEJhY2sgPSBudWxsO1xuICAgICAgdGhpcy5fZXZlbnRDdXN0b21EYXRhID0gbnVsbDtcbiAgICAgIHRoaXMuX21vdGlvbnMgPSBuZXcgY3NtVmVjdG9yPEN1YmlzbU1vdGlvblF1ZXVlRW50cnk+KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44OH44K544OI44Op44Kv44K/XG4gICAgICovXG4gICAgcHVibGljIHJlbGVhc2UoKTogdm9pZCB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX21vdGlvbnMuZ2V0U2l6ZSgpOyArK2kpIHtcbiAgICAgICAgaWYgKHRoaXMuX21vdGlvbnMuYXQoaSkpIHtcbiAgICAgICAgICB0aGlzLl9tb3Rpb25zLmF0KGkpLnJlbGVhc2UoKTtcbiAgICAgICAgICB0aGlzLl9tb3Rpb25zLnNldChpLCB2b2lkIDApO1xuICAgICAgICAgIHRoaXMuX21vdGlvbnMuc2V0KGksIG51bGwpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX21vdGlvbnMgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOaMh+WumuOBl+OBn+ODouODvOOCt+ODp+ODs+OBrumWi+Wni1xuICAgICAqXG4gICAgICog5oyH5a6a44GX44Gf44Oi44O844K344On44Oz44KS6ZaL5aeL44GZ44KL44CC5ZCM44GY44K/44Kk44OX44Gu44Oi44O844K344On44Oz44GM5pei44Gr44GC44KL5aC05ZCI44Gv44CB5pei5a2Y44Gu44Oi44O844K344On44Oz44Gr57WC5LqG44OV44Op44Kw44KS56uL44Gm44CB44OV44Kn44O844OJ44Ki44Km44OI44KS6ZaL5aeL44GV44Gb44KL44CCXG4gICAgICpcbiAgICAgKiBAcGFyYW0gICBtb3Rpb24gICAgICAgICAg6ZaL5aeL44GZ44KL44Oi44O844K344On44OzXG4gICAgICogQHBhcmFtICAgYXV0b0RlbGV0ZSAgICAgIOWGjeeUn+OBjOe1guS6huOBl+OBn+ODouODvOOCt+ODp+ODs+OBruOCpOODs+OCueOCv+ODs+OCueOCkuWJiumZpOOBmeOCi+OBquOCiSB0cnVlXG4gICAgICogQHBhcmFtICAgdXNlclRpbWVTZWNvbmRzIOODh+ODq+OCv+aZgumWk+OBruepjeeul+WApFvnp5JdXG4gICAgICogQHJldHVybiAgICAgICAgICAgICAgICAgICAgICDplovlp4vjgZfjgZ/jg6Ljg7zjgrfjg6fjg7Pjga7orZjliKXnlarlj7fjgpLov5TjgZnjgILlgIvliKXjga7jg6Ljg7zjgrfjg6fjg7PjgYzntYLkuobjgZfjgZ/jgYvlkKbjgYvjgpLliKTlrprjgZnjgotJc0ZpbmlzaGVkKCnjga7lvJXmlbDjgafkvb/nlKjjgZnjgovjgILplovlp4vjgafjgY3jgarjgYTmmYLjga/jgIwtMeOAjVxuICAgICAqL1xuICAgIHB1YmxpYyBzdGFydE1vdGlvbihcbiAgICAgIG1vdGlvbjogQUN1YmlzbU1vdGlvbixcbiAgICAgIGF1dG9EZWxldGU6IGJvb2xlYW4sXG4gICAgICB1c2VyVGltZVNlY29uZHM6IG51bWJlclxuICAgICk6IEN1YmlzbU1vdGlvblF1ZXVlRW50cnlIYW5kbGUge1xuICAgICAgaWYgKG1vdGlvbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBJbnZhbGlkTW90aW9uUXVldWVFbnRyeUhhbmRsZVZhbHVlO1xuICAgICAgfVxuXG4gICAgICBsZXQgbW90aW9uUXVldWVFbnRyeTogQ3ViaXNtTW90aW9uUXVldWVFbnRyeSA9IG51bGw7XG5cbiAgICAgIC8vIOaXouOBq+ODouODvOOCt+ODp+ODs+OBjOOBguOCjOOBsOe1guS6huODleODqeOCsOOCkueri+OBpuOCi1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9tb3Rpb25zLmdldFNpemUoKTsgKytpKSB7XG4gICAgICAgIG1vdGlvblF1ZXVlRW50cnkgPSB0aGlzLl9tb3Rpb25zLmF0KGkpO1xuICAgICAgICBpZiAobW90aW9uUXVldWVFbnRyeSA9PSBudWxsKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBtb3Rpb25RdWV1ZUVudHJ5LnN0YXJ0RmFkZW91dChcbiAgICAgICAgICBtb3Rpb25RdWV1ZUVudHJ5Ll9tb3Rpb24uZ2V0RmFkZU91dFRpbWUoKSxcbiAgICAgICAgICB1c2VyVGltZVNlY29uZHNcbiAgICAgICAgKTsgLy8g44OV44Kn44O844OJ44Ki44Km44OI44KS6ZaL5aeL44GX57WC5LqG44GZ44KLXG4gICAgICB9XG5cbiAgICAgIG1vdGlvblF1ZXVlRW50cnkgPSBuZXcgQ3ViaXNtTW90aW9uUXVldWVFbnRyeSgpOyAvLyDntYLkuobmmYLjgavnoLTmo4TjgZnjgotcbiAgICAgIG1vdGlvblF1ZXVlRW50cnkuX2F1dG9EZWxldGUgPSBhdXRvRGVsZXRlO1xuICAgICAgbW90aW9uUXVldWVFbnRyeS5fbW90aW9uID0gbW90aW9uO1xuXG4gICAgICB0aGlzLl9tb3Rpb25zLnB1c2hCYWNrKG1vdGlvblF1ZXVlRW50cnkpO1xuXG4gICAgICByZXR1cm4gbW90aW9uUXVldWVFbnRyeS5fbW90aW9uUXVldWVFbnRyeUhhbmRsZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlhajjgabjga7jg6Ljg7zjgrfjg6fjg7Pjga7ntYLkuobjga7norroqo1cbiAgICAgKiBAcmV0dXJuIHRydWUg5YWo44Gm57WC5LqG44GX44Gm44GE44KLXG4gICAgICogQHJldHVybiBmYWxzZSDntYLkuobjgZfjgabjgYTjgarjgYRcbiAgICAgKi9cbiAgICBwdWJsaWMgaXNGaW5pc2hlZCgpOiBib29sZWFuIHtcbiAgICAgIC8vIC0tLS0tLS0g5Yem55CG44KS6KGM44GGIC0tLS0tLS1cbiAgICAgIC8vIOaXouOBq+ODouODvOOCt+ODp+ODs+OBjOOBguOCjOOBsOe1guS6huODleODqeOCsOOCkueri+OBpuOCi1xuXG4gICAgICBmb3IgKFxuICAgICAgICBsZXQgaXRlOiBpdGVyYXRvcjxDdWJpc21Nb3Rpb25RdWV1ZUVudHJ5PiA9IHRoaXMuX21vdGlvbnMuYmVnaW4oKTtcbiAgICAgICAgaXRlLm5vdEVxdWFsKHRoaXMuX21vdGlvbnMuZW5kKCkpO1xuXG4gICAgICApIHtcbiAgICAgICAgbGV0IG1vdGlvblF1ZXVlRW50cnk6IEN1YmlzbU1vdGlvblF1ZXVlRW50cnkgPSBpdGUucHRyKCk7XG5cbiAgICAgICAgaWYgKG1vdGlvblF1ZXVlRW50cnkgPT0gbnVsbCkge1xuICAgICAgICAgIGl0ZSA9IHRoaXMuX21vdGlvbnMuZXJhc2UoaXRlKTsgLy8g5YmK6ZmkXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtb3Rpb246IEFDdWJpc21Nb3Rpb24gPSBtb3Rpb25RdWV1ZUVudHJ5Ll9tb3Rpb247XG5cbiAgICAgICAgaWYgKG1vdGlvbiA9PSBudWxsKSB7XG4gICAgICAgICAgbW90aW9uUXVldWVFbnRyeS5yZWxlYXNlKCk7XG4gICAgICAgICAgbW90aW9uUXVldWVFbnRyeSA9IHZvaWQgMDtcbiAgICAgICAgICBtb3Rpb25RdWV1ZUVudHJ5ID0gbnVsbDtcbiAgICAgICAgICBpdGUgPSB0aGlzLl9tb3Rpb25zLmVyYXNlKGl0ZSk7IC8vIOWJiumZpFxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gLS0tLS0g57WC5LqG5riI44G/44Gu5Yem55CG44GM44GC44KM44Gw5YmK6Zmk44GZ44KLIC0tLS0tLVxuICAgICAgICBpZiAoIW1vdGlvblF1ZXVlRW50cnkuaXNGaW5pc2hlZCgpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZS5wcmVJbmNyZW1lbnQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDmjIflrprjgZfjgZ/jg6Ljg7zjgrfjg6fjg7Pjga7ntYLkuobjga7norroqo1cbiAgICAgKiBAcGFyYW0gbW90aW9uUXVldWVFbnRyeU51bWJlciDjg6Ljg7zjgrfjg6fjg7Pjga7orZjliKXnlarlj7dcbiAgICAgKiBAcmV0dXJuIHRydWUg5YWo44Gm57WC5LqG44GX44Gm44GE44KLXG4gICAgICogQHJldHVybiBmYWxzZSDntYLkuobjgZfjgabjgYTjgarjgYRcbiAgICAgKi9cbiAgICBwdWJsaWMgaXNGaW5pc2hlZEJ5SGFuZGxlKFxuICAgICAgbW90aW9uUXVldWVFbnRyeU51bWJlcjogQ3ViaXNtTW90aW9uUXVldWVFbnRyeUhhbmRsZVxuICAgICk6IGJvb2xlYW4ge1xuICAgICAgLy8g5pei44Gr44Oi44O844K344On44Oz44GM44GC44KM44Gw57WC5LqG44OV44Op44Kw44KS56uL44Gm44KLXG4gICAgICBmb3IgKFxuICAgICAgICBsZXQgaXRlOiBpdGVyYXRvcjxDdWJpc21Nb3Rpb25RdWV1ZUVudHJ5PiA9IHRoaXMuX21vdGlvbnMuYmVnaW4oKTtcbiAgICAgICAgaXRlLm5vdEVxdWFsKHRoaXMuX21vdGlvbnMuZW5kKCkpO1xuICAgICAgICBpdGUuaW5jcmVtZW50KClcbiAgICAgICkge1xuICAgICAgICBjb25zdCBtb3Rpb25RdWV1ZUVudHJ5OiBDdWJpc21Nb3Rpb25RdWV1ZUVudHJ5ID0gaXRlLnB0cigpO1xuXG4gICAgICAgIGlmIChtb3Rpb25RdWV1ZUVudHJ5ID09IG51bGwpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBtb3Rpb25RdWV1ZUVudHJ5Ll9tb3Rpb25RdWV1ZUVudHJ5SGFuZGxlID09IG1vdGlvblF1ZXVlRW50cnlOdW1iZXIgJiZcbiAgICAgICAgICAhbW90aW9uUXVldWVFbnRyeS5pc0ZpbmlzaGVkKClcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlhajjgabjga7jg6Ljg7zjgrfjg6fjg7PjgpLlgZzmraLjgZnjgotcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RvcEFsbE1vdGlvbnMoKTogdm9pZCB7XG4gICAgICAvLyAtLS0tLS0tIOWHpueQhuOCkuihjOOBhiAtLS0tLS0tXG4gICAgICAvLyDml6Ljgavjg6Ljg7zjgrfjg6fjg7PjgYzjgYLjgozjgbDntYLkuobjg5Xjg6njgrDjgpLnq4vjgabjgotcblxuICAgICAgZm9yIChcbiAgICAgICAgbGV0IGl0ZTogaXRlcmF0b3I8Q3ViaXNtTW90aW9uUXVldWVFbnRyeT4gPSB0aGlzLl9tb3Rpb25zLmJlZ2luKCk7XG4gICAgICAgIGl0ZS5ub3RFcXVhbCh0aGlzLl9tb3Rpb25zLmVuZCgpKTtcblxuICAgICAgKSB7XG4gICAgICAgIGxldCBtb3Rpb25RdWV1ZUVudHJ5OiBDdWJpc21Nb3Rpb25RdWV1ZUVudHJ5ID0gaXRlLnB0cigpO1xuXG4gICAgICAgIGlmIChtb3Rpb25RdWV1ZUVudHJ5ID09IG51bGwpIHtcbiAgICAgICAgICBpdGUgPSB0aGlzLl9tb3Rpb25zLmVyYXNlKGl0ZSk7XG5cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIC0tLS0tIOe1guS6hua4iOOBv+OBruWHpueQhuOBjOOBguOCjOOBsOWJiumZpOOBmeOCiyAtLS0tLS1cbiAgICAgICAgbW90aW9uUXVldWVFbnRyeS5yZWxlYXNlKCk7XG4gICAgICAgIG1vdGlvblF1ZXVlRW50cnkgPSB2b2lkIDA7XG4gICAgICAgIG1vdGlvblF1ZXVlRW50cnkgPSBudWxsO1xuICAgICAgICBpdGUgPSB0aGlzLl9tb3Rpb25zLmVyYXNlKGl0ZSk7IC8vIOWJiumZpFxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAgICAgKiDmjIflrprjgZfjgZ9DdWJpc21Nb3Rpb25RdWV1ZUVudHJ544Gu5Y+W5b6XXG5cbiAgICAgICAgICogQHBhcmFtICAgbW90aW9uUXVldWVFbnRyeU51bWJlciAg44Oi44O844K344On44Oz44Gu6K2Y5Yil55Wq5Y+3XG4gICAgICAgICAqIEByZXR1cm4gIOaMh+WumuOBl+OBn0N1YmlzbU1vdGlvblF1ZXVlRW50cnlcbiAgICAgICAgICogQHJldHVybiAgbnVsbCAgIOimi+OBpOOBi+OCieOBquOBi+OBo+OBn1xuICAgICAgICAgKi9cbiAgICBwdWJsaWMgZ2V0Q3ViaXNtTW90aW9uUXVldWVFbnRyeShcbiAgICAgIG1vdGlvblF1ZXVlRW50cnlOdW1iZXI6IGFueVxuICAgICk6IEN1YmlzbU1vdGlvblF1ZXVlRW50cnkge1xuICAgICAgLy8tLS0tLS0tIOWHpueQhuOCkuihjOOBhiAtLS0tLS0tXG4gICAgICAvLyDml6Ljgavjg6Ljg7zjgrfjg6fjg7PjgYzjgYLjgozjgbDntYLkuobjg5Xjg6njgrDjgpLnq4vjgabjgotcbiAgICAgIGZvciAoXG4gICAgICAgIGxldCBpdGU6IGl0ZXJhdG9yPEN1YmlzbU1vdGlvblF1ZXVlRW50cnk+ID0gdGhpcy5fbW90aW9ucy5iZWdpbigpO1xuICAgICAgICBpdGUubm90RXF1YWwodGhpcy5fbW90aW9ucy5lbmQoKSk7XG4gICAgICAgIGl0ZS5wcmVJbmNyZW1lbnQoKVxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IG1vdGlvblF1ZXVlRW50cnk6IEN1YmlzbU1vdGlvblF1ZXVlRW50cnkgPSBpdGUucHRyKCk7XG5cbiAgICAgICAgaWYgKG1vdGlvblF1ZXVlRW50cnkgPT0gbnVsbCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIG1vdGlvblF1ZXVlRW50cnkuX21vdGlvblF1ZXVlRW50cnlIYW5kbGUgPT0gbW90aW9uUXVldWVFbnRyeU51bWJlclxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gbW90aW9uUXVldWVFbnRyeTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjgqTjg5njg7Pjg4jjgpLlj5fjgZHlj5bjgotDYWxsYmFja+OBrueZu+mMslxuICAgICAqXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIOOCs+ODvOODq+ODkOODg+OCr+mWouaVsFxuICAgICAqIEBwYXJhbSBjdXN0b21EYXRhIOOCs+ODvOODq+ODkOODg+OCr+OBq+i/lOOBleOCjOOCi+ODh+ODvOOCv1xuICAgICAqL1xuICAgIHB1YmxpYyBzZXRFdmVudENhbGxiYWNrKFxuICAgICAgY2FsbGJhY2s6IEN1YmlzbU1vdGlvbkV2ZW50RnVuY3Rpb24sXG4gICAgICBjdXN0b21EYXRhOiBhbnkgPSBudWxsXG4gICAgKTogdm9pZCB7XG4gICAgICB0aGlzLl9ldmVudENhbGxCYWNrID0gY2FsbGJhY2s7XG4gICAgICB0aGlzLl9ldmVudEN1c3RvbURhdGEgPSBjdXN0b21EYXRhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODouODvOOCt+ODp+ODs+OCkuabtOaWsOOBl+OBpuOAgeODouODh+ODq+OBq+ODkeODqeODoeODvOOCv+WApOOCkuWPjeaYoOOBmeOCi+OAglxuICAgICAqXG4gICAgICogQHBhcmFtICAgbW9kZWwgICDlr77osaHjga7jg6Ljg4fjg6tcbiAgICAgKiBAcGFyYW0gICB1c2VyVGltZVNlY29uZHMgICDjg4fjg6vjgr/mmYLplpPjga7nqY3nrpflgKRb56eSXVxuICAgICAqIEByZXR1cm4gIHRydWUgICAg44Oi44OH44Or44G444OR44Op44Oh44O844K/5YCk44Gu5Y+N5pig44GC44KKXG4gICAgICogQHJldHVybiAgZmFsc2UgICDjg6Ljg4fjg6vjgbjjg5Hjg6njg6Hjg7zjgr/lgKTjga7lj43mmKDjgarjgZco44Oi44O844K344On44Oz44Gu5aSJ5YyW44Gq44GXKVxuICAgICAqL1xuICAgIHB1YmxpYyBkb1VwZGF0ZU1vdGlvbihcbiAgICAgIG1vZGVsOiBDdWJpc21Nb2RlbCxcbiAgICAgIHVzZXJUaW1lU2Vjb25kczogbnVtYmVyXG4gICAgKTogYm9vbGVhbiB7XG4gICAgICBsZXQgdXBkYXRlZCA9IGZhbHNlO1xuXG4gICAgICAvLyAtLS0tLS0tIOWHpueQhuOCkuihjOOBhiAtLS0tLS0tLVxuICAgICAgLy8g5pei44Gr44Oi44O844K344On44Oz44GM44GC44KM44Gw57WC5LqG44OV44Op44Kw44KS56uL44Gm44KLXG5cbiAgICAgIGZvciAoXG4gICAgICAgIGxldCBpdGU6IGl0ZXJhdG9yPEN1YmlzbU1vdGlvblF1ZXVlRW50cnk+ID0gdGhpcy5fbW90aW9ucy5iZWdpbigpO1xuICAgICAgICBpdGUubm90RXF1YWwodGhpcy5fbW90aW9ucy5lbmQoKSk7XG5cbiAgICAgICkge1xuICAgICAgICBsZXQgbW90aW9uUXVldWVFbnRyeTogQ3ViaXNtTW90aW9uUXVldWVFbnRyeSA9IGl0ZS5wdHIoKTtcblxuICAgICAgICBpZiAobW90aW9uUXVldWVFbnRyeSA9PSBudWxsKSB7XG4gICAgICAgICAgaXRlID0gdGhpcy5fbW90aW9ucy5lcmFzZShpdGUpOyAvLyDliYrpmaRcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1vdGlvbjogQUN1YmlzbU1vdGlvbiA9IG1vdGlvblF1ZXVlRW50cnkuX21vdGlvbjtcblxuICAgICAgICBpZiAobW90aW9uID09IG51bGwpIHtcbiAgICAgICAgICBtb3Rpb25RdWV1ZUVudHJ5LnJlbGVhc2UoKTtcbiAgICAgICAgICBtb3Rpb25RdWV1ZUVudHJ5ID0gdm9pZCAwO1xuICAgICAgICAgIG1vdGlvblF1ZXVlRW50cnkgPSBudWxsO1xuICAgICAgICAgIGl0ZSA9IHRoaXMuX21vdGlvbnMuZXJhc2UoaXRlKTsgLy8g5YmK6ZmkXG5cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIC0tLS0tLSDlgKTjgpLlj43mmKDjgZnjgosgLS0tLS0tXG4gICAgICAgIG1vdGlvbi51cGRhdGVQYXJhbWV0ZXJzKG1vZGVsLCBtb3Rpb25RdWV1ZUVudHJ5LCB1c2VyVGltZVNlY29uZHMpO1xuICAgICAgICB1cGRhdGVkID0gdHJ1ZTtcblxuICAgICAgICAvLyAtLS0tLS0g44Om44O844K244OI44Oq44Ks44O844Kk44OZ44Oz44OI44KS5qSc5p+744GZ44KLIC0tLS1cbiAgICAgICAgY29uc3QgZmlyZWRMaXN0OiBjc21WZWN0b3I8Y3NtU3RyaW5nPiA9IG1vdGlvbi5nZXRGaXJlZEV2ZW50KFxuICAgICAgICAgIG1vdGlvblF1ZXVlRW50cnkuZ2V0TGFzdENoZWNrRXZlbnRUaW1lKCkgLVxuICAgICAgICAgICAgbW90aW9uUXVldWVFbnRyeS5nZXRTdGFydFRpbWUoKSxcbiAgICAgICAgICB1c2VyVGltZVNlY29uZHMgLSBtb3Rpb25RdWV1ZUVudHJ5LmdldFN0YXJ0VGltZSgpXG4gICAgICAgICk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaXJlZExpc3QuZ2V0U2l6ZSgpOyArK2kpIHtcbiAgICAgICAgICB0aGlzLl9ldmVudENhbGxCYWNrKHRoaXMsIGZpcmVkTGlzdC5hdChpKSwgdGhpcy5fZXZlbnRDdXN0b21EYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1vdGlvblF1ZXVlRW50cnkuc2V0TGFzdENoZWNrRXZlbnRUaW1lKHVzZXJUaW1lU2Vjb25kcyk7XG5cbiAgICAgICAgLy8gLS0tLS0tIOe1guS6hua4iOOBv+OBruWHpueQhuOBjOOBguOCjOOBsOWJiumZpOOBmeOCiyAtLS0tLS1cbiAgICAgICAgaWYgKG1vdGlvblF1ZXVlRW50cnkuaXNGaW5pc2hlZCgpKSB7XG4gICAgICAgICAgbW90aW9uUXVldWVFbnRyeS5yZWxlYXNlKCk7XG4gICAgICAgICAgbW90aW9uUXVldWVFbnRyeSA9IHZvaWQgMDtcbiAgICAgICAgICBtb3Rpb25RdWV1ZUVudHJ5ID0gbnVsbDtcbiAgICAgICAgICBpdGUgPSB0aGlzLl9tb3Rpb25zLmVyYXNlKGl0ZSk7IC8vIOWJiumZpFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZS5wcmVJbmNyZW1lbnQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdXBkYXRlZDtcbiAgICB9XG4gICAgX3VzZXJUaW1lU2Vjb25kczogbnVtYmVyOyAvLyDjg4fjg6vjgr/mmYLplpPjga7nqY3nrpflgKRb56eSXVxuXG4gICAgX21vdGlvbnM6IGNzbVZlY3RvcjxDdWJpc21Nb3Rpb25RdWV1ZUVudHJ5PjsgLy8g44Oi44O844K344On44OzXG4gICAgX2V2ZW50Q2FsbEJhY2s6IEN1YmlzbU1vdGlvbkV2ZW50RnVuY3Rpb247IC8vIOOCs+ODvOODq+ODkOODg+OCr+mWouaVsFxuICAgIF9ldmVudEN1c3RvbURhdGE6IGFueTsgLy8g44Kz44O844Or44OQ44OD44Kv44Gr5oi744GV44KM44KL44OH44O844K/XG4gIH1cblxuICAvKipcbiAgICog44Kk44OZ44Oz44OI44Gu44Kz44O844Or44OQ44OD44Kv6Zai5pWw44KS5a6a576pXG4gICAqXG4gICAqIOOCpOODmeODs+ODiOOBruOCs+ODvOODq+ODkOODg+OCr+OBq+eZu+mMsuOBp+OBjeOCi+mWouaVsOOBruWei+aDheWgsVxuICAgKiBAcGFyYW0gY2FsbGVyICAgICAgICDnmbrngavjgZfjgZ/jgqTjg5njg7Pjg4jjgpLlho3nlJ/jgZXjgZvjgZ9DdWJpc21Nb3Rpb25RdWV1ZU1hbmFnZXJcbiAgICogQHBhcmFtIGV2ZW50VmFsdWUgICAg55m654Gr44GX44Gf44Kk44OZ44Oz44OI44Gu5paH5a2X5YiX44OH44O844K/XG4gICAqIEBwYXJhbSBjdXN0b21EYXRhICAg44Kz44O844Or44OQ44OD44Kv44Gr6L+U44GV44KM44KL55m76Yyy5pmC44Gr5oyH5a6a44GV44KM44Gf44OH44O844K/XG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIEN1YmlzbU1vdGlvbkV2ZW50RnVuY3Rpb24ge1xuICAgIChcbiAgICAgIGNhbGxlcjogQ3ViaXNtTW90aW9uUXVldWVNYW5hZ2VyLFxuICAgICAgZXZlbnRWYWx1ZTogY3NtU3RyaW5nLFxuICAgICAgY3VzdG9tRGF0YTogYW55XG4gICAgKTogdm9pZDtcbiAgfVxuXG4gIC8qKlxuICAgKiDjg6Ljg7zjgrfjg6fjg7Pjga7orZjliKXnlarlj7dcbiAgICpcbiAgICog44Oi44O844K344On44Oz44Gu6K2Y5Yil55Wq5Y+344Gu5a6a576pXG4gICAqL1xuICBleHBvcnQgZGVjbGFyZSB0eXBlIEN1YmlzbU1vdGlvblF1ZXVlRW50cnlIYW5kbGUgPSBhbnk7XG4gIGV4cG9ydCBjb25zdCBJbnZhbGlkTW90aW9uUXVldWVFbnRyeUhhbmRsZVZhbHVlOiBDdWJpc21Nb3Rpb25RdWV1ZUVudHJ5SGFuZGxlID0gLTE7XG59XG4iXSwibWFwcGluZ3MiOiI7OztBQVFBO0FBQ0E7QUFLQTtBQUVBO0FBR0E7QUFBQTtBQVVBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFZQTtBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFPQTtBQUlBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFRQTtBQUlBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBSUE7QUFLQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFLQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBUUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQVVBO0FBSUE7QUFLQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUdBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU1BO0FBQUE7QUFwU0E7QUE0VEE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Framework/src/motion/cubismmotionqueuemanager.ts\n");

/***/ }),

/***/ "./Framework/src/physics/cubismphysics.ts":
/*!************************************************!*\
  !*** ./Framework/src/physics/cubismphysics.ts ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar cubismphysicsinternal_1 = __webpack_require__(/*! ./cubismphysicsinternal */ \"./Framework/src/physics/cubismphysicsinternal.ts\");\nvar cubismvector2_1 = __webpack_require__(/*! ../math/cubismvector2 */ \"./Framework/src/math/cubismvector2.ts\");\nvar cubismmath_1 = __webpack_require__(/*! ../math/cubismmath */ \"./Framework/src/math/cubismmath.ts\");\nvar cubismphysicsjson_1 = __webpack_require__(/*! ./cubismphysicsjson */ \"./Framework/src/physics/cubismphysicsjson.ts\");\nvar CubismPhysicsJson = cubismphysicsjson_1.Live2DCubismFramework.CubismPhysicsJson;\nvar CubismMath = cubismmath_1.Live2DCubismFramework.CubismMath;\nvar CubismPhysicsRig = cubismphysicsinternal_1.Live2DCubismFramework.CubismPhysicsRig;\nvar CubismPhysicsSubRig = cubismphysicsinternal_1.Live2DCubismFramework.CubismPhysicsSubRig;\nvar CubismPhysicsInput = cubismphysicsinternal_1.Live2DCubismFramework.CubismPhysicsInput;\nvar CubismPhysicsOutput = cubismphysicsinternal_1.Live2DCubismFramework.CubismPhysicsOutput;\nvar CubismPhysicsParticle = cubismphysicsinternal_1.Live2DCubismFramework.CubismPhysicsParticle;\nvar CubismPhysicsSource = cubismphysicsinternal_1.Live2DCubismFramework.CubismPhysicsSource;\nvar CubismPhysicsTargetType = cubismphysicsinternal_1.Live2DCubismFramework.CubismPhysicsTargetType;\nvar CubismVector2 = cubismvector2_1.Live2DCubismFramework.CubismVector2;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var PhysicsTypeTagX = 'X';\n    var PhysicsTypeTagY = 'Y';\n    var PhysicsTypeTagAngle = 'Angle';\n    var AirResistance = 5.0;\n    var MaximumWeight = 100.0;\n    var MovementThreshold = 0.001;\n    var CubismPhysics = (function () {\n        function CubismPhysics() {\n            this._physicsRig = null;\n            this._options = new Options();\n            this._options.gravity.y = -1.0;\n            this._options.gravity.x = 0;\n            this._options.wind.x = 0;\n            this._options.wind.y = 0;\n        }\n        CubismPhysics.create = function (buffer, size) {\n            var ret = new CubismPhysics();\n            ret.parse(buffer, size);\n            ret._physicsRig.gravity.y = 0;\n            return ret;\n        };\n        CubismPhysics.delete = function (physics) {\n            if (physics != null) {\n                physics.release();\n                physics = null;\n            }\n        };\n        CubismPhysics.prototype.evaluate = function (model, deltaTimeSeconds) {\n            var totalAngle;\n            var weight;\n            var radAngle;\n            var outputValue;\n            var totalTranslation = new CubismVector2();\n            var currentSetting;\n            var currentInput;\n            var currentOutput;\n            var currentParticles;\n            var parameterValue;\n            var parameterMaximumValue;\n            var parameterMinimumValue;\n            var parameterDefaultValue;\n            parameterValue = model.getModel().parameters.values;\n            parameterMaximumValue = model.getModel().parameters.maximumValues;\n            parameterMinimumValue = model.getModel().parameters.minimumValues;\n            parameterDefaultValue = model.getModel().parameters.defaultValues;\n            for (var settingIndex = 0; settingIndex < this._physicsRig.subRigCount; ++settingIndex) {\n                totalAngle = { angle: 0.0 };\n                totalTranslation.x = 0.0;\n                totalTranslation.y = 0.0;\n                currentSetting = this._physicsRig.settings.at(settingIndex);\n                currentInput = this._physicsRig.inputs.get(currentSetting.baseInputIndex);\n                currentOutput = this._physicsRig.outputs.get(currentSetting.baseOutputIndex);\n                currentParticles = this._physicsRig.particles.get(currentSetting.baseParticleIndex);\n                for (var i = 0; i < currentSetting.inputCount; ++i) {\n                    weight = currentInput[i].weight / MaximumWeight;\n                    if (currentInput[i].sourceParameterIndex == -1) {\n                        currentInput[i].sourceParameterIndex = model.getParameterIndex(currentInput[i].source.id);\n                    }\n                    currentInput[i].getNormalizedParameterValue(totalTranslation, totalAngle, parameterValue[currentInput[i].sourceParameterIndex], parameterMinimumValue[currentInput[i].sourceParameterIndex], parameterMaximumValue[currentInput[i].sourceParameterIndex], parameterDefaultValue[currentInput[i].sourceParameterIndex], currentSetting.normalizationPosition, currentSetting.normalizationAngle, currentInput[0].reflect, weight);\n                }\n                radAngle = CubismMath.degreesToRadian(-totalAngle.angle);\n                totalTranslation.x =\n                    totalTranslation.x * CubismMath.cos(radAngle) -\n                        totalTranslation.y * CubismMath.sin(radAngle);\n                totalTranslation.y =\n                    totalTranslation.x * CubismMath.sin(radAngle) +\n                        totalTranslation.y * CubismMath.cos(radAngle);\n                updateParticles(currentParticles, currentSetting.particleCount, totalTranslation, totalAngle.angle, this._options.wind, MovementThreshold * currentSetting.normalizationPosition.maximum, deltaTimeSeconds, AirResistance);\n                for (var i = 0; i < currentSetting.outputCount; ++i) {\n                    var particleIndex = currentOutput[i].vertexIndex;\n                    if (particleIndex < 1 ||\n                        particleIndex >= currentSetting.particleCount) {\n                        break;\n                    }\n                    if (currentOutput[i].destinationParameterIndex == -1) {\n                        currentOutput[i].destinationParameterIndex = model.getParameterIndex(currentOutput[i].destination.id);\n                    }\n                    var translation = new CubismVector2();\n                    translation.x =\n                        currentParticles[particleIndex].position.x -\n                            currentParticles[particleIndex - 1].position.x;\n                    translation.y =\n                        currentParticles[particleIndex].position.y -\n                            currentParticles[particleIndex - 1].position.y;\n                    outputValue = currentOutput[i].getValue(translation, currentParticles, particleIndex, currentOutput[i].reflect, this._options.gravity);\n                    var destinationParameterIndex = currentOutput[i].destinationParameterIndex;\n                    var outParameterValue = !Float32Array.prototype.slice &&\n                        'subarray' in Float32Array.prototype\n                        ? JSON.parse(JSON.stringify(parameterValue.subarray(destinationParameterIndex)))\n                        : parameterValue.slice(destinationParameterIndex);\n                    updateOutputParameterValue(outParameterValue, parameterMinimumValue[destinationParameterIndex], parameterMaximumValue[destinationParameterIndex], outputValue, currentOutput[i]);\n                    for (var offset = destinationParameterIndex, outParamIndex = 0; offset < parameterValue.length; offset++, outParamIndex++) {\n                        parameterValue[offset] = outParameterValue[outParamIndex];\n                    }\n                }\n            }\n        };\n        CubismPhysics.prototype.setOptions = function (options) {\n            this._options = options;\n        };\n        CubismPhysics.prototype.getOption = function () {\n            return this._options;\n        };\n        CubismPhysics.prototype.release = function () {\n            this._physicsRig = void 0;\n            this._physicsRig = null;\n        };\n        CubismPhysics.prototype.parse = function (physicsJson, size) {\n            this._physicsRig = new CubismPhysicsRig();\n            var json = new CubismPhysicsJson(physicsJson, size);\n            this._physicsRig.gravity = json.getGravity();\n            this._physicsRig.wind = json.getWind();\n            this._physicsRig.subRigCount = json.getSubRigCount();\n            this._physicsRig.settings.updateSize(this._physicsRig.subRigCount, CubismPhysicsSubRig, true);\n            this._physicsRig.inputs.updateSize(json.getTotalInputCount(), CubismPhysicsInput, true);\n            this._physicsRig.outputs.updateSize(json.getTotalOutputCount(), CubismPhysicsOutput, true);\n            this._physicsRig.particles.updateSize(json.getVertexCount(), CubismPhysicsParticle, true);\n            var inputIndex = 0, outputIndex = 0, particleIndex = 0;\n            for (var i = 0; i < this._physicsRig.settings.getSize(); ++i) {\n                this._physicsRig.settings.at(i).normalizationPosition.minimum = json.getNormalizationPositionMinimumValue(i);\n                this._physicsRig.settings.at(i).normalizationPosition.maximum = json.getNormalizationPositionMaximumValue(i);\n                this._physicsRig.settings.at(i).normalizationPosition.defalut = json.getNormalizationPositionDefaultValue(i);\n                this._physicsRig.settings.at(i).normalizationAngle.minimum = json.getNormalizationAngleMinimumValue(i);\n                this._physicsRig.settings.at(i).normalizationAngle.maximum = json.getNormalizationAngleMaximumValue(i);\n                this._physicsRig.settings.at(i).normalizationAngle.defalut = json.getNormalizationAngleDefaultValue(i);\n                this._physicsRig.settings.at(i).inputCount = json.getInputCount(i);\n                this._physicsRig.settings.at(i).baseInputIndex = inputIndex;\n                for (var j = 0; j < this._physicsRig.settings.at(i).inputCount; ++j) {\n                    this._physicsRig.inputs.at(inputIndex + j).sourceParameterIndex = -1;\n                    this._physicsRig.inputs.at(inputIndex + j).weight = json.getInputWeight(i, j);\n                    this._physicsRig.inputs.at(inputIndex + j).reflect = json.getInputReflect(i, j);\n                    if (json.getInputType(i, j) == PhysicsTypeTagX) {\n                        this._physicsRig.inputs.at(inputIndex + j).type =\n                            CubismPhysicsSource.CubismPhysicsSource_X;\n                        this._physicsRig.inputs.at(inputIndex + j).getNormalizedParameterValue = getInputTranslationXFromNormalizedParameterValue;\n                    }\n                    else if (json.getInputType(i, j) == PhysicsTypeTagY) {\n                        this._physicsRig.inputs.at(inputIndex + j).type =\n                            CubismPhysicsSource.CubismPhysicsSource_Y;\n                        this._physicsRig.inputs.at(inputIndex + j).getNormalizedParameterValue = getInputTranslationYFromNormalizedParamterValue;\n                    }\n                    else if (json.getInputType(i, j) == PhysicsTypeTagAngle) {\n                        this._physicsRig.inputs.at(inputIndex + j).type =\n                            CubismPhysicsSource.CubismPhysicsSource_Angle;\n                        this._physicsRig.inputs.at(inputIndex + j).getNormalizedParameterValue = getInputAngleFromNormalizedParameterValue;\n                    }\n                    this._physicsRig.inputs.at(inputIndex + j).source.targetType =\n                        CubismPhysicsTargetType.CubismPhysicsTargetType_Parameter;\n                    this._physicsRig.inputs.at(inputIndex + j).source.id = json.getInputSourceId(i, j);\n                }\n                inputIndex += this._physicsRig.settings.at(i).inputCount;\n                this._physicsRig.settings.at(i).outputCount = json.getOutputCount(i);\n                this._physicsRig.settings.at(i).baseOutputIndex = outputIndex;\n                for (var j = 0; j < this._physicsRig.settings.at(i).outputCount; ++j) {\n                    this._physicsRig.outputs.at(outputIndex + j).destinationParameterIndex = -1;\n                    this._physicsRig.outputs.at(outputIndex + j).vertexIndex = json.getOutputVertexIndex(i, j);\n                    this._physicsRig.outputs.at(outputIndex + j).angleScale = json.getOutputAngleScale(i, j);\n                    this._physicsRig.outputs.at(outputIndex + j).weight = json.getOutputWeight(i, j);\n                    this._physicsRig.outputs.at(outputIndex + j).destination.targetType =\n                        CubismPhysicsTargetType.CubismPhysicsTargetType_Parameter;\n                    this._physicsRig.outputs.at(outputIndex + j).destination.id = json.getOutputDestinationId(i, j);\n                    if (json.getOutputType(i, j) == PhysicsTypeTagX) {\n                        this._physicsRig.outputs.at(outputIndex + j).type =\n                            CubismPhysicsSource.CubismPhysicsSource_X;\n                        this._physicsRig.outputs.at(outputIndex + j).getValue = getOutputTranslationX;\n                        this._physicsRig.outputs.at(outputIndex + j).getScale = getOutputScaleTranslationX;\n                    }\n                    else if (json.getOutputType(i, j) == PhysicsTypeTagY) {\n                        this._physicsRig.outputs.at(outputIndex + j).type =\n                            CubismPhysicsSource.CubismPhysicsSource_Y;\n                        this._physicsRig.outputs.at(outputIndex + j).getValue = getOutputTranslationY;\n                        this._physicsRig.outputs.at(outputIndex + j).getScale = getOutputScaleTranslationY;\n                    }\n                    else if (json.getOutputType(i, j) == PhysicsTypeTagAngle) {\n                        this._physicsRig.outputs.at(outputIndex + j).type =\n                            CubismPhysicsSource.CubismPhysicsSource_Angle;\n                        this._physicsRig.outputs.at(outputIndex + j).getValue = getOutputAngle;\n                        this._physicsRig.outputs.at(outputIndex + j).getScale = getOutputScaleAngle;\n                    }\n                    this._physicsRig.outputs.at(outputIndex + j).reflect = json.getOutputReflect(i, j);\n                }\n                outputIndex += this._physicsRig.settings.at(i).outputCount;\n                this._physicsRig.settings.at(i).particleCount = json.getParticleCount(i);\n                this._physicsRig.settings.at(i).baseParticleIndex = particleIndex;\n                for (var j = 0; j < this._physicsRig.settings.at(i).particleCount; ++j) {\n                    this._physicsRig.particles.at(particleIndex + j).mobility = json.getParticleMobility(i, j);\n                    this._physicsRig.particles.at(particleIndex + j).delay = json.getParticleDelay(i, j);\n                    this._physicsRig.particles.at(particleIndex + j).acceleration = json.getParticleAcceleration(i, j);\n                    this._physicsRig.particles.at(particleIndex + j).radius = json.getParticleRadius(i, j);\n                    this._physicsRig.particles.at(particleIndex + j).position = json.getParticlePosition(i, j);\n                }\n                particleIndex += this._physicsRig.settings.at(i).particleCount;\n            }\n            this.initialize();\n            json.release();\n            json = void 0;\n            json = null;\n        };\n        CubismPhysics.prototype.initialize = function () {\n            var strand;\n            var currentSetting;\n            var radius;\n            for (var settingIndex = 0; settingIndex < this._physicsRig.subRigCount; ++settingIndex) {\n                currentSetting = this._physicsRig.settings.at(settingIndex);\n                strand = this._physicsRig.particles.get(currentSetting.baseParticleIndex);\n                strand[0].initialPosition = new CubismVector2(0.0, 0.0);\n                strand[0].lastPosition = new CubismVector2(strand[0].initialPosition.x, strand[0].initialPosition.y);\n                strand[0].lastGravity = new CubismVector2(0.0, -1.0);\n                strand[0].lastGravity.y *= -1.0;\n                strand[0].velocity = new CubismVector2(0.0, 0.0);\n                strand[0].force = new CubismVector2(0.0, 0.0);\n                for (var i = 1; i < currentSetting.particleCount; ++i) {\n                    radius = new CubismVector2(0.0, 0.0);\n                    radius.y = strand[i].radius;\n                    strand[i].initialPosition = new CubismVector2(strand[i - 1].initialPosition.x + radius.x, strand[i - 1].initialPosition.y + radius.y);\n                    strand[i].position = new CubismVector2(strand[i].initialPosition.x, strand[i].initialPosition.y);\n                    strand[i].lastPosition = new CubismVector2(strand[i].initialPosition.x, strand[i].initialPosition.y);\n                    strand[i].lastGravity = new CubismVector2(0.0, -1.0);\n                    strand[i].lastGravity.y *= -1.0;\n                    strand[i].velocity = new CubismVector2(0.0, 0.0);\n                    strand[i].force = new CubismVector2(0.0, 0.0);\n                }\n            }\n        };\n        return CubismPhysics;\n    }());\n    Live2DCubismFramework.CubismPhysics = CubismPhysics;\n    var Options = (function () {\n        function Options() {\n            this.gravity = new CubismVector2(0, 0);\n            this.wind = new CubismVector2(0, 0);\n        }\n        return Options;\n    }());\n    Live2DCubismFramework.Options = Options;\n    function sign(value) {\n        var ret = 0;\n        if (value > 0.0) {\n            ret = 1;\n        }\n        else if (value < 0.0) {\n            ret = -1;\n        }\n        return ret;\n    }\n    function getInputTranslationXFromNormalizedParameterValue(targetTranslation, targetAngle, value, parameterMinimumValue, parameterMaximumValue, parameterDefaultValue, normalizationPosition, normalizationAngle, isInverted, weight) {\n        targetTranslation.x +=\n            normalizeParameterValue(value, parameterMinimumValue, parameterMaximumValue, parameterDefaultValue, normalizationPosition.minimum, normalizationPosition.maximum, normalizationPosition.defalut, isInverted) * weight;\n    }\n    function getInputTranslationYFromNormalizedParamterValue(targetTranslation, targetAngle, value, parameterMinimumValue, parameterMaximumValue, parameterDefaultValue, normalizationPosition, normalizationAngle, isInverted, weight) {\n        targetTranslation.y +=\n            normalizeParameterValue(value, parameterMinimumValue, parameterMaximumValue, parameterDefaultValue, normalizationPosition.minimum, normalizationPosition.maximum, normalizationPosition.defalut, isInverted) * weight;\n    }\n    function getInputAngleFromNormalizedParameterValue(targetTranslation, targetAngle, value, parameterMinimumValue, parameterMaximumValue, parameterDefaultValue, normalizaitionPosition, normalizationAngle, isInverted, weight) {\n        targetAngle.angle +=\n            normalizeParameterValue(value, parameterMinimumValue, parameterMaximumValue, parameterDefaultValue, normalizationAngle.minimum, normalizationAngle.maximum, normalizationAngle.defalut, isInverted) * weight;\n    }\n    function getOutputTranslationX(translation, particles, particleIndex, isInverted, parentGravity) {\n        var outputValue = translation.x;\n        if (isInverted) {\n            outputValue *= -1.0;\n        }\n        return outputValue;\n    }\n    function getOutputTranslationY(translation, particles, particleIndex, isInverted, parentGravity) {\n        var outputValue = translation.y;\n        if (isInverted) {\n            outputValue *= -1.0;\n        }\n        return outputValue;\n    }\n    function getOutputAngle(translation, particles, particleIndex, isInverted, parentGravity) {\n        var outputValue;\n        if (particleIndex >= 2) {\n            parentGravity = particles[particleIndex - 1].position.substract(particles[particleIndex - 2].position);\n        }\n        else {\n            parentGravity = parentGravity.multiplyByScaler(-1.0);\n        }\n        outputValue = CubismMath.directionToRadian(parentGravity, translation);\n        if (isInverted) {\n            outputValue *= -1.0;\n        }\n        return outputValue;\n    }\n    function getRangeValue(min, max) {\n        var maxValue = CubismMath.max(min, max);\n        var minValue = CubismMath.min(min, max);\n        return CubismMath.abs(maxValue - minValue);\n    }\n    function getDefaultValue(min, max) {\n        var minValue = CubismMath.min(min, max);\n        return minValue + getRangeValue(min, max) / 2.0;\n    }\n    function getOutputScaleTranslationX(translationScale, angleScale) {\n        return JSON.parse(JSON.stringify(translationScale.x));\n    }\n    function getOutputScaleTranslationY(translationScale, angleScale) {\n        return JSON.parse(JSON.stringify(translationScale.y));\n    }\n    function getOutputScaleAngle(translationScale, angleScale) {\n        return JSON.parse(JSON.stringify(angleScale));\n    }\n    function updateParticles(strand, strandCount, totalTranslation, totalAngle, windDirection, thresholdValue, deltaTimeSeconds, airResistance) {\n        var totalRadian;\n        var delay;\n        var radian;\n        var currentGravity;\n        var direction = new CubismVector2(0.0, 0.0);\n        var velocity = new CubismVector2(0.0, 0.0);\n        var force = new CubismVector2(0.0, 0.0);\n        var newDirection = new CubismVector2(0.0, 0.0);\n        strand[0].position = new CubismVector2(totalTranslation.x, totalTranslation.y);\n        totalRadian = CubismMath.degreesToRadian(totalAngle);\n        currentGravity = CubismMath.radianToDirection(totalRadian);\n        currentGravity.normalize();\n        for (var i = 1; i < strandCount; ++i) {\n            strand[i].force = currentGravity\n                .multiplyByScaler(strand[i].acceleration)\n                .add(windDirection);\n            strand[i].lastPosition = new CubismVector2(strand[i].position.x, strand[i].position.y);\n            delay = strand[i].delay * deltaTimeSeconds * 30.0;\n            direction = strand[i].position.substract(strand[i - 1].position);\n            radian =\n                CubismMath.directionToRadian(strand[i].lastGravity, currentGravity) /\n                    airResistance;\n            direction.x =\n                CubismMath.cos(radian) * direction.x -\n                    direction.y * CubismMath.sin(radian);\n            direction.y =\n                CubismMath.sin(radian) * direction.x +\n                    direction.y * CubismMath.cos(radian);\n            strand[i].position = strand[i - 1].position.add(direction);\n            velocity = strand[i].velocity.multiplyByScaler(delay);\n            force = strand[i].force.multiplyByScaler(delay).multiplyByScaler(delay);\n            strand[i].position = strand[i].position.add(velocity).add(force);\n            newDirection = strand[i].position.substract(strand[i - 1].position);\n            newDirection.normalize();\n            strand[i].position = strand[i - 1].position.add(newDirection.multiplyByScaler(strand[i].radius));\n            if (CubismMath.abs(strand[i].position.x) < thresholdValue) {\n                strand[i].position.x = 0.0;\n            }\n            if (delay != 0.0) {\n                strand[i].velocity = strand[i].position.substract(strand[i].lastPosition);\n                strand[i].velocity = strand[i].velocity.divisionByScalar(delay);\n                strand[i].velocity = strand[i].velocity.multiplyByScaler(strand[i].mobility);\n            }\n            strand[i].force = new CubismVector2(0.0, 0.0);\n            strand[i].lastGravity = new CubismVector2(currentGravity.x, currentGravity.y);\n        }\n    }\n    function updateOutputParameterValue(parameterValue, parameterValueMinimum, parameterValueMaximum, translation, output) {\n        var outputScale;\n        var value;\n        var weight;\n        outputScale = output.getScale(output.translationScale, output.angleScale);\n        value = translation * outputScale;\n        if (value < parameterValueMinimum) {\n            if (value < output.valueBelowMinimum) {\n                output.valueBelowMinimum = value;\n            }\n            value = parameterValueMinimum;\n        }\n        else if (value > parameterValueMaximum) {\n            if (value > output.valueExceededMaximum) {\n                output.valueExceededMaximum = value;\n            }\n            value = parameterValueMaximum;\n        }\n        weight = output.weight / MaximumWeight;\n        if (weight >= 1.0) {\n            parameterValue[0] = value;\n        }\n        else {\n            value = parameterValue[0] * (1.0 - weight) + value * weight;\n            parameterValue[0] = value;\n        }\n    }\n    function normalizeParameterValue(value, parameterMinimum, parameterMaximum, parameterDefault, normalizedMinimum, normalizedMaximum, normalizedDefault, isInverted) {\n        var result = 0.0;\n        var maxValue = CubismMath.max(parameterMaximum, parameterMinimum);\n        if (maxValue < value) {\n            value = maxValue;\n        }\n        var minValue = CubismMath.min(parameterMaximum, parameterMinimum);\n        if (minValue > value) {\n            value = minValue;\n        }\n        var minNormValue = CubismMath.min(normalizedMinimum, normalizedMaximum);\n        var maxNormValue = CubismMath.max(normalizedMinimum, normalizedMaximum);\n        var middleNormValue = normalizedDefault;\n        var middleValue = getDefaultValue(minValue, maxValue);\n        var paramValue = value - middleValue;\n        switch (sign(paramValue)) {\n            case 1: {\n                var nLength = maxNormValue - middleNormValue;\n                var pLength = maxValue - middleValue;\n                if (pLength != 0.0) {\n                    result = paramValue * (nLength / pLength);\n                    result += middleNormValue;\n                }\n                break;\n            }\n            case -1: {\n                var nLength = minNormValue - middleNormValue;\n                var pLength = minValue - middleValue;\n                if (pLength != 0.0) {\n                    result = paramValue * (nLength / pLength);\n                    result += middleNormValue;\n                }\n                break;\n            }\n            case 0: {\n                result = middleNormValue;\n                break;\n            }\n            default: {\n                break;\n            }\n        }\n        return isInverted ? result : result * -1.0;\n    }\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL3BoeXNpY3MvY3ViaXNtcGh5c2ljcy50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL0ZyYW1ld29yay9zcmMvcGh5c2ljcy9jdWJpc21waHlzaWNzLnRzP2VmODgiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTGl2ZTJEIE9wZW4gU29mdHdhcmUgbGljZW5zZVxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXG4gKi9cblxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbXBoeXNpY3NpbnRlcm5hbCB9IGZyb20gJy4vY3ViaXNtcGh5c2ljc2ludGVybmFsJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21tb2RlbCB9IGZyb20gJy4uL21vZGVsL2N1YmlzbW1vZGVsJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc212ZWN0b3IyIH0gZnJvbSAnLi4vbWF0aC9jdWJpc212ZWN0b3IyJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21tYXRoIH0gZnJvbSAnLi4vbWF0aC9jdWJpc21tYXRoJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21waHlzaWNzanNvbiB9IGZyb20gJy4vY3ViaXNtcGh5c2ljc2pzb24nO1xuaW1wb3J0IEN1YmlzbVBoeXNpY3NKc29uID0gY3ViaXNtcGh5c2ljc2pzb24uQ3ViaXNtUGh5c2ljc0pzb247XG5pbXBvcnQgQ3ViaXNtTWF0aCA9IGN1YmlzbW1hdGguQ3ViaXNtTWF0aDtcbmltcG9ydCBDdWJpc21QaHlzaWNzUmlnID0gY3ViaXNtcGh5c2ljc2ludGVybmFsLkN1YmlzbVBoeXNpY3NSaWc7XG5pbXBvcnQgQ3ViaXNtUGh5c2ljc1N1YlJpZyA9IGN1YmlzbXBoeXNpY3NpbnRlcm5hbC5DdWJpc21QaHlzaWNzU3ViUmlnO1xuaW1wb3J0IEN1YmlzbVBoeXNpY3NJbnB1dCA9IGN1YmlzbXBoeXNpY3NpbnRlcm5hbC5DdWJpc21QaHlzaWNzSW5wdXQ7XG5pbXBvcnQgQ3ViaXNtUGh5c2ljc091dHB1dCA9IGN1YmlzbXBoeXNpY3NpbnRlcm5hbC5DdWJpc21QaHlzaWNzT3V0cHV0O1xuaW1wb3J0IEN1YmlzbVBoeXNpY3NQYXJ0aWNsZSA9IGN1YmlzbXBoeXNpY3NpbnRlcm5hbC5DdWJpc21QaHlzaWNzUGFydGljbGU7XG5pbXBvcnQgQ3ViaXNtUGh5c2ljc1NvdXJjZSA9IGN1YmlzbXBoeXNpY3NpbnRlcm5hbC5DdWJpc21QaHlzaWNzU291cmNlO1xuaW1wb3J0IEN1YmlzbVBoeXNpY3NUYXJnZXRUeXBlID0gY3ViaXNtcGh5c2ljc2ludGVybmFsLkN1YmlzbVBoeXNpY3NUYXJnZXRUeXBlO1xuaW1wb3J0IEN1YmlzbVBoeXNpY3NOb3JtYWxpemF0aW9uID0gY3ViaXNtcGh5c2ljc2ludGVybmFsLkN1YmlzbVBoeXNpY3NOb3JtYWxpemF0aW9uO1xuaW1wb3J0IEN1YmlzbVZlY3RvcjIgPSBjdWJpc212ZWN0b3IyLkN1YmlzbVZlY3RvcjI7XG5pbXBvcnQgQ3ViaXNtTW9kZWwgPSBjdWJpc21tb2RlbC5DdWJpc21Nb2RlbDtcblxuZXhwb3J0IG5hbWVzcGFjZSBMaXZlMkRDdWJpc21GcmFtZXdvcmsge1xuICAvLyBwaHlzaWNzIHR5cGVzIHRhZ3MuXG4gIGNvbnN0IFBoeXNpY3NUeXBlVGFnWCA9ICdYJztcbiAgY29uc3QgUGh5c2ljc1R5cGVUYWdZID0gJ1knO1xuICBjb25zdCBQaHlzaWNzVHlwZVRhZ0FuZ2xlID0gJ0FuZ2xlJztcblxuICAvLyBDb25zdGFudCBvZiBhaXIgcmVzaXN0YW5jZS5cbiAgY29uc3QgQWlyUmVzaXN0YW5jZSA9IDUuMDtcblxuICAvLyBDb25zdGFudCBvZiBtYXhpbXVtIHdlaWdodCBvZiBpbnB1dCBhbmQgb3V0cHV0IHJhdGlvLlxuICBjb25zdCBNYXhpbXVtV2VpZ2h0ID0gMTAwLjA7XG5cbiAgLy8gQ29uc3RhbnQgb2YgdGhyZXNob2xkIG9mIG1vdmVtZW50LlxuICBjb25zdCBNb3ZlbWVudFRocmVzaG9sZCA9IDAuMDAxO1xuXG4gIC8qKlxuICAgKiDniannkIbmvJTnrpfjgq/jg6njgrlcbiAgICovXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21QaHlzaWNzIHtcbiAgICAvKipcbiAgICAgKiDjgqTjg7Pjgrnjgr/jg7Pjgrnjga7kvZzmiJBcbiAgICAgKiBAcGFyYW0gYnVmZmVyICAgIHBoeXNpY3MzLmpzb27jgYzoqq3jgb/ovrzjgb7jgozjgabjgYTjgovjg5Djg4Pjg5XjgqFcbiAgICAgKiBAcGFyYW0gc2l6ZSAgICAgIOODkOODg+ODleOCoeOBruOCteOCpOOCulxuICAgICAqIEByZXR1cm4g5L2c5oiQ44GV44KM44Gf44Kk44Oz44K544K/44Oz44K5XG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGUoYnVmZmVyOiBBcnJheUJ1ZmZlciwgc2l6ZTogbnVtYmVyKTogQ3ViaXNtUGh5c2ljcyB7XG4gICAgICBjb25zdCByZXQ6IEN1YmlzbVBoeXNpY3MgPSBuZXcgQ3ViaXNtUGh5c2ljcygpO1xuXG4gICAgICByZXQucGFyc2UoYnVmZmVyLCBzaXplKTtcbiAgICAgIHJldC5fcGh5c2ljc1JpZy5ncmF2aXR5LnkgPSAwO1xuXG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOOCpOODs+OCueOCv+ODs+OCueOCkuegtOajhOOBmeOCi1xuICAgICAqIEBwYXJhbSBwaHlzaWNzIOegtOajhOOBmeOCi+OCpOODs+OCueOCv+ODs+OCuVxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgZGVsZXRlKHBoeXNpY3M6IEN1YmlzbVBoeXNpY3MpOiB2b2lkIHtcbiAgICAgIGlmIChwaHlzaWNzICE9IG51bGwpIHtcbiAgICAgICAgcGh5c2ljcy5yZWxlYXNlKCk7XG4gICAgICAgIHBoeXNpY3MgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOeJqeeQhua8lOeul+OBruipleS+oVxuICAgICAqIEBwYXJhbSBtb2RlbCDniannkIbmvJTnrpfjga7ntZDmnpzjgpLpgannlKjjgZnjgovjg6Ljg4fjg6tcbiAgICAgKiBAcGFyYW0gZGVsdGFUaW1lU2Vjb25kcyDjg4fjg6vjgr/mmYLplpNb56eSXVxuICAgICAqL1xuICAgIHB1YmxpYyBldmFsdWF0ZShtb2RlbDogQ3ViaXNtTW9kZWwsIGRlbHRhVGltZVNlY29uZHM6IG51bWJlcik6IHZvaWQge1xuICAgICAgbGV0IHRvdGFsQW5nbGU6IHsgYW5nbGU6IG51bWJlciB9O1xuICAgICAgbGV0IHdlaWdodDogbnVtYmVyO1xuICAgICAgbGV0IHJhZEFuZ2xlOiBudW1iZXI7XG4gICAgICBsZXQgb3V0cHV0VmFsdWU6IG51bWJlcjtcbiAgICAgIGNvbnN0IHRvdGFsVHJhbnNsYXRpb246IEN1YmlzbVZlY3RvcjIgPSBuZXcgQ3ViaXNtVmVjdG9yMigpO1xuICAgICAgbGV0IGN1cnJlbnRTZXR0aW5nOiBDdWJpc21QaHlzaWNzU3ViUmlnO1xuICAgICAgbGV0IGN1cnJlbnRJbnB1dDogQ3ViaXNtUGh5c2ljc0lucHV0W107XG4gICAgICBsZXQgY3VycmVudE91dHB1dDogQ3ViaXNtUGh5c2ljc091dHB1dFtdO1xuICAgICAgbGV0IGN1cnJlbnRQYXJ0aWNsZXM6IEN1YmlzbVBoeXNpY3NQYXJ0aWNsZVtdO1xuXG4gICAgICBsZXQgcGFyYW1ldGVyVmFsdWU6IEZsb2F0MzJBcnJheTtcbiAgICAgIGxldCBwYXJhbWV0ZXJNYXhpbXVtVmFsdWU6IEZsb2F0MzJBcnJheTtcbiAgICAgIGxldCBwYXJhbWV0ZXJNaW5pbXVtVmFsdWU6IEZsb2F0MzJBcnJheTtcbiAgICAgIGxldCBwYXJhbWV0ZXJEZWZhdWx0VmFsdWU6IEZsb2F0MzJBcnJheTtcblxuICAgICAgcGFyYW1ldGVyVmFsdWUgPSBtb2RlbC5nZXRNb2RlbCgpLnBhcmFtZXRlcnMudmFsdWVzO1xuICAgICAgcGFyYW1ldGVyTWF4aW11bVZhbHVlID0gbW9kZWwuZ2V0TW9kZWwoKS5wYXJhbWV0ZXJzLm1heGltdW1WYWx1ZXM7XG4gICAgICBwYXJhbWV0ZXJNaW5pbXVtVmFsdWUgPSBtb2RlbC5nZXRNb2RlbCgpLnBhcmFtZXRlcnMubWluaW11bVZhbHVlcztcbiAgICAgIHBhcmFtZXRlckRlZmF1bHRWYWx1ZSA9IG1vZGVsLmdldE1vZGVsKCkucGFyYW1ldGVycy5kZWZhdWx0VmFsdWVzO1xuXG4gICAgICBmb3IgKFxuICAgICAgICBsZXQgc2V0dGluZ0luZGV4ID0gMDtcbiAgICAgICAgc2V0dGluZ0luZGV4IDwgdGhpcy5fcGh5c2ljc1JpZy5zdWJSaWdDb3VudDtcbiAgICAgICAgKytzZXR0aW5nSW5kZXhcbiAgICAgICkge1xuICAgICAgICB0b3RhbEFuZ2xlID0geyBhbmdsZTogMC4wIH07XG4gICAgICAgIHRvdGFsVHJhbnNsYXRpb24ueCA9IDAuMDtcbiAgICAgICAgdG90YWxUcmFuc2xhdGlvbi55ID0gMC4wO1xuICAgICAgICBjdXJyZW50U2V0dGluZyA9IHRoaXMuX3BoeXNpY3NSaWcuc2V0dGluZ3MuYXQoc2V0dGluZ0luZGV4KTtcbiAgICAgICAgY3VycmVudElucHV0ID0gdGhpcy5fcGh5c2ljc1JpZy5pbnB1dHMuZ2V0KFxuICAgICAgICAgIGN1cnJlbnRTZXR0aW5nLmJhc2VJbnB1dEluZGV4XG4gICAgICAgICk7XG4gICAgICAgIGN1cnJlbnRPdXRwdXQgPSB0aGlzLl9waHlzaWNzUmlnLm91dHB1dHMuZ2V0KFxuICAgICAgICAgIGN1cnJlbnRTZXR0aW5nLmJhc2VPdXRwdXRJbmRleFxuICAgICAgICApO1xuICAgICAgICBjdXJyZW50UGFydGljbGVzID0gdGhpcy5fcGh5c2ljc1JpZy5wYXJ0aWNsZXMuZ2V0KFxuICAgICAgICAgIGN1cnJlbnRTZXR0aW5nLmJhc2VQYXJ0aWNsZUluZGV4XG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gTG9hZCBpbnB1dCBwYXJhbWV0ZXJzXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3VycmVudFNldHRpbmcuaW5wdXRDb3VudDsgKytpKSB7XG4gICAgICAgICAgd2VpZ2h0ID0gY3VycmVudElucHV0W2ldLndlaWdodCAvIE1heGltdW1XZWlnaHQ7XG5cbiAgICAgICAgICBpZiAoY3VycmVudElucHV0W2ldLnNvdXJjZVBhcmFtZXRlckluZGV4ID09IC0xKSB7XG4gICAgICAgICAgICBjdXJyZW50SW5wdXRbaV0uc291cmNlUGFyYW1ldGVySW5kZXggPSBtb2RlbC5nZXRQYXJhbWV0ZXJJbmRleChcbiAgICAgICAgICAgICAgY3VycmVudElucHV0W2ldLnNvdXJjZS5pZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjdXJyZW50SW5wdXRbaV0uZ2V0Tm9ybWFsaXplZFBhcmFtZXRlclZhbHVlKFxuICAgICAgICAgICAgdG90YWxUcmFuc2xhdGlvbixcbiAgICAgICAgICAgIHRvdGFsQW5nbGUsXG4gICAgICAgICAgICBwYXJhbWV0ZXJWYWx1ZVtjdXJyZW50SW5wdXRbaV0uc291cmNlUGFyYW1ldGVySW5kZXhdLFxuICAgICAgICAgICAgcGFyYW1ldGVyTWluaW11bVZhbHVlW2N1cnJlbnRJbnB1dFtpXS5zb3VyY2VQYXJhbWV0ZXJJbmRleF0sXG4gICAgICAgICAgICBwYXJhbWV0ZXJNYXhpbXVtVmFsdWVbY3VycmVudElucHV0W2ldLnNvdXJjZVBhcmFtZXRlckluZGV4XSxcbiAgICAgICAgICAgIHBhcmFtZXRlckRlZmF1bHRWYWx1ZVtjdXJyZW50SW5wdXRbaV0uc291cmNlUGFyYW1ldGVySW5kZXhdLFxuICAgICAgICAgICAgY3VycmVudFNldHRpbmcubm9ybWFsaXphdGlvblBvc2l0aW9uLFxuICAgICAgICAgICAgY3VycmVudFNldHRpbmcubm9ybWFsaXphdGlvbkFuZ2xlLFxuICAgICAgICAgICAgY3VycmVudElucHV0WzBdLnJlZmxlY3QsXG4gICAgICAgICAgICB3ZWlnaHRcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmFkQW5nbGUgPSBDdWJpc21NYXRoLmRlZ3JlZXNUb1JhZGlhbigtdG90YWxBbmdsZS5hbmdsZSk7XG5cbiAgICAgICAgdG90YWxUcmFuc2xhdGlvbi54ID1cbiAgICAgICAgICB0b3RhbFRyYW5zbGF0aW9uLnggKiBDdWJpc21NYXRoLmNvcyhyYWRBbmdsZSkgLVxuICAgICAgICAgIHRvdGFsVHJhbnNsYXRpb24ueSAqIEN1YmlzbU1hdGguc2luKHJhZEFuZ2xlKTtcbiAgICAgICAgdG90YWxUcmFuc2xhdGlvbi55ID1cbiAgICAgICAgICB0b3RhbFRyYW5zbGF0aW9uLnggKiBDdWJpc21NYXRoLnNpbihyYWRBbmdsZSkgK1xuICAgICAgICAgIHRvdGFsVHJhbnNsYXRpb24ueSAqIEN1YmlzbU1hdGguY29zKHJhZEFuZ2xlKTtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgcGFydGljbGVzIHBvc2l0aW9uLlxuICAgICAgICB1cGRhdGVQYXJ0aWNsZXMoXG4gICAgICAgICAgY3VycmVudFBhcnRpY2xlcyxcbiAgICAgICAgICBjdXJyZW50U2V0dGluZy5wYXJ0aWNsZUNvdW50LFxuICAgICAgICAgIHRvdGFsVHJhbnNsYXRpb24sXG4gICAgICAgICAgdG90YWxBbmdsZS5hbmdsZSxcbiAgICAgICAgICB0aGlzLl9vcHRpb25zLndpbmQsXG4gICAgICAgICAgTW92ZW1lbnRUaHJlc2hvbGQgKiBjdXJyZW50U2V0dGluZy5ub3JtYWxpemF0aW9uUG9zaXRpb24ubWF4aW11bSxcbiAgICAgICAgICBkZWx0YVRpbWVTZWNvbmRzLFxuICAgICAgICAgIEFpclJlc2lzdGFuY2VcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBVcGRhdGUgb3V0cHV0IHBhcmFtZXRlcnMuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3VycmVudFNldHRpbmcub3V0cHV0Q291bnQ7ICsraSkge1xuICAgICAgICAgIGNvbnN0IHBhcnRpY2xlSW5kZXggPSBjdXJyZW50T3V0cHV0W2ldLnZlcnRleEluZGV4O1xuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgcGFydGljbGVJbmRleCA8IDEgfHxcbiAgICAgICAgICAgIHBhcnRpY2xlSW5kZXggPj0gY3VycmVudFNldHRpbmcucGFydGljbGVDb3VudFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGN1cnJlbnRPdXRwdXRbaV0uZGVzdGluYXRpb25QYXJhbWV0ZXJJbmRleCA9PSAtMSkge1xuICAgICAgICAgICAgY3VycmVudE91dHB1dFtcbiAgICAgICAgICAgICAgaVxuICAgICAgICAgICAgXS5kZXN0aW5hdGlvblBhcmFtZXRlckluZGV4ID0gbW9kZWwuZ2V0UGFyYW1ldGVySW5kZXgoXG4gICAgICAgICAgICAgIGN1cnJlbnRPdXRwdXRbaV0uZGVzdGluYXRpb24uaWRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgdHJhbnNsYXRpb246IEN1YmlzbVZlY3RvcjIgPSBuZXcgQ3ViaXNtVmVjdG9yMigpO1xuICAgICAgICAgIHRyYW5zbGF0aW9uLnggPVxuICAgICAgICAgICAgY3VycmVudFBhcnRpY2xlc1twYXJ0aWNsZUluZGV4XS5wb3NpdGlvbi54IC1cbiAgICAgICAgICAgIGN1cnJlbnRQYXJ0aWNsZXNbcGFydGljbGVJbmRleCAtIDFdLnBvc2l0aW9uLng7XG4gICAgICAgICAgdHJhbnNsYXRpb24ueSA9XG4gICAgICAgICAgICBjdXJyZW50UGFydGljbGVzW3BhcnRpY2xlSW5kZXhdLnBvc2l0aW9uLnkgLVxuICAgICAgICAgICAgY3VycmVudFBhcnRpY2xlc1twYXJ0aWNsZUluZGV4IC0gMV0ucG9zaXRpb24ueTtcblxuICAgICAgICAgIG91dHB1dFZhbHVlID0gY3VycmVudE91dHB1dFtpXS5nZXRWYWx1ZShcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uLFxuICAgICAgICAgICAgY3VycmVudFBhcnRpY2xlcyxcbiAgICAgICAgICAgIHBhcnRpY2xlSW5kZXgsXG4gICAgICAgICAgICBjdXJyZW50T3V0cHV0W2ldLnJlZmxlY3QsXG4gICAgICAgICAgICB0aGlzLl9vcHRpb25zLmdyYXZpdHlcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgY29uc3QgZGVzdGluYXRpb25QYXJhbWV0ZXJJbmRleDogbnVtYmVyID1cbiAgICAgICAgICAgIGN1cnJlbnRPdXRwdXRbaV0uZGVzdGluYXRpb25QYXJhbWV0ZXJJbmRleDtcbiAgICAgICAgICBjb25zdCBvdXRQYXJhbWV0ZXJWYWx1ZTogRmxvYXQzMkFycmF5ID1cbiAgICAgICAgICAgICFGbG9hdDMyQXJyYXkucHJvdG90eXBlLnNsaWNlICYmXG4gICAgICAgICAgICAnc3ViYXJyYXknIGluIEZsb2F0MzJBcnJheS5wcm90b3R5cGVcbiAgICAgICAgICAgICAgPyBKU09OLnBhcnNlKFxuICAgICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlclZhbHVlLnN1YmFycmF5KGRlc3RpbmF0aW9uUGFyYW1ldGVySW5kZXgpXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSAvLyDlgKTmuKHjgZfjgZnjgovjgZ/jgoHjgIFKU09OLnBhcnNlLCBKU09OLnN0cmluZ2lmeVxuICAgICAgICAgICAgICA6IHBhcmFtZXRlclZhbHVlLnNsaWNlKGRlc3RpbmF0aW9uUGFyYW1ldGVySW5kZXgpO1xuXG4gICAgICAgICAgdXBkYXRlT3V0cHV0UGFyYW1ldGVyVmFsdWUoXG4gICAgICAgICAgICBvdXRQYXJhbWV0ZXJWYWx1ZSxcbiAgICAgICAgICAgIHBhcmFtZXRlck1pbmltdW1WYWx1ZVtkZXN0aW5hdGlvblBhcmFtZXRlckluZGV4XSxcbiAgICAgICAgICAgIHBhcmFtZXRlck1heGltdW1WYWx1ZVtkZXN0aW5hdGlvblBhcmFtZXRlckluZGV4XSxcbiAgICAgICAgICAgIG91dHB1dFZhbHVlLFxuICAgICAgICAgICAgY3VycmVudE91dHB1dFtpXVxuICAgICAgICAgICk7XG5cbiAgICAgICAgICAvLyDlgKTjgpLlj43mmKBcbiAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgbGV0IG9mZnNldDogbnVtYmVyID0gZGVzdGluYXRpb25QYXJhbWV0ZXJJbmRleCwgb3V0UGFyYW1JbmRleCA9IDA7XG4gICAgICAgICAgICBvZmZzZXQgPCBwYXJhbWV0ZXJWYWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICBvZmZzZXQrKywgb3V0UGFyYW1JbmRleCsrXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBwYXJhbWV0ZXJWYWx1ZVtvZmZzZXRdID0gb3V0UGFyYW1ldGVyVmFsdWVbb3V0UGFyYW1JbmRleF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Kq44OX44K344On44Oz44Gu6Kit5a6aXG4gICAgICogQHBhcmFtIG9wdGlvbnMg44Kq44OX44K344On44OzXG4gICAgICovXG4gICAgcHVibGljIHNldE9wdGlvbnMob3B0aW9uczogT3B0aW9ucyk6IHZvaWQge1xuICAgICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Kq44OX44K344On44Oz44Gu5Y+W5b6XXG4gICAgICogQHJldHVybiDjgqrjg5fjgrfjg6fjg7NcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0T3B0aW9uKCk6IE9wdGlvbnMge1xuICAgICAgcmV0dXJuIHRoaXMuX29wdGlvbnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Kz44Oz44K544OI44Op44Kv44K/XG4gICAgICovXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgICAgdGhpcy5fcGh5c2ljc1JpZyA9IG51bGw7XG5cbiAgICAgIC8vIHNldCBkZWZhdWx0IG9wdGlvbnNcbiAgICAgIHRoaXMuX29wdGlvbnMgPSBuZXcgT3B0aW9ucygpO1xuICAgICAgdGhpcy5fb3B0aW9ucy5ncmF2aXR5LnkgPSAtMS4wO1xuICAgICAgdGhpcy5fb3B0aW9ucy5ncmF2aXR5LnggPSAwO1xuICAgICAgdGhpcy5fb3B0aW9ucy53aW5kLnggPSAwO1xuICAgICAgdGhpcy5fb3B0aW9ucy53aW5kLnkgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODh+OCueODiOODqeOCr+OCv+ebuOW9k+OBruWHpueQhlxuICAgICAqL1xuICAgIHB1YmxpYyByZWxlYXNlKCk6IHZvaWQge1xuICAgICAgdGhpcy5fcGh5c2ljc1JpZyA9IHZvaWQgMDtcbiAgICAgIHRoaXMuX3BoeXNpY3NSaWcgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHBoeXNpY3MzLmpzb27jgpLjg5Hjg7zjgrnjgZnjgovjgIJcbiAgICAgKiBAcGFyYW0gcGh5c2ljc0pzb24gcGh5c2ljczMuanNvbuOBjOiqreOBv+i+vOOBvuOCjOOBpuOBhOOCi+ODkOODg+ODleOCoVxuICAgICAqIEBwYXJhbSBzaXplIOODkOODg+ODleOCoeOBruOCteOCpOOCulxuICAgICAqL1xuICAgIHB1YmxpYyBwYXJzZShwaHlzaWNzSnNvbjogQXJyYXlCdWZmZXIsIHNpemU6IG51bWJlcik6IHZvaWQge1xuICAgICAgdGhpcy5fcGh5c2ljc1JpZyA9IG5ldyBDdWJpc21QaHlzaWNzUmlnKCk7XG5cbiAgICAgIGxldCBqc29uOiBDdWJpc21QaHlzaWNzSnNvbiA9IG5ldyBDdWJpc21QaHlzaWNzSnNvbihwaHlzaWNzSnNvbiwgc2l6ZSk7XG5cbiAgICAgIHRoaXMuX3BoeXNpY3NSaWcuZ3Jhdml0eSA9IGpzb24uZ2V0R3Jhdml0eSgpO1xuICAgICAgdGhpcy5fcGh5c2ljc1JpZy53aW5kID0ganNvbi5nZXRXaW5kKCk7XG4gICAgICB0aGlzLl9waHlzaWNzUmlnLnN1YlJpZ0NvdW50ID0ganNvbi5nZXRTdWJSaWdDb3VudCgpO1xuXG4gICAgICB0aGlzLl9waHlzaWNzUmlnLnNldHRpbmdzLnVwZGF0ZVNpemUoXG4gICAgICAgIHRoaXMuX3BoeXNpY3NSaWcuc3ViUmlnQ291bnQsXG4gICAgICAgIEN1YmlzbVBoeXNpY3NTdWJSaWcsXG4gICAgICAgIHRydWVcbiAgICAgICk7XG4gICAgICB0aGlzLl9waHlzaWNzUmlnLmlucHV0cy51cGRhdGVTaXplKFxuICAgICAgICBqc29uLmdldFRvdGFsSW5wdXRDb3VudCgpLFxuICAgICAgICBDdWJpc21QaHlzaWNzSW5wdXQsXG4gICAgICAgIHRydWVcbiAgICAgICk7XG4gICAgICB0aGlzLl9waHlzaWNzUmlnLm91dHB1dHMudXBkYXRlU2l6ZShcbiAgICAgICAganNvbi5nZXRUb3RhbE91dHB1dENvdW50KCksXG4gICAgICAgIEN1YmlzbVBoeXNpY3NPdXRwdXQsXG4gICAgICAgIHRydWVcbiAgICAgICk7XG4gICAgICB0aGlzLl9waHlzaWNzUmlnLnBhcnRpY2xlcy51cGRhdGVTaXplKFxuICAgICAgICBqc29uLmdldFZlcnRleENvdW50KCksXG4gICAgICAgIEN1YmlzbVBoeXNpY3NQYXJ0aWNsZSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcblxuICAgICAgbGV0IGlucHV0SW5kZXggPSAwLFxuICAgICAgICBvdXRwdXRJbmRleCA9IDAsXG4gICAgICAgIHBhcnRpY2xlSW5kZXggPSAwO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3BoeXNpY3NSaWcuc2V0dGluZ3MuZ2V0U2l6ZSgpOyArK2kpIHtcbiAgICAgICAgdGhpcy5fcGh5c2ljc1JpZy5zZXR0aW5ncy5hdChcbiAgICAgICAgICBpXG4gICAgICAgICkubm9ybWFsaXphdGlvblBvc2l0aW9uLm1pbmltdW0gPSBqc29uLmdldE5vcm1hbGl6YXRpb25Qb3NpdGlvbk1pbmltdW1WYWx1ZShcbiAgICAgICAgICBpXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuX3BoeXNpY3NSaWcuc2V0dGluZ3MuYXQoXG4gICAgICAgICAgaVxuICAgICAgICApLm5vcm1hbGl6YXRpb25Qb3NpdGlvbi5tYXhpbXVtID0ganNvbi5nZXROb3JtYWxpemF0aW9uUG9zaXRpb25NYXhpbXVtVmFsdWUoXG4gICAgICAgICAgaVxuICAgICAgICApO1xuICAgICAgICB0aGlzLl9waHlzaWNzUmlnLnNldHRpbmdzLmF0KFxuICAgICAgICAgIGlcbiAgICAgICAgKS5ub3JtYWxpemF0aW9uUG9zaXRpb24uZGVmYWx1dCA9IGpzb24uZ2V0Tm9ybWFsaXphdGlvblBvc2l0aW9uRGVmYXVsdFZhbHVlKFxuICAgICAgICAgIGlcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLl9waHlzaWNzUmlnLnNldHRpbmdzLmF0KFxuICAgICAgICAgIGlcbiAgICAgICAgKS5ub3JtYWxpemF0aW9uQW5nbGUubWluaW11bSA9IGpzb24uZ2V0Tm9ybWFsaXphdGlvbkFuZ2xlTWluaW11bVZhbHVlKFxuICAgICAgICAgIGlcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5fcGh5c2ljc1JpZy5zZXR0aW5ncy5hdChcbiAgICAgICAgICBpXG4gICAgICAgICkubm9ybWFsaXphdGlvbkFuZ2xlLm1heGltdW0gPSBqc29uLmdldE5vcm1hbGl6YXRpb25BbmdsZU1heGltdW1WYWx1ZShcbiAgICAgICAgICBpXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuX3BoeXNpY3NSaWcuc2V0dGluZ3MuYXQoXG4gICAgICAgICAgaVxuICAgICAgICApLm5vcm1hbGl6YXRpb25BbmdsZS5kZWZhbHV0ID0ganNvbi5nZXROb3JtYWxpemF0aW9uQW5nbGVEZWZhdWx0VmFsdWUoXG4gICAgICAgICAgaVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIElucHV0XG4gICAgICAgIHRoaXMuX3BoeXNpY3NSaWcuc2V0dGluZ3MuYXQoaSkuaW5wdXRDb3VudCA9IGpzb24uZ2V0SW5wdXRDb3VudChpKTtcbiAgICAgICAgdGhpcy5fcGh5c2ljc1JpZy5zZXR0aW5ncy5hdChpKS5iYXNlSW5wdXRJbmRleCA9IGlucHV0SW5kZXg7XG5cbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLl9waHlzaWNzUmlnLnNldHRpbmdzLmF0KGkpLmlucHV0Q291bnQ7ICsraikge1xuICAgICAgICAgIHRoaXMuX3BoeXNpY3NSaWcuaW5wdXRzLmF0KGlucHV0SW5kZXggKyBqKS5zb3VyY2VQYXJhbWV0ZXJJbmRleCA9IC0xO1xuICAgICAgICAgIHRoaXMuX3BoeXNpY3NSaWcuaW5wdXRzLmF0KFxuICAgICAgICAgICAgaW5wdXRJbmRleCArIGpcbiAgICAgICAgICApLndlaWdodCA9IGpzb24uZ2V0SW5wdXRXZWlnaHQoaSwgaik7XG4gICAgICAgICAgdGhpcy5fcGh5c2ljc1JpZy5pbnB1dHMuYXQoXG4gICAgICAgICAgICBpbnB1dEluZGV4ICsgalxuICAgICAgICAgICkucmVmbGVjdCA9IGpzb24uZ2V0SW5wdXRSZWZsZWN0KGksIGopO1xuXG4gICAgICAgICAgaWYgKGpzb24uZ2V0SW5wdXRUeXBlKGksIGopID09IFBoeXNpY3NUeXBlVGFnWCkge1xuICAgICAgICAgICAgdGhpcy5fcGh5c2ljc1JpZy5pbnB1dHMuYXQoaW5wdXRJbmRleCArIGopLnR5cGUgPVxuICAgICAgICAgICAgICBDdWJpc21QaHlzaWNzU291cmNlLkN1YmlzbVBoeXNpY3NTb3VyY2VfWDtcbiAgICAgICAgICAgIHRoaXMuX3BoeXNpY3NSaWcuaW5wdXRzLmF0KFxuICAgICAgICAgICAgICBpbnB1dEluZGV4ICsgalxuICAgICAgICAgICAgKS5nZXROb3JtYWxpemVkUGFyYW1ldGVyVmFsdWUgPSBnZXRJbnB1dFRyYW5zbGF0aW9uWEZyb21Ob3JtYWxpemVkUGFyYW1ldGVyVmFsdWU7XG4gICAgICAgICAgfSBlbHNlIGlmIChqc29uLmdldElucHV0VHlwZShpLCBqKSA9PSBQaHlzaWNzVHlwZVRhZ1kpIHtcbiAgICAgICAgICAgIHRoaXMuX3BoeXNpY3NSaWcuaW5wdXRzLmF0KGlucHV0SW5kZXggKyBqKS50eXBlID1cbiAgICAgICAgICAgICAgQ3ViaXNtUGh5c2ljc1NvdXJjZS5DdWJpc21QaHlzaWNzU291cmNlX1k7XG4gICAgICAgICAgICB0aGlzLl9waHlzaWNzUmlnLmlucHV0cy5hdChcbiAgICAgICAgICAgICAgaW5wdXRJbmRleCArIGpcbiAgICAgICAgICAgICkuZ2V0Tm9ybWFsaXplZFBhcmFtZXRlclZhbHVlID0gZ2V0SW5wdXRUcmFuc2xhdGlvbllGcm9tTm9ybWFsaXplZFBhcmFtdGVyVmFsdWU7XG4gICAgICAgICAgfSBlbHNlIGlmIChqc29uLmdldElucHV0VHlwZShpLCBqKSA9PSBQaHlzaWNzVHlwZVRhZ0FuZ2xlKSB7XG4gICAgICAgICAgICB0aGlzLl9waHlzaWNzUmlnLmlucHV0cy5hdChpbnB1dEluZGV4ICsgaikudHlwZSA9XG4gICAgICAgICAgICAgIEN1YmlzbVBoeXNpY3NTb3VyY2UuQ3ViaXNtUGh5c2ljc1NvdXJjZV9BbmdsZTtcbiAgICAgICAgICAgIHRoaXMuX3BoeXNpY3NSaWcuaW5wdXRzLmF0KFxuICAgICAgICAgICAgICBpbnB1dEluZGV4ICsgalxuICAgICAgICAgICAgKS5nZXROb3JtYWxpemVkUGFyYW1ldGVyVmFsdWUgPSBnZXRJbnB1dEFuZ2xlRnJvbU5vcm1hbGl6ZWRQYXJhbWV0ZXJWYWx1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLl9waHlzaWNzUmlnLmlucHV0cy5hdChpbnB1dEluZGV4ICsgaikuc291cmNlLnRhcmdldFR5cGUgPVxuICAgICAgICAgICAgQ3ViaXNtUGh5c2ljc1RhcmdldFR5cGUuQ3ViaXNtUGh5c2ljc1RhcmdldFR5cGVfUGFyYW1ldGVyO1xuICAgICAgICAgIHRoaXMuX3BoeXNpY3NSaWcuaW5wdXRzLmF0KFxuICAgICAgICAgICAgaW5wdXRJbmRleCArIGpcbiAgICAgICAgICApLnNvdXJjZS5pZCA9IGpzb24uZ2V0SW5wdXRTb3VyY2VJZChpLCBqKTtcbiAgICAgICAgfVxuICAgICAgICBpbnB1dEluZGV4ICs9IHRoaXMuX3BoeXNpY3NSaWcuc2V0dGluZ3MuYXQoaSkuaW5wdXRDb3VudDtcblxuICAgICAgICAvLyBPdXRwdXRcbiAgICAgICAgdGhpcy5fcGh5c2ljc1JpZy5zZXR0aW5ncy5hdChpKS5vdXRwdXRDb3VudCA9IGpzb24uZ2V0T3V0cHV0Q291bnQoaSk7XG4gICAgICAgIHRoaXMuX3BoeXNpY3NSaWcuc2V0dGluZ3MuYXQoaSkuYmFzZU91dHB1dEluZGV4ID0gb3V0cHV0SW5kZXg7XG5cbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLl9waHlzaWNzUmlnLnNldHRpbmdzLmF0KGkpLm91dHB1dENvdW50OyArK2opIHtcbiAgICAgICAgICB0aGlzLl9waHlzaWNzUmlnLm91dHB1dHMuYXQoXG4gICAgICAgICAgICBvdXRwdXRJbmRleCArIGpcbiAgICAgICAgICApLmRlc3RpbmF0aW9uUGFyYW1ldGVySW5kZXggPSAtMTtcbiAgICAgICAgICB0aGlzLl9waHlzaWNzUmlnLm91dHB1dHMuYXQoXG4gICAgICAgICAgICBvdXRwdXRJbmRleCArIGpcbiAgICAgICAgICApLnZlcnRleEluZGV4ID0ganNvbi5nZXRPdXRwdXRWZXJ0ZXhJbmRleChpLCBqKTtcbiAgICAgICAgICB0aGlzLl9waHlzaWNzUmlnLm91dHB1dHMuYXQoXG4gICAgICAgICAgICBvdXRwdXRJbmRleCArIGpcbiAgICAgICAgICApLmFuZ2xlU2NhbGUgPSBqc29uLmdldE91dHB1dEFuZ2xlU2NhbGUoaSwgaik7XG4gICAgICAgICAgdGhpcy5fcGh5c2ljc1JpZy5vdXRwdXRzLmF0KFxuICAgICAgICAgICAgb3V0cHV0SW5kZXggKyBqXG4gICAgICAgICAgKS53ZWlnaHQgPSBqc29uLmdldE91dHB1dFdlaWdodChpLCBqKTtcbiAgICAgICAgICB0aGlzLl9waHlzaWNzUmlnLm91dHB1dHMuYXQob3V0cHV0SW5kZXggKyBqKS5kZXN0aW5hdGlvbi50YXJnZXRUeXBlID1cbiAgICAgICAgICAgIEN1YmlzbVBoeXNpY3NUYXJnZXRUeXBlLkN1YmlzbVBoeXNpY3NUYXJnZXRUeXBlX1BhcmFtZXRlcjtcblxuICAgICAgICAgIHRoaXMuX3BoeXNpY3NSaWcub3V0cHV0cy5hdChcbiAgICAgICAgICAgIG91dHB1dEluZGV4ICsgalxuICAgICAgICAgICkuZGVzdGluYXRpb24uaWQgPSBqc29uLmdldE91dHB1dERlc3RpbmF0aW9uSWQoaSwgaik7XG5cbiAgICAgICAgICBpZiAoanNvbi5nZXRPdXRwdXRUeXBlKGksIGopID09IFBoeXNpY3NUeXBlVGFnWCkge1xuICAgICAgICAgICAgdGhpcy5fcGh5c2ljc1JpZy5vdXRwdXRzLmF0KG91dHB1dEluZGV4ICsgaikudHlwZSA9XG4gICAgICAgICAgICAgIEN1YmlzbVBoeXNpY3NTb3VyY2UuQ3ViaXNtUGh5c2ljc1NvdXJjZV9YO1xuICAgICAgICAgICAgdGhpcy5fcGh5c2ljc1JpZy5vdXRwdXRzLmF0KFxuICAgICAgICAgICAgICBvdXRwdXRJbmRleCArIGpcbiAgICAgICAgICAgICkuZ2V0VmFsdWUgPSBnZXRPdXRwdXRUcmFuc2xhdGlvblg7XG4gICAgICAgICAgICB0aGlzLl9waHlzaWNzUmlnLm91dHB1dHMuYXQoXG4gICAgICAgICAgICAgIG91dHB1dEluZGV4ICsgalxuICAgICAgICAgICAgKS5nZXRTY2FsZSA9IGdldE91dHB1dFNjYWxlVHJhbnNsYXRpb25YO1xuICAgICAgICAgIH0gZWxzZSBpZiAoanNvbi5nZXRPdXRwdXRUeXBlKGksIGopID09IFBoeXNpY3NUeXBlVGFnWSkge1xuICAgICAgICAgICAgdGhpcy5fcGh5c2ljc1JpZy5vdXRwdXRzLmF0KG91dHB1dEluZGV4ICsgaikudHlwZSA9XG4gICAgICAgICAgICAgIEN1YmlzbVBoeXNpY3NTb3VyY2UuQ3ViaXNtUGh5c2ljc1NvdXJjZV9ZO1xuICAgICAgICAgICAgdGhpcy5fcGh5c2ljc1JpZy5vdXRwdXRzLmF0KFxuICAgICAgICAgICAgICBvdXRwdXRJbmRleCArIGpcbiAgICAgICAgICAgICkuZ2V0VmFsdWUgPSBnZXRPdXRwdXRUcmFuc2xhdGlvblk7XG4gICAgICAgICAgICB0aGlzLl9waHlzaWNzUmlnLm91dHB1dHMuYXQoXG4gICAgICAgICAgICAgIG91dHB1dEluZGV4ICsgalxuICAgICAgICAgICAgKS5nZXRTY2FsZSA9IGdldE91dHB1dFNjYWxlVHJhbnNsYXRpb25ZO1xuICAgICAgICAgIH0gZWxzZSBpZiAoanNvbi5nZXRPdXRwdXRUeXBlKGksIGopID09IFBoeXNpY3NUeXBlVGFnQW5nbGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3BoeXNpY3NSaWcub3V0cHV0cy5hdChvdXRwdXRJbmRleCArIGopLnR5cGUgPVxuICAgICAgICAgICAgICBDdWJpc21QaHlzaWNzU291cmNlLkN1YmlzbVBoeXNpY3NTb3VyY2VfQW5nbGU7XG4gICAgICAgICAgICB0aGlzLl9waHlzaWNzUmlnLm91dHB1dHMuYXQoXG4gICAgICAgICAgICAgIG91dHB1dEluZGV4ICsgalxuICAgICAgICAgICAgKS5nZXRWYWx1ZSA9IGdldE91dHB1dEFuZ2xlO1xuICAgICAgICAgICAgdGhpcy5fcGh5c2ljc1JpZy5vdXRwdXRzLmF0KFxuICAgICAgICAgICAgICBvdXRwdXRJbmRleCArIGpcbiAgICAgICAgICAgICkuZ2V0U2NhbGUgPSBnZXRPdXRwdXRTY2FsZUFuZ2xlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuX3BoeXNpY3NSaWcub3V0cHV0cy5hdChcbiAgICAgICAgICAgIG91dHB1dEluZGV4ICsgalxuICAgICAgICAgICkucmVmbGVjdCA9IGpzb24uZ2V0T3V0cHV0UmVmbGVjdChpLCBqKTtcbiAgICAgICAgfVxuICAgICAgICBvdXRwdXRJbmRleCArPSB0aGlzLl9waHlzaWNzUmlnLnNldHRpbmdzLmF0KGkpLm91dHB1dENvdW50O1xuXG4gICAgICAgIC8vIFBhcnRpY2xlXG4gICAgICAgIHRoaXMuX3BoeXNpY3NSaWcuc2V0dGluZ3MuYXQoaSkucGFydGljbGVDb3VudCA9IGpzb24uZ2V0UGFydGljbGVDb3VudChcbiAgICAgICAgICBpXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuX3BoeXNpY3NSaWcuc2V0dGluZ3MuYXQoaSkuYmFzZVBhcnRpY2xlSW5kZXggPSBwYXJ0aWNsZUluZGV4O1xuXG4gICAgICAgIGZvciAoXG4gICAgICAgICAgbGV0IGogPSAwO1xuICAgICAgICAgIGogPCB0aGlzLl9waHlzaWNzUmlnLnNldHRpbmdzLmF0KGkpLnBhcnRpY2xlQ291bnQ7XG4gICAgICAgICAgKytqXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMuX3BoeXNpY3NSaWcucGFydGljbGVzLmF0KFxuICAgICAgICAgICAgcGFydGljbGVJbmRleCArIGpcbiAgICAgICAgICApLm1vYmlsaXR5ID0ganNvbi5nZXRQYXJ0aWNsZU1vYmlsaXR5KGksIGopO1xuICAgICAgICAgIHRoaXMuX3BoeXNpY3NSaWcucGFydGljbGVzLmF0KFxuICAgICAgICAgICAgcGFydGljbGVJbmRleCArIGpcbiAgICAgICAgICApLmRlbGF5ID0ganNvbi5nZXRQYXJ0aWNsZURlbGF5KGksIGopO1xuICAgICAgICAgIHRoaXMuX3BoeXNpY3NSaWcucGFydGljbGVzLmF0KFxuICAgICAgICAgICAgcGFydGljbGVJbmRleCArIGpcbiAgICAgICAgICApLmFjY2VsZXJhdGlvbiA9IGpzb24uZ2V0UGFydGljbGVBY2NlbGVyYXRpb24oaSwgaik7XG4gICAgICAgICAgdGhpcy5fcGh5c2ljc1JpZy5wYXJ0aWNsZXMuYXQoXG4gICAgICAgICAgICBwYXJ0aWNsZUluZGV4ICsgalxuICAgICAgICAgICkucmFkaXVzID0ganNvbi5nZXRQYXJ0aWNsZVJhZGl1cyhpLCBqKTtcbiAgICAgICAgICB0aGlzLl9waHlzaWNzUmlnLnBhcnRpY2xlcy5hdChcbiAgICAgICAgICAgIHBhcnRpY2xlSW5kZXggKyBqXG4gICAgICAgICAgKS5wb3NpdGlvbiA9IGpzb24uZ2V0UGFydGljbGVQb3NpdGlvbihpLCBqKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcnRpY2xlSW5kZXggKz0gdGhpcy5fcGh5c2ljc1JpZy5zZXR0aW5ncy5hdChpKS5wYXJ0aWNsZUNvdW50O1xuICAgICAgfVxuXG4gICAgICB0aGlzLmluaXRpYWxpemUoKTtcblxuICAgICAganNvbi5yZWxlYXNlKCk7XG4gICAgICBqc29uID0gdm9pZCAwO1xuICAgICAganNvbiA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5Yid5pyf5YyW44GZ44KLXG4gICAgICovXG4gICAgcHVibGljIGluaXRpYWxpemUoKTogdm9pZCB7XG4gICAgICBsZXQgc3RyYW5kOiBDdWJpc21QaHlzaWNzUGFydGljbGVbXTtcbiAgICAgIGxldCBjdXJyZW50U2V0dGluZzogQ3ViaXNtUGh5c2ljc1N1YlJpZztcbiAgICAgIGxldCByYWRpdXM6IEN1YmlzbVZlY3RvcjI7XG5cbiAgICAgIGZvciAoXG4gICAgICAgIGxldCBzZXR0aW5nSW5kZXggPSAwO1xuICAgICAgICBzZXR0aW5nSW5kZXggPCB0aGlzLl9waHlzaWNzUmlnLnN1YlJpZ0NvdW50O1xuICAgICAgICArK3NldHRpbmdJbmRleFxuICAgICAgKSB7XG4gICAgICAgIGN1cnJlbnRTZXR0aW5nID0gdGhpcy5fcGh5c2ljc1JpZy5zZXR0aW5ncy5hdChzZXR0aW5nSW5kZXgpO1xuICAgICAgICBzdHJhbmQgPSB0aGlzLl9waHlzaWNzUmlnLnBhcnRpY2xlcy5nZXQoXG4gICAgICAgICAgY3VycmVudFNldHRpbmcuYmFzZVBhcnRpY2xlSW5kZXhcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBJbml0aWFsaXplIHRoZSB0b3Agb2YgcGFydGljbGUuXG4gICAgICAgIHN0cmFuZFswXS5pbml0aWFsUG9zaXRpb24gPSBuZXcgQ3ViaXNtVmVjdG9yMigwLjAsIDAuMCk7XG4gICAgICAgIHN0cmFuZFswXS5sYXN0UG9zaXRpb24gPSBuZXcgQ3ViaXNtVmVjdG9yMihcbiAgICAgICAgICBzdHJhbmRbMF0uaW5pdGlhbFBvc2l0aW9uLngsXG4gICAgICAgICAgc3RyYW5kWzBdLmluaXRpYWxQb3NpdGlvbi55XG4gICAgICAgICk7XG4gICAgICAgIHN0cmFuZFswXS5sYXN0R3Jhdml0eSA9IG5ldyBDdWJpc21WZWN0b3IyKDAuMCwgLTEuMCk7XG4gICAgICAgIHN0cmFuZFswXS5sYXN0R3Jhdml0eS55ICo9IC0xLjA7XG4gICAgICAgIHN0cmFuZFswXS52ZWxvY2l0eSA9IG5ldyBDdWJpc21WZWN0b3IyKDAuMCwgMC4wKTtcbiAgICAgICAgc3RyYW5kWzBdLmZvcmNlID0gbmV3IEN1YmlzbVZlY3RvcjIoMC4wLCAwLjApO1xuXG4gICAgICAgIC8vIEluaXRpYWxpemUgcGFyaXRjbGVzLlxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGN1cnJlbnRTZXR0aW5nLnBhcnRpY2xlQ291bnQ7ICsraSkge1xuICAgICAgICAgIHJhZGl1cyA9IG5ldyBDdWJpc21WZWN0b3IyKDAuMCwgMC4wKTtcbiAgICAgICAgICByYWRpdXMueSA9IHN0cmFuZFtpXS5yYWRpdXM7XG4gICAgICAgICAgc3RyYW5kW2ldLmluaXRpYWxQb3NpdGlvbiA9IG5ldyBDdWJpc21WZWN0b3IyKFxuICAgICAgICAgICAgc3RyYW5kW2kgLSAxXS5pbml0aWFsUG9zaXRpb24ueCArIHJhZGl1cy54LFxuICAgICAgICAgICAgc3RyYW5kW2kgLSAxXS5pbml0aWFsUG9zaXRpb24ueSArIHJhZGl1cy55XG4gICAgICAgICAgKTtcbiAgICAgICAgICBzdHJhbmRbaV0ucG9zaXRpb24gPSBuZXcgQ3ViaXNtVmVjdG9yMihcbiAgICAgICAgICAgIHN0cmFuZFtpXS5pbml0aWFsUG9zaXRpb24ueCxcbiAgICAgICAgICAgIHN0cmFuZFtpXS5pbml0aWFsUG9zaXRpb24ueVxuICAgICAgICAgICk7XG4gICAgICAgICAgc3RyYW5kW2ldLmxhc3RQb3NpdGlvbiA9IG5ldyBDdWJpc21WZWN0b3IyKFxuICAgICAgICAgICAgc3RyYW5kW2ldLmluaXRpYWxQb3NpdGlvbi54LFxuICAgICAgICAgICAgc3RyYW5kW2ldLmluaXRpYWxQb3NpdGlvbi55XG4gICAgICAgICAgKTtcbiAgICAgICAgICBzdHJhbmRbaV0ubGFzdEdyYXZpdHkgPSBuZXcgQ3ViaXNtVmVjdG9yMigwLjAsIC0xLjApO1xuICAgICAgICAgIHN0cmFuZFtpXS5sYXN0R3Jhdml0eS55ICo9IC0xLjA7XG4gICAgICAgICAgc3RyYW5kW2ldLnZlbG9jaXR5ID0gbmV3IEN1YmlzbVZlY3RvcjIoMC4wLCAwLjApO1xuICAgICAgICAgIHN0cmFuZFtpXS5mb3JjZSA9IG5ldyBDdWJpc21WZWN0b3IyKDAuMCwgMC4wKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIF9waHlzaWNzUmlnOiBDdWJpc21QaHlzaWNzUmlnOyAvLyDniannkIbmvJTnrpfjga7jg4fjg7zjgr9cbiAgICBfb3B0aW9uczogT3B0aW9uczsgLy8g44Kq44OX44K344On44OzXG4gIH1cblxuICAvKipcbiAgICog54mp55CG5ryU566X44Gu44Kq44OX44K344On44OzXG4gICAqL1xuICBleHBvcnQgY2xhc3MgT3B0aW9ucyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICB0aGlzLmdyYXZpdHkgPSBuZXcgQ3ViaXNtVmVjdG9yMigwLCAwKTtcbiAgICAgIHRoaXMud2luZCA9IG5ldyBDdWJpc21WZWN0b3IyKDAsIDApO1xuICAgIH1cblxuICAgIGdyYXZpdHk6IEN1YmlzbVZlY3RvcjI7IC8vIOmHjeWKm+aWueWQkVxuICAgIHdpbmQ6IEN1YmlzbVZlY3RvcjI7IC8vIOmiqOOBruaWueWQkVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgc2lnbi5cbiAgICpcbiAgICogQHBhcmFtIHZhbHVlIEV2YWx1YXRpb24gdGFyZ2V0IHZhbHVlLlxuICAgKlxuICAgKiBAcmV0dXJuIFNpZ24gb2YgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBzaWduKHZhbHVlOiBudW1iZXIpOiBudW1iZXIge1xuICAgIGxldCByZXQgPSAwO1xuXG4gICAgaWYgKHZhbHVlID4gMC4wKSB7XG4gICAgICByZXQgPSAxO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgPCAwLjApIHtcbiAgICAgIHJldCA9IC0xO1xuICAgIH1cblxuICAgIHJldHVybiByZXQ7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRJbnB1dFRyYW5zbGF0aW9uWEZyb21Ob3JtYWxpemVkUGFyYW1ldGVyVmFsdWUoXG4gICAgdGFyZ2V0VHJhbnNsYXRpb246IEN1YmlzbVZlY3RvcjIsXG4gICAgdGFyZ2V0QW5nbGU6IHsgYW5nbGU6IG51bWJlciB9LFxuICAgIHZhbHVlOiBudW1iZXIsXG4gICAgcGFyYW1ldGVyTWluaW11bVZhbHVlOiBudW1iZXIsXG4gICAgcGFyYW1ldGVyTWF4aW11bVZhbHVlOiBudW1iZXIsXG4gICAgcGFyYW1ldGVyRGVmYXVsdFZhbHVlOiBudW1iZXIsXG4gICAgbm9ybWFsaXphdGlvblBvc2l0aW9uOiBDdWJpc21QaHlzaWNzTm9ybWFsaXphdGlvbixcbiAgICBub3JtYWxpemF0aW9uQW5nbGU6IEN1YmlzbVBoeXNpY3NOb3JtYWxpemF0aW9uLFxuICAgIGlzSW52ZXJ0ZWQ6IGJvb2xlYW4sXG4gICAgd2VpZ2h0OiBudW1iZXJcbiAgKTogdm9pZCB7XG4gICAgdGFyZ2V0VHJhbnNsYXRpb24ueCArPVxuICAgICAgbm9ybWFsaXplUGFyYW1ldGVyVmFsdWUoXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBwYXJhbWV0ZXJNaW5pbXVtVmFsdWUsXG4gICAgICAgIHBhcmFtZXRlck1heGltdW1WYWx1ZSxcbiAgICAgICAgcGFyYW1ldGVyRGVmYXVsdFZhbHVlLFxuICAgICAgICBub3JtYWxpemF0aW9uUG9zaXRpb24ubWluaW11bSxcbiAgICAgICAgbm9ybWFsaXphdGlvblBvc2l0aW9uLm1heGltdW0sXG4gICAgICAgIG5vcm1hbGl6YXRpb25Qb3NpdGlvbi5kZWZhbHV0LFxuICAgICAgICBpc0ludmVydGVkXG4gICAgICApICogd2VpZ2h0O1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SW5wdXRUcmFuc2xhdGlvbllGcm9tTm9ybWFsaXplZFBhcmFtdGVyVmFsdWUoXG4gICAgdGFyZ2V0VHJhbnNsYXRpb246IEN1YmlzbVZlY3RvcjIsXG4gICAgdGFyZ2V0QW5nbGU6IHsgYW5nbGU6IG51bWJlciB9LFxuICAgIHZhbHVlOiBudW1iZXIsXG4gICAgcGFyYW1ldGVyTWluaW11bVZhbHVlOiBudW1iZXIsXG4gICAgcGFyYW1ldGVyTWF4aW11bVZhbHVlOiBudW1iZXIsXG4gICAgcGFyYW1ldGVyRGVmYXVsdFZhbHVlOiBudW1iZXIsXG4gICAgbm9ybWFsaXphdGlvblBvc2l0aW9uOiBDdWJpc21QaHlzaWNzTm9ybWFsaXphdGlvbixcbiAgICBub3JtYWxpemF0aW9uQW5nbGU6IEN1YmlzbVBoeXNpY3NOb3JtYWxpemF0aW9uLFxuICAgIGlzSW52ZXJ0ZWQ6IGJvb2xlYW4sXG4gICAgd2VpZ2h0OiBudW1iZXJcbiAgKTogdm9pZCB7XG4gICAgdGFyZ2V0VHJhbnNsYXRpb24ueSArPVxuICAgICAgbm9ybWFsaXplUGFyYW1ldGVyVmFsdWUoXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBwYXJhbWV0ZXJNaW5pbXVtVmFsdWUsXG4gICAgICAgIHBhcmFtZXRlck1heGltdW1WYWx1ZSxcbiAgICAgICAgcGFyYW1ldGVyRGVmYXVsdFZhbHVlLFxuICAgICAgICBub3JtYWxpemF0aW9uUG9zaXRpb24ubWluaW11bSxcbiAgICAgICAgbm9ybWFsaXphdGlvblBvc2l0aW9uLm1heGltdW0sXG4gICAgICAgIG5vcm1hbGl6YXRpb25Qb3NpdGlvbi5kZWZhbHV0LFxuICAgICAgICBpc0ludmVydGVkXG4gICAgICApICogd2VpZ2h0O1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SW5wdXRBbmdsZUZyb21Ob3JtYWxpemVkUGFyYW1ldGVyVmFsdWUoXG4gICAgdGFyZ2V0VHJhbnNsYXRpb246IEN1YmlzbVZlY3RvcjIsXG4gICAgdGFyZ2V0QW5nbGU6IHsgYW5nbGU6IG51bWJlciB9LFxuICAgIHZhbHVlOiBudW1iZXIsXG4gICAgcGFyYW1ldGVyTWluaW11bVZhbHVlOiBudW1iZXIsXG4gICAgcGFyYW1ldGVyTWF4aW11bVZhbHVlOiBudW1iZXIsXG4gICAgcGFyYW1ldGVyRGVmYXVsdFZhbHVlOiBudW1iZXIsXG4gICAgbm9ybWFsaXphaXRpb25Qb3NpdGlvbjogQ3ViaXNtUGh5c2ljc05vcm1hbGl6YXRpb24sXG4gICAgbm9ybWFsaXphdGlvbkFuZ2xlOiBDdWJpc21QaHlzaWNzTm9ybWFsaXphdGlvbixcbiAgICBpc0ludmVydGVkOiBib29sZWFuLFxuICAgIHdlaWdodDogbnVtYmVyXG4gICk6IHZvaWQge1xuICAgIHRhcmdldEFuZ2xlLmFuZ2xlICs9XG4gICAgICBub3JtYWxpemVQYXJhbWV0ZXJWYWx1ZShcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIHBhcmFtZXRlck1pbmltdW1WYWx1ZSxcbiAgICAgICAgcGFyYW1ldGVyTWF4aW11bVZhbHVlLFxuICAgICAgICBwYXJhbWV0ZXJEZWZhdWx0VmFsdWUsXG4gICAgICAgIG5vcm1hbGl6YXRpb25BbmdsZS5taW5pbXVtLFxuICAgICAgICBub3JtYWxpemF0aW9uQW5nbGUubWF4aW11bSxcbiAgICAgICAgbm9ybWFsaXphdGlvbkFuZ2xlLmRlZmFsdXQsXG4gICAgICAgIGlzSW52ZXJ0ZWRcbiAgICAgICkgKiB3ZWlnaHQ7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRPdXRwdXRUcmFuc2xhdGlvblgoXG4gICAgdHJhbnNsYXRpb246IEN1YmlzbVZlY3RvcjIsXG4gICAgcGFydGljbGVzOiBDdWJpc21QaHlzaWNzUGFydGljbGVbXSxcbiAgICBwYXJ0aWNsZUluZGV4OiBudW1iZXIsXG4gICAgaXNJbnZlcnRlZDogYm9vbGVhbixcbiAgICBwYXJlbnRHcmF2aXR5OiBDdWJpc21WZWN0b3IyXG4gICk6IG51bWJlciB7XG4gICAgbGV0IG91dHB1dFZhbHVlOiBudW1iZXIgPSB0cmFuc2xhdGlvbi54O1xuXG4gICAgaWYgKGlzSW52ZXJ0ZWQpIHtcbiAgICAgIG91dHB1dFZhbHVlICo9IC0xLjA7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dHB1dFZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0T3V0cHV0VHJhbnNsYXRpb25ZKFxuICAgIHRyYW5zbGF0aW9uOiBDdWJpc21WZWN0b3IyLFxuICAgIHBhcnRpY2xlczogQ3ViaXNtUGh5c2ljc1BhcnRpY2xlW10sXG4gICAgcGFydGljbGVJbmRleDogbnVtYmVyLFxuICAgIGlzSW52ZXJ0ZWQ6IGJvb2xlYW4sXG4gICAgcGFyZW50R3Jhdml0eTogQ3ViaXNtVmVjdG9yMlxuICApOiBudW1iZXIge1xuICAgIGxldCBvdXRwdXRWYWx1ZTogbnVtYmVyID0gdHJhbnNsYXRpb24ueTtcblxuICAgIGlmIChpc0ludmVydGVkKSB7XG4gICAgICBvdXRwdXRWYWx1ZSAqPSAtMS4wO1xuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0VmFsdWU7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRPdXRwdXRBbmdsZShcbiAgICB0cmFuc2xhdGlvbjogQ3ViaXNtVmVjdG9yMixcbiAgICBwYXJ0aWNsZXM6IEN1YmlzbVBoeXNpY3NQYXJ0aWNsZVtdLFxuICAgIHBhcnRpY2xlSW5kZXg6IG51bWJlcixcbiAgICBpc0ludmVydGVkOiBib29sZWFuLFxuICAgIHBhcmVudEdyYXZpdHk6IEN1YmlzbVZlY3RvcjJcbiAgKTogbnVtYmVyIHtcbiAgICBsZXQgb3V0cHV0VmFsdWU6IG51bWJlcjtcblxuICAgIGlmIChwYXJ0aWNsZUluZGV4ID49IDIpIHtcbiAgICAgIHBhcmVudEdyYXZpdHkgPSBwYXJ0aWNsZXNbcGFydGljbGVJbmRleCAtIDFdLnBvc2l0aW9uLnN1YnN0cmFjdChcbiAgICAgICAgcGFydGljbGVzW3BhcnRpY2xlSW5kZXggLSAyXS5wb3NpdGlvblxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFyZW50R3Jhdml0eSA9IHBhcmVudEdyYXZpdHkubXVsdGlwbHlCeVNjYWxlcigtMS4wKTtcbiAgICB9XG5cbiAgICBvdXRwdXRWYWx1ZSA9IEN1YmlzbU1hdGguZGlyZWN0aW9uVG9SYWRpYW4ocGFyZW50R3Jhdml0eSwgdHJhbnNsYXRpb24pO1xuXG4gICAgaWYgKGlzSW52ZXJ0ZWQpIHtcbiAgICAgIG91dHB1dFZhbHVlICo9IC0xLjA7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91dHB1dFZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UmFuZ2VWYWx1ZShtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBudW1iZXIge1xuICAgIGNvbnN0IG1heFZhbHVlOiBudW1iZXIgPSBDdWJpc21NYXRoLm1heChtaW4sIG1heCk7XG4gICAgY29uc3QgbWluVmFsdWU6IG51bWJlciA9IEN1YmlzbU1hdGgubWluKG1pbiwgbWF4KTtcblxuICAgIHJldHVybiBDdWJpc21NYXRoLmFicyhtYXhWYWx1ZSAtIG1pblZhbHVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldERlZmF1bHRWYWx1ZShtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBudW1iZXIge1xuICAgIGNvbnN0IG1pblZhbHVlOiBudW1iZXIgPSBDdWJpc21NYXRoLm1pbihtaW4sIG1heCk7XG4gICAgcmV0dXJuIG1pblZhbHVlICsgZ2V0UmFuZ2VWYWx1ZShtaW4sIG1heCkgLyAyLjA7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRPdXRwdXRTY2FsZVRyYW5zbGF0aW9uWChcbiAgICB0cmFuc2xhdGlvblNjYWxlOiBDdWJpc21WZWN0b3IyLFxuICAgIGFuZ2xlU2NhbGU6IG51bWJlclxuICApOiBudW1iZXIge1xuICAgIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRyYW5zbGF0aW9uU2NhbGUueCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0T3V0cHV0U2NhbGVUcmFuc2xhdGlvblkoXG4gICAgdHJhbnNsYXRpb25TY2FsZTogQ3ViaXNtVmVjdG9yMixcbiAgICBhbmdsZVNjYWxlOiBudW1iZXJcbiAgKTogbnVtYmVyIHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0cmFuc2xhdGlvblNjYWxlLnkpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE91dHB1dFNjYWxlQW5nbGUoXG4gICAgdHJhbnNsYXRpb25TY2FsZTogQ3ViaXNtVmVjdG9yMixcbiAgICBhbmdsZVNjYWxlOiBudW1iZXJcbiAgKTogbnVtYmVyIHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShhbmdsZVNjYWxlKSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyBwYXJ0aWNsZXMuXG4gICAqXG4gICAqIEBwYXJhbSBzdHJhbmQgICAgICAgICAgICAgICAgVGFyZ2V0IGFycmF5IG9mIHBhcnRpY2xlLlxuICAgKiBAcGFyYW0gc3RyYW5kQ291bnQgICAgICAgICAgIENvdW50IG9mIHBhcnRpY2xlLlxuICAgKiBAcGFyYW0gdG90YWxUcmFuc2xhdGlvbiAgICAgIFRvdGFsIHRyYW5zbGF0aW9uIHZhbHVlLlxuICAgKiBAcGFyYW0gdG90YWxBbmdsZSAgICAgICAgICAgIFRvdGFsIGFuZ2xlLlxuICAgKiBAcGFyYW0gd2luZERpcmVjdGlvbiAgICAgICAgIERpcmVjdGlvbiBvZiBXaW5kLlxuICAgKiBAcGFyYW0gdGhyZXNob2xkVmFsdWUgICAgICAgIFRocmVzaG9sZCBvZiBtb3ZlbWVudC5cbiAgICogQHBhcmFtIGRlbHRhVGltZVNlY29uZHMgICAgICBEZWx0YSB0aW1lLlxuICAgKiBAcGFyYW0gYWlyUmVzaXN0YW5jZSAgICAgICAgIEFpciByZXNpc3RhbmNlLlxuICAgKi9cbiAgZnVuY3Rpb24gdXBkYXRlUGFydGljbGVzKFxuICAgIHN0cmFuZDogQ3ViaXNtUGh5c2ljc1BhcnRpY2xlW10sXG4gICAgc3RyYW5kQ291bnQ6IG51bWJlcixcbiAgICB0b3RhbFRyYW5zbGF0aW9uOiBDdWJpc21WZWN0b3IyLFxuICAgIHRvdGFsQW5nbGU6IG51bWJlcixcbiAgICB3aW5kRGlyZWN0aW9uOiBDdWJpc21WZWN0b3IyLFxuICAgIHRocmVzaG9sZFZhbHVlOiBudW1iZXIsXG4gICAgZGVsdGFUaW1lU2Vjb25kczogbnVtYmVyLFxuICAgIGFpclJlc2lzdGFuY2U6IG51bWJlclxuICApIHtcbiAgICBsZXQgdG90YWxSYWRpYW46IG51bWJlcjtcbiAgICBsZXQgZGVsYXk6IG51bWJlcjtcbiAgICBsZXQgcmFkaWFuOiBudW1iZXI7XG4gICAgbGV0IGN1cnJlbnRHcmF2aXR5OiBDdWJpc21WZWN0b3IyO1xuICAgIGxldCBkaXJlY3Rpb246IEN1YmlzbVZlY3RvcjIgPSBuZXcgQ3ViaXNtVmVjdG9yMigwLjAsIDAuMCk7XG4gICAgbGV0IHZlbG9jaXR5OiBDdWJpc21WZWN0b3IyID0gbmV3IEN1YmlzbVZlY3RvcjIoMC4wLCAwLjApO1xuICAgIGxldCBmb3JjZTogQ3ViaXNtVmVjdG9yMiA9IG5ldyBDdWJpc21WZWN0b3IyKDAuMCwgMC4wKTtcbiAgICBsZXQgbmV3RGlyZWN0aW9uOiBDdWJpc21WZWN0b3IyID0gbmV3IEN1YmlzbVZlY3RvcjIoMC4wLCAwLjApO1xuXG4gICAgc3RyYW5kWzBdLnBvc2l0aW9uID0gbmV3IEN1YmlzbVZlY3RvcjIoXG4gICAgICB0b3RhbFRyYW5zbGF0aW9uLngsXG4gICAgICB0b3RhbFRyYW5zbGF0aW9uLnlcbiAgICApO1xuXG4gICAgdG90YWxSYWRpYW4gPSBDdWJpc21NYXRoLmRlZ3JlZXNUb1JhZGlhbih0b3RhbEFuZ2xlKTtcbiAgICBjdXJyZW50R3Jhdml0eSA9IEN1YmlzbU1hdGgucmFkaWFuVG9EaXJlY3Rpb24odG90YWxSYWRpYW4pO1xuICAgIGN1cnJlbnRHcmF2aXR5Lm5vcm1hbGl6ZSgpO1xuXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBzdHJhbmRDb3VudDsgKytpKSB7XG4gICAgICBzdHJhbmRbaV0uZm9yY2UgPSBjdXJyZW50R3Jhdml0eVxuICAgICAgICAubXVsdGlwbHlCeVNjYWxlcihzdHJhbmRbaV0uYWNjZWxlcmF0aW9uKVxuICAgICAgICAuYWRkKHdpbmREaXJlY3Rpb24pO1xuXG4gICAgICBzdHJhbmRbaV0ubGFzdFBvc2l0aW9uID0gbmV3IEN1YmlzbVZlY3RvcjIoXG4gICAgICAgIHN0cmFuZFtpXS5wb3NpdGlvbi54LFxuICAgICAgICBzdHJhbmRbaV0ucG9zaXRpb24ueVxuICAgICAgKTtcblxuICAgICAgZGVsYXkgPSBzdHJhbmRbaV0uZGVsYXkgKiBkZWx0YVRpbWVTZWNvbmRzICogMzAuMDtcblxuICAgICAgZGlyZWN0aW9uID0gc3RyYW5kW2ldLnBvc2l0aW9uLnN1YnN0cmFjdChzdHJhbmRbaSAtIDFdLnBvc2l0aW9uKTtcblxuICAgICAgcmFkaWFuID1cbiAgICAgICAgQ3ViaXNtTWF0aC5kaXJlY3Rpb25Ub1JhZGlhbihzdHJhbmRbaV0ubGFzdEdyYXZpdHksIGN1cnJlbnRHcmF2aXR5KSAvXG4gICAgICAgIGFpclJlc2lzdGFuY2U7XG5cbiAgICAgIGRpcmVjdGlvbi54ID1cbiAgICAgICAgQ3ViaXNtTWF0aC5jb3MocmFkaWFuKSAqIGRpcmVjdGlvbi54IC1cbiAgICAgICAgZGlyZWN0aW9uLnkgKiBDdWJpc21NYXRoLnNpbihyYWRpYW4pO1xuICAgICAgZGlyZWN0aW9uLnkgPVxuICAgICAgICBDdWJpc21NYXRoLnNpbihyYWRpYW4pICogZGlyZWN0aW9uLnggK1xuICAgICAgICBkaXJlY3Rpb24ueSAqIEN1YmlzbU1hdGguY29zKHJhZGlhbik7XG5cbiAgICAgIHN0cmFuZFtpXS5wb3NpdGlvbiA9IHN0cmFuZFtpIC0gMV0ucG9zaXRpb24uYWRkKGRpcmVjdGlvbik7XG5cbiAgICAgIHZlbG9jaXR5ID0gc3RyYW5kW2ldLnZlbG9jaXR5Lm11bHRpcGx5QnlTY2FsZXIoZGVsYXkpO1xuICAgICAgZm9yY2UgPSBzdHJhbmRbaV0uZm9yY2UubXVsdGlwbHlCeVNjYWxlcihkZWxheSkubXVsdGlwbHlCeVNjYWxlcihkZWxheSk7XG5cbiAgICAgIHN0cmFuZFtpXS5wb3NpdGlvbiA9IHN0cmFuZFtpXS5wb3NpdGlvbi5hZGQodmVsb2NpdHkpLmFkZChmb3JjZSk7XG5cbiAgICAgIG5ld0RpcmVjdGlvbiA9IHN0cmFuZFtpXS5wb3NpdGlvbi5zdWJzdHJhY3Qoc3RyYW5kW2kgLSAxXS5wb3NpdGlvbik7XG4gICAgICBuZXdEaXJlY3Rpb24ubm9ybWFsaXplKCk7XG5cbiAgICAgIHN0cmFuZFtpXS5wb3NpdGlvbiA9IHN0cmFuZFtpIC0gMV0ucG9zaXRpb24uYWRkKFxuICAgICAgICBuZXdEaXJlY3Rpb24ubXVsdGlwbHlCeVNjYWxlcihzdHJhbmRbaV0ucmFkaXVzKVxuICAgICAgKTtcblxuICAgICAgaWYgKEN1YmlzbU1hdGguYWJzKHN0cmFuZFtpXS5wb3NpdGlvbi54KSA8IHRocmVzaG9sZFZhbHVlKSB7XG4gICAgICAgIHN0cmFuZFtpXS5wb3NpdGlvbi54ID0gMC4wO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGVsYXkgIT0gMC4wKSB7XG4gICAgICAgIHN0cmFuZFtpXS52ZWxvY2l0eSA9IHN0cmFuZFtpXS5wb3NpdGlvbi5zdWJzdHJhY3QoXG4gICAgICAgICAgc3RyYW5kW2ldLmxhc3RQb3NpdGlvblxuICAgICAgICApO1xuICAgICAgICBzdHJhbmRbaV0udmVsb2NpdHkgPSBzdHJhbmRbaV0udmVsb2NpdHkuZGl2aXNpb25CeVNjYWxhcihkZWxheSk7XG4gICAgICAgIHN0cmFuZFtpXS52ZWxvY2l0eSA9IHN0cmFuZFtpXS52ZWxvY2l0eS5tdWx0aXBseUJ5U2NhbGVyKFxuICAgICAgICAgIHN0cmFuZFtpXS5tb2JpbGl0eVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBzdHJhbmRbaV0uZm9yY2UgPSBuZXcgQ3ViaXNtVmVjdG9yMigwLjAsIDAuMCk7XG4gICAgICBzdHJhbmRbaV0ubGFzdEdyYXZpdHkgPSBuZXcgQ3ViaXNtVmVjdG9yMihcbiAgICAgICAgY3VycmVudEdyYXZpdHkueCxcbiAgICAgICAgY3VycmVudEdyYXZpdHkueVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyBvdXRwdXQgcGFyYW1ldGVyIHZhbHVlLlxuICAgKiBAcGFyYW0gcGFyYW1ldGVyVmFsdWUgICAgICAgICAgICBUYXJnZXQgcGFyYW1ldGVyIHZhbHVlLlxuICAgKiBAcGFyYW0gcGFyYW1ldGVyVmFsdWVNaW5pbXVtICAgICBNaW5pbXVtIG9mIHBhcmFtZXRlciB2YWx1ZS5cbiAgICogQHBhcmFtIHBhcmFtZXRlclZhbHVlTWF4aW11bSAgICAgTWF4aW11bSBvZiBwYXJhbWV0ZXIgdmFsdWUuXG4gICAqIEBwYXJhbSB0cmFuc2xhdGlvbiAgICAgICAgICAgICAgIFRyYW5zbGF0aW9uIHZhbHVlLlxuICAgKi9cbiAgZnVuY3Rpb24gdXBkYXRlT3V0cHV0UGFyYW1ldGVyVmFsdWUoXG4gICAgcGFyYW1ldGVyVmFsdWU6IEZsb2F0MzJBcnJheSxcbiAgICBwYXJhbWV0ZXJWYWx1ZU1pbmltdW06IG51bWJlcixcbiAgICBwYXJhbWV0ZXJWYWx1ZU1heGltdW06IG51bWJlcixcbiAgICB0cmFuc2xhdGlvbjogbnVtYmVyLFxuICAgIG91dHB1dDogQ3ViaXNtUGh5c2ljc091dHB1dFxuICApOiB2b2lkIHtcbiAgICBsZXQgb3V0cHV0U2NhbGU6IG51bWJlcjtcbiAgICBsZXQgdmFsdWU6IG51bWJlcjtcbiAgICBsZXQgd2VpZ2h0OiBudW1iZXI7XG5cbiAgICBvdXRwdXRTY2FsZSA9IG91dHB1dC5nZXRTY2FsZShvdXRwdXQudHJhbnNsYXRpb25TY2FsZSwgb3V0cHV0LmFuZ2xlU2NhbGUpO1xuXG4gICAgdmFsdWUgPSB0cmFuc2xhdGlvbiAqIG91dHB1dFNjYWxlO1xuXG4gICAgaWYgKHZhbHVlIDwgcGFyYW1ldGVyVmFsdWVNaW5pbXVtKSB7XG4gICAgICBpZiAodmFsdWUgPCBvdXRwdXQudmFsdWVCZWxvd01pbmltdW0pIHtcbiAgICAgICAgb3V0cHV0LnZhbHVlQmVsb3dNaW5pbXVtID0gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHZhbHVlID0gcGFyYW1ldGVyVmFsdWVNaW5pbXVtO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgPiBwYXJhbWV0ZXJWYWx1ZU1heGltdW0pIHtcbiAgICAgIGlmICh2YWx1ZSA+IG91dHB1dC52YWx1ZUV4Y2VlZGVkTWF4aW11bSkge1xuICAgICAgICBvdXRwdXQudmFsdWVFeGNlZWRlZE1heGltdW0gPSB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgdmFsdWUgPSBwYXJhbWV0ZXJWYWx1ZU1heGltdW07XG4gICAgfVxuXG4gICAgd2VpZ2h0ID0gb3V0cHV0LndlaWdodCAvIE1heGltdW1XZWlnaHQ7XG5cbiAgICBpZiAod2VpZ2h0ID49IDEuMCkge1xuICAgICAgcGFyYW1ldGVyVmFsdWVbMF0gPSB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWUgPSBwYXJhbWV0ZXJWYWx1ZVswXSAqICgxLjAgLSB3ZWlnaHQpICsgdmFsdWUgKiB3ZWlnaHQ7XG4gICAgICBwYXJhbWV0ZXJWYWx1ZVswXSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZVBhcmFtZXRlclZhbHVlKFxuICAgIHZhbHVlOiBudW1iZXIsXG4gICAgcGFyYW1ldGVyTWluaW11bTogbnVtYmVyLFxuICAgIHBhcmFtZXRlck1heGltdW06IG51bWJlcixcbiAgICBwYXJhbWV0ZXJEZWZhdWx0OiBudW1iZXIsXG4gICAgbm9ybWFsaXplZE1pbmltdW06IG51bWJlcixcbiAgICBub3JtYWxpemVkTWF4aW11bTogbnVtYmVyLFxuICAgIG5vcm1hbGl6ZWREZWZhdWx0OiBudW1iZXIsXG4gICAgaXNJbnZlcnRlZDogYm9vbGVhblxuICApIHtcbiAgICBsZXQgcmVzdWx0ID0gMC4wO1xuXG4gICAgY29uc3QgbWF4VmFsdWU6IG51bWJlciA9IEN1YmlzbU1hdGgubWF4KHBhcmFtZXRlck1heGltdW0sIHBhcmFtZXRlck1pbmltdW0pO1xuXG4gICAgaWYgKG1heFZhbHVlIDwgdmFsdWUpIHtcbiAgICAgIHZhbHVlID0gbWF4VmFsdWU7XG4gICAgfVxuXG4gICAgY29uc3QgbWluVmFsdWU6IG51bWJlciA9IEN1YmlzbU1hdGgubWluKHBhcmFtZXRlck1heGltdW0sIHBhcmFtZXRlck1pbmltdW0pO1xuXG4gICAgaWYgKG1pblZhbHVlID4gdmFsdWUpIHtcbiAgICAgIHZhbHVlID0gbWluVmFsdWU7XG4gICAgfVxuXG4gICAgY29uc3QgbWluTm9ybVZhbHVlOiBudW1iZXIgPSBDdWJpc21NYXRoLm1pbihcbiAgICAgIG5vcm1hbGl6ZWRNaW5pbXVtLFxuICAgICAgbm9ybWFsaXplZE1heGltdW1cbiAgICApO1xuICAgIGNvbnN0IG1heE5vcm1WYWx1ZTogbnVtYmVyID0gQ3ViaXNtTWF0aC5tYXgoXG4gICAgICBub3JtYWxpemVkTWluaW11bSxcbiAgICAgIG5vcm1hbGl6ZWRNYXhpbXVtXG4gICAgKTtcbiAgICBjb25zdCBtaWRkbGVOb3JtVmFsdWU6IG51bWJlciA9IG5vcm1hbGl6ZWREZWZhdWx0O1xuXG4gICAgY29uc3QgbWlkZGxlVmFsdWU6IG51bWJlciA9IGdldERlZmF1bHRWYWx1ZShtaW5WYWx1ZSwgbWF4VmFsdWUpO1xuICAgIGNvbnN0IHBhcmFtVmFsdWU6IG51bWJlciA9IHZhbHVlIC0gbWlkZGxlVmFsdWU7XG5cbiAgICBzd2l0Y2ggKHNpZ24ocGFyYW1WYWx1ZSkpIHtcbiAgICAgIGNhc2UgMToge1xuICAgICAgICBjb25zdCBuTGVuZ3RoOiBudW1iZXIgPSBtYXhOb3JtVmFsdWUgLSBtaWRkbGVOb3JtVmFsdWU7XG4gICAgICAgIGNvbnN0IHBMZW5ndGg6IG51bWJlciA9IG1heFZhbHVlIC0gbWlkZGxlVmFsdWU7XG5cbiAgICAgICAgaWYgKHBMZW5ndGggIT0gMC4wKSB7XG4gICAgICAgICAgcmVzdWx0ID0gcGFyYW1WYWx1ZSAqIChuTGVuZ3RoIC8gcExlbmd0aCk7XG4gICAgICAgICAgcmVzdWx0ICs9IG1pZGRsZU5vcm1WYWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAtMToge1xuICAgICAgICBjb25zdCBuTGVuZ3RoOiBudW1iZXIgPSBtaW5Ob3JtVmFsdWUgLSBtaWRkbGVOb3JtVmFsdWU7XG4gICAgICAgIGNvbnN0IHBMZW5ndGg6IG51bWJlciA9IG1pblZhbHVlIC0gbWlkZGxlVmFsdWU7XG5cbiAgICAgICAgaWYgKHBMZW5ndGggIT0gMC4wKSB7XG4gICAgICAgICAgcmVzdWx0ID0gcGFyYW1WYWx1ZSAqIChuTGVuZ3RoIC8gcExlbmd0aCk7XG4gICAgICAgICAgcmVzdWx0ICs9IG1pZGRsZU5vcm1WYWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAwOiB7XG4gICAgICAgIHJlc3VsdCA9IG1pZGRsZU5vcm1WYWx1ZTtcblxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGlzSW52ZXJ0ZWQgPyByZXN1bHQgOiByZXN1bHQgKiAtMS4wO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7OztBQU9BO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUdBO0FBS0E7QUEyTUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTdNQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUVBO0FBWUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBWUE7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVFBO0FBRUE7QUFFQTtBQUNBO0FBS0E7QUFFQTtBQVNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQW1CQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFLQTtBQUtBO0FBTUE7QUFJQTtBQUNBO0FBS0E7QUFLQTtBQU1BO0FBS0E7QUFLQTtBQU9BO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBR0E7QUFHQTtBQUdBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUVBO0FBR0E7QUFDQTtBQUdBO0FBR0E7QUFFQTtBQUtBO0FBR0E7QUFHQTtBQUdBO0FBR0E7QUFHQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFLQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBSUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQUE7QUF2ZUE7QUE0ZUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQUE7QUFSQTtBQWlCQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBWUE7QUFDQTtBQVVBO0FBRUE7QUFZQTtBQUNBO0FBVUE7QUFFQTtBQVlBO0FBQ0E7QUFVQTtBQUVBO0FBT0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFPQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU9BO0FBRUE7QUFDQTtBQUdBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBY0E7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFJQTtBQUNBO0FBU0E7QUFPQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFVQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBSUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/physics/cubismphysics.ts\n");

/***/ }),

/***/ "./Framework/src/physics/cubismphysicsinternal.ts":
/*!********************************************************!*\
  !*** ./Framework/src/physics/cubismphysicsinternal.ts ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar cubismvector2_1 = __webpack_require__(/*! ../math/cubismvector2 */ \"./Framework/src/math/cubismvector2.ts\");\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./Framework/src/type/csmvector.ts\");\nvar csmVector = csmvector_1.Live2DCubismFramework.csmVector;\nvar CubismVector2 = cubismvector2_1.Live2DCubismFramework.CubismVector2;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var CubismPhysicsTargetType;\n    (function (CubismPhysicsTargetType) {\n        CubismPhysicsTargetType[CubismPhysicsTargetType[\"CubismPhysicsTargetType_Parameter\"] = 0] = \"CubismPhysicsTargetType_Parameter\";\n    })(CubismPhysicsTargetType = Live2DCubismFramework.CubismPhysicsTargetType || (Live2DCubismFramework.CubismPhysicsTargetType = {}));\n    var CubismPhysicsSource;\n    (function (CubismPhysicsSource) {\n        CubismPhysicsSource[CubismPhysicsSource[\"CubismPhysicsSource_X\"] = 0] = \"CubismPhysicsSource_X\";\n        CubismPhysicsSource[CubismPhysicsSource[\"CubismPhysicsSource_Y\"] = 1] = \"CubismPhysicsSource_Y\";\n        CubismPhysicsSource[CubismPhysicsSource[\"CubismPhysicsSource_Angle\"] = 2] = \"CubismPhysicsSource_Angle\";\n    })(CubismPhysicsSource = Live2DCubismFramework.CubismPhysicsSource || (Live2DCubismFramework.CubismPhysicsSource = {}));\n    var PhysicsJsonEffectiveForces = (function () {\n        function PhysicsJsonEffectiveForces() {\n            this.gravity = new CubismVector2(0, 0);\n            this.wind = new CubismVector2(0, 0);\n        }\n        return PhysicsJsonEffectiveForces;\n    }());\n    Live2DCubismFramework.PhysicsJsonEffectiveForces = PhysicsJsonEffectiveForces;\n    var CubismPhysicsParameter = (function () {\n        function CubismPhysicsParameter() {\n        }\n        return CubismPhysicsParameter;\n    }());\n    Live2DCubismFramework.CubismPhysicsParameter = CubismPhysicsParameter;\n    var CubismPhysicsNormalization = (function () {\n        function CubismPhysicsNormalization() {\n        }\n        return CubismPhysicsNormalization;\n    }());\n    Live2DCubismFramework.CubismPhysicsNormalization = CubismPhysicsNormalization;\n    var CubismPhysicsParticle = (function () {\n        function CubismPhysicsParticle() {\n            this.initialPosition = new CubismVector2(0, 0);\n            this.position = new CubismVector2(0, 0);\n            this.lastPosition = new CubismVector2(0, 0);\n            this.lastGravity = new CubismVector2(0, 0);\n            this.force = new CubismVector2(0, 0);\n            this.velocity = new CubismVector2(0, 0);\n        }\n        return CubismPhysicsParticle;\n    }());\n    Live2DCubismFramework.CubismPhysicsParticle = CubismPhysicsParticle;\n    var CubismPhysicsSubRig = (function () {\n        function CubismPhysicsSubRig() {\n            this.normalizationPosition = new CubismPhysicsNormalization();\n            this.normalizationAngle = new CubismPhysicsNormalization();\n        }\n        return CubismPhysicsSubRig;\n    }());\n    Live2DCubismFramework.CubismPhysicsSubRig = CubismPhysicsSubRig;\n    var CubismPhysicsInput = (function () {\n        function CubismPhysicsInput() {\n            this.source = new CubismPhysicsParameter();\n        }\n        return CubismPhysicsInput;\n    }());\n    Live2DCubismFramework.CubismPhysicsInput = CubismPhysicsInput;\n    var CubismPhysicsOutput = (function () {\n        function CubismPhysicsOutput() {\n            this.destination = new CubismPhysicsParameter();\n            this.translationScale = new CubismVector2(0, 0);\n        }\n        return CubismPhysicsOutput;\n    }());\n    Live2DCubismFramework.CubismPhysicsOutput = CubismPhysicsOutput;\n    var CubismPhysicsRig = (function () {\n        function CubismPhysicsRig() {\n            this.settings = new csmVector();\n            this.inputs = new csmVector();\n            this.outputs = new csmVector();\n            this.particles = new csmVector();\n            this.gravity = new CubismVector2(0, 0);\n            this.wind = new CubismVector2(0, 0);\n        }\n        return CubismPhysicsRig;\n    }());\n    Live2DCubismFramework.CubismPhysicsRig = CubismPhysicsRig;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL3BoeXNpY3MvY3ViaXNtcGh5c2ljc2ludGVybmFsLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vRnJhbWV3b3JrL3NyYy9waHlzaWNzL2N1YmlzbXBoeXNpY3NpbnRlcm5hbC50cz84ZjM1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0KGMpIExpdmUyRCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcbiAqIHRoYXQgY2FuIGJlIGZvdW5kIGF0IGh0dHBzOi8vd3d3LmxpdmUyZC5jb20vZXVsYS9saXZlMmQtb3Blbi1zb2Z0d2FyZS1saWNlbnNlLWFncmVlbWVudF9lbi5odG1sLlxuICovXG5cbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc212ZWN0b3IyIH0gZnJvbSAnLi4vbWF0aC9jdWJpc212ZWN0b3IyJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21pZCB9IGZyb20gJy4uL2lkL2N1YmlzbWlkJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjc212ZWN0b3IgfSBmcm9tICcuLi90eXBlL2NzbXZlY3Rvcic7XG5pbXBvcnQgY3NtVmVjdG9yID0gY3NtdmVjdG9yLmNzbVZlY3RvcjtcbmltcG9ydCBDdWJpc21JZEhhbmRsZSA9IGN1YmlzbWlkLkN1YmlzbUlkSGFuZGxlO1xuaW1wb3J0IEN1YmlzbVZlY3RvcjIgPSBjdWJpc212ZWN0b3IyLkN1YmlzbVZlY3RvcjI7XG5cbmV4cG9ydCBuYW1lc3BhY2UgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIHtcbiAgLyoqXG4gICAqIOeJqeeQhua8lOeul+OBrumBqeeUqOWFiOOBrueorumhnlxuICAgKi9cbiAgZXhwb3J0IGVudW0gQ3ViaXNtUGh5c2ljc1RhcmdldFR5cGUge1xuICAgIEN1YmlzbVBoeXNpY3NUYXJnZXRUeXBlX1BhcmFtZXRlciAvLyDjg5Hjg6njg6Hjg7zjgr/jgavlr77jgZfjgabpgannlKhcbiAgfVxuXG4gIC8qKlxuICAgKiDniannkIbmvJTnrpfjga7lhaXlipvjga7nqK7poZ5cbiAgICovXG4gIGV4cG9ydCBlbnVtIEN1YmlzbVBoeXNpY3NTb3VyY2Uge1xuICAgIEN1YmlzbVBoeXNpY3NTb3VyY2VfWCwgLy8gWOi7uOOBruS9jee9ruOBi+OCiVxuICAgIEN1YmlzbVBoeXNpY3NTb3VyY2VfWSwgLy8gWei7uOOBruS9jee9ruOBi+OCiVxuICAgIEN1YmlzbVBoeXNpY3NTb3VyY2VfQW5nbGUgLy8g6KeS5bqm44GL44KJXG4gIH1cblxuICAvKipcbiAgICogQGJyaWVmIOeJqeeQhua8lOeul+OBp+S9v+eUqOOBmeOCi+WklumDqOOBruWKm1xuICAgKlxuICAgKiDniannkIbmvJTnrpfjgafkvb/nlKjjgZnjgovlpJbpg6jjga7lipvjgIJcbiAgICovXG4gIGV4cG9ydCBjbGFzcyBQaHlzaWNzSnNvbkVmZmVjdGl2ZUZvcmNlcyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICB0aGlzLmdyYXZpdHkgPSBuZXcgQ3ViaXNtVmVjdG9yMigwLCAwKTtcbiAgICAgIHRoaXMud2luZCA9IG5ldyBDdWJpc21WZWN0b3IyKDAsIDApO1xuICAgIH1cbiAgICBncmF2aXR5OiBDdWJpc21WZWN0b3IyOyAvLyDph43liptcbiAgICB3aW5kOiBDdWJpc21WZWN0b3IyOyAvLyDpoqhcbiAgfVxuXG4gIC8qKlxuICAgKiDniannkIbmvJTnrpfjga7jg5Hjg6njg6Hjg7zjgr/mg4XloLFcbiAgICovXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21QaHlzaWNzUGFyYW1ldGVyIHtcbiAgICBpZDogQ3ViaXNtSWRIYW5kbGU7IC8vIOODkeODqeODoeODvOOCv1xuICAgIHRhcmdldFR5cGU6IEN1YmlzbVBoeXNpY3NUYXJnZXRUeXBlOyAvLyDpgannlKjlhYjjga7nqK7poZ5cbiAgfVxuXG4gIC8qKlxuICAgKiDniannkIbmvJTnrpfjga7mraPopo/ljJbmg4XloLFcbiAgICovXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21QaHlzaWNzTm9ybWFsaXphdGlvbiB7XG4gICAgbWluaW11bTogbnVtYmVyOyAvLyDmnIDlpKflgKRcbiAgICBtYXhpbXVtOiBudW1iZXI7IC8vIOacgOWwj+WApFxuICAgIGRlZmFsdXQ6IG51bWJlcjsgLy8g44OH44OV44Kp44Or44OI5YCkXG4gIH1cblxuICAvKipcbiAgICog54mp55CG5ryU566X44Gu5ryU566X5aeU5L2/55So44GZ44KL54mp55CG54K544Gu5oOF5aCxXG4gICAqL1xuICBleHBvcnQgY2xhc3MgQ3ViaXNtUGh5c2ljc1BhcnRpY2xlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHRoaXMuaW5pdGlhbFBvc2l0aW9uID0gbmV3IEN1YmlzbVZlY3RvcjIoMCwgMCk7XG4gICAgICB0aGlzLnBvc2l0aW9uID0gbmV3IEN1YmlzbVZlY3RvcjIoMCwgMCk7XG4gICAgICB0aGlzLmxhc3RQb3NpdGlvbiA9IG5ldyBDdWJpc21WZWN0b3IyKDAsIDApO1xuICAgICAgdGhpcy5sYXN0R3Jhdml0eSA9IG5ldyBDdWJpc21WZWN0b3IyKDAsIDApO1xuICAgICAgdGhpcy5mb3JjZSA9IG5ldyBDdWJpc21WZWN0b3IyKDAsIDApO1xuICAgICAgdGhpcy52ZWxvY2l0eSA9IG5ldyBDdWJpc21WZWN0b3IyKDAsIDApO1xuICAgIH1cblxuICAgIGluaXRpYWxQb3NpdGlvbjogQ3ViaXNtVmVjdG9yMjsgLy8g5Yid5pyf5L2N572uXG4gICAgbW9iaWxpdHk6IG51bWJlcjsgLy8g5YuV44GN44KE44GZ44GVXG4gICAgZGVsYXk6IG51bWJlcjsgLy8g6YGF44KMXG4gICAgYWNjZWxlcmF0aW9uOiBudW1iZXI7IC8vIOWKoOmAn+W6plxuICAgIHJhZGl1czogbnVtYmVyOyAvLyDot53pm6JcbiAgICBwb3NpdGlvbjogQ3ViaXNtVmVjdG9yMjsgLy8g54++5Zyo44Gu5L2N572uXG4gICAgbGFzdFBvc2l0aW9uOiBDdWJpc21WZWN0b3IyOyAvLyDmnIDlvozjga7kvY3nva5cbiAgICBsYXN0R3Jhdml0eTogQ3ViaXNtVmVjdG9yMjsgLy8g5pyA5b6M44Gu6YeN5YqbXG4gICAgZm9yY2U6IEN1YmlzbVZlY3RvcjI7IC8vIOePvuWcqOOBi+OBi+OBo+OBpuOBhOOCi+WKm1xuICAgIHZlbG9jaXR5OiBDdWJpc21WZWN0b3IyOyAvLyDnj77lnKjjga7pgJ/luqZcbiAgfVxuXG4gIC8qKlxuICAgKiDniannkIbmvJTnrpfjga7niannkIbngrnjga7nrqHnkIZcbiAgICovXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21QaHlzaWNzU3ViUmlnIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHRoaXMubm9ybWFsaXphdGlvblBvc2l0aW9uID0gbmV3IEN1YmlzbVBoeXNpY3NOb3JtYWxpemF0aW9uKCk7XG4gICAgICB0aGlzLm5vcm1hbGl6YXRpb25BbmdsZSA9IG5ldyBDdWJpc21QaHlzaWNzTm9ybWFsaXphdGlvbigpO1xuICAgIH1cbiAgICBpbnB1dENvdW50OiBudW1iZXI7IC8vIOWFpeWKm+OBruWAi+aVsFxuICAgIG91dHB1dENvdW50OiBudW1iZXI7IC8vIOWHuuWKm+OBruWAi+aVsFxuICAgIHBhcnRpY2xlQ291bnQ6IG51bWJlcjsgLy8g54mp55CG54K544Gu5YCL5pWwXG4gICAgYmFzZUlucHV0SW5kZXg6IG51bWJlcjsgLy8g5YWl5Yqb44Gu5pyA5Yid44Gu44Kk44Oz44OH44OD44Kv44K5XG4gICAgYmFzZU91dHB1dEluZGV4OiBudW1iZXI7IC8vIOWHuuWKm+OBruacgOWIneOBruOCpOODs+ODh+ODg+OCr+OCuVxuICAgIGJhc2VQYXJ0aWNsZUluZGV4OiBudW1iZXI7IC8vIOeJqeeQhueCueOBruacgOWIneOBruOCpOODs+ODh+ODg+OCr+OCuVxuICAgIG5vcm1hbGl6YXRpb25Qb3NpdGlvbjogQ3ViaXNtUGh5c2ljc05vcm1hbGl6YXRpb247IC8vIOato+imj+WMluOBleOCjOOBn+S9jee9rlxuICAgIG5vcm1hbGl6YXRpb25BbmdsZTogQ3ViaXNtUGh5c2ljc05vcm1hbGl6YXRpb247IC8vIOato+imj+WMluOBleOCjOOBn+inkuW6plxuICB9XG5cbiAgLyoqXG4gICAqIOato+imj+WMluOBleOCjOOBn+ODkeODqeODoeODvOOCv+OBruWPluW+l+mWouaVsOOBruWuo+iogFxuICAgKiBAcGFyYW0gdGFyZ2V0VHJhbnNsYXRpb24gICAgIC8vIOa8lOeul+e1kOaenOOBruenu+WLleWApFxuICAgKiBAcGFyYW0gdGFyZ2V0QW5nbGUgICAgICAgICAgIC8vIOa8lOeul+e1kOaenOOBruinkuW6plxuICAgKiBAcGFyYW0gdmFsdWUgICAgICAgICAgICAgICAgIC8vIOODkeODqeODoeODvOOCv+OBruWApFxuICAgKiBAcGFyYW0gcGFyYW1ldGVyTWluaW11blZhbHVlIC8vIOODkeODqeODoeODvOOCv+OBruacgOWwj+WApFxuICAgKiBAcGFyYW0gcGFyYW1ldGVyTWF4aW11bVZhbHVlIC8vIOODkeODqeODoeODvOOCv+OBruacgOWkp+WApFxuICAgKiBAcGFyYW0gcGFyYW1ldGVyRGVmYXVsdFZhbHVlIC8vIOODkeODqeODoeODvOOCv+OBruODh+ODleOCqeODq+ODiOWApFxuICAgKiBAcGFyYW0gbm9ybWFsaXphdGlvblBvc2l0aW9uIC8vIOato+imj+WMluOBleOCjOOBn+S9jee9rlxuICAgKiBAcGFyYW0gbm9ybWFsaXphdGlvbkFuZ2xlICAgIC8vIOato+imj+WMluOBleOCjOOBn+inkuW6plxuICAgKiBAcGFyYW0gaXNJbnZlcnRlZCAgICAgICAgICAgIC8vIOWApOOBjOWPjei7ouOBleOCjOOBpuOBhOOCi+OBi++8n1xuICAgKiBAcGFyYW0gd2VpZ2h0ICAgICAgICAgICAgICAgIC8vIOmHjeOBv1xuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBub3JtYWxpemVkUGh5c2ljc1BhcmFtZXRlclZhbHVlR2V0dGVyIHtcbiAgICAoXG4gICAgICB0YXJnZXRUcmFuc2xhdGlvbjogQ3ViaXNtVmVjdG9yMixcbiAgICAgIHRhcmdldEFuZ2xlOiB7IGFuZ2xlOiBudW1iZXIgfSxcbiAgICAgIHZhbHVlOiBudW1iZXIsXG4gICAgICBwYXJhbWV0ZXJNaW5pbXVuVmFsdWU6IG51bWJlcixcbiAgICAgIHBhcmFtZXRlck1heGltdW1WYWx1ZTogbnVtYmVyLFxuICAgICAgcGFyYW1ldGVyRGVmYXVsdFZhbHVlOiBudW1iZXIsXG4gICAgICBub3JtYWxpemF0aW9uUG9zaXRpb246IEN1YmlzbVBoeXNpY3NOb3JtYWxpemF0aW9uLFxuICAgICAgbm9ybWFsaXphdGlvbkFuZ2xlOiBDdWJpc21QaHlzaWNzTm9ybWFsaXphdGlvbixcbiAgICAgIGlzSW52ZXJ0ZWQ6IGJvb2xlYW4sXG4gICAgICB3ZWlnaHQ6IG51bWJlclxuICAgICk6IHZvaWQ7XG4gIH1cblxuICAvKipcbiAgICog54mp55CG5ryU566X44Gu5YCk44Gu5Y+W5b6X6Zai5pWw44Gu5a6j6KiAXG4gICAqIEBwYXJhbSB0cmFuc2xhdGlvbiDnp7vli5XlgKRcbiAgICogQHBhcmFtIHBhcnRpY2xlcyDniannkIbngrnjga7jg6rjgrnjg4hcbiAgICogQHBhcmFtIGlzSW52ZXJ0ZWQg5YCk44GM5Y+N5pig44GV44KM44Gm44GE44KL44GLXG4gICAqIEBwYXJhbSBwYXJlbnRHcmF2aXR5IOmHjeWKm1xuICAgKiBAcmV0dXJuIOWApFxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBwaHlzaWNzVmFsdWVHZXR0ZXIge1xuICAgIChcbiAgICAgIHRyYW5zbGF0aW9uOiBDdWJpc21WZWN0b3IyLFxuICAgICAgcGFydGljbGVzOiBDdWJpc21QaHlzaWNzUGFydGljbGVbXSxcbiAgICAgIHBhcnRpY2xlSW5kZXg6IG51bWJlcixcbiAgICAgIGlzSW52ZXJ0ZWQ6IGJvb2xlYW4sXG4gICAgICBwYXJlbnRHcmF2aXR5OiBDdWJpc21WZWN0b3IyXG4gICAgKTogbnVtYmVyO1xuICB9XG5cbiAgLyoqXG4gICAqIOeJqeeQhua8lOeul+OBruOCueOCseODvOODq+OBruWPluW+l+mWouaVsOOBruWuo+iogFxuICAgKiBAcGFyYW0gdHJhbnNsYXRpb25TY2FsZSDnp7vli5XlgKTjga7jgrnjgrHjg7zjg6tcbiAgICogQHBhcmFtIGFuZ2xlU2NhbGUgICAg6KeS5bqm44Gu44K544Kx44O844OrXG4gICAqIEByZXR1cm4g44K544Kx44O844Or5YCkXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIHBoeXNpY3NTY2FsZUdldHRlciB7XG4gICAgKHRyYW5zbGF0aW9uU2NhbGU6IEN1YmlzbVZlY3RvcjIsIGFuZ2xlU2NhbGU6IG51bWJlcik6IG51bWJlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiDniannkIbmvJTnrpfjga7lhaXlipvmg4XloLFcbiAgICovXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21QaHlzaWNzSW5wdXQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgdGhpcy5zb3VyY2UgPSBuZXcgQ3ViaXNtUGh5c2ljc1BhcmFtZXRlcigpO1xuICAgIH1cbiAgICBzb3VyY2U6IEN1YmlzbVBoeXNpY3NQYXJhbWV0ZXI7IC8vIOWFpeWKm+WFg+OBruODkeODqeODoeODvOOCv1xuICAgIHNvdXJjZVBhcmFtZXRlckluZGV4OiBudW1iZXI7IC8vIOWFpeWKm+WFg+OBruODkeODqeODoeODvOOCv+OBruOCpOODs+ODh+ODg+OCr+OCuVxuICAgIHdlaWdodDogbnVtYmVyOyAvLyDph43jgb9cbiAgICB0eXBlOiBudW1iZXI7IC8vIOWFpeWKm+OBrueorumhnlxuICAgIHJlZmxlY3Q6IGJvb2xlYW47IC8vIOWApOOBjOWPjei7ouOBleOCjOOBpuOBhOOCi+OBi+OBqeOBhuOBi1xuICAgIGdldE5vcm1hbGl6ZWRQYXJhbWV0ZXJWYWx1ZTogbm9ybWFsaXplZFBoeXNpY3NQYXJhbWV0ZXJWYWx1ZUdldHRlcjsgLy8g5q2j6KaP5YyW44GV44KM44Gf44OR44Op44Oh44O844K/5YCk44Gu5Y+W5b6X6Zai5pWwXG4gIH1cblxuICAvKipcbiAgICogQGJyaWVmIOeJqeeQhua8lOeul+OBruWHuuWKm+aDheWgsVxuICAgKlxuICAgKiDniannkIbmvJTnrpfjga7lh7rlipvmg4XloLHjgIJcbiAgICovXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21QaHlzaWNzT3V0cHV0IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHRoaXMuZGVzdGluYXRpb24gPSBuZXcgQ3ViaXNtUGh5c2ljc1BhcmFtZXRlcigpO1xuICAgICAgdGhpcy50cmFuc2xhdGlvblNjYWxlID0gbmV3IEN1YmlzbVZlY3RvcjIoMCwgMCk7XG4gICAgfVxuXG4gICAgZGVzdGluYXRpb246IEN1YmlzbVBoeXNpY3NQYXJhbWV0ZXI7IC8vIOWHuuWKm+WFiOOBruODkeODqeODoeODvOOCv1xuICAgIGRlc3RpbmF0aW9uUGFyYW1ldGVySW5kZXg6IG51bWJlcjsgLy8g5Ye65Yqb5YWI44Gu44OR44Op44Oh44O844K/44Gu44Kk44Oz44OH44OD44Kv44K5XG4gICAgdmVydGV4SW5kZXg6IG51bWJlcjsgLy8g5oyv44KK5a2Q44Gu44Kk44Oz44OH44OD44Kv44K5XG4gICAgdHJhbnNsYXRpb25TY2FsZTogQ3ViaXNtVmVjdG9yMjsgLy8g56e75YuV5YCk44Gu44K544Kx44O844OrXG4gICAgYW5nbGVTY2FsZTogbnVtYmVyOyAvLyDop5Lluqbjga7jgrnjgrHjg7zjg6tcbiAgICB3ZWlnaHQ6IG51bWJlcjsgLy8g6YeN44G/XG4gICAgdHlwZTogQ3ViaXNtUGh5c2ljc1NvdXJjZTsgLy8g5Ye65Yqb44Gu56iu6aGeXG4gICAgcmVmbGVjdDogYm9vbGVhbjsgLy8g5YCk44GM5Y+N6Lui44GV44KM44Gm44GE44KL44GL44Gp44GG44GLXG4gICAgdmFsdWVCZWxvd01pbmltdW06IG51bWJlcjsgLy8g5pyA5bCP5YCk44KS5LiL5Zue44Gj44Gf5pmC44Gu5YCkXG4gICAgdmFsdWVFeGNlZWRlZE1heGltdW06IG51bWJlcjsgLy8g5pyA5aSn5YCk44KS44GT44GI44Gf5pmC44Gu5YCkXG4gICAgZ2V0VmFsdWU6IHBoeXNpY3NWYWx1ZUdldHRlcjsgLy8g54mp55CG5ryU566X44Gu5YCk44Gu5Y+W5b6X6Zai5pWwXG4gICAgZ2V0U2NhbGU6IHBoeXNpY3NTY2FsZUdldHRlcjsgLy8g54mp55CG5ryU566X44Gu44K544Kx44O844Or5YCk44Gu5Y+W5b6X6Zai5pWwXG4gIH1cblxuICAvKipcbiAgICogQGJyaWVmIOeJqeeQhua8lOeul+OBruODh+ODvOOCv1xuICAgKlxuICAgKiDniannkIbmvJTnrpfjga7jg4fjg7zjgr/jgIJcbiAgICovXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21QaHlzaWNzUmlnIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHRoaXMuc2V0dGluZ3MgPSBuZXcgY3NtVmVjdG9yPEN1YmlzbVBoeXNpY3NTdWJSaWc+KCk7XG4gICAgICB0aGlzLmlucHV0cyA9IG5ldyBjc21WZWN0b3I8Q3ViaXNtUGh5c2ljc0lucHV0PigpO1xuICAgICAgdGhpcy5vdXRwdXRzID0gbmV3IGNzbVZlY3RvcjxDdWJpc21QaHlzaWNzT3V0cHV0PigpO1xuICAgICAgdGhpcy5wYXJ0aWNsZXMgPSBuZXcgY3NtVmVjdG9yPEN1YmlzbVBoeXNpY3NQYXJ0aWNsZT4oKTtcbiAgICAgIHRoaXMuZ3Jhdml0eSA9IG5ldyBDdWJpc21WZWN0b3IyKDAsIDApO1xuICAgICAgdGhpcy53aW5kID0gbmV3IEN1YmlzbVZlY3RvcjIoMCwgMCk7XG4gICAgfVxuXG4gICAgc3ViUmlnQ291bnQ6IG51bWJlcjsgLy8g54mp55CG5ryU566X44Gu54mp55CG54K544Gu5YCL5pWwXG4gICAgc2V0dGluZ3M6IGNzbVZlY3RvcjxDdWJpc21QaHlzaWNzU3ViUmlnPjsgLy8g54mp55CG5ryU566X44Gu54mp55CG54K544Gu566h55CG44Gu44Oq44K544OIXG4gICAgaW5wdXRzOiBjc21WZWN0b3I8Q3ViaXNtUGh5c2ljc0lucHV0PjsgLy8g54mp55CG5ryU566X44Gu5YWl5Yqb44Gu44Oq44K544OIXG4gICAgb3V0cHV0czogY3NtVmVjdG9yPEN1YmlzbVBoeXNpY3NPdXRwdXQ+OyAvLyDniannkIbmvJTnrpfjga7lh7rlipvjga7jg6rjgrnjg4hcbiAgICBwYXJ0aWNsZXM6IGNzbVZlY3RvcjxDdWJpc21QaHlzaWNzUGFydGljbGU+OyAvLyDniannkIbmvJTnrpfjga7niannkIbngrnjga7jg6rjgrnjg4hcbiAgICBncmF2aXR5OiBDdWJpc21WZWN0b3IyOyAvLyDph43liptcbiAgICB3aW5kOiBDdWJpc21WZWN0b3IyOyAvLyDpoqhcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7QUFPQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQUE7QUFJQTtBQUFBO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBUEE7QUFZQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBSEE7QUFRQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBSkE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFZQTtBQUFBO0FBcEJBO0FBeUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUFBO0FBYkE7QUEwRUE7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUFBO0FBVkE7QUFpQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWNBO0FBQUE7QUFsQkE7QUF5QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFBQTtBQWpCQTtBQWtCQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Framework/src/physics/cubismphysicsinternal.ts\n");

/***/ }),

/***/ "./Framework/src/physics/cubismphysicsjson.ts":
/*!****************************************************!*\
  !*** ./Framework/src/physics/cubismphysicsjson.ts ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar cubismjson_1 = __webpack_require__(/*! ../utils/cubismjson */ \"./Framework/src/utils/cubismjson.ts\");\nvar cubismvector2_1 = __webpack_require__(/*! ../math/cubismvector2 */ \"./Framework/src/math/cubismvector2.ts\");\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./Framework/src/live2dcubismframework.ts\");\nvar CubismFramework = live2dcubismframework_1.Live2DCubismFramework.CubismFramework;\nvar CubismVector2 = cubismvector2_1.Live2DCubismFramework.CubismVector2;\nvar CubismJson = cubismjson_1.Live2DCubismFramework.CubismJson;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var Position = 'Position';\n    var X = 'X';\n    var Y = 'Y';\n    var Angle = 'Angle';\n    var Type = 'Type';\n    var Id = 'Id';\n    var Meta = 'Meta';\n    var EffectiveForces = 'EffectiveForces';\n    var TotalInputCount = 'TotalInputCount';\n    var TotalOutputCount = 'TotalOutputCount';\n    var PhysicsSettingCount = 'PhysicsSettingCount';\n    var Gravity = 'Gravity';\n    var Wind = 'Wind';\n    var VertexCount = 'VertexCount';\n    var PhysicsSettings = 'PhysicsSettings';\n    var Normalization = 'Normalization';\n    var Minimum = 'Minimum';\n    var Maximum = 'Maximum';\n    var Default = 'Default';\n    var Reflect = 'Reflect';\n    var Weight = 'Weight';\n    var Input = 'Input';\n    var Source = 'Source';\n    var Output = 'Output';\n    var Scale = 'Scale';\n    var VertexIndex = 'VertexIndex';\n    var Destination = 'Destination';\n    var Vertices = 'Vertices';\n    var Mobility = 'Mobility';\n    var Delay = 'Delay';\n    var Radius = 'Radius';\n    var Acceleration = 'Acceleration';\n    var CubismPhysicsJson = (function () {\n        function CubismPhysicsJson(buffer, size) {\n            this._json = CubismJson.create(buffer, size);\n        }\n        CubismPhysicsJson.prototype.release = function () {\n            CubismJson.delete(this._json);\n        };\n        CubismPhysicsJson.prototype.getGravity = function () {\n            var ret = new CubismVector2(0, 0);\n            ret.x = this._json\n                .getRoot()\n                .getValueByString(Meta)\n                .getValueByString(EffectiveForces)\n                .getValueByString(Gravity)\n                .getValueByString(X)\n                .toFloat();\n            ret.y = this._json\n                .getRoot()\n                .getValueByString(Meta)\n                .getValueByString(EffectiveForces)\n                .getValueByString(Gravity)\n                .getValueByString(Y)\n                .toFloat();\n            return ret;\n        };\n        CubismPhysicsJson.prototype.getWind = function () {\n            var ret = new CubismVector2(0, 0);\n            ret.x = this._json\n                .getRoot()\n                .getValueByString(Meta)\n                .getValueByString(EffectiveForces)\n                .getValueByString(Wind)\n                .getValueByString(X)\n                .toFloat();\n            ret.y = this._json\n                .getRoot()\n                .getValueByString(Meta)\n                .getValueByString(EffectiveForces)\n                .getValueByString(Wind)\n                .getValueByString(Y)\n                .toFloat();\n            return ret;\n        };\n        CubismPhysicsJson.prototype.getSubRigCount = function () {\n            return this._json\n                .getRoot()\n                .getValueByString(Meta)\n                .getValueByString(PhysicsSettingCount)\n                .toInt();\n        };\n        CubismPhysicsJson.prototype.getTotalInputCount = function () {\n            return this._json\n                .getRoot()\n                .getValueByString(Meta)\n                .getValueByString(TotalInputCount)\n                .toInt();\n        };\n        CubismPhysicsJson.prototype.getTotalOutputCount = function () {\n            return this._json\n                .getRoot()\n                .getValueByString(Meta)\n                .getValueByString(TotalOutputCount)\n                .toInt();\n        };\n        CubismPhysicsJson.prototype.getVertexCount = function () {\n            return this._json\n                .getRoot()\n                .getValueByString(Meta)\n                .getValueByString(VertexCount)\n                .toInt();\n        };\n        CubismPhysicsJson.prototype.getNormalizationPositionMinimumValue = function (physicsSettingIndex) {\n            return this._json\n                .getRoot()\n                .getValueByString(PhysicsSettings)\n                .getValueByIndex(physicsSettingIndex)\n                .getValueByString(Normalization)\n                .getValueByString(Position)\n                .getValueByString(Minimum)\n                .toFloat();\n        };\n        CubismPhysicsJson.prototype.getNormalizationPositionMaximumValue = function (physicsSettingIndex) {\n            return this._json\n                .getRoot()\n                .getValueByString(PhysicsSettings)\n                .getValueByIndex(physicsSettingIndex)\n                .getValueByString(Normalization)\n                .getValueByString(Position)\n                .getValueByString(Maximum)\n                .toFloat();\n        };\n        CubismPhysicsJson.prototype.getNormalizationPositionDefaultValue = function (physicsSettingIndex) {\n            return this._json\n                .getRoot()\n                .getValueByString(PhysicsSettings)\n                .getValueByIndex(physicsSettingIndex)\n                .getValueByString(Normalization)\n                .getValueByString(Position)\n                .getValueByString(Default)\n                .toFloat();\n        };\n        CubismPhysicsJson.prototype.getNormalizationAngleMinimumValue = function (physicsSettingIndex) {\n            return this._json\n                .getRoot()\n                .getValueByString(PhysicsSettings)\n                .getValueByIndex(physicsSettingIndex)\n                .getValueByString(Normalization)\n                .getValueByString(Angle)\n                .getValueByString(Minimum)\n                .toFloat();\n        };\n        CubismPhysicsJson.prototype.getNormalizationAngleMaximumValue = function (physicsSettingIndex) {\n            return this._json\n                .getRoot()\n                .getValueByString(PhysicsSettings)\n                .getValueByIndex(physicsSettingIndex)\n                .getValueByString(Normalization)\n                .getValueByString(Angle)\n                .getValueByString(Maximum)\n                .toFloat();\n        };\n        CubismPhysicsJson.prototype.getNormalizationAngleDefaultValue = function (physicsSettingIndex) {\n            return this._json\n                .getRoot()\n                .getValueByString(PhysicsSettings)\n                .getValueByIndex(physicsSettingIndex)\n                .getValueByString(Normalization)\n                .getValueByString(Angle)\n                .getValueByString(Default)\n                .toFloat();\n        };\n        CubismPhysicsJson.prototype.getInputCount = function (physicsSettingIndex) {\n            return this._json\n                .getRoot()\n                .getValueByString(PhysicsSettings)\n                .getValueByIndex(physicsSettingIndex)\n                .getValueByString(Input)\n                .getVector()\n                .getSize();\n        };\n        CubismPhysicsJson.prototype.getInputWeight = function (physicsSettingIndex, inputIndex) {\n            return this._json\n                .getRoot()\n                .getValueByString(PhysicsSettings)\n                .getValueByIndex(physicsSettingIndex)\n                .getValueByString(Input)\n                .getValueByIndex(inputIndex)\n                .getValueByString(Weight)\n                .toFloat();\n        };\n        CubismPhysicsJson.prototype.getInputReflect = function (physicsSettingIndex, inputIndex) {\n            return this._json\n                .getRoot()\n                .getValueByString(PhysicsSettings)\n                .getValueByIndex(physicsSettingIndex)\n                .getValueByString(Input)\n                .getValueByIndex(inputIndex)\n                .getValueByString(Reflect)\n                .toBoolean();\n        };\n        CubismPhysicsJson.prototype.getInputType = function (physicsSettingIndex, inputIndex) {\n            return this._json\n                .getRoot()\n                .getValueByString(PhysicsSettings)\n                .getValueByIndex(physicsSettingIndex)\n                .getValueByString(Input)\n                .getValueByIndex(inputIndex)\n                .getValueByString(Type)\n                .getRawString();\n        };\n        CubismPhysicsJson.prototype.getInputSourceId = function (physicsSettingIndex, inputIndex) {\n            return CubismFramework.getIdManager().getId(this._json\n                .getRoot()\n                .getValueByString(PhysicsSettings)\n                .getValueByIndex(physicsSettingIndex)\n                .getValueByString(Input)\n                .getValueByIndex(inputIndex)\n                .getValueByString(Source)\n                .getValueByString(Id)\n                .getRawString());\n        };\n        CubismPhysicsJson.prototype.getOutputCount = function (physicsSettingIndex) {\n            return this._json\n                .getRoot()\n                .getValueByString(PhysicsSettings)\n                .getValueByIndex(physicsSettingIndex)\n                .getValueByString(Output)\n                .getVector()\n                .getSize();\n        };\n        CubismPhysicsJson.prototype.getOutputVertexIndex = function (physicsSettingIndex, outputIndex) {\n            return this._json\n                .getRoot()\n                .getValueByString(PhysicsSettings)\n                .getValueByIndex(physicsSettingIndex)\n                .getValueByString(Output)\n                .getValueByIndex(outputIndex)\n                .getValueByString(VertexIndex)\n                .toInt();\n        };\n        CubismPhysicsJson.prototype.getOutputAngleScale = function (physicsSettingIndex, outputIndex) {\n            return this._json\n                .getRoot()\n                .getValueByString(PhysicsSettings)\n                .getValueByIndex(physicsSettingIndex)\n                .getValueByString(Output)\n                .getValueByIndex(outputIndex)\n                .getValueByString(Scale)\n                .toFloat();\n        };\n        CubismPhysicsJson.prototype.getOutputWeight = function (physicsSettingIndex, outputIndex) {\n            return this._json\n                .getRoot()\n                .getValueByString(PhysicsSettings)\n                .getValueByIndex(physicsSettingIndex)\n                .getValueByString(Output)\n                .getValueByIndex(outputIndex)\n                .getValueByString(Weight)\n                .toFloat();\n        };\n        CubismPhysicsJson.prototype.getOutputDestinationId = function (physicsSettingIndex, outputIndex) {\n            return CubismFramework.getIdManager().getId(this._json\n                .getRoot()\n                .getValueByString(PhysicsSettings)\n                .getValueByIndex(physicsSettingIndex)\n                .getValueByString(Output)\n                .getValueByIndex(outputIndex)\n                .getValueByString(Destination)\n                .getValueByString(Id)\n                .getRawString());\n        };\n        CubismPhysicsJson.prototype.getOutputType = function (physicsSettingIndex, outputIndex) {\n            return this._json\n                .getRoot()\n                .getValueByString(PhysicsSettings)\n                .getValueByIndex(physicsSettingIndex)\n                .getValueByString(Output)\n                .getValueByIndex(outputIndex)\n                .getValueByString(Type)\n                .getRawString();\n        };\n        CubismPhysicsJson.prototype.getOutputReflect = function (physicsSettingIndex, outputIndex) {\n            return this._json\n                .getRoot()\n                .getValueByString(PhysicsSettings)\n                .getValueByIndex(physicsSettingIndex)\n                .getValueByString(Output)\n                .getValueByIndex(outputIndex)\n                .getValueByString(Reflect)\n                .toBoolean();\n        };\n        CubismPhysicsJson.prototype.getParticleCount = function (physicsSettingIndex) {\n            return this._json\n                .getRoot()\n                .getValueByString(PhysicsSettings)\n                .getValueByIndex(physicsSettingIndex)\n                .getValueByString(Vertices)\n                .getVector()\n                .getSize();\n        };\n        CubismPhysicsJson.prototype.getParticleMobility = function (physicsSettingIndex, vertexIndex) {\n            return this._json\n                .getRoot()\n                .getValueByString(PhysicsSettings)\n                .getValueByIndex(physicsSettingIndex)\n                .getValueByString(Vertices)\n                .getValueByIndex(vertexIndex)\n                .getValueByString(Mobility)\n                .toFloat();\n        };\n        CubismPhysicsJson.prototype.getParticleDelay = function (physicsSettingIndex, vertexIndex) {\n            return this._json\n                .getRoot()\n                .getValueByString(PhysicsSettings)\n                .getValueByIndex(physicsSettingIndex)\n                .getValueByString(Vertices)\n                .getValueByIndex(vertexIndex)\n                .getValueByString(Delay)\n                .toFloat();\n        };\n        CubismPhysicsJson.prototype.getParticleAcceleration = function (physicsSettingIndex, vertexIndex) {\n            return this._json\n                .getRoot()\n                .getValueByString(PhysicsSettings)\n                .getValueByIndex(physicsSettingIndex)\n                .getValueByString(Vertices)\n                .getValueByIndex(vertexIndex)\n                .getValueByString(Acceleration)\n                .toFloat();\n        };\n        CubismPhysicsJson.prototype.getParticleRadius = function (physicsSettingIndex, vertexIndex) {\n            return this._json\n                .getRoot()\n                .getValueByString(PhysicsSettings)\n                .getValueByIndex(physicsSettingIndex)\n                .getValueByString(Vertices)\n                .getValueByIndex(vertexIndex)\n                .getValueByString(Radius)\n                .toInt();\n        };\n        CubismPhysicsJson.prototype.getParticlePosition = function (physicsSettingIndex, vertexIndex) {\n            var ret = new CubismVector2(0, 0);\n            ret.x = this._json\n                .getRoot()\n                .getValueByString(PhysicsSettings)\n                .getValueByIndex(physicsSettingIndex)\n                .getValueByString(Vertices)\n                .getValueByIndex(vertexIndex)\n                .getValueByString(Position)\n                .getValueByString(X)\n                .toFloat();\n            ret.y = this._json\n                .getRoot()\n                .getValueByString(PhysicsSettings)\n                .getValueByIndex(physicsSettingIndex)\n                .getValueByString(Vertices)\n                .getValueByIndex(vertexIndex)\n                .getValueByString(Position)\n                .getValueByString(Y)\n                .toFloat();\n            return ret;\n        };\n        return CubismPhysicsJson;\n    }());\n    Live2DCubismFramework.CubismPhysicsJson = CubismPhysicsJson;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL3BoeXNpY3MvY3ViaXNtcGh5c2ljc2pzb24udHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9GcmFtZXdvcmsvc3JjL3BoeXNpY3MvY3ViaXNtcGh5c2ljc2pzb24udHM/MzAyOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodChjKSBMaXZlMkQgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IHRoZSBMaXZlMkQgT3BlbiBTb2Z0d2FyZSBsaWNlbnNlXG4gKiB0aGF0IGNhbiBiZSBmb3VuZCBhdCBodHRwczovL3d3dy5saXZlMmQuY29tL2V1bGEvbGl2ZTJkLW9wZW4tc29mdHdhcmUtbGljZW5zZS1hZ3JlZW1lbnRfZW4uaHRtbC5cbiAqL1xuXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtanNvbiB9IGZyb20gJy4uL3V0aWxzL2N1YmlzbWpzb24nO1xuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbXZlY3RvcjIgfSBmcm9tICcuLi9tYXRoL2N1YmlzbXZlY3RvcjInO1xuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbWlkIH0gZnJvbSAnLi4vaWQvY3ViaXNtaWQnO1xuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbWZyYW1ld29yayB9IGZyb20gJy4uL2xpdmUyZGN1YmlzbWZyYW1ld29yayc7XG5pbXBvcnQgQ3ViaXNtRnJhbWV3b3JrID0gY3ViaXNtZnJhbWV3b3JrLkN1YmlzbUZyYW1ld29yaztcbmltcG9ydCBDdWJpc21JZEhhbmRsZSA9IGN1YmlzbWlkLkN1YmlzbUlkSGFuZGxlO1xuaW1wb3J0IEN1YmlzbVZlY3RvcjIgPSBjdWJpc212ZWN0b3IyLkN1YmlzbVZlY3RvcjI7XG5pbXBvcnQgQ3ViaXNtSnNvbiA9IGN1YmlzbWpzb24uQ3ViaXNtSnNvbjtcblxuZXhwb3J0IG5hbWVzcGFjZSBMaXZlMkRDdWJpc21GcmFtZXdvcmsge1xuICAvLyBKU09OIGtleXNcbiAgY29uc3QgUG9zaXRpb24gPSAnUG9zaXRpb24nO1xuICBjb25zdCBYID0gJ1gnO1xuICBjb25zdCBZID0gJ1knO1xuICBjb25zdCBBbmdsZSA9ICdBbmdsZSc7XG4gIGNvbnN0IFR5cGUgPSAnVHlwZSc7XG4gIGNvbnN0IElkID0gJ0lkJztcblxuICAvLyBNZXRhXG4gIGNvbnN0IE1ldGEgPSAnTWV0YSc7XG4gIGNvbnN0IEVmZmVjdGl2ZUZvcmNlcyA9ICdFZmZlY3RpdmVGb3JjZXMnO1xuICBjb25zdCBUb3RhbElucHV0Q291bnQgPSAnVG90YWxJbnB1dENvdW50JztcbiAgY29uc3QgVG90YWxPdXRwdXRDb3VudCA9ICdUb3RhbE91dHB1dENvdW50JztcbiAgY29uc3QgUGh5c2ljc1NldHRpbmdDb3VudCA9ICdQaHlzaWNzU2V0dGluZ0NvdW50JztcbiAgY29uc3QgR3Jhdml0eSA9ICdHcmF2aXR5JztcbiAgY29uc3QgV2luZCA9ICdXaW5kJztcbiAgY29uc3QgVmVydGV4Q291bnQgPSAnVmVydGV4Q291bnQnO1xuXG4gIC8vIFBoeXNpY3NTZXR0aW5nc1xuICBjb25zdCBQaHlzaWNzU2V0dGluZ3MgPSAnUGh5c2ljc1NldHRpbmdzJztcbiAgY29uc3QgTm9ybWFsaXphdGlvbiA9ICdOb3JtYWxpemF0aW9uJztcbiAgY29uc3QgTWluaW11bSA9ICdNaW5pbXVtJztcbiAgY29uc3QgTWF4aW11bSA9ICdNYXhpbXVtJztcbiAgY29uc3QgRGVmYXVsdCA9ICdEZWZhdWx0JztcbiAgY29uc3QgUmVmbGVjdCA9ICdSZWZsZWN0JztcbiAgY29uc3QgV2VpZ2h0ID0gJ1dlaWdodCc7XG5cbiAgLy8gSW5wdXRcbiAgY29uc3QgSW5wdXQgPSAnSW5wdXQnO1xuICBjb25zdCBTb3VyY2UgPSAnU291cmNlJztcblxuICAvLyBPdXRwdXRcbiAgY29uc3QgT3V0cHV0ID0gJ091dHB1dCc7XG4gIGNvbnN0IFNjYWxlID0gJ1NjYWxlJztcbiAgY29uc3QgVmVydGV4SW5kZXggPSAnVmVydGV4SW5kZXgnO1xuICBjb25zdCBEZXN0aW5hdGlvbiA9ICdEZXN0aW5hdGlvbic7XG5cbiAgLy8gUGFydGljbGVcbiAgY29uc3QgVmVydGljZXMgPSAnVmVydGljZXMnO1xuICBjb25zdCBNb2JpbGl0eSA9ICdNb2JpbGl0eSc7XG4gIGNvbnN0IERlbGF5ID0gJ0RlbGF5JztcbiAgY29uc3QgUmFkaXVzID0gJ1JhZGl1cyc7XG4gIGNvbnN0IEFjY2VsZXJhdGlvbiA9ICdBY2NlbGVyYXRpb24nO1xuXG4gIC8qKlxuICAgKiBwaHlzaWNzMy5qc29u44Gu44Kz44Oz44OG44OK44CCXG4gICAqL1xuICBleHBvcnQgY2xhc3MgQ3ViaXNtUGh5c2ljc0pzb24ge1xuICAgIC8qKlxuICAgICAqIOOCs+ODs+OCueODiOODqeOCr+OCv1xuICAgICAqIEBwYXJhbSBidWZmZXIgcGh5c2ljczMuanNvbuOBjOiqreOBv+i+vOOBvuOCjOOBpuOBhOOCi+ODkOODg+ODleOCoVxuICAgICAqIEBwYXJhbSBzaXplIOODkOODg+ODleOCoeOBruOCteOCpOOCulxuICAgICAqL1xuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihidWZmZXI6IEFycmF5QnVmZmVyLCBzaXplOiBudW1iZXIpIHtcbiAgICAgIHRoaXMuX2pzb24gPSBDdWJpc21Kc29uLmNyZWF0ZShidWZmZXIsIHNpemUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODh+OCueODiOODqeOCr+OCv+ebuOW9k+OBruWHpueQhlxuICAgICAqL1xuICAgIHB1YmxpYyByZWxlYXNlKCk6IHZvaWQge1xuICAgICAgQ3ViaXNtSnNvbi5kZWxldGUodGhpcy5fanNvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6YeN5Yqb44Gu5Y+W5b6XXG4gICAgICogQHJldHVybiDph43liptcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0R3Jhdml0eSgpOiBDdWJpc21WZWN0b3IyIHtcbiAgICAgIGNvbnN0IHJldDogQ3ViaXNtVmVjdG9yMiA9IG5ldyBDdWJpc21WZWN0b3IyKDAsIDApO1xuICAgICAgcmV0LnggPSB0aGlzLl9qc29uXG4gICAgICAgIC5nZXRSb290KClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoTWV0YSlcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoRWZmZWN0aXZlRm9yY2VzKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhHcmF2aXR5KVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhYKVxuICAgICAgICAudG9GbG9hdCgpO1xuICAgICAgcmV0LnkgPSB0aGlzLl9qc29uXG4gICAgICAgIC5nZXRSb290KClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoTWV0YSlcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoRWZmZWN0aXZlRm9yY2VzKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhHcmF2aXR5KVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhZKVxuICAgICAgICAudG9GbG9hdCgpO1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDpoqjjga7lj5blvpdcbiAgICAgKiBAcmV0dXJuIOmiqFxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRXaW5kKCk6IEN1YmlzbVZlY3RvcjIge1xuICAgICAgY29uc3QgcmV0OiBDdWJpc21WZWN0b3IyID0gbmV3IEN1YmlzbVZlY3RvcjIoMCwgMCk7XG4gICAgICByZXQueCA9IHRoaXMuX2pzb25cbiAgICAgICAgLmdldFJvb3QoKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhNZXRhKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhFZmZlY3RpdmVGb3JjZXMpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFdpbmQpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFgpXG4gICAgICAgIC50b0Zsb2F0KCk7XG4gICAgICByZXQueSA9IHRoaXMuX2pzb25cbiAgICAgICAgLmdldFJvb3QoKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhNZXRhKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhFZmZlY3RpdmVGb3JjZXMpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFdpbmQpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFkpXG4gICAgICAgIC50b0Zsb2F0KCk7XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOeJqeeQhuW6l+OBrueuoeeQhuOBruWAi+aVsOOBruWPluW+l1xuICAgICAqIEByZXR1cm4g54mp55CG5bqX44Gu566h55CG44Gu5YCL5pWwXG4gICAgICovXG4gICAgcHVibGljIGdldFN1YlJpZ0NvdW50KCk6IG51bWJlciB7XG4gICAgICByZXR1cm4gdGhpcy5fanNvblxuICAgICAgICAuZ2V0Um9vdCgpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKE1ldGEpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFBoeXNpY3NTZXR0aW5nQ291bnQpXG4gICAgICAgIC50b0ludCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWFpeWKm+OBrue3j+WQiOioiOOBruWPluW+l1xuICAgICAqIEByZXR1cm4g5YWl5Yqb44Gu57eP5ZCI6KiIXG4gICAgICovXG4gICAgcHVibGljIGdldFRvdGFsSW5wdXRDb3VudCgpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cbiAgICAgICAgLmdldFJvb3QoKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhNZXRhKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhUb3RhbElucHV0Q291bnQpXG4gICAgICAgIC50b0ludCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWHuuWKm+OBrue3j+WQiOioiOOBruWPluW+l1xuICAgICAqIEByZXR1cm4g5Ye65Yqb44Gu57eP5ZCI6KiIXG4gICAgICovXG4gICAgcHVibGljIGdldFRvdGFsT3V0cHV0Q291bnQoKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiB0aGlzLl9qc29uXG4gICAgICAgIC5nZXRSb290KClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoTWV0YSlcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoVG90YWxPdXRwdXRDb3VudClcbiAgICAgICAgLnRvSW50KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog54mp55CG54K544Gu5YCL5pWw44Gu5Y+W5b6XXG4gICAgICogQHJldHVybiDniannkIbngrnjga7lgIvmlbBcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0VmVydGV4Q291bnQoKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiB0aGlzLl9qc29uXG4gICAgICAgIC5nZXRSb290KClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoTWV0YSlcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoVmVydGV4Q291bnQpXG4gICAgICAgIC50b0ludCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOato+imj+WMluOBleOCjOOBn+S9jee9ruOBruacgOWwj+WApOOBruWPluW+l1xuICAgICAqIEBwYXJhbSBwaHlzaWNzU2V0dGluZ0luZGV4IOeJqeeQhua8lOeul+OBruioreWumuOBruOCpOODs+ODh+ODg+OCr+OCuVxuICAgICAqIEByZXR1cm4g5q2j6KaP5YyW44GV44KM44Gf5L2N572u44Gu5pyA5bCP5YCkXG4gICAgICovXG4gICAgcHVibGljIGdldE5vcm1hbGl6YXRpb25Qb3NpdGlvbk1pbmltdW1WYWx1ZShcbiAgICAgIHBoeXNpY3NTZXR0aW5nSW5kZXg6IG51bWJlclxuICAgICk6IG51bWJlciB7XG4gICAgICByZXR1cm4gdGhpcy5fanNvblxuICAgICAgICAuZ2V0Um9vdCgpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFBoeXNpY3NTZXR0aW5ncylcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChwaHlzaWNzU2V0dGluZ0luZGV4KVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhOb3JtYWxpemF0aW9uKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhQb3NpdGlvbilcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoTWluaW11bSlcbiAgICAgICAgLnRvRmxvYXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDmraPopo/ljJbjgZXjgozjgZ/kvY3nva7jga7mnIDlpKflgKTjga7lj5blvpdcbiAgICAgKiBAcGFyYW0gcGh5c2ljc1NldHRpbmdJbmRleCDniannkIbmvJTnrpfjga7oqK3lrprjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcbiAgICAgKiBAcmV0dXJuIOato+imj+WMluOBleOCjOOBn+S9jee9ruOBruacgOWkp+WApFxuICAgICAqL1xuICAgIHB1YmxpYyBnZXROb3JtYWxpemF0aW9uUG9zaXRpb25NYXhpbXVtVmFsdWUoXG4gICAgICBwaHlzaWNzU2V0dGluZ0luZGV4OiBudW1iZXJcbiAgICApOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cbiAgICAgICAgLmdldFJvb3QoKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhQaHlzaWNzU2V0dGluZ3MpXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgocGh5c2ljc1NldHRpbmdJbmRleClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoTm9ybWFsaXphdGlvbilcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoUG9zaXRpb24pXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKE1heGltdW0pXG4gICAgICAgIC50b0Zsb2F0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5q2j6KaP5YyW44GV44KM44Gf5L2N572u44Gu44OH44OV44Kp44Or44OI5YCk44Gu5Y+W5b6XXG4gICAgICogQHBhcmFtIHBoeXNpY3NTZXR0aW5nSW5kZXgg54mp55CG5ryU566X44Gu6Kit5a6a44Gu44Kk44Oz44OH44OD44Kv44K5XG4gICAgICogQHJldHVybiDmraPopo/ljJbjgZXjgozjgZ/kvY3nva7jga7jg4fjg5Xjgqnjg6vjg4jlgKRcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0Tm9ybWFsaXphdGlvblBvc2l0aW9uRGVmYXVsdFZhbHVlKFxuICAgICAgcGh5c2ljc1NldHRpbmdJbmRleDogbnVtYmVyXG4gICAgKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiB0aGlzLl9qc29uXG4gICAgICAgIC5nZXRSb290KClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoUGh5c2ljc1NldHRpbmdzKVxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KHBoeXNpY3NTZXR0aW5nSW5kZXgpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKE5vcm1hbGl6YXRpb24pXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFBvc2l0aW9uKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhEZWZhdWx0KVxuICAgICAgICAudG9GbG9hdCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOato+imj+WMluOBleOCjOOBn+inkuW6puOBruacgOWwj+WApOOBruWPluW+l1xuICAgICAqIEBwYXJhbSBwaHlzaWNzU2V0dGluZ0luZGV4IOeJqeeQhua8lOeul+OBruioreWumuOBruOCpOODs+ODh+ODg+OCr+OCuVxuICAgICAqIEByZXR1cm4g5q2j6KaP5YyW44GV44KM44Gf6KeS5bqm44Gu5pyA5bCP5YCkXG4gICAgICovXG4gICAgcHVibGljIGdldE5vcm1hbGl6YXRpb25BbmdsZU1pbmltdW1WYWx1ZShcbiAgICAgIHBoeXNpY3NTZXR0aW5nSW5kZXg6IG51bWJlclxuICAgICk6IG51bWJlciB7XG4gICAgICByZXR1cm4gdGhpcy5fanNvblxuICAgICAgICAuZ2V0Um9vdCgpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFBoeXNpY3NTZXR0aW5ncylcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChwaHlzaWNzU2V0dGluZ0luZGV4KVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhOb3JtYWxpemF0aW9uKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhBbmdsZSlcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoTWluaW11bSlcbiAgICAgICAgLnRvRmxvYXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDmraPopo/ljJbjgZXjgozjgZ/op5Lluqbjga7mnIDlpKflgKTjga7lj5blvpdcbiAgICAgKiBAcGFyYW0gcGh5c2ljc1NldHRpbmdJbmRleFxuICAgICAqIEByZXR1cm4g5q2j6KaP5YyW44GV44KM44Gf6KeS5bqm44Gu5pyA5aSn5YCkXG4gICAgICovXG4gICAgcHVibGljIGdldE5vcm1hbGl6YXRpb25BbmdsZU1heGltdW1WYWx1ZShcbiAgICAgIHBoeXNpY3NTZXR0aW5nSW5kZXg6IG51bWJlclxuICAgICk6IG51bWJlciB7XG4gICAgICByZXR1cm4gdGhpcy5fanNvblxuICAgICAgICAuZ2V0Um9vdCgpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFBoeXNpY3NTZXR0aW5ncylcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChwaHlzaWNzU2V0dGluZ0luZGV4KVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhOb3JtYWxpemF0aW9uKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhBbmdsZSlcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoTWF4aW11bSlcbiAgICAgICAgLnRvRmxvYXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDmraPopo/ljJbjgZXjgozjgZ/op5Lluqbjga7jg4fjg5Xjgqnjg6vjg4jlgKTjga7lj5blvpdcbiAgICAgKiBAcGFyYW0gcGh5c2ljc1NldHRpbmdJbmRleCDniannkIbmvJTnrpfjga7oqK3lrprjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcbiAgICAgKiBAcmV0dXJuIOato+imj+WMluOBleOCjOOBn+inkuW6puOBruODh+ODleOCqeODq+ODiOWApFxuICAgICAqL1xuICAgIHB1YmxpYyBnZXROb3JtYWxpemF0aW9uQW5nbGVEZWZhdWx0VmFsdWUoXG4gICAgICBwaHlzaWNzU2V0dGluZ0luZGV4OiBudW1iZXJcbiAgICApOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cbiAgICAgICAgLmdldFJvb3QoKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhQaHlzaWNzU2V0dGluZ3MpXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgocGh5c2ljc1NldHRpbmdJbmRleClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoTm9ybWFsaXphdGlvbilcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoQW5nbGUpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKERlZmF1bHQpXG4gICAgICAgIC50b0Zsb2F0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5YWl5Yqb44Gu5YCL5pWw44Gu5Y+W5b6XXG4gICAgICogQHBhcmFtIHBoeXNpY3NTZXR0aW5nSW5kZXgg54mp55CG5ryU566X44Gu6Kit5a6a44Gu44Kk44Oz44OH44OD44Kv44K5XG4gICAgICogQHJldHVybiDlhaXlipvjga7lgIvmlbBcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0SW5wdXRDb3VudChwaHlzaWNzU2V0dGluZ0luZGV4OiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cbiAgICAgICAgLmdldFJvb3QoKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhQaHlzaWNzU2V0dGluZ3MpXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgocGh5c2ljc1NldHRpbmdJbmRleClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoSW5wdXQpXG4gICAgICAgIC5nZXRWZWN0b3IoKVxuICAgICAgICAuZ2V0U2l6ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWFpeWKm+OBrumHjeOBv+OBruWPluW+l1xuICAgICAqIEBwYXJhbSBwaHlzaWNzU2V0dGluZ0luZGV4IOeJqeeQhua8lOeul+OBruioreWumuOBruOCpOODs+ODh+ODg+OCr+OCuVxuICAgICAqIEBwYXJhbSBpbnB1dEluZGV4IOWFpeWKm+OBruOCpOODs+ODh+ODg+OCr+OCuVxuICAgICAqIEByZXR1cm4g5YWl5Yqb44Gu6YeN44G/XG4gICAgICovXG4gICAgcHVibGljIGdldElucHV0V2VpZ2h0KFxuICAgICAgcGh5c2ljc1NldHRpbmdJbmRleDogbnVtYmVyLFxuICAgICAgaW5wdXRJbmRleDogbnVtYmVyXG4gICAgKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiB0aGlzLl9qc29uXG4gICAgICAgIC5nZXRSb290KClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoUGh5c2ljc1NldHRpbmdzKVxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KHBoeXNpY3NTZXR0aW5nSW5kZXgpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKElucHV0KVxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KGlucHV0SW5kZXgpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFdlaWdodClcbiAgICAgICAgLnRvRmxvYXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlhaXlipvjga7lj43ou6Ljga7lj5blvpdcbiAgICAgKiBAcGFyYW0gcGh5c2ljc1NldHRpbmdJbmRleCDniannkIbmvJTnrpfjga7oqK3lrprjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcbiAgICAgKiBAcGFyYW0gaW5wdXRJbmRleCDlhaXlipvjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcbiAgICAgKiBAcmV0dXJuIOWFpeWKm+OBruWPjei7olxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRJbnB1dFJlZmxlY3QoXG4gICAgICBwaHlzaWNzU2V0dGluZ0luZGV4OiBudW1iZXIsXG4gICAgICBpbnB1dEluZGV4OiBudW1iZXJcbiAgICApOiBib29sZWFuIHtcbiAgICAgIHJldHVybiB0aGlzLl9qc29uXG4gICAgICAgIC5nZXRSb290KClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoUGh5c2ljc1NldHRpbmdzKVxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KHBoeXNpY3NTZXR0aW5nSW5kZXgpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKElucHV0KVxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KGlucHV0SW5kZXgpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFJlZmxlY3QpXG4gICAgICAgIC50b0Jvb2xlYW4oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlhaXlipvjga7nqK7poZ7jga7lj5blvpdcbiAgICAgKiBAcGFyYW0gcGh5c2ljc1NldHRpbmdJbmRleCDniannkIbmvJTnrpfjga7oqK3lrprjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcbiAgICAgKiBAcGFyYW0gaW5wdXRJbmRleCDlhaXlipvjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcbiAgICAgKiBAcmV0dXJuIOWFpeWKm+OBrueorumhnlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRJbnB1dFR5cGUoXG4gICAgICBwaHlzaWNzU2V0dGluZ0luZGV4OiBudW1iZXIsXG4gICAgICBpbnB1dEluZGV4OiBudW1iZXJcbiAgICApOiBzdHJpbmcge1xuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cbiAgICAgICAgLmdldFJvb3QoKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhQaHlzaWNzU2V0dGluZ3MpXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgocGh5c2ljc1NldHRpbmdJbmRleClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoSW5wdXQpXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgoaW5wdXRJbmRleClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoVHlwZSlcbiAgICAgICAgLmdldFJhd1N0cmluZygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWFpeWKm+WFg+OBrklE44Gu5Y+W5b6XXG4gICAgICogQHBhcmFtIHBoeXNpY3NTZXR0aW5nSW5kZXgg54mp55CG5ryU566X44Gu6Kit5a6a44Gu44Kk44Oz44OH44OD44Kv44K5XG4gICAgICogQHBhcmFtIGlucHV0SW5kZXgg5YWl5Yqb44Gu44Kk44Oz44OH44OD44Kv44K5XG4gICAgICogQHJldHVybiDlhaXlipvlhYPjga5JRFxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRJbnB1dFNvdXJjZUlkKFxuICAgICAgcGh5c2ljc1NldHRpbmdJbmRleDogbnVtYmVyLFxuICAgICAgaW5wdXRJbmRleDogbnVtYmVyXG4gICAgKTogQ3ViaXNtSWRIYW5kbGUge1xuICAgICAgcmV0dXJuIEN1YmlzbUZyYW1ld29yay5nZXRJZE1hbmFnZXIoKS5nZXRJZChcbiAgICAgICAgdGhpcy5fanNvblxuICAgICAgICAgIC5nZXRSb290KClcbiAgICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhQaHlzaWNzU2V0dGluZ3MpXG4gICAgICAgICAgLmdldFZhbHVlQnlJbmRleChwaHlzaWNzU2V0dGluZ0luZGV4KVxuICAgICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKElucHV0KVxuICAgICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgoaW5wdXRJbmRleClcbiAgICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhTb3VyY2UpXG4gICAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoSWQpXG4gICAgICAgICAgLmdldFJhd1N0cmluZygpXG4gICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWHuuWKm+OBruWAi+aVsOOBruWPluW+l1xuICAgICAqIEBwYXJhbSBwaHlzaWNzU2V0dGluZ0luZGV4IOeJqeeQhua8lOeul+OBruioreWumuOBruOCpOODs+ODh+ODg+OCr+OCuVxuICAgICAqIEByZXR1cm4g5Ye65Yqb44Gu5YCL5pWwXG4gICAgICovXG4gICAgcHVibGljIGdldE91dHB1dENvdW50KHBoeXNpY3NTZXR0aW5nSW5kZXg6IG51bWJlcik6IG51bWJlciB7XG4gICAgICByZXR1cm4gdGhpcy5fanNvblxuICAgICAgICAuZ2V0Um9vdCgpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFBoeXNpY3NTZXR0aW5ncylcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChwaHlzaWNzU2V0dGluZ0luZGV4KVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhPdXRwdXQpXG4gICAgICAgIC5nZXRWZWN0b3IoKVxuICAgICAgICAuZ2V0U2l6ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWHuuWKm+OBrueJqeeQhueCueOBruOCpOODs+ODh+ODg+OCr+OCueOBruWPluW+l1xuICAgICAqIEBwYXJhbSBwaHlzaWNzU2V0dGluZ0luZGV4IOeJqeeQhua8lOeul+OBruioreWumuOBruOCpOODs+ODh+ODg+OCr+OCuVxuICAgICAqIEBwYXJhbSBvdXRwdXRJbmRleCDlh7rlipvjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcbiAgICAgKiBAcmV0dXJuIOWHuuWKm+OBrueJqeeQhueCueOBruOCpOODs+ODh+ODg+OCr+OCuVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRPdXRwdXRWZXJ0ZXhJbmRleChcbiAgICAgIHBoeXNpY3NTZXR0aW5nSW5kZXg6IG51bWJlcixcbiAgICAgIG91dHB1dEluZGV4OiBudW1iZXJcbiAgICApOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cbiAgICAgICAgLmdldFJvb3QoKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhQaHlzaWNzU2V0dGluZ3MpXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgocGh5c2ljc1NldHRpbmdJbmRleClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoT3V0cHV0KVxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KG91dHB1dEluZGV4KVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhWZXJ0ZXhJbmRleClcbiAgICAgICAgLnRvSW50KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5Ye65Yqb44Gu6KeS5bqm44Gu44K544Kx44O844Or44KS5Y+W5b6X44GZ44KLXG4gICAgICogQHBhcmFtIHBoeXNpY3NTZXR0aW5nSW5kZXgg54mp55CG5ryU566X44Gu6Kit5a6a44Gu44Kk44Oz44OH44OD44Kv44K5XG4gICAgICogQHBhcmFtIG91dHB1dEluZGV4IOWHuuWKm+OBruOCpOODs+ODh+ODg+OCr+OCuVxuICAgICAqIEByZXR1cm4g5Ye65Yqb44Gu6KeS5bqm44Gu44K544Kx44O844OrXG4gICAgICovXG4gICAgcHVibGljIGdldE91dHB1dEFuZ2xlU2NhbGUoXG4gICAgICBwaHlzaWNzU2V0dGluZ0luZGV4OiBudW1iZXIsXG4gICAgICBvdXRwdXRJbmRleDogbnVtYmVyXG4gICAgKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiB0aGlzLl9qc29uXG4gICAgICAgIC5nZXRSb290KClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoUGh5c2ljc1NldHRpbmdzKVxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KHBoeXNpY3NTZXR0aW5nSW5kZXgpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKE91dHB1dClcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChvdXRwdXRJbmRleClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoU2NhbGUpXG4gICAgICAgIC50b0Zsb2F0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5Ye65Yqb44Gu6YeN44G/44Gu5Y+W5b6XXG4gICAgICogQHBhcmFtIHBoeXNpY3NTZXR0aW5nSW5kZXgg54mp55CG5ryU566X44Gu6Kit5a6a44Gu44Kk44Oz44OH44OD44Kv44K5XG4gICAgICogQHBhcmFtIG91dHB1dEluZGV4IOWHuuWKm+OBruOCpOODs+ODh+ODg+OCr+OCuVxuICAgICAqIEByZXR1cm4g5Ye65Yqb44Gu6YeN44G/XG4gICAgICovXG4gICAgcHVibGljIGdldE91dHB1dFdlaWdodChcbiAgICAgIHBoeXNpY3NTZXR0aW5nSW5kZXg6IG51bWJlcixcbiAgICAgIG91dHB1dEluZGV4OiBudW1iZXJcbiAgICApOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cbiAgICAgICAgLmdldFJvb3QoKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhQaHlzaWNzU2V0dGluZ3MpXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgocGh5c2ljc1NldHRpbmdJbmRleClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoT3V0cHV0KVxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KG91dHB1dEluZGV4KVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhXZWlnaHQpXG4gICAgICAgIC50b0Zsb2F0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5Ye65Yqb5YWI44GuSUTjga7lj5blvpdcbiAgICAgKiBAcGFyYW0gcGh5c2ljc1NldHRpbmdJbmRleCDniannkIbmvJTnrpfjga7oqK3lrprjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcbiAgICAgKiBAcGFyYW0gb3V0cHV0SW5kZXgg5Ye65Yqb44Gu44Kk44Oz44OH44OD44Kv44K5XG4gICAgICogQHJldHVybiDlh7rlipvlhYjjga5JRFxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRPdXRwdXREZXN0aW5hdGlvbklkKFxuICAgICAgcGh5c2ljc1NldHRpbmdJbmRleDogbnVtYmVyLFxuICAgICAgb3V0cHV0SW5kZXg6IG51bWJlclxuICAgICk6IEN1YmlzbUlkSGFuZGxlIHtcbiAgICAgIHJldHVybiBDdWJpc21GcmFtZXdvcmsuZ2V0SWRNYW5hZ2VyKCkuZ2V0SWQoXG4gICAgICAgIHRoaXMuX2pzb25cbiAgICAgICAgICAuZ2V0Um9vdCgpXG4gICAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoUGh5c2ljc1NldHRpbmdzKVxuICAgICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgocGh5c2ljc1NldHRpbmdJbmRleClcbiAgICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhPdXRwdXQpXG4gICAgICAgICAgLmdldFZhbHVlQnlJbmRleChvdXRwdXRJbmRleClcbiAgICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhEZXN0aW5hdGlvbilcbiAgICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhJZClcbiAgICAgICAgICAuZ2V0UmF3U3RyaW5nKClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5Ye65Yqb44Gu56iu6aGe44Gu5Y+W5b6XXG4gICAgICogQHBhcmFtIHBoeXNpY3NTZXR0aW5nSW5kZXgg54mp55CG5ryU566X44Gu6Kit5a6a44Gu44Kk44Oz44OH44OD44Kv44K5XG4gICAgICogQHBhcmFtIG91dHB1dEluZGV4IOWHuuWKm+OBruOCpOODs+ODh+ODg+OCr+OCuVxuICAgICAqIEByZXR1cm4g5Ye65Yqb44Gu56iu6aGeXG4gICAgICovXG4gICAgcHVibGljIGdldE91dHB1dFR5cGUoXG4gICAgICBwaHlzaWNzU2V0dGluZ0luZGV4OiBudW1iZXIsXG4gICAgICBvdXRwdXRJbmRleDogbnVtYmVyXG4gICAgKTogc3RyaW5nIHtcbiAgICAgIHJldHVybiB0aGlzLl9qc29uXG4gICAgICAgIC5nZXRSb290KClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoUGh5c2ljc1NldHRpbmdzKVxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KHBoeXNpY3NTZXR0aW5nSW5kZXgpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKE91dHB1dClcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChvdXRwdXRJbmRleClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoVHlwZSlcbiAgICAgICAgLmdldFJhd1N0cmluZygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWHuuWKm+OBruWPjei7ouOBruWPluW+l1xuICAgICAqIEBwYXJhbSBwaHlzaWNzU2V0dGluZ0luZGV4IOeJqeeQhua8lOeul+OBruOCpOODs+ODh+ODg+OCr+OCuVxuICAgICAqIEBwYXJhbSBvdXRwdXRJbmRleCDlh7rlipvjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcbiAgICAgKiBAcmV0dXJuIOWHuuWKm+OBruWPjei7olxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRPdXRwdXRSZWZsZWN0KFxuICAgICAgcGh5c2ljc1NldHRpbmdJbmRleDogbnVtYmVyLFxuICAgICAgb3V0cHV0SW5kZXg6IG51bWJlclxuICAgICk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cbiAgICAgICAgLmdldFJvb3QoKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhQaHlzaWNzU2V0dGluZ3MpXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgocGh5c2ljc1NldHRpbmdJbmRleClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoT3V0cHV0KVxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KG91dHB1dEluZGV4KVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhSZWZsZWN0KVxuICAgICAgICAudG9Cb29sZWFuKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog54mp55CG54K544Gu5YCL5pWw44Gu5Y+W5b6XXG4gICAgICogQHBhcmFtIHBoeXNpY3NTZXR0aW5nSW5kZXgg54mp55CG5ryU566X55S36Kit5a6a44Gu44Kk44Oz44OH44OD44Kv44K5XG4gICAgICogQHJldHVybiDniannkIbngrnjga7lgIvmlbBcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0UGFydGljbGVDb3VudChwaHlzaWNzU2V0dGluZ0luZGV4OiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHRoaXMuX2pzb25cbiAgICAgICAgLmdldFJvb3QoKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhQaHlzaWNzU2V0dGluZ3MpXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgocGh5c2ljc1NldHRpbmdJbmRleClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoVmVydGljZXMpXG4gICAgICAgIC5nZXRWZWN0b3IoKVxuICAgICAgICAuZ2V0U2l6ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOeJqeeQhueCueOBruWLleOBjeOChOOBmeOBleOBruWPluW+l1xuICAgICAqIEBwYXJhbSBwaHlzaWNzU2V0dGluZ0luZGV4IOeJqeeQhua8lOeul+OBruioreWumuOBruOCpOODs+ODh+ODg+OCr+OCuVxuICAgICAqIEBwYXJhbSB2ZXJ0ZXhJbmRleCDniannkIbngrnjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcbiAgICAgKiBAcmV0dXJuIOeJqeeQhueCueOBruWLleOBjeOChOOBmeOBlVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRQYXJ0aWNsZU1vYmlsaXR5KFxuICAgICAgcGh5c2ljc1NldHRpbmdJbmRleDogbnVtYmVyLFxuICAgICAgdmVydGV4SW5kZXg6IG51bWJlclxuICAgICk6IG51bWJlciB7XG4gICAgICByZXR1cm4gdGhpcy5fanNvblxuICAgICAgICAuZ2V0Um9vdCgpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFBoeXNpY3NTZXR0aW5ncylcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChwaHlzaWNzU2V0dGluZ0luZGV4KVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhWZXJ0aWNlcylcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleCh2ZXJ0ZXhJbmRleClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoTW9iaWxpdHkpXG4gICAgICAgIC50b0Zsb2F0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog54mp55CG54K544Gu6YGF44KM44Gu5Y+W5b6XXG4gICAgICogQHBhcmFtIHBoeXNpY3NTZXR0aW5nSW5kZXgg54mp55CG5ryU566X44Gu6Kit5a6a44Gu44Kk44Oz44OH44OD44Kv44K5XG4gICAgICogQHBhcmFtIHZlcnRleEluZGV4IOeJqeeQhueCueOBruOCpOODs+ODh+ODg+OCr+OCuVxuICAgICAqIEByZXR1cm4g54mp55CG54K544Gu6YGF44KMXG4gICAgICovXG4gICAgcHVibGljIGdldFBhcnRpY2xlRGVsYXkoXG4gICAgICBwaHlzaWNzU2V0dGluZ0luZGV4OiBudW1iZXIsXG4gICAgICB2ZXJ0ZXhJbmRleDogbnVtYmVyXG4gICAgKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiB0aGlzLl9qc29uXG4gICAgICAgIC5nZXRSb290KClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoUGh5c2ljc1NldHRpbmdzKVxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KHBoeXNpY3NTZXR0aW5nSW5kZXgpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFZlcnRpY2VzKVxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KHZlcnRleEluZGV4KVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhEZWxheSlcbiAgICAgICAgLnRvRmxvYXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDniannkIbngrnjga7liqDpgJ/luqbjga7lj5blvpdcbiAgICAgKiBAcGFyYW0gcGh5c2ljc1NldHRpbmdJbmRleCDniannkIbmvJTnrpfjga7oqK3lrppcbiAgICAgKiBAcGFyYW0gdmVydGV4SW5kZXgg54mp55CG54K544Gu44Kk44Oz44OH44OD44Kv44K5XG4gICAgICogQHJldHVybiDniannkIbngrnjga7liqDpgJ/luqZcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0UGFydGljbGVBY2NlbGVyYXRpb24oXG4gICAgICBwaHlzaWNzU2V0dGluZ0luZGV4OiBudW1iZXIsXG4gICAgICB2ZXJ0ZXhJbmRleDogbnVtYmVyXG4gICAgKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiB0aGlzLl9qc29uXG4gICAgICAgIC5nZXRSb290KClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoUGh5c2ljc1NldHRpbmdzKVxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KHBoeXNpY3NTZXR0aW5nSW5kZXgpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFZlcnRpY2VzKVxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KHZlcnRleEluZGV4KVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhBY2NlbGVyYXRpb24pXG4gICAgICAgIC50b0Zsb2F0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog54mp55CG54K544Gu6Led6Zui44Gu5Y+W5b6XXG4gICAgICogQHBhcmFtIHBoeXNpY3NTZXR0aW5nSW5kZXgg54mp55CG5ryU566X44Gu6Kit5a6a44Gu44Kk44Oz44OH44OD44Kv44K5XG4gICAgICogQHBhcmFtIHZlcnRleEluZGV4IOeJqeeQhueCueOBruOCpOODs+ODh+ODg+OCr+OCuVxuICAgICAqIEByZXR1cm4g54mp55CG54K544Gu6Led6ZuiXG4gICAgICovXG4gICAgcHVibGljIGdldFBhcnRpY2xlUmFkaXVzKFxuICAgICAgcGh5c2ljc1NldHRpbmdJbmRleDogbnVtYmVyLFxuICAgICAgdmVydGV4SW5kZXg6IG51bWJlclxuICAgICk6IG51bWJlciB7XG4gICAgICByZXR1cm4gdGhpcy5fanNvblxuICAgICAgICAuZ2V0Um9vdCgpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFBoeXNpY3NTZXR0aW5ncylcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleChwaHlzaWNzU2V0dGluZ0luZGV4KVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhWZXJ0aWNlcylcbiAgICAgICAgLmdldFZhbHVlQnlJbmRleCh2ZXJ0ZXhJbmRleClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoUmFkaXVzKVxuICAgICAgICAudG9JbnQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDniannkIbngrnjga7kvY3nva7jga7lj5blvpdcbiAgICAgKiBAcGFyYW0gcGh5c2ljc1NldHRpbmdJbmRleCDniannkIbmvJTnrpfjga7oqK3lrprjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcbiAgICAgKiBAcGFyYW0gdmVydGV4SW5kZSDniannkIbngrnjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcbiAgICAgKiBAcmV0dXJuIOeJqeeQhueCueOBruS9jee9rlxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRQYXJ0aWNsZVBvc2l0aW9uKFxuICAgICAgcGh5c2ljc1NldHRpbmdJbmRleDogbnVtYmVyLFxuICAgICAgdmVydGV4SW5kZXg6IG51bWJlclxuICAgICk6IEN1YmlzbVZlY3RvcjIge1xuICAgICAgY29uc3QgcmV0OiBDdWJpc21WZWN0b3IyID0gbmV3IEN1YmlzbVZlY3RvcjIoMCwgMCk7XG4gICAgICByZXQueCA9IHRoaXMuX2pzb25cbiAgICAgICAgLmdldFJvb3QoKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhQaHlzaWNzU2V0dGluZ3MpXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgocGh5c2ljc1NldHRpbmdJbmRleClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoVmVydGljZXMpXG4gICAgICAgIC5nZXRWYWx1ZUJ5SW5kZXgodmVydGV4SW5kZXgpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFBvc2l0aW9uKVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhYKVxuICAgICAgICAudG9GbG9hdCgpO1xuICAgICAgcmV0LnkgPSB0aGlzLl9qc29uXG4gICAgICAgIC5nZXRSb290KClcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoUGh5c2ljc1NldHRpbmdzKVxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KHBoeXNpY3NTZXR0aW5nSW5kZXgpXG4gICAgICAgIC5nZXRWYWx1ZUJ5U3RyaW5nKFZlcnRpY2VzKVxuICAgICAgICAuZ2V0VmFsdWVCeUluZGV4KHZlcnRleEluZGV4KVxuICAgICAgICAuZ2V0VmFsdWVCeVN0cmluZyhQb3NpdGlvbilcbiAgICAgICAgLmdldFZhbHVlQnlTdHJpbmcoWSlcbiAgICAgICAgLnRvRmxvYXQoKTtcbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgX2pzb246IEN1YmlzbUpzb247IC8vIHBoeXNpY3MzLmpzb27jg4fjg7zjgr9cbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7QUFPQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBTUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQXZrQkE7QUF3a0JBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/physics/cubismphysicsjson.ts\n");

/***/ }),

/***/ "./Framework/src/rendering/cubismrenderer.ts":
/*!***************************************************!*\
  !*** ./Framework/src/rendering/cubismrenderer.ts ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar cubismmatrix44_1 = __webpack_require__(/*! ../math/cubismmatrix44 */ \"./Framework/src/math/cubismmatrix44.ts\");\nvar CubismMatrix44 = cubismmatrix44_1.Live2DCubismFramework.CubismMatrix44;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var CubismRenderer = (function () {\n        function CubismRenderer() {\n            this._isCulling = false;\n            this._isPremultipliedAlpha = false;\n            this._anisortopy = 0.0;\n            this._model = null;\n            this._modelColor = new CubismTextureColor();\n            this._mvpMatrix4x4 = new CubismMatrix44();\n            this._mvpMatrix4x4.loadIdentity();\n        }\n        CubismRenderer.create = function () {\n            return null;\n        };\n        CubismRenderer.delete = function (renderer) {\n            renderer = null;\n        };\n        CubismRenderer.prototype.initialize = function (model) {\n            this._model = model;\n        };\n        CubismRenderer.prototype.drawModel = function () {\n            if (this.getModel() == null)\n                return;\n            this.doDrawModel();\n        };\n        CubismRenderer.prototype.setMvpMatrix = function (matrix44) {\n            this._mvpMatrix4x4.setMatrix(matrix44.getArray());\n        };\n        CubismRenderer.prototype.getMvpMatrix = function () {\n            return this._mvpMatrix4x4;\n        };\n        CubismRenderer.prototype.setModelColor = function (red, green, blue, alpha) {\n            if (red < 0.0) {\n                red = 0.0;\n            }\n            else if (red > 1.0) {\n                red = 1.0;\n            }\n            if (green < 0.0) {\n                green = 0.0;\n            }\n            else if (green > 1.0) {\n                green = 1.0;\n            }\n            if (blue < 0.0) {\n                blue = 0.0;\n            }\n            else if (blue > 1.0) {\n                blue = 1.0;\n            }\n            if (alpha < 0.0) {\n                alpha = 0.0;\n            }\n            else if (alpha > 1.0) {\n                alpha = 1.0;\n            }\n            this._modelColor.R = red;\n            this._modelColor.G = green;\n            this._modelColor.B = blue;\n            this._modelColor.A = alpha;\n        };\n        CubismRenderer.prototype.getModelColor = function () {\n            return JSON.parse(JSON.stringify(this._modelColor));\n        };\n        CubismRenderer.prototype.setIsPremultipliedAlpha = function (enable) {\n            this._isPremultipliedAlpha = enable;\n        };\n        CubismRenderer.prototype.isPremultipliedAlpha = function () {\n            return this._isPremultipliedAlpha;\n        };\n        CubismRenderer.prototype.setIsCulling = function (culling) {\n            this._isCulling = culling;\n        };\n        CubismRenderer.prototype.isCulling = function () {\n            return this._isCulling;\n        };\n        CubismRenderer.prototype.setAnisotropy = function (n) {\n            this._anisortopy = n;\n        };\n        CubismRenderer.prototype.getAnisotropy = function () {\n            return this._anisortopy;\n        };\n        CubismRenderer.prototype.getModel = function () {\n            return this._model;\n        };\n        return CubismRenderer;\n    }());\n    Live2DCubismFramework.CubismRenderer = CubismRenderer;\n    var CubismBlendMode;\n    (function (CubismBlendMode) {\n        CubismBlendMode[CubismBlendMode[\"CubismBlendMode_Normal\"] = 0] = \"CubismBlendMode_Normal\";\n        CubismBlendMode[CubismBlendMode[\"CubismBlendMode_Additive\"] = 1] = \"CubismBlendMode_Additive\";\n        CubismBlendMode[CubismBlendMode[\"CubismBlendMode_Multiplicative\"] = 2] = \"CubismBlendMode_Multiplicative\";\n    })(CubismBlendMode = Live2DCubismFramework.CubismBlendMode || (Live2DCubismFramework.CubismBlendMode = {}));\n    var CubismTextureColor = (function () {\n        function CubismTextureColor() {\n            this.R = 1.0;\n            this.G = 1.0;\n            this.B = 1.0;\n            this.A = 1.0;\n        }\n        return CubismTextureColor;\n    }());\n    Live2DCubismFramework.CubismTextureColor = CubismTextureColor;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL3JlbmRlcmluZy9jdWJpc21yZW5kZXJlci50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL0ZyYW1ld29yay9zcmMvcmVuZGVyaW5nL2N1YmlzbXJlbmRlcmVyLnRzPzdmZmYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTGl2ZTJEIE9wZW4gU29mdHdhcmUgbGljZW5zZVxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXG4gKi9cblxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbW1hdHJpeDQ0IH0gZnJvbSAnLi4vbWF0aC9jdWJpc21tYXRyaXg0NCc7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtbW9kZWwgfSBmcm9tICcuLi9tb2RlbC9jdWJpc21tb2RlbCc7XG5pbXBvcnQgQ3ViaXNtTW9kZWwgPSBjdWJpc21tb2RlbC5DdWJpc21Nb2RlbDtcbmltcG9ydCBDdWJpc21NYXRyaXg0NCA9IGN1YmlzbW1hdHJpeDQ0LkN1YmlzbU1hdHJpeDQ0O1xuXG5leHBvcnQgbmFtZXNwYWNlIExpdmUyREN1YmlzbUZyYW1ld29yayB7XG4gIC8qKlxuICAgKiDjg6Ljg4fjg6vmj4/nlLvjgpLlh6bnkIbjgZnjgovjg6zjg7Pjg4Djg6lcbiAgICpcbiAgICog44K144OW44Kv44Op44K544Gr55Kw5aKD5L6d5a2Y44Gu5o+P55S75ZG95Luk44KS6KiY6L+w44GZ44KL44CCXG4gICAqL1xuICBleHBvcnQgYWJzdHJhY3QgY2xhc3MgQ3ViaXNtUmVuZGVyZXIge1xuICAgIC8qKlxuICAgICAqIOODrOODs+ODgOODqeOBruOCpOODs+OCueOCv+ODs+OCueOCkueUn+aIkOOBl+OBpuWPluW+l+OBmeOCi1xuICAgICAqXG4gICAgICogQHJldHVybiDjg6zjg7Pjg4Djg6njga7jgqTjg7Pjgrnjgr/jg7PjgrlcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZSgpOiBDdWJpc21SZW5kZXJlciB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6zjg7Pjg4Djg6njga7jgqTjg7Pjgrnjgr/jg7PjgrnjgpLop6PmlL7jgZnjgotcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGRlbGV0ZShyZW5kZXJlcjogQ3ViaXNtUmVuZGVyZXIpOiB2b2lkIHtcbiAgICAgIHJlbmRlcmVyID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6zjg7Pjg4Djg6njga7liJ3mnJ/ljJblh6bnkIbjgpLlrp/ooYzjgZnjgotcbiAgICAgKiDlvJXmlbDjgavmuKHjgZfjgZ/jg6Ljg4fjg6vjgYvjgonjg6zjg7Pjg4Djg6njga7liJ3mnJ/ljJblh6bnkIbjgavlv4XopoHjgarmg4XloLHjgpLlj5bjgorlh7rjgZnjgZPjgajjgYzjgafjgY3jgotcbiAgICAgKiBAcGFyYW0gbW9kZWwg44Oi44OH44Or44Gu44Kk44Oz44K544K/44Oz44K5XG4gICAgICovXG4gICAgcHVibGljIGluaXRpYWxpemUobW9kZWw6IEN1YmlzbU1vZGVsKTogdm9pZCB7XG4gICAgICB0aGlzLl9tb2RlbCA9IG1vZGVsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODouODh+ODq+OCkuaPj+eUu+OBmeOCi1xuICAgICAqL1xuICAgIHB1YmxpYyBkcmF3TW9kZWwoKTogdm9pZCB7XG4gICAgICBpZiAodGhpcy5nZXRNb2RlbCgpID09IG51bGwpIHJldHVybjtcblxuICAgICAgdGhpcy5kb0RyYXdNb2RlbCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vZGVsLVZpZXctUHJvamVjdGlvbiDooYzliJfjgpLjgrvjg4Pjg4jjgZnjgotcbiAgICAgKiDphY3liJfjga/opIfoo73jgZXjgozjgovjga7jgafjgIHlhYPjga7phY3liJfjga/lpJbjgafnoLTmo4TjgZfjgaboia/jgYRcbiAgICAgKiBAcGFyYW0gbWF0cml4NDQgTW9kZWwtVmlldy1Qcm9qZWN0aW9uIOihjOWIl1xuICAgICAqL1xuICAgIHB1YmxpYyBzZXRNdnBNYXRyaXgobWF0cml4NDQ6IEN1YmlzbU1hdHJpeDQ0KTogdm9pZCB7XG4gICAgICB0aGlzLl9tdnBNYXRyaXg0eDQuc2V0TWF0cml4KG1hdHJpeDQ0LmdldEFycmF5KCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vZGVsLVZpZXctUHJvamVjdGlvbiDooYzliJfjgpLlj5blvpfjgZnjgotcbiAgICAgKiBAcmV0dXJuIE1vZGVsLVZpZXctUHJvamVjdGlvbiDooYzliJdcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0TXZwTWF0cml4KCk6IEN1YmlzbU1hdHJpeDQ0IHtcbiAgICAgIHJldHVybiB0aGlzLl9tdnBNYXRyaXg0eDQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Oi44OH44Or44Gu6Imy44KS44K744OD44OI44GZ44KLXG4gICAgICog5ZCE6ImyMC4wfjEuMOOBrumWk+OBp+aMh+WumuOBmeOCi++8iDEuMOOBjOaomea6luOBrueKtuaFi++8iVxuICAgICAqIEBwYXJhbSByZWQg6LWk44OB44Oj44Oz44ON44Or44Gu5YCkXG4gICAgICogQHBhcmFtIGdyZWVuIOe3keODgeODo+ODs+ODjeODq+OBruWApFxuICAgICAqIEBwYXJhbSBibHVlIOmdkuODgeODo+ODs+ODjeODq+OBruWApFxuICAgICAqIEBwYXJhbSBhbHBoYSDOseODgeODo+ODs+ODjeODq+OBruWApFxuICAgICAqL1xuICAgIHB1YmxpYyBzZXRNb2RlbENvbG9yKFxuICAgICAgcmVkOiBudW1iZXIsXG4gICAgICBncmVlbjogbnVtYmVyLFxuICAgICAgYmx1ZTogbnVtYmVyLFxuICAgICAgYWxwaGE6IG51bWJlclxuICAgICk6IHZvaWQge1xuICAgICAgaWYgKHJlZCA8IDAuMCkge1xuICAgICAgICByZWQgPSAwLjA7XG4gICAgICB9IGVsc2UgaWYgKHJlZCA+IDEuMCkge1xuICAgICAgICByZWQgPSAxLjA7XG4gICAgICB9XG5cbiAgICAgIGlmIChncmVlbiA8IDAuMCkge1xuICAgICAgICBncmVlbiA9IDAuMDtcbiAgICAgIH0gZWxzZSBpZiAoZ3JlZW4gPiAxLjApIHtcbiAgICAgICAgZ3JlZW4gPSAxLjA7XG4gICAgICB9XG5cbiAgICAgIGlmIChibHVlIDwgMC4wKSB7XG4gICAgICAgIGJsdWUgPSAwLjA7XG4gICAgICB9IGVsc2UgaWYgKGJsdWUgPiAxLjApIHtcbiAgICAgICAgYmx1ZSA9IDEuMDtcbiAgICAgIH1cblxuICAgICAgaWYgKGFscGhhIDwgMC4wKSB7XG4gICAgICAgIGFscGhhID0gMC4wO1xuICAgICAgfSBlbHNlIGlmIChhbHBoYSA+IDEuMCkge1xuICAgICAgICBhbHBoYSA9IDEuMDtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fbW9kZWxDb2xvci5SID0gcmVkO1xuICAgICAgdGhpcy5fbW9kZWxDb2xvci5HID0gZ3JlZW47XG4gICAgICB0aGlzLl9tb2RlbENvbG9yLkIgPSBibHVlO1xuICAgICAgdGhpcy5fbW9kZWxDb2xvci5BID0gYWxwaGE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Oi44OH44Or44Gu6Imy44KS5Y+W5b6X44GZ44KLXG4gICAgICog5ZCE6ImyMC4wfjEuMOOBrumWk+OBp+aMh+WumuOBmeOCiygxLjDjgYzmqJnmupbjga7nirbmhYspXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIFJHQkHjga7jgqvjg6njg7zmg4XloLFcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0TW9kZWxDb2xvcigpOiBDdWJpc21UZXh0dXJlQ29sb3Ige1xuICAgICAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5fbW9kZWxDb2xvcikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOS5l+eul+a4iOOBv86x44Gu5pyJ5Yq544O754Sh5Yq544KS44K744OD44OI44GZ44KLXG4gICAgICog5pyJ5Yq544Gr44GZ44KL44Gq44KJdHJ1ZeOAgeeEoeWKueOBq+OBmeOCi+OBquOCiWZhbHNl44KS44K744OD44OI44GZ44KLXG4gICAgICovXG4gICAgcHVibGljIHNldElzUHJlbXVsdGlwbGllZEFscGhhKGVuYWJsZTogYm9vbGVhbik6IHZvaWQge1xuICAgICAgdGhpcy5faXNQcmVtdWx0aXBsaWVkQWxwaGEgPSBlbmFibGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5LmX566X5riI44G/zrHjga7mnInlirnjg7vnhKHlirnjgpLlj5blvpfjgZnjgotcbiAgICAgKiBAcmV0dXJuIHRydWUg5LmX566X5riI44G/44GuzrHmnInlirlcbiAgICAgKiBAcmV0dXJuIGZhbHNlIOS5l+eul+a4iOOBv+OBrs6x54Sh5Yq5XG4gICAgICovXG4gICAgcHVibGljIGlzUHJlbXVsdGlwbGllZEFscGhhKCk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIHRoaXMuX2lzUHJlbXVsdGlwbGllZEFscGhhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOOCq+ODquODs+OCsO+8iOeJh+mdouaPj+eUu++8ieOBruacieWKueODu+eEoeWKueOCkuOCu+ODg+ODiOOBmeOCi+OAglxuICAgICAqIOacieWKueOBq+OBmeOCi+OBquOCiXRydWXjgIHnhKHlirnjgavjgZnjgovjgarjgolmYWxzZeOCkuOCu+ODg+ODiOOBmeOCi1xuICAgICAqL1xuICAgIHB1YmxpYyBzZXRJc0N1bGxpbmcoY3VsbGluZzogYm9vbGVhbik6IHZvaWQge1xuICAgICAgdGhpcy5faXNDdWxsaW5nID0gY3VsbGluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjgqvjg6rjg7PjgrDvvIjniYfpnaLmj4/nlLvvvInjga7mnInlirnjg7vnhKHlirnjgpLlj5blvpfjgZnjgovjgIJcbiAgICAgKiBAcmV0dXJuIHRydWUg44Kr44Oq44Oz44Kw5pyJ5Yq5XG4gICAgICogQHJldHVybiBmYWxzZSDjgqvjg6rjg7PjgrDnhKHlirlcbiAgICAgKi9cbiAgICBwdWJsaWMgaXNDdWxsaW5nKCk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIHRoaXMuX2lzQ3VsbGluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg4bjgq/jgrnjg4Hjg6Pjga7nlbDmlrnmgKfjg5XjgqPjg6vjgr/jg6rjg7PjgrDjga7jg5Hjg6njg6Hjg7zjgr/jgpLjgrvjg4Pjg4jjgZnjgotcbiAgICAgKiDjg5Hjg6njg6Hjg7zjgr/lgKTjga7lvbHpn7/luqbjga/jg6zjg7Pjg4Djg6njga7lrp/oo4Xjgavkvp3lrZjjgZnjgotcbiAgICAgKiBAcGFyYW0gbiDjg5Hjg6njg6Hjg7zjgr/jga7lgKRcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0QW5pc290cm9weShuOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgIHRoaXMuX2FuaXNvcnRvcHkgPSBuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODhuOCr+OCueODgeODo+OBrueVsOaWueaAp+ODleOCo+ODq+OCv+ODquODs+OCsOOBruODkeODqeODoeODvOOCv+OCkuOCu+ODg+ODiOOBmeOCi1xuICAgICAqIEByZXR1cm4g55Ww5pa55oCn44OV44Kj44Or44K/44Oq44Oz44Kw44Gu44OR44Op44Oh44O844K/XG4gICAgICovXG4gICAgcHVibGljIGdldEFuaXNvdHJvcHkoKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiB0aGlzLl9hbmlzb3J0b3B5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODrOODs+ODgOODquODs+OCsOOBmeOCi+ODouODh+ODq+OCkuWPluW+l+OBmeOCi1xuICAgICAqIEByZXR1cm4g44Os44Oz44OA44Oq44Oz44Kw44GZ44KL44Oi44OH44OrXG4gICAgICovXG4gICAgcHVibGljIGdldE1vZGVsKCk6IEN1YmlzbU1vZGVsIHtcbiAgICAgIHJldHVybiB0aGlzLl9tb2RlbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr9cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IoKSB7XG4gICAgICB0aGlzLl9pc0N1bGxpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuX2lzUHJlbXVsdGlwbGllZEFscGhhID0gZmFsc2U7XG4gICAgICB0aGlzLl9hbmlzb3J0b3B5ID0gMC4wO1xuICAgICAgdGhpcy5fbW9kZWwgPSBudWxsO1xuICAgICAgdGhpcy5fbW9kZWxDb2xvciA9IG5ldyBDdWJpc21UZXh0dXJlQ29sb3IoKTtcblxuICAgICAgLy8g5Y2Y5L2N6KGM5YiX44Gr5Yid5pyf5YyWXG4gICAgICB0aGlzLl9tdnBNYXRyaXg0eDQgPSBuZXcgQ3ViaXNtTWF0cml4NDQoKTtcbiAgICAgIHRoaXMuX212cE1hdHJpeDR4NC5sb2FkSWRlbnRpdHkoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6Ljg4fjg6vmj4/nlLvjga7lrp/oo4VcbiAgICAgKi9cbiAgICBwdWJsaWMgYWJzdHJhY3QgZG9EcmF3TW9kZWwoKTogdm9pZDtcblxuICAgIC8qKlxuICAgICAqIOaPj+eUu+OCquODluOCuOOCp+OCr+ODiO+8iOOCouODvOODiOODoeODg+OCt+ODpe+8ieOCkuaPj+eUu+OBmeOCi1xuICAgICAqIOODneODquOCtOODs+ODoeODg+OCt+ODpeOBqOODhuOCr+OCueODgeODo+eVquWPt+OCkuOCu+ODg+ODiOOBp+a4oeOBmeOAglxuICAgICAqIEBwYXJhbSB0ZXh0dXJlTm8g5o+P55S744GZ44KL44OG44Kv44K544OB44Oj55Wq5Y+3XG4gICAgICogQHBhcmFtIGluZGV4Q291bnQg5o+P55S744Kq44OW44K444Kn44Kv44OI44Gu44Kk44Oz44OH44OD44Kv44K55YCkXG4gICAgICogQHBhcmFtIHZlcnRleENvdW50IOODneODquOCtOODs+ODoeODg+OCt+ODpeOBrumggueCueaVsFxuICAgICAqIEBwYXJhbSBpbmRleEFycmF5IOODneODquOCtOODs+ODoeODg+OCt+ODpemggueCueOBruOCpOODs+ODh+ODg+OCr+OCuemFjeWIl1xuICAgICAqIEBwYXJhbSB2ZXJ0ZXhBcnJheSDjg53jg6rjgrTjg7Pjg6Hjg4Pjgrfjg6Xjga7poILngrnphY3liJdcbiAgICAgKiBAcGFyYW0gdXZBcnJheSB1dumFjeWIl1xuICAgICAqIEBwYXJhbSBvcGFjaXR5IOS4jemAj+aYjuW6plxuICAgICAqIEBwYXJhbSBjb2xvckJsZW5kTW9kZSDjgqvjg6njg7zjg5bjg6zjg7Pjg4fjgqPjg7PjgrDjga7jgr/jgqTjg5dcbiAgICAgKiBAcGFyYW0gaW52ZXJ0ZWRNYXNrIOODnuOCueOCr+S9v+eUqOaZguOBruODnuOCueOCr+OBruWPjei7ouS9v+eUqFxuICAgICAqL1xuICAgIHB1YmxpYyBhYnN0cmFjdCBkcmF3TWVzaChcbiAgICAgIHRleHR1cmVObzogbnVtYmVyLFxuICAgICAgaW5kZXhDb3VudDogbnVtYmVyLFxuICAgICAgdmVydGV4Q291bnQ6IG51bWJlcixcbiAgICAgIGluZGV4QXJyYXk6IFVpbnQxNkFycmF5LFxuICAgICAgdmVydGV4QXJyYXk6IEZsb2F0MzJBcnJheSxcbiAgICAgIHV2QXJyYXk6IEZsb2F0MzJBcnJheSxcbiAgICAgIG9wYWNpdHk6IG51bWJlcixcbiAgICAgIGNvbG9yQmxlbmRNb2RlOiBDdWJpc21CbGVuZE1vZGUsXG4gICAgICBpbnZlcnRlZE1hc2s6IGJvb2xlYW5cbiAgICApOiB2b2lkO1xuXG4gICAgLyoqXG4gICAgICog44Os44Oz44OA44Op44GM5L+d5oyB44GZ44KL6Z2Z55qE44Gq44Oq44K944O844K544KS6ZaL5pS+44GZ44KLXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBzdGF0aWNSZWxlYXNlOiBGdW5jdGlvbjtcblxuICAgIHByb3RlY3RlZCBfbXZwTWF0cml4NHg0OiBDdWJpc21NYXRyaXg0NDsgLy8gTW9kZWwtVmlldy1Qcm9qZWN0aW9uIOihjOWIl1xuICAgIHByb3RlY3RlZCBfbW9kZWxDb2xvcjogQ3ViaXNtVGV4dHVyZUNvbG9yOyAvLyDjg6Ljg4fjg6voh6rkvZPjga7jgqvjg6njg7zvvIhSR0JB77yJXG4gICAgcHJvdGVjdGVkIF9pc0N1bGxpbmc6IGJvb2xlYW47IC8vIOOCq+ODquODs+OCsOOBjOacieWKueOBquOCiXRydWVcbiAgICBwcm90ZWN0ZWQgX2lzUHJlbXVsdGlwbGllZEFscGhhOiBib29sZWFuOyAvLyDkuZfnrpfmuIjjgb/OseOBquOCiXRydWVcbiAgICBwcm90ZWN0ZWQgX2FuaXNvcnRvcHk6IGFueTsgLy8g44OG44Kv44K544OB44Oj44Gu55Ww5pa55oCn44OV44Kj44Or44K/44Oq44Oz44Kw44Gu44OR44Op44Oh44O844K/XG4gICAgcHJvdGVjdGVkIF9tb2RlbDogQ3ViaXNtTW9kZWw7IC8vIOODrOODs+ODgOODquODs+OCsOWvvuixoeOBruODouODh+ODq1xuICB9XG5cbiAgZXhwb3J0IGVudW0gQ3ViaXNtQmxlbmRNb2RlIHtcbiAgICBDdWJpc21CbGVuZE1vZGVfTm9ybWFsID0gMCwgLy8g6YCa5bi4XG4gICAgQ3ViaXNtQmxlbmRNb2RlX0FkZGl0aXZlID0gMSwgLy8g5Yqg566XXG4gICAgQ3ViaXNtQmxlbmRNb2RlX011bHRpcGxpY2F0aXZlID0gMiAvLyDkuZfnrpdcbiAgfVxuXG4gIC8qKlxuICAgKiDjg4bjgq/jgrnjg4Hjg6Pjga7oibLjgpJSR0JB44Gn5omx44GG44Gf44KB44Gu44Kv44Op44K5XG4gICAqL1xuICBleHBvcnQgY2xhc3MgQ3ViaXNtVGV4dHVyZUNvbG9yIHtcbiAgICAvKipcbiAgICAgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr9cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHRoaXMuUiA9IDEuMDtcbiAgICAgIHRoaXMuRyA9IDEuMDtcbiAgICAgIHRoaXMuQiA9IDEuMDtcbiAgICAgIHRoaXMuQSA9IDEuMDtcbiAgICB9XG5cbiAgICBSOiBudW1iZXI7IC8vIOi1pOODgeODo+ODs+ODjeODq1xuICAgIEc6IG51bWJlcjsgLy8g57eR44OB44Oj44Oz44ON44OrXG4gICAgQjogbnVtYmVyOyAvLyDpnZLjg4Hjg6Pjg7Pjg43jg6tcbiAgICBBOiBudW1iZXI7IC8vIM6x44OB44Oj44Oz44ON44OrXG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7O0FBT0E7QUFHQTtBQUVBO0FBQUE7QUFNQTtBQXdLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUE1S0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQVVBO0FBTUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQTBEQTtBQUFBO0FBN05BO0FBK05BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFBQTtBQWZBO0FBZ0JBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/rendering/cubismrenderer.ts\n");

/***/ }),

/***/ "./Framework/src/rendering/cubismrenderer_webgl.ts":
/*!*********************************************************!*\
  !*** ./Framework/src/rendering/cubismrenderer_webgl.ts ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./Framework/src/live2dcubismframework.ts\");\nvar csmrectf_1 = __webpack_require__(/*! ../type/csmrectf */ \"./Framework/src/type/csmrectf.ts\");\nvar cubismrenderer_1 = __webpack_require__(/*! ./cubismrenderer */ \"./Framework/src/rendering/cubismrenderer.ts\");\nvar cubismmatrix44_1 = __webpack_require__(/*! ../math/cubismmatrix44 */ \"./Framework/src/math/cubismmatrix44.ts\");\nvar csmmap_1 = __webpack_require__(/*! ../type/csmmap */ \"./Framework/src/type/csmmap.ts\");\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./Framework/src/type/csmvector.ts\");\nvar cubismdebug_1 = __webpack_require__(/*! ../utils/cubismdebug */ \"./Framework/src/utils/cubismdebug.ts\");\nvar Constant = live2dcubismframework_1.Live2DCubismFramework.Constant;\nvar CubismMatrix44 = cubismmatrix44_1.Live2DCubismFramework.CubismMatrix44;\nvar csmRect = csmrectf_1.Live2DCubismFramework.csmRect;\nvar csmMap = csmmap_1.Live2DCubismFramework.csmMap;\nvar csmVector = csmvector_1.Live2DCubismFramework.csmVector;\nvar CubismRenderer = cubismrenderer_1.Live2DCubismFramework.CubismRenderer;\nvar CubismBlendMode = cubismrenderer_1.Live2DCubismFramework.CubismBlendMode;\nvar CubismTextureColor = cubismrenderer_1.Live2DCubismFramework.CubismTextureColor;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var ColorChannelCount = 4;\n    var shaderCount = 10;\n    var s_instance;\n    var s_viewport;\n    var s_fbo;\n    var CubismClippingManager_WebGL = (function () {\n        function CubismClippingManager_WebGL() {\n            this._maskRenderTexture = null;\n            this._colorBuffer = null;\n            this._currentFrameNo = 0;\n            this._clippingMaskBufferSize = 256;\n            this._clippingContextListForMask = new csmVector();\n            this._clippingContextListForDraw = new csmVector();\n            this._channelColors = new csmVector();\n            this._tmpBoundsOnModel = new csmRect();\n            this._tmpMatrix = new CubismMatrix44();\n            this._tmpMatrixForMask = new CubismMatrix44();\n            this._tmpMatrixForDraw = new CubismMatrix44();\n            this._maskTexture = null;\n            var tmp = new CubismTextureColor();\n            tmp.R = 1.0;\n            tmp.G = 0.0;\n            tmp.B = 0.0;\n            tmp.A = 0.0;\n            this._channelColors.pushBack(tmp);\n            tmp = new CubismTextureColor();\n            tmp.R = 0.0;\n            tmp.G = 1.0;\n            tmp.B = 0.0;\n            tmp.A = 0.0;\n            this._channelColors.pushBack(tmp);\n            tmp = new CubismTextureColor();\n            tmp.R = 0.0;\n            tmp.G = 0.0;\n            tmp.B = 1.0;\n            tmp.A = 0.0;\n            this._channelColors.pushBack(tmp);\n            tmp = new CubismTextureColor();\n            tmp.R = 0.0;\n            tmp.G = 0.0;\n            tmp.B = 0.0;\n            tmp.A = 1.0;\n            this._channelColors.pushBack(tmp);\n        }\n        CubismClippingManager_WebGL.prototype.getChannelFlagAsColor = function (channelNo) {\n            return this._channelColors.at(channelNo);\n        };\n        CubismClippingManager_WebGL.prototype.getMaskRenderTexture = function () {\n            var ret = 0;\n            if (this._maskTexture && this._maskTexture.texture != 0) {\n                this._maskTexture.frameNo = this._currentFrameNo;\n                ret = this._maskTexture.texture;\n            }\n            if (ret == 0) {\n                var size = this._clippingMaskBufferSize;\n                this._colorBuffer = this.gl.createTexture();\n                this.gl.bindTexture(this.gl.TEXTURE_2D, this._colorBuffer);\n                this.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, size, size, 0, this.gl.RGBA, this.gl.UNSIGNED_BYTE, null);\n                this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_S, this.gl.CLAMP_TO_EDGE);\n                this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_WRAP_T, this.gl.CLAMP_TO_EDGE);\n                this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MIN_FILTER, this.gl.LINEAR);\n                this.gl.texParameteri(this.gl.TEXTURE_2D, this.gl.TEXTURE_MAG_FILTER, this.gl.LINEAR);\n                this.gl.bindTexture(this.gl.TEXTURE_2D, null);\n                ret = this.gl.createFramebuffer();\n                this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, ret);\n                this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER, this.gl.COLOR_ATTACHMENT0, this.gl.TEXTURE_2D, this._colorBuffer, 0);\n                this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, s_fbo);\n                this._maskTexture = new CubismRenderTextureResource(this._currentFrameNo, ret);\n            }\n            return ret;\n        };\n        CubismClippingManager_WebGL.prototype.setGL = function (gl) {\n            this.gl = gl;\n        };\n        CubismClippingManager_WebGL.prototype.calcClippedDrawTotalBounds = function (model, clippingContext) {\n            var clippedDrawTotalMinX = Number.MAX_VALUE;\n            var clippedDrawTotalMinY = Number.MAX_VALUE;\n            var clippedDrawTotalMaxX = Number.MIN_VALUE;\n            var clippedDrawTotalMaxY = Number.MIN_VALUE;\n            var clippedDrawCount = clippingContext._clippedDrawableIndexList.length;\n            for (var clippedDrawableIndex = 0; clippedDrawableIndex < clippedDrawCount; clippedDrawableIndex++) {\n                var drawableIndex = clippingContext._clippedDrawableIndexList[clippedDrawableIndex];\n                var drawableVertexCount = model.getDrawableVertexCount(drawableIndex);\n                var drawableVertexes = model.getDrawableVertices(drawableIndex);\n                var minX = Number.MAX_VALUE;\n                var minY = Number.MAX_VALUE;\n                var maxX = Number.MIN_VALUE;\n                var maxY = Number.MIN_VALUE;\n                var loop = drawableVertexCount * Constant.vertexStep;\n                for (var pi = Constant.vertexOffset; pi < loop; pi += Constant.vertexStep) {\n                    var x = drawableVertexes[pi];\n                    var y = drawableVertexes[pi + 1];\n                    if (x < minX) {\n                        minX = x;\n                    }\n                    if (x > maxX) {\n                        maxX = x;\n                    }\n                    if (y < minY) {\n                        minY = y;\n                    }\n                    if (y > maxY) {\n                        maxY = y;\n                    }\n                }\n                if (minX == Number.MAX_VALUE) {\n                    continue;\n                }\n                if (minX < clippedDrawTotalMinX) {\n                    clippedDrawTotalMinX = minX;\n                }\n                if (minY < clippedDrawTotalMinY) {\n                    clippedDrawTotalMinY = minY;\n                }\n                if (maxX > clippedDrawTotalMaxX) {\n                    clippedDrawTotalMaxX = maxX;\n                }\n                if (maxY > clippedDrawTotalMaxY) {\n                    clippedDrawTotalMaxY = maxY;\n                }\n                if (clippedDrawTotalMinX == Number.MAX_VALUE) {\n                    clippingContext._allClippedDrawRect.x = 0.0;\n                    clippingContext._allClippedDrawRect.y = 0.0;\n                    clippingContext._allClippedDrawRect.width = 0.0;\n                    clippingContext._allClippedDrawRect.height = 0.0;\n                    clippingContext._isUsing = false;\n                }\n                else {\n                    clippingContext._isUsing = true;\n                    var w = clippedDrawTotalMaxX - clippedDrawTotalMinX;\n                    var h = clippedDrawTotalMaxY - clippedDrawTotalMinY;\n                    clippingContext._allClippedDrawRect.x = clippedDrawTotalMinX;\n                    clippingContext._allClippedDrawRect.y = clippedDrawTotalMinY;\n                    clippingContext._allClippedDrawRect.width = w;\n                    clippingContext._allClippedDrawRect.height = h;\n                }\n            }\n        };\n        CubismClippingManager_WebGL.prototype.release = function () {\n            for (var i = 0; i < this._clippingContextListForMask.getSize(); i++) {\n                if (this._clippingContextListForMask.at(i)) {\n                    this._clippingContextListForMask.at(i).release();\n                    this._clippingContextListForMask.set(i, void 0);\n                }\n                this._clippingContextListForMask.set(i, null);\n            }\n            this._clippingContextListForMask = null;\n            for (var i = 0; i < this._clippingContextListForDraw.getSize(); i++) {\n                this._clippingContextListForDraw.set(i, null);\n            }\n            this._clippingContextListForDraw = null;\n            if (this._maskTexture) {\n                this.gl.deleteFramebuffer(this._maskTexture.texture);\n                this._maskTexture = null;\n            }\n            for (var i = 0; i < this._channelColors.getSize(); i++) {\n                this._channelColors.set(i, null);\n            }\n            this._channelColors = null;\n            this.gl.deleteTexture(this._colorBuffer);\n            this._colorBuffer = null;\n        };\n        CubismClippingManager_WebGL.prototype.initialize = function (model, drawableCount, drawableMasks, drawableMaskCounts) {\n            for (var i = 0; i < drawableCount; i++) {\n                if (drawableMaskCounts[i] <= 0) {\n                    this._clippingContextListForDraw.pushBack(null);\n                    continue;\n                }\n                var clippingContext = this.findSameClip(drawableMasks[i], drawableMaskCounts[i]);\n                if (clippingContext == null) {\n                    clippingContext = new CubismClippingContext(this, drawableMasks[i], drawableMaskCounts[i]);\n                    this._clippingContextListForMask.pushBack(clippingContext);\n                }\n                clippingContext.addClippedDrawable(i);\n                this._clippingContextListForDraw.pushBack(clippingContext);\n            }\n        };\n        CubismClippingManager_WebGL.prototype.setupClippingContext = function (model, renderer) {\n            this._currentFrameNo++;\n            var usingClipCount = 0;\n            for (var clipIndex = 0; clipIndex < this._clippingContextListForMask.getSize(); clipIndex++) {\n                var cc = this._clippingContextListForMask.at(clipIndex);\n                this.calcClippedDrawTotalBounds(model, cc);\n                if (cc._isUsing) {\n                    usingClipCount++;\n                }\n            }\n            if (usingClipCount > 0) {\n                this.gl.viewport(0, 0, this._clippingMaskBufferSize, this._clippingMaskBufferSize);\n                this._maskRenderTexture = this.getMaskRenderTexture();\n                var modelToWorldF = renderer.getMvpMatrix();\n                renderer.preDraw();\n                this.setupLayoutBounds(usingClipCount);\n                this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, this._maskRenderTexture);\n                this.gl.clearColor(1.0, 1.0, 1.0, 1.0);\n                this.gl.clear(this.gl.COLOR_BUFFER_BIT);\n                for (var clipIndex = 0; clipIndex < this._clippingContextListForMask.getSize(); clipIndex++) {\n                    var clipContext = this._clippingContextListForMask.at(clipIndex);\n                    var allClipedDrawRect = clipContext._allClippedDrawRect;\n                    var layoutBoundsOnTex01 = clipContext._layoutBounds;\n                    var MARGIN = 0.05;\n                    this._tmpBoundsOnModel.setRect(allClipedDrawRect);\n                    this._tmpBoundsOnModel.expand(allClipedDrawRect.width * MARGIN, allClipedDrawRect.height * MARGIN);\n                    var scaleX = layoutBoundsOnTex01.width / this._tmpBoundsOnModel.width;\n                    var scaleY = layoutBoundsOnTex01.height / this._tmpBoundsOnModel.height;\n                    {\n                        this._tmpMatrix.loadIdentity();\n                        {\n                            this._tmpMatrix.translateRelative(-1.0, -1.0);\n                            this._tmpMatrix.scaleRelative(2.0, 2.0);\n                        }\n                        {\n                            this._tmpMatrix.translateRelative(layoutBoundsOnTex01.x, layoutBoundsOnTex01.y);\n                            this._tmpMatrix.scaleRelative(scaleX, scaleY);\n                            this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x, -this._tmpBoundsOnModel.y);\n                        }\n                        this._tmpMatrixForMask.setMatrix(this._tmpMatrix.getArray());\n                    }\n                    {\n                        this._tmpMatrix.loadIdentity();\n                        {\n                            this._tmpMatrix.translateRelative(layoutBoundsOnTex01.x, layoutBoundsOnTex01.y);\n                            this._tmpMatrix.scaleRelative(scaleX, scaleY);\n                            this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x, -this._tmpBoundsOnModel.y);\n                        }\n                        this._tmpMatrixForDraw.setMatrix(this._tmpMatrix.getArray());\n                    }\n                    clipContext._matrixForMask.setMatrix(this._tmpMatrixForMask.getArray());\n                    clipContext._matrixForDraw.setMatrix(this._tmpMatrixForDraw.getArray());\n                    var clipDrawCount = clipContext._clippingIdCount;\n                    for (var i = 0; i < clipDrawCount; i++) {\n                        var clipDrawIndex = clipContext._clippingIdList[i];\n                        if (!model.getDrawableDynamicFlagVertexPositionsDidChange(clipDrawIndex)) {\n                            continue;\n                        }\n                        renderer.setIsCulling(model.getDrawableCulling(clipDrawIndex) != false);\n                        renderer.setClippingContextBufferForMask(clipContext);\n                        renderer.drawMesh(model.getDrawableTextureIndices(clipDrawIndex), model.getDrawableVertexIndexCount(clipDrawIndex), model.getDrawableVertexCount(clipDrawIndex), model.getDrawableVertexIndices(clipDrawIndex), model.getDrawableVertices(clipDrawIndex), model.getDrawableVertexUvs(clipDrawIndex), model.getDrawableOpacity(clipDrawIndex), CubismBlendMode.CubismBlendMode_Normal, false);\n                    }\n                }\n                this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, s_fbo);\n                renderer.setClippingContextBufferForMask(null);\n                this.gl.viewport(s_viewport[0], s_viewport[1], s_viewport[2], s_viewport[3]);\n            }\n        };\n        CubismClippingManager_WebGL.prototype.findSameClip = function (drawableMasks, drawableMaskCounts) {\n            for (var i = 0; i < this._clippingContextListForMask.getSize(); i++) {\n                var clippingContext = this._clippingContextListForMask.at(i);\n                var count = clippingContext._clippingIdCount;\n                if (count != drawableMaskCounts) {\n                    continue;\n                }\n                var sameCount = 0;\n                for (var j = 0; j < count; j++) {\n                    var clipId = clippingContext._clippingIdList[j];\n                    for (var k = 0; k < count; k++) {\n                        if (drawableMasks[k] == clipId) {\n                            sameCount++;\n                            break;\n                        }\n                    }\n                }\n                if (sameCount == count) {\n                    return clippingContext;\n                }\n            }\n            return null;\n        };\n        CubismClippingManager_WebGL.prototype.setupLayoutBounds = function (usingClipCount) {\n            var div = usingClipCount / ColorChannelCount;\n            var mod = usingClipCount % ColorChannelCount;\n            div = ~~div;\n            mod = ~~mod;\n            var curClipIndex = 0;\n            for (var channelNo = 0; channelNo < ColorChannelCount; channelNo++) {\n                var layoutCount = div + (channelNo < mod ? 1 : 0);\n                if (layoutCount == 0) {\n                }\n                else if (layoutCount == 1) {\n                    var clipContext = this._clippingContextListForMask.at(curClipIndex++);\n                    clipContext._layoutChannelNo = channelNo;\n                    clipContext._layoutBounds.x = 0.0;\n                    clipContext._layoutBounds.y = 0.0;\n                    clipContext._layoutBounds.width = 1.0;\n                    clipContext._layoutBounds.height = 1.0;\n                }\n                else if (layoutCount == 2) {\n                    for (var i = 0; i < layoutCount; i++) {\n                        var xpos = i % 2;\n                        xpos = ~~xpos;\n                        var cc = this._clippingContextListForMask.at(curClipIndex++);\n                        cc._layoutChannelNo = channelNo;\n                        cc._layoutBounds.x = xpos * 0.5;\n                        cc._layoutBounds.y = 0.0;\n                        cc._layoutBounds.width = 0.5;\n                        cc._layoutBounds.height = 1.0;\n                    }\n                }\n                else if (layoutCount <= 4) {\n                    for (var i = 0; i < layoutCount; i++) {\n                        var xpos = i % 2;\n                        var ypos = i / 2;\n                        xpos = ~~xpos;\n                        ypos = ~~ypos;\n                        var cc = this._clippingContextListForMask.at(curClipIndex++);\n                        cc._layoutChannelNo = channelNo;\n                        cc._layoutBounds.x = xpos * 0.5;\n                        cc._layoutBounds.y = ypos * 0.5;\n                        cc._layoutBounds.width = 0.5;\n                        cc._layoutBounds.height = 0.5;\n                    }\n                }\n                else if (layoutCount <= 9) {\n                    for (var i = 0; i < layoutCount; i++) {\n                        var xpos = i % 3;\n                        var ypos = i / 3;\n                        xpos = ~~xpos;\n                        ypos = ~~ypos;\n                        var cc = this._clippingContextListForMask.at(curClipIndex++);\n                        cc._layoutChannelNo = channelNo;\n                        cc._layoutBounds.x = xpos / 3.0;\n                        cc._layoutBounds.y = ypos / 3.0;\n                        cc._layoutBounds.width = 1.0 / 3.0;\n                        cc._layoutBounds.height = 1.0 / 3.0;\n                    }\n                }\n                else {\n                    cubismdebug_1.CubismLogError('not supported mask count : {0}', layoutCount);\n                }\n            }\n        };\n        CubismClippingManager_WebGL.prototype.getColorBuffer = function () {\n            return this._colorBuffer;\n        };\n        CubismClippingManager_WebGL.prototype.getClippingContextListForDraw = function () {\n            return this._clippingContextListForDraw;\n        };\n        CubismClippingManager_WebGL.prototype.setClippingMaskBufferSize = function (size) {\n            this._clippingMaskBufferSize = size;\n        };\n        CubismClippingManager_WebGL.prototype.getClippingMaskBufferSize = function () {\n            return this._clippingMaskBufferSize;\n        };\n        return CubismClippingManager_WebGL;\n    }());\n    Live2DCubismFramework.CubismClippingManager_WebGL = CubismClippingManager_WebGL;\n    var CubismRenderTextureResource = (function () {\n        function CubismRenderTextureResource(frameNo, texture) {\n            this.frameNo = frameNo;\n            this.texture = texture;\n        }\n        return CubismRenderTextureResource;\n    }());\n    Live2DCubismFramework.CubismRenderTextureResource = CubismRenderTextureResource;\n    var CubismClippingContext = (function () {\n        function CubismClippingContext(manager, clippingDrawableIndices, clipCount) {\n            this._owner = manager;\n            this._clippingIdList = clippingDrawableIndices;\n            this._clippingIdCount = clipCount;\n            this._allClippedDrawRect = new csmRect();\n            this._layoutBounds = new csmRect();\n            this._clippedDrawableIndexList = [];\n            this._matrixForMask = new CubismMatrix44();\n            this._matrixForDraw = new CubismMatrix44();\n        }\n        CubismClippingContext.prototype.release = function () {\n            if (this._layoutBounds != null) {\n                this._layoutBounds = null;\n            }\n            if (this._allClippedDrawRect != null) {\n                this._allClippedDrawRect = null;\n            }\n            if (this._clippedDrawableIndexList != null) {\n                this._clippedDrawableIndexList = null;\n            }\n        };\n        CubismClippingContext.prototype.addClippedDrawable = function (drawableIndex) {\n            this._clippedDrawableIndexList.push(drawableIndex);\n        };\n        CubismClippingContext.prototype.getClippingManager = function () {\n            return this._owner;\n        };\n        CubismClippingContext.prototype.setGl = function (gl) {\n            this._owner.setGL(gl);\n        };\n        return CubismClippingContext;\n    }());\n    Live2DCubismFramework.CubismClippingContext = CubismClippingContext;\n    var CubismShader_WebGL = (function () {\n        function CubismShader_WebGL() {\n            this._shaderSets = new csmVector();\n        }\n        CubismShader_WebGL.getInstance = function () {\n            if (s_instance == null) {\n                s_instance = new CubismShader_WebGL();\n                return s_instance;\n            }\n            return s_instance;\n        };\n        CubismShader_WebGL.deleteInstance = function () {\n            if (s_instance) {\n                s_instance.release();\n                s_instance = null;\n            }\n        };\n        CubismShader_WebGL.prototype.release = function () {\n            this.releaseShaderProgram();\n        };\n        CubismShader_WebGL.prototype.setupShaderProgram = function (renderer, textureId, vertexCount, vertexArray, indexArray, uvArray, bufferData, opacity, colorBlendMode, baseColor, isPremultipliedAlpha, matrix4x4, invertedMask) {\n            if (!isPremultipliedAlpha) {\n                cubismdebug_1.CubismLogError('NoPremultipliedAlpha is not allowed');\n            }\n            if (this._shaderSets.getSize() == 0) {\n                this.generateShaders();\n            }\n            var SRC_COLOR;\n            var DST_COLOR;\n            var SRC_ALPHA;\n            var DST_ALPHA;\n            if (renderer.getClippingContextBufferForMask() != null) {\n                var shaderSet = this._shaderSets.at(ShaderNames.ShaderNames_SetupMask);\n                this.gl.useProgram(shaderSet.shaderProgram);\n                this.gl.activeTexture(this.gl.TEXTURE0);\n                this.gl.bindTexture(this.gl.TEXTURE_2D, textureId);\n                this.gl.uniform1i(shaderSet.samplerTexture0Location, 0);\n                if (bufferData.vertex == null) {\n                    bufferData.vertex = this.gl.createBuffer();\n                }\n                this.gl.bindBuffer(this.gl.ARRAY_BUFFER, bufferData.vertex);\n                this.gl.bufferData(this.gl.ARRAY_BUFFER, vertexArray, this.gl.DYNAMIC_DRAW);\n                this.gl.enableVertexAttribArray(shaderSet.attributePositionLocation);\n                this.gl.vertexAttribPointer(shaderSet.attributePositionLocation, 2, this.gl.FLOAT, false, 0, 0);\n                if (bufferData.uv == null) {\n                    bufferData.uv = this.gl.createBuffer();\n                }\n                this.gl.bindBuffer(this.gl.ARRAY_BUFFER, bufferData.uv);\n                this.gl.bufferData(this.gl.ARRAY_BUFFER, uvArray, this.gl.DYNAMIC_DRAW);\n                this.gl.enableVertexAttribArray(shaderSet.attributeTexCoordLocation);\n                this.gl.vertexAttribPointer(shaderSet.attributeTexCoordLocation, 2, this.gl.FLOAT, false, 0, 0);\n                var channelNo = renderer.getClippingContextBufferForMask()\n                    ._layoutChannelNo;\n                var colorChannel = renderer\n                    .getClippingContextBufferForMask()\n                    .getClippingManager()\n                    .getChannelFlagAsColor(channelNo);\n                this.gl.uniform4f(shaderSet.uniformChannelFlagLocation, colorChannel.R, colorChannel.G, colorChannel.B, colorChannel.A);\n                this.gl.uniformMatrix4fv(shaderSet.uniformClipMatrixLocation, false, renderer.getClippingContextBufferForMask()._matrixForMask.getArray());\n                var rect = renderer.getClippingContextBufferForMask()\n                    ._layoutBounds;\n                this.gl.uniform4f(shaderSet.uniformBaseColorLocation, rect.x * 2.0 - 1.0, rect.y * 2.0 - 1.0, rect.getRight() * 2.0 - 1.0, rect.getBottom() * 2.0 - 1.0);\n                SRC_COLOR = this.gl.ZERO;\n                DST_COLOR = this.gl.ONE_MINUS_SRC_COLOR;\n                SRC_ALPHA = this.gl.ZERO;\n                DST_ALPHA = this.gl.ONE_MINUS_SRC_ALPHA;\n            }\n            else {\n                var masked = renderer.getClippingContextBufferForDraw() != null;\n                var offset = masked ? (invertedMask ? 2 : 1) : 0;\n                var shaderSet = new CubismShaderSet();\n                switch (colorBlendMode) {\n                    case CubismBlendMode.CubismBlendMode_Normal:\n                    default:\n                        shaderSet = this._shaderSets.at(ShaderNames.ShaderNames_NormalPremultipliedAlpha + offset);\n                        SRC_COLOR = this.gl.ONE;\n                        DST_COLOR = this.gl.ONE_MINUS_SRC_ALPHA;\n                        SRC_ALPHA = this.gl.ONE;\n                        DST_ALPHA = this.gl.ONE_MINUS_SRC_ALPHA;\n                        break;\n                    case CubismBlendMode.CubismBlendMode_Additive:\n                        shaderSet = this._shaderSets.at(ShaderNames.ShaderNames_AddPremultipliedAlpha + offset);\n                        SRC_COLOR = this.gl.ONE;\n                        DST_COLOR = this.gl.ONE;\n                        SRC_ALPHA = this.gl.ZERO;\n                        DST_ALPHA = this.gl.ONE;\n                        break;\n                    case CubismBlendMode.CubismBlendMode_Multiplicative:\n                        shaderSet = this._shaderSets.at(ShaderNames.ShaderNames_MultPremultipliedAlpha + offset);\n                        SRC_COLOR = this.gl.DST_COLOR;\n                        DST_COLOR = this.gl.ONE_MINUS_SRC_ALPHA;\n                        SRC_ALPHA = this.gl.ZERO;\n                        DST_ALPHA = this.gl.ONE;\n                        break;\n                }\n                this.gl.useProgram(shaderSet.shaderProgram);\n                if (bufferData.vertex == null) {\n                    bufferData.vertex = this.gl.createBuffer();\n                }\n                this.gl.bindBuffer(this.gl.ARRAY_BUFFER, bufferData.vertex);\n                this.gl.bufferData(this.gl.ARRAY_BUFFER, vertexArray, this.gl.DYNAMIC_DRAW);\n                this.gl.enableVertexAttribArray(shaderSet.attributePositionLocation);\n                this.gl.vertexAttribPointer(shaderSet.attributePositionLocation, 2, this.gl.FLOAT, false, 0, 0);\n                if (bufferData.uv == null) {\n                    bufferData.uv = this.gl.createBuffer();\n                }\n                this.gl.bindBuffer(this.gl.ARRAY_BUFFER, bufferData.uv);\n                this.gl.bufferData(this.gl.ARRAY_BUFFER, uvArray, this.gl.DYNAMIC_DRAW);\n                this.gl.enableVertexAttribArray(shaderSet.attributeTexCoordLocation);\n                this.gl.vertexAttribPointer(shaderSet.attributeTexCoordLocation, 2, this.gl.FLOAT, false, 0, 0);\n                if (masked) {\n                    this.gl.activeTexture(this.gl.TEXTURE1);\n                    var tex = renderer\n                        .getClippingContextBufferForDraw()\n                        .getClippingManager()\n                        .getColorBuffer();\n                    this.gl.bindTexture(this.gl.TEXTURE_2D, tex);\n                    this.gl.uniform1i(shaderSet.samplerTexture1Location, 1);\n                    this.gl.uniformMatrix4fv(shaderSet.uniformClipMatrixLocation, false, renderer.getClippingContextBufferForDraw()._matrixForDraw.getArray());\n                    var channelNo = renderer.getClippingContextBufferForDraw()\n                        ._layoutChannelNo;\n                    var colorChannel = renderer\n                        .getClippingContextBufferForDraw()\n                        .getClippingManager()\n                        .getChannelFlagAsColor(channelNo);\n                    this.gl.uniform4f(shaderSet.uniformChannelFlagLocation, colorChannel.R, colorChannel.G, colorChannel.B, colorChannel.A);\n                }\n                this.gl.activeTexture(this.gl.TEXTURE0);\n                this.gl.bindTexture(this.gl.TEXTURE_2D, textureId);\n                this.gl.uniform1i(shaderSet.samplerTexture0Location, 0);\n                this.gl.uniformMatrix4fv(shaderSet.uniformMatrixLocation, false, matrix4x4.getArray());\n                this.gl.uniform4f(shaderSet.uniformBaseColorLocation, baseColor.R, baseColor.G, baseColor.B, baseColor.A);\n            }\n            if (bufferData.index == null) {\n                bufferData.index = this.gl.createBuffer();\n            }\n            this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, bufferData.index);\n            this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER, indexArray, this.gl.DYNAMIC_DRAW);\n            this.gl.blendFuncSeparate(SRC_COLOR, DST_COLOR, SRC_ALPHA, DST_ALPHA);\n        };\n        CubismShader_WebGL.prototype.releaseShaderProgram = function () {\n            for (var i = 0; i < this._shaderSets.getSize(); i++) {\n                this.gl.deleteProgram(this._shaderSets.at(i).shaderProgram);\n                this._shaderSets.at(i).shaderProgram = 0;\n                this._shaderSets.set(i, void 0);\n                this._shaderSets.set(i, null);\n            }\n        };\n        CubismShader_WebGL.prototype.generateShaders = function () {\n            for (var i = 0; i < shaderCount; i++) {\n                this._shaderSets.pushBack(new CubismShaderSet());\n            }\n            this._shaderSets.at(0).shaderProgram = this.loadShaderProgram(Live2DCubismFramework.vertexShaderSrcSetupMask, Live2DCubismFramework.fragmentShaderSrcsetupMask);\n            this._shaderSets.at(1).shaderProgram = this.loadShaderProgram(Live2DCubismFramework.vertexShaderSrc, Live2DCubismFramework.fragmentShaderSrcPremultipliedAlpha);\n            this._shaderSets.at(2).shaderProgram = this.loadShaderProgram(Live2DCubismFramework.vertexShaderSrcMasked, Live2DCubismFramework.fragmentShaderSrcMaskPremultipliedAlpha);\n            this._shaderSets.at(3).shaderProgram = this.loadShaderProgram(Live2DCubismFramework.vertexShaderSrcMasked, Live2DCubismFramework.fragmentShaderSrcMaskInvertedPremultipliedAlpha);\n            this._shaderSets.at(4).shaderProgram = this._shaderSets.at(1).shaderProgram;\n            this._shaderSets.at(5).shaderProgram = this._shaderSets.at(2).shaderProgram;\n            this._shaderSets.at(6).shaderProgram = this._shaderSets.at(3).shaderProgram;\n            this._shaderSets.at(7).shaderProgram = this._shaderSets.at(1).shaderProgram;\n            this._shaderSets.at(8).shaderProgram = this._shaderSets.at(2).shaderProgram;\n            this._shaderSets.at(9).shaderProgram = this._shaderSets.at(3).shaderProgram;\n            this._shaderSets.at(0).attributePositionLocation = this.gl.getAttribLocation(this._shaderSets.at(0).shaderProgram, 'a_position');\n            this._shaderSets.at(0).attributeTexCoordLocation = this.gl.getAttribLocation(this._shaderSets.at(0).shaderProgram, 'a_texCoord');\n            this._shaderSets.at(0).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram, 's_texture0');\n            this._shaderSets.at(0).uniformClipMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram, 'u_clipMatrix');\n            this._shaderSets.at(0).uniformChannelFlagLocation = this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram, 'u_channelFlag');\n            this._shaderSets.at(0).uniformBaseColorLocation = this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram, 'u_baseColor');\n            this._shaderSets.at(1).attributePositionLocation = this.gl.getAttribLocation(this._shaderSets.at(1).shaderProgram, 'a_position');\n            this._shaderSets.at(1).attributeTexCoordLocation = this.gl.getAttribLocation(this._shaderSets.at(1).shaderProgram, 'a_texCoord');\n            this._shaderSets.at(1).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram, 's_texture0');\n            this._shaderSets.at(1).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram, 'u_matrix');\n            this._shaderSets.at(1).uniformBaseColorLocation = this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram, 'u_baseColor');\n            this._shaderSets.at(2).attributePositionLocation = this.gl.getAttribLocation(this._shaderSets.at(2).shaderProgram, 'a_position');\n            this._shaderSets.at(2).attributeTexCoordLocation = this.gl.getAttribLocation(this._shaderSets.at(2).shaderProgram, 'a_texCoord');\n            this._shaderSets.at(2).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram, 's_texture0');\n            this._shaderSets.at(2).samplerTexture1Location = this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram, 's_texture1');\n            this._shaderSets.at(2).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram, 'u_matrix');\n            this._shaderSets.at(2).uniformClipMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram, 'u_clipMatrix');\n            this._shaderSets.at(2).uniformChannelFlagLocation = this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram, 'u_channelFlag');\n            this._shaderSets.at(2).uniformBaseColorLocation = this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram, 'u_baseColor');\n            this._shaderSets.at(3).attributePositionLocation = this.gl.getAttribLocation(this._shaderSets.at(3).shaderProgram, 'a_position');\n            this._shaderSets.at(3).attributeTexCoordLocation = this.gl.getAttribLocation(this._shaderSets.at(3).shaderProgram, 'a_texCoord');\n            this._shaderSets.at(3).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram, 's_texture0');\n            this._shaderSets.at(3).samplerTexture1Location = this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram, 's_texture1');\n            this._shaderSets.at(3).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram, 'u_matrix');\n            this._shaderSets.at(3).uniformClipMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram, 'u_clipMatrix');\n            this._shaderSets.at(3).uniformChannelFlagLocation = this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram, 'u_channelFlag');\n            this._shaderSets.at(3).uniformBaseColorLocation = this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram, 'u_baseColor');\n            this._shaderSets.at(4).attributePositionLocation = this.gl.getAttribLocation(this._shaderSets.at(4).shaderProgram, 'a_position');\n            this._shaderSets.at(4).attributeTexCoordLocation = this.gl.getAttribLocation(this._shaderSets.at(4).shaderProgram, 'a_texCoord');\n            this._shaderSets.at(4).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram, 's_texture0');\n            this._shaderSets.at(4).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram, 'u_matrix');\n            this._shaderSets.at(4).uniformBaseColorLocation = this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram, 'u_baseColor');\n            this._shaderSets.at(5).attributePositionLocation = this.gl.getAttribLocation(this._shaderSets.at(5).shaderProgram, 'a_position');\n            this._shaderSets.at(5).attributeTexCoordLocation = this.gl.getAttribLocation(this._shaderSets.at(5).shaderProgram, 'a_texCoord');\n            this._shaderSets.at(5).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram, 's_texture0');\n            this._shaderSets.at(5).samplerTexture1Location = this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram, 's_texture1');\n            this._shaderSets.at(5).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram, 'u_matrix');\n            this._shaderSets.at(5).uniformClipMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram, 'u_clipMatrix');\n            this._shaderSets.at(5).uniformChannelFlagLocation = this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram, 'u_channelFlag');\n            this._shaderSets.at(5).uniformBaseColorLocation = this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram, 'u_baseColor');\n            this._shaderSets.at(6).attributePositionLocation = this.gl.getAttribLocation(this._shaderSets.at(6).shaderProgram, 'a_position');\n            this._shaderSets.at(6).attributeTexCoordLocation = this.gl.getAttribLocation(this._shaderSets.at(6).shaderProgram, 'a_texCoord');\n            this._shaderSets.at(6).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram, 's_texture0');\n            this._shaderSets.at(6).samplerTexture1Location = this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram, 's_texture1');\n            this._shaderSets.at(6).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram, 'u_matrix');\n            this._shaderSets.at(6).uniformClipMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram, 'u_clipMatrix');\n            this._shaderSets.at(6).uniformChannelFlagLocation = this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram, 'u_channelFlag');\n            this._shaderSets.at(6).uniformBaseColorLocation = this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram, 'u_baseColor');\n            this._shaderSets.at(7).attributePositionLocation = this.gl.getAttribLocation(this._shaderSets.at(7).shaderProgram, 'a_position');\n            this._shaderSets.at(7).attributeTexCoordLocation = this.gl.getAttribLocation(this._shaderSets.at(7).shaderProgram, 'a_texCoord');\n            this._shaderSets.at(7).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram, 's_texture0');\n            this._shaderSets.at(7).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram, 'u_matrix');\n            this._shaderSets.at(7).uniformBaseColorLocation = this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram, 'u_baseColor');\n            this._shaderSets.at(8).attributePositionLocation = this.gl.getAttribLocation(this._shaderSets.at(8).shaderProgram, 'a_position');\n            this._shaderSets.at(8).attributeTexCoordLocation = this.gl.getAttribLocation(this._shaderSets.at(8).shaderProgram, 'a_texCoord');\n            this._shaderSets.at(8).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram, 's_texture0');\n            this._shaderSets.at(8).samplerTexture1Location = this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram, 's_texture1');\n            this._shaderSets.at(8).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram, 'u_matrix');\n            this._shaderSets.at(8).uniformClipMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram, 'u_clipMatrix');\n            this._shaderSets.at(8).uniformChannelFlagLocation = this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram, 'u_channelFlag');\n            this._shaderSets.at(8).uniformBaseColorLocation = this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram, 'u_baseColor');\n            this._shaderSets.at(9).attributePositionLocation = this.gl.getAttribLocation(this._shaderSets.at(9).shaderProgram, 'a_position');\n            this._shaderSets.at(9).attributeTexCoordLocation = this.gl.getAttribLocation(this._shaderSets.at(9).shaderProgram, 'a_texCoord');\n            this._shaderSets.at(9).samplerTexture0Location = this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram, 's_texture0');\n            this._shaderSets.at(9).samplerTexture1Location = this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram, 's_texture1');\n            this._shaderSets.at(9).uniformMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram, 'u_matrix');\n            this._shaderSets.at(9).uniformClipMatrixLocation = this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram, 'u_clipMatrix');\n            this._shaderSets.at(9).uniformChannelFlagLocation = this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram, 'u_channelFlag');\n            this._shaderSets.at(9).uniformBaseColorLocation = this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram, 'u_baseColor');\n        };\n        CubismShader_WebGL.prototype.loadShaderProgram = function (vertexShaderSource, fragmentShaderSource) {\n            var shaderProgram = this.gl.createProgram();\n            var vertShader = this.compileShaderSource(this.gl.VERTEX_SHADER, vertexShaderSource);\n            if (!vertShader) {\n                cubismdebug_1.CubismLogError('Vertex shader compile error!');\n                return 0;\n            }\n            var fragShader = this.compileShaderSource(this.gl.FRAGMENT_SHADER, fragmentShaderSource);\n            if (!fragShader) {\n                cubismdebug_1.CubismLogError('Vertex shader compile error!');\n                return 0;\n            }\n            this.gl.attachShader(shaderProgram, vertShader);\n            this.gl.attachShader(shaderProgram, fragShader);\n            this.gl.linkProgram(shaderProgram);\n            var linkStatus = this.gl.getProgramParameter(shaderProgram, this.gl.LINK_STATUS);\n            if (!linkStatus) {\n                cubismdebug_1.CubismLogError('Failed to link program: {0}', shaderProgram);\n                this.gl.deleteShader(vertShader);\n                vertShader = 0;\n                this.gl.deleteShader(fragShader);\n                fragShader = 0;\n                if (shaderProgram) {\n                    this.gl.deleteProgram(shaderProgram);\n                    shaderProgram = 0;\n                }\n                return 0;\n            }\n            this.gl.deleteShader(vertShader);\n            this.gl.deleteShader(fragShader);\n            return shaderProgram;\n        };\n        CubismShader_WebGL.prototype.compileShaderSource = function (shaderType, shaderSource) {\n            var source = shaderSource;\n            var shader = this.gl.createShader(shaderType);\n            this.gl.shaderSource(shader, source);\n            this.gl.compileShader(shader);\n            if (!shader) {\n                var log = this.gl.getShaderInfoLog(shader);\n                cubismdebug_1.CubismLogError('Shader compile log: {0} ', log);\n            }\n            var status = this.gl.getShaderParameter(shader, this.gl.COMPILE_STATUS);\n            if (!status) {\n                this.gl.deleteShader(shader);\n                return null;\n            }\n            return shader;\n        };\n        CubismShader_WebGL.prototype.setGl = function (gl) {\n            this.gl = gl;\n        };\n        return CubismShader_WebGL;\n    }());\n    Live2DCubismFramework.CubismShader_WebGL = CubismShader_WebGL;\n    var CubismShaderSet = (function () {\n        function CubismShaderSet() {\n        }\n        return CubismShaderSet;\n    }());\n    Live2DCubismFramework.CubismShaderSet = CubismShaderSet;\n    var ShaderNames;\n    (function (ShaderNames) {\n        ShaderNames[ShaderNames[\"ShaderNames_SetupMask\"] = 0] = \"ShaderNames_SetupMask\";\n        ShaderNames[ShaderNames[\"ShaderNames_NormalPremultipliedAlpha\"] = 1] = \"ShaderNames_NormalPremultipliedAlpha\";\n        ShaderNames[ShaderNames[\"ShaderNames_NormalMaskedPremultipliedAlpha\"] = 2] = \"ShaderNames_NormalMaskedPremultipliedAlpha\";\n        ShaderNames[ShaderNames[\"ShaderNames_NomralMaskedInvertedPremultipliedAlpha\"] = 3] = \"ShaderNames_NomralMaskedInvertedPremultipliedAlpha\";\n        ShaderNames[ShaderNames[\"ShaderNames_AddPremultipliedAlpha\"] = 4] = \"ShaderNames_AddPremultipliedAlpha\";\n        ShaderNames[ShaderNames[\"ShaderNames_AddMaskedPremultipliedAlpha\"] = 5] = \"ShaderNames_AddMaskedPremultipliedAlpha\";\n        ShaderNames[ShaderNames[\"ShaderNames_AddMaskedPremultipliedAlphaInverted\"] = 6] = \"ShaderNames_AddMaskedPremultipliedAlphaInverted\";\n        ShaderNames[ShaderNames[\"ShaderNames_MultPremultipliedAlpha\"] = 7] = \"ShaderNames_MultPremultipliedAlpha\";\n        ShaderNames[ShaderNames[\"ShaderNames_MultMaskedPremultipliedAlpha\"] = 8] = \"ShaderNames_MultMaskedPremultipliedAlpha\";\n        ShaderNames[ShaderNames[\"ShaderNames_MultMaskedPremultipliedAlphaInverted\"] = 9] = \"ShaderNames_MultMaskedPremultipliedAlphaInverted\";\n    })(ShaderNames = Live2DCubismFramework.ShaderNames || (Live2DCubismFramework.ShaderNames = {}));\n    Live2DCubismFramework.vertexShaderSrcSetupMask = 'attribute vec4     a_position;' +\n        'attribute vec2     a_texCoord;' +\n        'varying vec2       v_texCoord;' +\n        'varying vec4       v_myPos;' +\n        'uniform mat4       u_clipMatrix;' +\n        'void main()' +\n        '{' +\n        '   gl_Position = u_clipMatrix * a_position;' +\n        '   v_myPos = u_clipMatrix * a_position;' +\n        '   v_texCoord = a_texCoord;' +\n        '   v_texCoord.y = 1.0 - v_texCoord.y;' +\n        '}';\n    Live2DCubismFramework.fragmentShaderSrcsetupMask = 'precision mediump float;' +\n        'varying vec2       v_texCoord;' +\n        'varying vec4       v_myPos;' +\n        'uniform vec4       u_baseColor;' +\n        'uniform vec4       u_channelFlag;' +\n        'uniform sampler2D  s_texture0;' +\n        'void main()' +\n        '{' +\n        '   float isInside = ' +\n        '       step(u_baseColor.x, v_myPos.x/v_myPos.w)' +\n        '       * step(u_baseColor.y, v_myPos.y/v_myPos.w)' +\n        '       * step(v_myPos.x/v_myPos.w, u_baseColor.z)' +\n        '       * step(v_myPos.y/v_myPos.w, u_baseColor.w);' +\n        '   gl_FragColor = u_channelFlag * texture2D(s_texture0, v_texCoord).a * isInside;' +\n        '}';\n    Live2DCubismFramework.vertexShaderSrc = 'attribute vec4     a_position;' +\n        'attribute vec2     a_texCoord;' +\n        'varying vec2       v_texCoord;' +\n        'uniform mat4       u_matrix;' +\n        'void main()' +\n        '{' +\n        '   gl_Position = u_matrix * a_position;' +\n        '   v_texCoord = a_texCoord;' +\n        '   v_texCoord.y = 1.0 - v_texCoord.y;' +\n        '}';\n    Live2DCubismFramework.vertexShaderSrcMasked = 'attribute vec4     a_position;' +\n        'attribute vec2     a_texCoord;' +\n        'varying vec2       v_texCoord;' +\n        'varying vec4       v_clipPos;' +\n        'uniform mat4       u_matrix;' +\n        'uniform mat4       u_clipMatrix;' +\n        'void main()' +\n        '{' +\n        '   gl_Position = u_matrix * a_position;' +\n        '   v_clipPos = u_clipMatrix * a_position;' +\n        '   v_texCoord = a_texCoord;' +\n        '   v_texCoord.y = 1.0 - v_texCoord.y;' +\n        '}';\n    Live2DCubismFramework.fragmentShaderSrcPremultipliedAlpha = 'precision mediump float;' +\n        'varying vec2       v_texCoord;' +\n        'uniform vec4       u_baseColor;' +\n        'uniform sampler2D  s_texture0;' +\n        'void main()' +\n        '{' +\n        '   gl_FragColor = texture2D(s_texture0 , v_texCoord) * u_baseColor;' +\n        '}';\n    Live2DCubismFramework.fragmentShaderSrcMaskPremultipliedAlpha = 'precision mediump float;' +\n        'varying vec2       v_texCoord;' +\n        'varying vec4       v_clipPos;' +\n        'uniform vec4       u_baseColor;' +\n        'uniform vec4       u_channelFlag;' +\n        'uniform sampler2D  s_texture0;' +\n        'uniform sampler2D  s_texture1;' +\n        'void main()' +\n        '{' +\n        '   vec4 col_formask = texture2D(s_texture0 , v_texCoord) * u_baseColor;' +\n        '   vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;' +\n        '   float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;' +\n        '   col_formask = col_formask * maskVal;' +\n        '   gl_FragColor = col_formask;' +\n        '}';\n    Live2DCubismFramework.fragmentShaderSrcMaskInvertedPremultipliedAlpha = 'precision mediump float;' +\n        'varying vec2 v_texCoord;' +\n        'varying vec4 v_clipPos;' +\n        'uniform sampler2D s_texture0;' +\n        'uniform sampler2D s_texture1;' +\n        'uniform vec4 u_channelFlag;' +\n        'uniform vec4 u_baseColor;' +\n        'void main()' +\n        '{' +\n        'vec4 col_formask = texture2D(s_texture0, v_texCoord) * u_baseColor;' +\n        'vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;' +\n        'float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;' +\n        'col_formask = col_formask * (1.0 - maskVal);' +\n        'gl_FragColor = col_formask;' +\n        '}';\n    var CubismRenderer_WebGL = (function (_super) {\n        __extends(CubismRenderer_WebGL, _super);\n        function CubismRenderer_WebGL() {\n            var _this = _super.call(this) || this;\n            _this._clippingContextBufferForMask = null;\n            _this._clippingContextBufferForDraw = null;\n            _this._clippingManager = new CubismClippingManager_WebGL();\n            _this.firstDraw = true;\n            _this._textures = new csmMap();\n            _this._sortedDrawableIndexList = new csmVector();\n            _this._bufferData = {\n                vertex: WebGLBuffer = null,\n                uv: WebGLBuffer = null,\n                index: WebGLBuffer = null\n            };\n            _this._textures.prepareCapacity(32, true);\n            return _this;\n        }\n        CubismRenderer_WebGL.prototype.initialize = function (model) {\n            if (model.isUsingMasking()) {\n                this._clippingManager = new CubismClippingManager_WebGL();\n                this._clippingManager.initialize(model, model.getDrawableCount(), model.getDrawableMasks(), model.getDrawableMaskCounts());\n            }\n            this._sortedDrawableIndexList.resize(model.getDrawableCount(), 0);\n            _super.prototype.initialize.call(this, model);\n        };\n        CubismRenderer_WebGL.prototype.bindTexture = function (modelTextureNo, glTexture) {\n            this._textures.setValue(modelTextureNo, glTexture);\n        };\n        CubismRenderer_WebGL.prototype.getBindedTextures = function () {\n            return this._textures;\n        };\n        CubismRenderer_WebGL.prototype.setClippingMaskBufferSize = function (size) {\n            this._clippingManager.release();\n            this._clippingManager = void 0;\n            this._clippingManager = null;\n            this._clippingManager = new CubismClippingManager_WebGL();\n            this._clippingManager.setClippingMaskBufferSize(size);\n            this._clippingManager.initialize(this.getModel(), this.getModel().getDrawableCount(), this.getModel().getDrawableMasks(), this.getModel().getDrawableMaskCounts());\n        };\n        CubismRenderer_WebGL.prototype.getClippingMaskBufferSize = function () {\n            return this._clippingManager.getClippingMaskBufferSize();\n        };\n        CubismRenderer_WebGL.prototype.release = function () {\n            this._clippingManager.release();\n            this._clippingManager = void 0;\n            this._clippingManager = null;\n            this.gl.deleteBuffer(this._bufferData.vertex);\n            this._bufferData.vertex = null;\n            this.gl.deleteBuffer(this._bufferData.uv);\n            this._bufferData.uv = null;\n            this.gl.deleteBuffer(this._bufferData.index);\n            this._bufferData.index = null;\n            this._bufferData = null;\n            this._textures = null;\n        };\n        CubismRenderer_WebGL.prototype.doDrawModel = function () {\n            if (this._clippingManager != null) {\n                this.preDraw();\n                this._clippingManager.setupClippingContext(this.getModel(), this);\n            }\n            this.preDraw();\n            var drawableCount = this.getModel().getDrawableCount();\n            var renderOrder = this.getModel().getDrawableRenderOrders();\n            for (var i = 0; i < drawableCount; ++i) {\n                var order = renderOrder[i];\n                this._sortedDrawableIndexList.set(order, i);\n            }\n            for (var i = 0; i < drawableCount; ++i) {\n                var drawableIndex = this._sortedDrawableIndexList.at(i);\n                if (!this.getModel().getDrawableDynamicFlagIsVisible(drawableIndex)) {\n                    continue;\n                }\n                this.setClippingContextBufferForDraw(this._clippingManager != null\n                    ? this._clippingManager\n                        .getClippingContextListForDraw()\n                        .at(drawableIndex)\n                    : null);\n                this.setIsCulling(this.getModel().getDrawableCulling(drawableIndex));\n                this.drawMesh(this.getModel().getDrawableTextureIndices(drawableIndex), this.getModel().getDrawableVertexIndexCount(drawableIndex), this.getModel().getDrawableVertexCount(drawableIndex), this.getModel().getDrawableVertexIndices(drawableIndex), this.getModel().getDrawableVertices(drawableIndex), this.getModel().getDrawableVertexUvs(drawableIndex), this.getModel().getDrawableOpacity(drawableIndex), this.getModel().getDrawableBlendMode(drawableIndex), this.getModel().getDrawableInvertedMaskBit(drawableIndex));\n            }\n        };\n        CubismRenderer_WebGL.prototype.drawMesh = function (textureNo, indexCount, vertexCount, indexArray, vertexArray, uvArray, opacity, colorBlendMode, invertedMask) {\n            if (this.isCulling()) {\n                this.gl.enable(this.gl.CULL_FACE);\n            }\n            else {\n                this.gl.disable(this.gl.CULL_FACE);\n            }\n            this.gl.frontFace(this.gl.CCW);\n            var modelColorRGBA = this.getModelColor();\n            if (this.getClippingContextBufferForMask() == null) {\n                modelColorRGBA.A *= opacity;\n                if (this.isPremultipliedAlpha()) {\n                    modelColorRGBA.R *= modelColorRGBA.A;\n                    modelColorRGBA.G *= modelColorRGBA.A;\n                    modelColorRGBA.B *= modelColorRGBA.A;\n                }\n            }\n            var drawtexture;\n            if (this._textures.getValue(textureNo) != null) {\n                drawtexture = this._textures.getValue(textureNo);\n            }\n            else {\n                drawtexture = null;\n            }\n            CubismShader_WebGL.getInstance().setupShaderProgram(this, drawtexture, vertexCount, vertexArray, indexArray, uvArray, this._bufferData, opacity, colorBlendMode, modelColorRGBA, this.isPremultipliedAlpha(), this.getMvpMatrix(), invertedMask);\n            this.gl.drawElements(this.gl.TRIANGLES, indexCount, this.gl.UNSIGNED_SHORT, 0);\n            this.gl.useProgram(null);\n            this.setClippingContextBufferForDraw(null);\n            this.setClippingContextBufferForMask(null);\n        };\n        CubismRenderer_WebGL.doStaticRelease = function () {\n            CubismShader_WebGL.deleteInstance();\n        };\n        CubismRenderer_WebGL.prototype.setRenderState = function (fbo, viewport) {\n            s_fbo = fbo;\n            s_viewport = viewport;\n        };\n        CubismRenderer_WebGL.prototype.preDraw = function () {\n            if (this.firstDraw) {\n                this.firstDraw = false;\n                this._anisortopy =\n                    this.gl.getExtension('EXT_texture_filter_anisotropic') ||\n                        this.gl.getExtension('WEBKIT_EXT_texture_filter_anisotropic') ||\n                        this.gl.getExtension('MOZ_EXT_texture_filter_anisotropic');\n            }\n            this.gl.disable(this.gl.SCISSOR_TEST);\n            this.gl.disable(this.gl.STENCIL_TEST);\n            this.gl.disable(this.gl.DEPTH_TEST);\n            this.gl.frontFace(this.gl.CW);\n            this.gl.enable(this.gl.BLEND);\n            this.gl.colorMask(true, true, true, true);\n            this.gl.bindBuffer(this.gl.ARRAY_BUFFER, null);\n            this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER, null);\n        };\n        CubismRenderer_WebGL.prototype.setClippingContextBufferForMask = function (clip) {\n            this._clippingContextBufferForMask = clip;\n        };\n        CubismRenderer_WebGL.prototype.getClippingContextBufferForMask = function () {\n            return this._clippingContextBufferForMask;\n        };\n        CubismRenderer_WebGL.prototype.setClippingContextBufferForDraw = function (clip) {\n            this._clippingContextBufferForDraw = clip;\n        };\n        CubismRenderer_WebGL.prototype.getClippingContextBufferForDraw = function () {\n            return this._clippingContextBufferForDraw;\n        };\n        CubismRenderer_WebGL.prototype.startUp = function (gl) {\n            this.gl = gl;\n            this._clippingManager.setGL(gl);\n            CubismShader_WebGL.getInstance().setGl(gl);\n        };\n        return CubismRenderer_WebGL;\n    }(CubismRenderer));\n    Live2DCubismFramework.CubismRenderer_WebGL = CubismRenderer_WebGL;\n    CubismRenderer.staticRelease = function () {\n        CubismRenderer_WebGL.doStaticRelease();\n    };\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL3JlbmRlcmluZy9jdWJpc21yZW5kZXJlcl93ZWJnbC50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL0ZyYW1ld29yay9zcmMvcmVuZGVyaW5nL2N1YmlzbXJlbmRlcmVyX3dlYmdsLnRzP2VhMWIiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTGl2ZTJEIE9wZW4gU29mdHdhcmUgbGljZW5zZVxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXG4gKi9cblxuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbWZyYW1ld29yayB9IGZyb20gJy4uL2xpdmUyZGN1YmlzbWZyYW1ld29yayc7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3NtcmVjdCB9IGZyb20gJy4uL3R5cGUvY3NtcmVjdGYnO1xuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbXJlbmRlcmVyIH0gZnJvbSAnLi9jdWJpc21yZW5kZXJlcic7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtbW9kZWwgfSBmcm9tICcuLi9tb2RlbC9jdWJpc21tb2RlbCc7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3Vic2ltbWF0cml4NDQgfSBmcm9tICcuLi9tYXRoL2N1YmlzbW1hdHJpeDQ0JztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjc21tYXAgfSBmcm9tICcuLi90eXBlL2NzbW1hcCc7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3NtdmVjdG9yIH0gZnJvbSAnLi4vdHlwZS9jc212ZWN0b3InO1xuaW1wb3J0IHsgQ3ViaXNtTG9nRXJyb3IgfSBmcm9tICcuLi91dGlscy9jdWJpc21kZWJ1Zyc7XG5pbXBvcnQgQ29uc3RhbnQgPSBjdWJpc21mcmFtZXdvcmsuQ29uc3RhbnQ7XG5pbXBvcnQgQ3ViaXNtTWF0cml4NDQgPSBjdWJzaW1tYXRyaXg0NC5DdWJpc21NYXRyaXg0NDtcbmltcG9ydCBjc21SZWN0ID0gY3NtcmVjdC5jc21SZWN0O1xuaW1wb3J0IGNzbU1hcCA9IGNzbW1hcC5jc21NYXA7XG5pbXBvcnQgY3NtVmVjdG9yID0gY3NtdmVjdG9yLmNzbVZlY3RvcjtcbmltcG9ydCBDdWJpc21Nb2RlbCA9IGN1YmlzbW1vZGVsLkN1YmlzbU1vZGVsO1xuaW1wb3J0IEN1YmlzbVJlbmRlcmVyID0gY3ViaXNtcmVuZGVyZXIuQ3ViaXNtUmVuZGVyZXI7XG5pbXBvcnQgQ3ViaXNtQmxlbmRNb2RlID0gY3ViaXNtcmVuZGVyZXIuQ3ViaXNtQmxlbmRNb2RlO1xuaW1wb3J0IEN1YmlzbVRleHR1cmVDb2xvciA9IGN1YmlzbXJlbmRlcmVyLkN1YmlzbVRleHR1cmVDb2xvcjtcblxuZXhwb3J0IG5hbWVzcGFjZSBMaXZlMkRDdWJpc21GcmFtZXdvcmsge1xuICBjb25zdCBDb2xvckNoYW5uZWxDb3VudCA9IDQ7IC8vIOWun+mok+aZguOBqzHjg4Hjg6Pjg7Pjg43jg6vjga7loLTlkIjjga8x44CBUkdC44Gg44GR44Gu5aC05ZCI44GvM+OAgeOCouODq+ODleOCoeOCguWQq+OCgeOCi+WgtOWQiOOBrzRcblxuICBjb25zdCBzaGFkZXJDb3VudCA9IDEwOyAvLyDjgrfjgqfjg7zjg4Djg7zjga7mlbAgPSDjg57jgrnjgq/nlJ/miJDnlKggKyAo6YCa5bi455SoICsg5Yqg566XICsg5LmX566XKSAqICjjg57jgrnjgq/nhKHjga7kuZfnrpfmuIjjgqLjg6vjg5XjgqHlr77lv5zniYggKyDjg57jgrnjgq/mnInjga7kuZfnrpfmuIjjgqLjg6vjg5XjgqHlr77lv5zniYggKyDjg57jgrnjgq/mnInlj43ou6Ljga7kuZfnrpfmuIjjgqLjg6vjg5XjgqHlr77lv5zniYgpXG4gIGxldCBzX2luc3RhbmNlOiBDdWJpc21TaGFkZXJfV2ViR0w7XG4gIGxldCBzX3ZpZXdwb3J0OiBudW1iZXJbXTtcbiAgbGV0IHNfZmJvOiBXZWJHTEZyYW1lYnVmZmVyO1xuXG4gIC8qKlxuICAgKiDjgq/jg6rjg4Pjg5Tjg7PjgrDjg57jgrnjgq/jga7lh6bnkIbjgpLlrp/ooYzjgZnjgovjgq/jg6njgrlcbiAgICovXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21DbGlwcGluZ01hbmFnZXJfV2ViR0wge1xuICAgIC8qKlxuICAgICAqIOOCq+ODqeODvOODgeODo+ODs+ODjeODq++8iFJHQkHvvInjga7jg5Xjg6njgrDjgpLlj5blvpfjgZnjgotcbiAgICAgKiBAcGFyYW0gY2hhbm5lbE5vIOOCq+ODqeODvOODgeODo+ODs+ODjeODq++8iFJHQkHvvInjga7nlarlj7fvvIgwOlIsIDE6RywgMjpCLCAzOkHvvIlcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0Q2hhbm5lbEZsYWdBc0NvbG9yKGNoYW5uZWxObzogbnVtYmVyKTogQ3ViaXNtVGV4dHVyZUNvbG9yIHtcbiAgICAgIHJldHVybiB0aGlzLl9jaGFubmVsQ29sb3JzLmF0KGNoYW5uZWxObyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44OG44Oz44Od44Op44Oq44Gu44Os44Oz44OA44O844OG44Kv44K544OB44Oj44Gu44Ki44OJ44Os44K544KS5Y+W5b6X44GZ44KLXG4gICAgICogRnJhbWVCdWZmZXJPYmplY3TjgYzlrZjlnKjjgZfjgarjgYTloLTlkIjjgIHmlrDjgZfjgY/nlJ/miJDjgZnjgotcbiAgICAgKlxuICAgICAqIEByZXR1cm4g44Os44Oz44OA44O844OG44Kv44K544OB44Oj44Gu44Ki44OJ44Os44K5XG4gICAgICovXG4gICAgcHVibGljIGdldE1hc2tSZW5kZXJUZXh0dXJlKCk6IFdlYkdMRnJhbWVidWZmZXIge1xuICAgICAgbGV0IHJldDogV2ViR0xGcmFtZWJ1ZmZlciA9IDA7XG5cbiAgICAgIC8vIOODhuODs+ODneODqeODquOBrlJlbmRlclRleHR1cmXjgpLlj5blvpfjgZnjgotcbiAgICAgIGlmICh0aGlzLl9tYXNrVGV4dHVyZSAmJiB0aGlzLl9tYXNrVGV4dHVyZS50ZXh0dXJlICE9IDApIHtcbiAgICAgICAgLy8g5YmN5Zue5L2/44Gj44Gf44KC44Gu44KS6L+U44GZXG4gICAgICAgIHRoaXMuX21hc2tUZXh0dXJlLmZyYW1lTm8gPSB0aGlzLl9jdXJyZW50RnJhbWVObztcbiAgICAgICAgcmV0ID0gdGhpcy5fbWFza1RleHR1cmUudGV4dHVyZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJldCA9PSAwKSB7XG4gICAgICAgIC8vIEZyYW1lQnVmZmVyT2JqZWN044GM5a2Y5Zyo44GX44Gq44GE5aC05ZCI44CB5paw44GX44GP55Sf5oiQ44GZ44KLXG5cbiAgICAgICAgLy8g44Kv44Oq44OD44OU44Oz44Kw44OQ44OD44OV44Kh44K144Kk44K644KS5Y+W5b6XXG4gICAgICAgIGNvbnN0IHNpemU6IG51bWJlciA9IHRoaXMuX2NsaXBwaW5nTWFza0J1ZmZlclNpemU7XG5cbiAgICAgICAgdGhpcy5fY29sb3JCdWZmZXIgPSB0aGlzLmdsLmNyZWF0ZVRleHR1cmUoKTtcbiAgICAgICAgdGhpcy5nbC5iaW5kVGV4dHVyZSh0aGlzLmdsLlRFWFRVUkVfMkQsIHRoaXMuX2NvbG9yQnVmZmVyKTtcbiAgICAgICAgdGhpcy5nbC50ZXhJbWFnZTJEKFxuICAgICAgICAgIHRoaXMuZ2wuVEVYVFVSRV8yRCxcbiAgICAgICAgICAwLFxuICAgICAgICAgIHRoaXMuZ2wuUkdCQSxcbiAgICAgICAgICBzaXplLFxuICAgICAgICAgIHNpemUsXG4gICAgICAgICAgMCxcbiAgICAgICAgICB0aGlzLmdsLlJHQkEsXG4gICAgICAgICAgdGhpcy5nbC5VTlNJR05FRF9CWVRFLFxuICAgICAgICAgIG51bGxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5nbC50ZXhQYXJhbWV0ZXJpKFxuICAgICAgICAgIHRoaXMuZ2wuVEVYVFVSRV8yRCxcbiAgICAgICAgICB0aGlzLmdsLlRFWFRVUkVfV1JBUF9TLFxuICAgICAgICAgIHRoaXMuZ2wuQ0xBTVBfVE9fRURHRVxuICAgICAgICApO1xuICAgICAgICB0aGlzLmdsLnRleFBhcmFtZXRlcmkoXG4gICAgICAgICAgdGhpcy5nbC5URVhUVVJFXzJELFxuICAgICAgICAgIHRoaXMuZ2wuVEVYVFVSRV9XUkFQX1QsXG4gICAgICAgICAgdGhpcy5nbC5DTEFNUF9UT19FREdFXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuZ2wudGV4UGFyYW1ldGVyaShcbiAgICAgICAgICB0aGlzLmdsLlRFWFRVUkVfMkQsXG4gICAgICAgICAgdGhpcy5nbC5URVhUVVJFX01JTl9GSUxURVIsXG4gICAgICAgICAgdGhpcy5nbC5MSU5FQVJcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5nbC50ZXhQYXJhbWV0ZXJpKFxuICAgICAgICAgIHRoaXMuZ2wuVEVYVFVSRV8yRCxcbiAgICAgICAgICB0aGlzLmdsLlRFWFRVUkVfTUFHX0ZJTFRFUixcbiAgICAgICAgICB0aGlzLmdsLkxJTkVBUlxuICAgICAgICApO1xuICAgICAgICB0aGlzLmdsLmJpbmRUZXh0dXJlKHRoaXMuZ2wuVEVYVFVSRV8yRCwgbnVsbCk7XG5cbiAgICAgICAgcmV0ID0gdGhpcy5nbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO1xuICAgICAgICB0aGlzLmdsLmJpbmRGcmFtZWJ1ZmZlcih0aGlzLmdsLkZSQU1FQlVGRkVSLCByZXQpO1xuICAgICAgICB0aGlzLmdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKFxuICAgICAgICAgIHRoaXMuZ2wuRlJBTUVCVUZGRVIsXG4gICAgICAgICAgdGhpcy5nbC5DT0xPUl9BVFRBQ0hNRU5UMCxcbiAgICAgICAgICB0aGlzLmdsLlRFWFRVUkVfMkQsXG4gICAgICAgICAgdGhpcy5fY29sb3JCdWZmZXIsXG4gICAgICAgICAgMFxuICAgICAgICApO1xuICAgICAgICB0aGlzLmdsLmJpbmRGcmFtZWJ1ZmZlcih0aGlzLmdsLkZSQU1FQlVGRkVSLCBzX2Zibyk7XG5cbiAgICAgICAgdGhpcy5fbWFza1RleHR1cmUgPSBuZXcgQ3ViaXNtUmVuZGVyVGV4dHVyZVJlc291cmNlKFxuICAgICAgICAgIHRoaXMuX2N1cnJlbnRGcmFtZU5vLFxuICAgICAgICAgIHJldFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdlYkdM44Os44Oz44OA44Oq44Oz44Kw44Kz44Oz44OG44Kt44K544OI44KS6Kit5a6a44GZ44KLXG4gICAgICogQHBhcmFtIGdsIFdlYkdM44Os44Oz44OA44Oq44Oz44Kw44Kz44Oz44OG44Kt44K544OIXG4gICAgICovXG4gICAgcHVibGljIHNldEdMKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQpOiB2b2lkIHtcbiAgICAgIHRoaXMuZ2wgPSBnbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg57jgrnjgq/jgZXjgozjgovmj4/nlLvjgqrjg5bjgrjjgqfjgq/jg4jnvqTlhajkvZPjgpLlm7LjgoDnn6nlvaLvvIjjg6Ljg4fjg6vluqfmqJnns7vvvInjgpLoqIjnrpfjgZnjgotcbiAgICAgKiBAcGFyYW0gbW9kZWwg44Oi44OH44Or44Gu44Kk44Oz44K544K/44Oz44K5XG4gICAgICogQHBhcmFtIGNsaXBwaW5nQ29udGV4dCDjgq/jg6rjg4Pjg5Tjg7PjgrDjg57jgrnjgq/jga7jgrPjg7Pjg4bjgq3jgrnjg4hcbiAgICAgKi9cbiAgICBwdWJsaWMgY2FsY0NsaXBwZWREcmF3VG90YWxCb3VuZHMoXG4gICAgICBtb2RlbDogQ3ViaXNtTW9kZWwsXG4gICAgICBjbGlwcGluZ0NvbnRleHQ6IEN1YmlzbUNsaXBwaW5nQ29udGV4dFxuICAgICk6IHZvaWQge1xuICAgICAgLy8g6KKr44Kv44Oq44OD44OU44Oz44Kw44Oe44K544Kv77yI44Oe44K544Kv44GV44KM44KL5o+P55S744Kq44OW44K444Kn44Kv44OI77yJ44Gu5YWo5L2T44Gu55+p5b2iXG4gICAgICBsZXQgY2xpcHBlZERyYXdUb3RhbE1pblg6IG51bWJlciA9IE51bWJlci5NQVhfVkFMVUU7XG4gICAgICBsZXQgY2xpcHBlZERyYXdUb3RhbE1pblk6IG51bWJlciA9IE51bWJlci5NQVhfVkFMVUU7XG4gICAgICBsZXQgY2xpcHBlZERyYXdUb3RhbE1heFg6IG51bWJlciA9IE51bWJlci5NSU5fVkFMVUU7XG4gICAgICBsZXQgY2xpcHBlZERyYXdUb3RhbE1heFk6IG51bWJlciA9IE51bWJlci5NSU5fVkFMVUU7XG5cbiAgICAgIC8vIOOBk+OBruODnuOCueOCr+OBjOWun+mam+OBq+W/heimgeOBi+WIpOWumuOBmeOCi1xuICAgICAgLy8g44GT44Gu44Kv44Oq44OD44OU44Oz44Kw44KS5Yip55So44GZ44KL44CM5o+P55S744Kq44OW44K444Kn44Kv44OI44CN44GM44Gy44Go44Gk44Gn44KC5L2/55So5Y+v6IO944Gn44GC44KM44Gw44Oe44K544Kv44KS55Sf5oiQ44GZ44KL5b+F6KaB44GM44GC44KLXG4gICAgICBjb25zdCBjbGlwcGVkRHJhd0NvdW50OiBudW1iZXIgPVxuICAgICAgICBjbGlwcGluZ0NvbnRleHQuX2NsaXBwZWREcmF3YWJsZUluZGV4TGlzdC5sZW5ndGg7XG5cbiAgICAgIGZvciAoXG4gICAgICAgIGxldCBjbGlwcGVkRHJhd2FibGVJbmRleCA9IDA7XG4gICAgICAgIGNsaXBwZWREcmF3YWJsZUluZGV4IDwgY2xpcHBlZERyYXdDb3VudDtcbiAgICAgICAgY2xpcHBlZERyYXdhYmxlSW5kZXgrK1xuICAgICAgKSB7XG4gICAgICAgIC8vIOODnuOCueOCr+OCkuS9v+eUqOOBmeOCi+aPj+eUu+OCquODluOCuOOCp+OCr+ODiOOBruaPj+eUu+OBleOCjOOCi+efqeW9ouOCkuaxguOCgeOCi1xuICAgICAgICBjb25zdCBkcmF3YWJsZUluZGV4OiBudW1iZXIgPVxuICAgICAgICAgIGNsaXBwaW5nQ29udGV4dC5fY2xpcHBlZERyYXdhYmxlSW5kZXhMaXN0W2NsaXBwZWREcmF3YWJsZUluZGV4XTtcblxuICAgICAgICBjb25zdCBkcmF3YWJsZVZlcnRleENvdW50OiBudW1iZXIgPSBtb2RlbC5nZXREcmF3YWJsZVZlcnRleENvdW50KFxuICAgICAgICAgIGRyYXdhYmxlSW5kZXhcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgZHJhd2FibGVWZXJ0ZXhlczogRmxvYXQzMkFycmF5ID0gbW9kZWwuZ2V0RHJhd2FibGVWZXJ0aWNlcyhcbiAgICAgICAgICBkcmF3YWJsZUluZGV4XG4gICAgICAgICk7XG5cbiAgICAgICAgbGV0IG1pblg6IG51bWJlciA9IE51bWJlci5NQVhfVkFMVUU7XG4gICAgICAgIGxldCBtaW5ZOiBudW1iZXIgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgICBsZXQgbWF4WDogbnVtYmVyID0gTnVtYmVyLk1JTl9WQUxVRTtcbiAgICAgICAgbGV0IG1heFk6IG51bWJlciA9IE51bWJlci5NSU5fVkFMVUU7XG5cbiAgICAgICAgY29uc3QgbG9vcDogbnVtYmVyID0gZHJhd2FibGVWZXJ0ZXhDb3VudCAqIENvbnN0YW50LnZlcnRleFN0ZXA7XG4gICAgICAgIGZvciAoXG4gICAgICAgICAgbGV0IHBpOiBudW1iZXIgPSBDb25zdGFudC52ZXJ0ZXhPZmZzZXQ7XG4gICAgICAgICAgcGkgPCBsb29wO1xuICAgICAgICAgIHBpICs9IENvbnN0YW50LnZlcnRleFN0ZXBcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgeDogbnVtYmVyID0gZHJhd2FibGVWZXJ0ZXhlc1twaV07XG4gICAgICAgICAgY29uc3QgeTogbnVtYmVyID0gZHJhd2FibGVWZXJ0ZXhlc1twaSArIDFdO1xuXG4gICAgICAgICAgaWYgKHggPCBtaW5YKSB7XG4gICAgICAgICAgICBtaW5YID0geDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHggPiBtYXhYKSB7XG4gICAgICAgICAgICBtYXhYID0geDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHkgPCBtaW5ZKSB7XG4gICAgICAgICAgICBtaW5ZID0geTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHkgPiBtYXhZKSB7XG4gICAgICAgICAgICBtYXhZID0geTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyDmnInlirnjgarngrnjgYzkuIDjgaTjgoLlj5bjgozjgarjgYvjgaPjgZ/jga7jgafjgrnjgq3jg4Pjg5dcbiAgICAgICAgaWYgKG1pblggPT0gTnVtYmVyLk1BWF9WQUxVRSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g5YWo5L2T44Gu55+p5b2i44Gr5Y+N5pigXG4gICAgICAgIGlmIChtaW5YIDwgY2xpcHBlZERyYXdUb3RhbE1pblgpIHtcbiAgICAgICAgICBjbGlwcGVkRHJhd1RvdGFsTWluWCA9IG1pblg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1pblkgPCBjbGlwcGVkRHJhd1RvdGFsTWluWSkge1xuICAgICAgICAgIGNsaXBwZWREcmF3VG90YWxNaW5ZID0gbWluWTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWF4WCA+IGNsaXBwZWREcmF3VG90YWxNYXhYKSB7XG4gICAgICAgICAgY2xpcHBlZERyYXdUb3RhbE1heFggPSBtYXhYO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXhZID4gY2xpcHBlZERyYXdUb3RhbE1heFkpIHtcbiAgICAgICAgICBjbGlwcGVkRHJhd1RvdGFsTWF4WSA9IG1heFk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2xpcHBlZERyYXdUb3RhbE1pblggPT0gTnVtYmVyLk1BWF9WQUxVRSkge1xuICAgICAgICAgIGNsaXBwaW5nQ29udGV4dC5fYWxsQ2xpcHBlZERyYXdSZWN0LnggPSAwLjA7XG4gICAgICAgICAgY2xpcHBpbmdDb250ZXh0Ll9hbGxDbGlwcGVkRHJhd1JlY3QueSA9IDAuMDtcbiAgICAgICAgICBjbGlwcGluZ0NvbnRleHQuX2FsbENsaXBwZWREcmF3UmVjdC53aWR0aCA9IDAuMDtcbiAgICAgICAgICBjbGlwcGluZ0NvbnRleHQuX2FsbENsaXBwZWREcmF3UmVjdC5oZWlnaHQgPSAwLjA7XG4gICAgICAgICAgY2xpcHBpbmdDb250ZXh0Ll9pc1VzaW5nID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2xpcHBpbmdDb250ZXh0Ll9pc1VzaW5nID0gdHJ1ZTtcbiAgICAgICAgICBjb25zdCB3OiBudW1iZXIgPSBjbGlwcGVkRHJhd1RvdGFsTWF4WCAtIGNsaXBwZWREcmF3VG90YWxNaW5YO1xuICAgICAgICAgIGNvbnN0IGg6IG51bWJlciA9IGNsaXBwZWREcmF3VG90YWxNYXhZIC0gY2xpcHBlZERyYXdUb3RhbE1pblk7XG4gICAgICAgICAgY2xpcHBpbmdDb250ZXh0Ll9hbGxDbGlwcGVkRHJhd1JlY3QueCA9IGNsaXBwZWREcmF3VG90YWxNaW5YO1xuICAgICAgICAgIGNsaXBwaW5nQ29udGV4dC5fYWxsQ2xpcHBlZERyYXdSZWN0LnkgPSBjbGlwcGVkRHJhd1RvdGFsTWluWTtcbiAgICAgICAgICBjbGlwcGluZ0NvbnRleHQuX2FsbENsaXBwZWREcmF3UmVjdC53aWR0aCA9IHc7XG4gICAgICAgICAgY2xpcHBpbmdDb250ZXh0Ll9hbGxDbGlwcGVkRHJhd1JlY3QuaGVpZ2h0ID0gaDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOOCs+ODs+OCueODiOODqeOCr+OCv1xuICAgICAqL1xuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHRoaXMuX21hc2tSZW5kZXJUZXh0dXJlID0gbnVsbDtcbiAgICAgIHRoaXMuX2NvbG9yQnVmZmVyID0gbnVsbDtcbiAgICAgIHRoaXMuX2N1cnJlbnRGcmFtZU5vID0gMDtcbiAgICAgIHRoaXMuX2NsaXBwaW5nTWFza0J1ZmZlclNpemUgPSAyNTY7XG4gICAgICB0aGlzLl9jbGlwcGluZ0NvbnRleHRMaXN0Rm9yTWFzayA9IG5ldyBjc21WZWN0b3I8Q3ViaXNtQ2xpcHBpbmdDb250ZXh0PigpO1xuICAgICAgdGhpcy5fY2xpcHBpbmdDb250ZXh0TGlzdEZvckRyYXcgPSBuZXcgY3NtVmVjdG9yPEN1YmlzbUNsaXBwaW5nQ29udGV4dD4oKTtcbiAgICAgIHRoaXMuX2NoYW5uZWxDb2xvcnMgPSBuZXcgY3NtVmVjdG9yPEN1YmlzbVRleHR1cmVDb2xvcj4oKTtcbiAgICAgIHRoaXMuX3RtcEJvdW5kc09uTW9kZWwgPSBuZXcgY3NtUmVjdCgpO1xuICAgICAgdGhpcy5fdG1wTWF0cml4ID0gbmV3IEN1YmlzbU1hdHJpeDQ0KCk7XG4gICAgICB0aGlzLl90bXBNYXRyaXhGb3JNYXNrID0gbmV3IEN1YmlzbU1hdHJpeDQ0KCk7XG4gICAgICB0aGlzLl90bXBNYXRyaXhGb3JEcmF3ID0gbmV3IEN1YmlzbU1hdHJpeDQ0KCk7XG4gICAgICB0aGlzLl9tYXNrVGV4dHVyZSA9IG51bGw7XG5cbiAgICAgIGxldCB0bXA6IEN1YmlzbVRleHR1cmVDb2xvciA9IG5ldyBDdWJpc21UZXh0dXJlQ29sb3IoKTtcbiAgICAgIHRtcC5SID0gMS4wO1xuICAgICAgdG1wLkcgPSAwLjA7XG4gICAgICB0bXAuQiA9IDAuMDtcbiAgICAgIHRtcC5BID0gMC4wO1xuICAgICAgdGhpcy5fY2hhbm5lbENvbG9ycy5wdXNoQmFjayh0bXApO1xuXG4gICAgICB0bXAgPSBuZXcgQ3ViaXNtVGV4dHVyZUNvbG9yKCk7XG4gICAgICB0bXAuUiA9IDAuMDtcbiAgICAgIHRtcC5HID0gMS4wO1xuICAgICAgdG1wLkIgPSAwLjA7XG4gICAgICB0bXAuQSA9IDAuMDtcbiAgICAgIHRoaXMuX2NoYW5uZWxDb2xvcnMucHVzaEJhY2sodG1wKTtcblxuICAgICAgdG1wID0gbmV3IEN1YmlzbVRleHR1cmVDb2xvcigpO1xuICAgICAgdG1wLlIgPSAwLjA7XG4gICAgICB0bXAuRyA9IDAuMDtcbiAgICAgIHRtcC5CID0gMS4wO1xuICAgICAgdG1wLkEgPSAwLjA7XG4gICAgICB0aGlzLl9jaGFubmVsQ29sb3JzLnB1c2hCYWNrKHRtcCk7XG5cbiAgICAgIHRtcCA9IG5ldyBDdWJpc21UZXh0dXJlQ29sb3IoKTtcbiAgICAgIHRtcC5SID0gMC4wO1xuICAgICAgdG1wLkcgPSAwLjA7XG4gICAgICB0bXAuQiA9IDAuMDtcbiAgICAgIHRtcC5BID0gMS4wO1xuICAgICAgdGhpcy5fY2hhbm5lbENvbG9ycy5wdXNoQmFjayh0bXApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODh+OCueODiOODqeOCr+OCv+ebuOW9k+OBruWHpueQhlxuICAgICAqL1xuICAgIHB1YmxpYyByZWxlYXNlKCk6IHZvaWQge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9jbGlwcGluZ0NvbnRleHRMaXN0Rm9yTWFzay5nZXRTaXplKCk7IGkrKykge1xuICAgICAgICBpZiAodGhpcy5fY2xpcHBpbmdDb250ZXh0TGlzdEZvck1hc2suYXQoaSkpIHtcbiAgICAgICAgICB0aGlzLl9jbGlwcGluZ0NvbnRleHRMaXN0Rm9yTWFzay5hdChpKS5yZWxlYXNlKCk7XG4gICAgICAgICAgdGhpcy5fY2xpcHBpbmdDb250ZXh0TGlzdEZvck1hc2suc2V0KGksIHZvaWQgMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2xpcHBpbmdDb250ZXh0TGlzdEZvck1hc2suc2V0KGksIG51bGwpO1xuICAgICAgfVxuICAgICAgdGhpcy5fY2xpcHBpbmdDb250ZXh0TGlzdEZvck1hc2sgPSBudWxsO1xuXG4gICAgICAvLyBfY2xpcHBpbmdDb250ZXh0TGlzdEZvckRyYXfjga9fY2xpcHBpbmdDb250ZXh0TGlzdEZvck1hc2vjgavjgYLjgovjgqTjg7Pjgrnjgr/jg7PjgrnjgpLmjIfjgZfjgabjgYTjgovjgILkuIroqJjjga7lh6bnkIbjgavjgojjgoropoHntKDjgZTjgajjga5ERUxFVEXjga/kuI3opoHjgIJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fY2xpcHBpbmdDb250ZXh0TGlzdEZvckRyYXcuZ2V0U2l6ZSgpOyBpKyspIHtcbiAgICAgICAgdGhpcy5fY2xpcHBpbmdDb250ZXh0TGlzdEZvckRyYXcuc2V0KGksIG51bGwpO1xuICAgICAgfVxuICAgICAgdGhpcy5fY2xpcHBpbmdDb250ZXh0TGlzdEZvckRyYXcgPSBudWxsO1xuXG4gICAgICBpZiAodGhpcy5fbWFza1RleHR1cmUpIHtcbiAgICAgICAgdGhpcy5nbC5kZWxldGVGcmFtZWJ1ZmZlcih0aGlzLl9tYXNrVGV4dHVyZS50ZXh0dXJlKTtcbiAgICAgICAgdGhpcy5fbWFza1RleHR1cmUgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2NoYW5uZWxDb2xvcnMuZ2V0U2l6ZSgpOyBpKyspIHtcbiAgICAgICAgdGhpcy5fY2hhbm5lbENvbG9ycy5zZXQoaSwgbnVsbCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2NoYW5uZWxDb2xvcnMgPSBudWxsO1xuXG4gICAgICAvLyDjg4bjgq/jgrnjg4Hjg6Pop6PmlL5cbiAgICAgIHRoaXMuZ2wuZGVsZXRlVGV4dHVyZSh0aGlzLl9jb2xvckJ1ZmZlcik7XG4gICAgICB0aGlzLl9jb2xvckJ1ZmZlciA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Oe44ON44O844K444Oj44Gu5Yid5pyf5YyW5Yem55CGXG4gICAgICog44Kv44Oq44OD44OU44Oz44Kw44Oe44K544Kv44KS5L2/44GG5o+P55S744Kq44OW44K444Kn44Kv44OI44Gu55m76Yyy44KS6KGM44GGXG4gICAgICogQHBhcmFtIG1vZGVsIOODouODh+ODq+OBruOCpOODs+OCueOCv+ODs+OCuVxuICAgICAqIEBwYXJhbSBkcmF3YWJsZUNvdW50IOaPj+eUu+OCquODluOCuOOCp+OCr+ODiOOBruaVsFxuICAgICAqIEBwYXJhbSBkcmF3YWJsZU1hc2tzIOaPj+eUu+OCquODluOCuOOCp+OCr+ODiOOCkuODnuOCueOCr+OBmeOCi+aPj+eUu+OCquODluOCuOOCp+OCr+ODiOOBruOCpOODs+ODh+ODg+OCr+OCueOBruODquOCueODiFxuICAgICAqIEBwYXJhbSBkcmF3YWJsZUNvdW50cyDmj4/nlLvjgqrjg5bjgrjjgqfjgq/jg4jjgpLjg57jgrnjgq/jgZnjgovmj4/nlLvjgqrjg5bjgrjjgqfjgq/jg4jjga7mlbBcbiAgICAgKi9cbiAgICBwdWJsaWMgaW5pdGlhbGl6ZShcbiAgICAgIG1vZGVsOiBDdWJpc21Nb2RlbCxcbiAgICAgIGRyYXdhYmxlQ291bnQ6IG51bWJlcixcbiAgICAgIGRyYXdhYmxlTWFza3M6IEludDMyQXJyYXlbXSxcbiAgICAgIGRyYXdhYmxlTWFza0NvdW50czogSW50MzJBcnJheVxuICAgICk6IHZvaWQge1xuICAgICAgLy8g44Kv44Oq44OD44OU44Oz44Kw44Oe44K544Kv44KS5L2/44GG5o+P55S744Kq44OW44K444Kn44Kv44OI44KS44GZ44G544Gm55m76Yyy44GZ44KLXG4gICAgICAvLyDjgq/jg6rjg4Pjg5Tjg7PjgrDjg57jgrnjgq/jga/jgIHpgJrluLjmlbDlgIvnqIvluqbjgavpmZDlrprjgZfjgabkvb/jgYbjgoLjga7jgajjgZnjgotcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZHJhd2FibGVDb3VudDsgaSsrKSB7XG4gICAgICAgIGlmIChkcmF3YWJsZU1hc2tDb3VudHNbaV0gPD0gMCkge1xuICAgICAgICAgIC8vIOOCr+ODquODg+ODlOODs+OCsOODnuOCueOCr+OBjOS9v+eUqOOBleOCjOOBpuOBhOOBquOBhOOCouODvOODiOODoeODg+OCt+ODpe+8iOWkmuOBj+OBruWgtOWQiOS9v+eUqOOBl+OBquOBhO+8iVxuICAgICAgICAgIHRoaXMuX2NsaXBwaW5nQ29udGV4dExpc3RGb3JEcmF3LnB1c2hCYWNrKG51bGwpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g5pei44Gr44GC44KLQ2xpcENvbnRleHTjgajlkIzjgZjjgYvjg4Hjgqfjg4Pjgq/jgZnjgotcbiAgICAgICAgbGV0IGNsaXBwaW5nQ29udGV4dDogQ3ViaXNtQ2xpcHBpbmdDb250ZXh0ID0gdGhpcy5maW5kU2FtZUNsaXAoXG4gICAgICAgICAgZHJhd2FibGVNYXNrc1tpXSxcbiAgICAgICAgICBkcmF3YWJsZU1hc2tDb3VudHNbaV1cbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGNsaXBwaW5nQ29udGV4dCA9PSBudWxsKSB7XG4gICAgICAgICAgLy8g5ZCM5LiA44Gu44Oe44K544Kv44GM5a2Y5Zyo44GX44Gm44GE44Gq44GE5aC05ZCI44Gv55Sf5oiQ44GZ44KLXG4gICAgICAgICAgY2xpcHBpbmdDb250ZXh0ID0gbmV3IEN1YmlzbUNsaXBwaW5nQ29udGV4dChcbiAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICBkcmF3YWJsZU1hc2tzW2ldLFxuICAgICAgICAgICAgZHJhd2FibGVNYXNrQ291bnRzW2ldXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLl9jbGlwcGluZ0NvbnRleHRMaXN0Rm9yTWFzay5wdXNoQmFjayhjbGlwcGluZ0NvbnRleHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2xpcHBpbmdDb250ZXh0LmFkZENsaXBwZWREcmF3YWJsZShpKTtcblxuICAgICAgICB0aGlzLl9jbGlwcGluZ0NvbnRleHRMaXN0Rm9yRHJhdy5wdXNoQmFjayhjbGlwcGluZ0NvbnRleHQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOOCr+ODquODg+ODlOODs+OCsOOCs+ODs+ODhuOCreOCueODiOOCkuS9nOaIkOOBmeOCi+OAguODouODh+ODq+aPj+eUu+aZguOBq+Wun+ihjOOBmeOCi+OAglxuICAgICAqIEBwYXJhbSBtb2RlbCDjg6Ljg4fjg6vjga7jgqTjg7Pjgrnjgr/jg7PjgrlcbiAgICAgKiBAcGFyYW0gcmVuZGVyZXIg44Os44Oz44OA44Op44Gu44Kk44Oz44K544K/44Oz44K5XG4gICAgICovXG4gICAgcHVibGljIHNldHVwQ2xpcHBpbmdDb250ZXh0KFxuICAgICAgbW9kZWw6IEN1YmlzbU1vZGVsLFxuICAgICAgcmVuZGVyZXI6IEN1YmlzbVJlbmRlcmVyX1dlYkdMXG4gICAgKTogdm9pZCB7XG4gICAgICB0aGlzLl9jdXJyZW50RnJhbWVObysrO1xuXG4gICAgICAvLyDlhajjgabjga7jgq/jg6rjg4Pjg5Tjg7PjgrDjgpLnlKjmhI/jgZnjgotcbiAgICAgIC8vIOWQjOOBmOOCr+ODquODg+ODl++8iOikh+aVsOOBruWgtOWQiOOBr+OBvuOBqOOCgeOBpuS4gOOBpOOBruOCr+ODquODg+ODl++8ieOCkuS9v+OBhuWgtOWQiOOBrzHluqbjgaDjgZHoqK3lrprjgZnjgotcbiAgICAgIGxldCB1c2luZ0NsaXBDb3VudCA9IDA7XG4gICAgICBmb3IgKFxuICAgICAgICBsZXQgY2xpcEluZGV4ID0gMDtcbiAgICAgICAgY2xpcEluZGV4IDwgdGhpcy5fY2xpcHBpbmdDb250ZXh0TGlzdEZvck1hc2suZ2V0U2l6ZSgpO1xuICAgICAgICBjbGlwSW5kZXgrK1xuICAgICAgKSB7XG4gICAgICAgIC8vIDHjgaTjga7jgq/jg6rjg4Pjg5Tjg7PjgrDjg57jgrnjgq/jgavplqLjgZfjgaZcbiAgICAgICAgY29uc3QgY2M6IEN1YmlzbUNsaXBwaW5nQ29udGV4dCA9IHRoaXMuX2NsaXBwaW5nQ29udGV4dExpc3RGb3JNYXNrLmF0KFxuICAgICAgICAgIGNsaXBJbmRleFxuICAgICAgICApO1xuXG4gICAgICAgIC8vIOOBk+OBruOCr+ODquODg+ODl+OCkuWIqeeUqOOBmeOCi+aPj+eUu+OCquODluOCuOOCp+OCr+ODiOe+pOWFqOS9k+OCkuWbsuOCgOefqeW9ouOCkuioiOeul1xuICAgICAgICB0aGlzLmNhbGNDbGlwcGVkRHJhd1RvdGFsQm91bmRzKG1vZGVsLCBjYyk7XG5cbiAgICAgICAgaWYgKGNjLl9pc1VzaW5nKSB7XG4gICAgICAgICAgdXNpbmdDbGlwQ291bnQrKzsgLy8g5L2/55So5Lit44Go44GX44Gm44Kr44Km44Oz44OIXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8g44Oe44K544Kv5L2c5oiQ5Yem55CGXG4gICAgICBpZiAodXNpbmdDbGlwQ291bnQgPiAwKSB7XG4gICAgICAgIC8vIOeUn+aIkOOBl+OBn0ZyYW1lQnVmZmVy44Go5ZCM44GY44K144Kk44K644Gn44OT44Ol44O844Od44O844OI44KS6Kit5a6aXG4gICAgICAgIHRoaXMuZ2wudmlld3BvcnQoXG4gICAgICAgICAgMCxcbiAgICAgICAgICAwLFxuICAgICAgICAgIHRoaXMuX2NsaXBwaW5nTWFza0J1ZmZlclNpemUsXG4gICAgICAgICAgdGhpcy5fY2xpcHBpbmdNYXNrQnVmZmVyU2l6ZVxuICAgICAgICApO1xuXG4gICAgICAgIC8vIOODnuOCueOCr+OCkmFjdGl2ZeOBq+OBmeOCi1xuICAgICAgICB0aGlzLl9tYXNrUmVuZGVyVGV4dHVyZSA9IHRoaXMuZ2V0TWFza1JlbmRlclRleHR1cmUoKTtcblxuICAgICAgICAvLyDjg6Ljg4fjg6vmj4/nlLvmmYLjgatEcmF3TWVzaE5vd+OBq+a4oeOBleOCjOOCi+WkieaPmyjjg6Ljg4fjg6t0b+ODr+ODvOODq+ODieW6p+aomeWkieaPmylcbiAgICAgICAgY29uc3QgbW9kZWxUb1dvcmxkRjogQ3ViaXNtTWF0cml4NDQgPSByZW5kZXJlci5nZXRNdnBNYXRyaXgoKTtcblxuICAgICAgICByZW5kZXJlci5wcmVEcmF3KCk7IC8vIOODkOODg+ODleOCoeOCkuOCr+ODquOCouOBmeOCi1xuXG4gICAgICAgIC8vIOWQhOODnuOCueOCr+OBruODrOOCpOOCouOCpuODiOOCkuaxuuWumuOBl+OBpuOBhOOBj1xuICAgICAgICB0aGlzLnNldHVwTGF5b3V0Qm91bmRzKHVzaW5nQ2xpcENvdW50KTtcblxuICAgICAgICAvLyAtLS0tLS0tLS0tIOODnuOCueOCr+aPj+eUu+WHpueQhiAtLS0tLS0tLS0tXG4gICAgICAgIC8vIOODnuOCueOCr+eUqFJlbmRlclRleHR1cmXjgpJhY3RpdmXjgavjgrvjg4Pjg4hcbiAgICAgICAgdGhpcy5nbC5iaW5kRnJhbWVidWZmZXIodGhpcy5nbC5GUkFNRUJVRkZFUiwgdGhpcy5fbWFza1JlbmRlclRleHR1cmUpO1xuXG4gICAgICAgIC8vIOODnuOCueOCr+OCkuOCr+ODquOCouOBmeOCi1xuICAgICAgICAvLyAo5Luu5LuV5qeYKSAx44GM54Sh5Yq577yI5o+P44GL44KM44Gq44GE77yJ6aCY5Z+f44CBMOOBjOacieWKue+8iOaPj+OBi+OCjOOCi++8iemgmOWfn+OAgu+8iOOCt+OCp+ODvOODgOODvENkKkNz44GnMOOBq+i/keOBhOWApOOCkuOBi+OBkeOBpuODnuOCueOCr+OCkuS9nOOCi+OAgjHjgpLjgYvjgZHjgovjgajkvZXjgoLotbfjgZPjgonjgarjgYTvvIlcbiAgICAgICAgdGhpcy5nbC5jbGVhckNvbG9yKDEuMCwgMS4wLCAxLjAsIDEuMCk7XG4gICAgICAgIHRoaXMuZ2wuY2xlYXIodGhpcy5nbC5DT0xPUl9CVUZGRVJfQklUKTtcblxuICAgICAgICAvLyDlrp/pmpvjgavjg57jgrnjgq/jgpLnlJ/miJDjgZnjgotcbiAgICAgICAgLy8g5YWo44Gm44Gu44Oe44K544Kv44KS44Gp44Gu44KI44GG44Gr44Os44Kk44Ki44Km44OI44GX44Gm5o+P44GP44GL44KS5rG65a6a44GX44CBQ2xpcENvbnRleHQsIENsaXBwZWREcmF3Q29udGV4dOOBq+iomOaGtuOBmeOCi1xuICAgICAgICBmb3IgKFxuICAgICAgICAgIGxldCBjbGlwSW5kZXggPSAwO1xuICAgICAgICAgIGNsaXBJbmRleCA8IHRoaXMuX2NsaXBwaW5nQ29udGV4dExpc3RGb3JNYXNrLmdldFNpemUoKTtcbiAgICAgICAgICBjbGlwSW5kZXgrK1xuICAgICAgICApIHtcbiAgICAgICAgICAvLyAtLS0g5a6f6Zqb44GrMeOBpOOBruODnuOCueOCr+OCkuaPj+OBjyAtLS1cbiAgICAgICAgICBjb25zdCBjbGlwQ29udGV4dDogQ3ViaXNtQ2xpcHBpbmdDb250ZXh0ID0gdGhpcy5fY2xpcHBpbmdDb250ZXh0TGlzdEZvck1hc2suYXQoXG4gICAgICAgICAgICBjbGlwSW5kZXhcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IGFsbENsaXBlZERyYXdSZWN0OiBjc21SZWN0ID0gY2xpcENvbnRleHQuX2FsbENsaXBwZWREcmF3UmVjdDsgLy8g44GT44Gu44Oe44K544Kv44KS5L2/44GG44CB44GZ44G544Gm44Gu5o+P55S744Kq44OW44K444Kn44Kv44OI44Gu6KuW55CG5bqn5qiZ5LiK44Gu5Zuy44G/55+p5b2iXG4gICAgICAgICAgY29uc3QgbGF5b3V0Qm91bmRzT25UZXgwMTogY3NtUmVjdCA9IGNsaXBDb250ZXh0Ll9sYXlvdXRCb3VuZHM7IC8vIOOBk+OBruS4reOBq+ODnuOCueOCr+OCkuWPjuOCgeOCi1xuXG4gICAgICAgICAgLy8g44Oi44OH44Or5bqn5qiZ5LiK44Gu55+p5b2i44KS44CB6YGp5a6c44Oe44O844K444Oz44KS5LuY44GR44Gm5L2/44GGXG4gICAgICAgICAgY29uc3QgTUFSR0lOID0gMC4wNTtcbiAgICAgICAgICB0aGlzLl90bXBCb3VuZHNPbk1vZGVsLnNldFJlY3QoYWxsQ2xpcGVkRHJhd1JlY3QpO1xuICAgICAgICAgIHRoaXMuX3RtcEJvdW5kc09uTW9kZWwuZXhwYW5kKFxuICAgICAgICAgICAgYWxsQ2xpcGVkRHJhd1JlY3Qud2lkdGggKiBNQVJHSU4sXG4gICAgICAgICAgICBhbGxDbGlwZWREcmF3UmVjdC5oZWlnaHQgKiBNQVJHSU5cbiAgICAgICAgICApO1xuICAgICAgICAgIC8vIyMjIyMjIyMjIyDmnKzmnaXjga/libLjgorlvZPjgabjgonjgozjgZ/poJjln5/jga7lhajkvZPjgpLkvb/jgo/jgZrlv4XopoHmnIDkvY7pmZDjga7jgrXjgqTjgrrjgYzjgojjgYRcblxuICAgICAgICAgIC8vIOOCt+OCp+ODvOODgOeUqOOBruioiOeul+W8j+OCkuaxguOCgeOCi+OAguWbnui7ouOCkuiAg+aFruOBl+OBquOBhOWgtOWQiOOBr+S7peS4i+OBruOBqOOBiuOCilxuICAgICAgICAgIC8vIG1vdmVQZXJpb2QnID0gbW92ZVBlcmlvZCAqIHNjYWxlWCArIG9mZlhcdFx0ICBbWyBtb3ZlUGVyaW9kJyA9IChtb3ZlUGVyaW9kIC0gdG1wQm91bmRzT25Nb2RlbC5tb3ZlUGVyaW9kKSpzY2FsZSArIGxheW91dEJvdW5kc09uVGV4MDEubW92ZVBlcmlvZCBdXVxuICAgICAgICAgIGNvbnN0IHNjYWxlWDogbnVtYmVyID1cbiAgICAgICAgICAgIGxheW91dEJvdW5kc09uVGV4MDEud2lkdGggLyB0aGlzLl90bXBCb3VuZHNPbk1vZGVsLndpZHRoO1xuICAgICAgICAgIGNvbnN0IHNjYWxlWTogbnVtYmVyID1cbiAgICAgICAgICAgIGxheW91dEJvdW5kc09uVGV4MDEuaGVpZ2h0IC8gdGhpcy5fdG1wQm91bmRzT25Nb2RlbC5oZWlnaHQ7XG5cbiAgICAgICAgICAvLyDjg57jgrnjgq/nlJ/miJDmmYLjgavkvb/jgYbooYzliJfjgpLmsYLjgoHjgotcbiAgICAgICAgICB7XG4gICAgICAgICAgICAvLyDjgrfjgqfjg7zjg4DjgavmuKHjgZnooYzliJfjgpLmsYLjgoHjgosgPDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8IOimgeacgOmBqeWMlu+8iOmAhumghuOBq+ioiOeul+OBmeOCjOOBsOOCt+ODs+ODl+ODq+OBq+OBp+OBjeOCi++8iVxuICAgICAgICAgICAgdGhpcy5fdG1wTWF0cml4LmxvYWRJZGVudGl0eSgpO1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAvLyBsYXlvdXQwLi4xIOOCkiAtMS4uMeOBq+WkieaPm1xuICAgICAgICAgICAgICB0aGlzLl90bXBNYXRyaXgudHJhbnNsYXRlUmVsYXRpdmUoLTEuMCwgLTEuMCk7XG4gICAgICAgICAgICAgIHRoaXMuX3RtcE1hdHJpeC5zY2FsZVJlbGF0aXZlKDIuMCwgMi4wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgLy8gdmlldyB0byBsYXlvdXQwLi4xXG4gICAgICAgICAgICAgIHRoaXMuX3RtcE1hdHJpeC50cmFuc2xhdGVSZWxhdGl2ZShcbiAgICAgICAgICAgICAgICBsYXlvdXRCb3VuZHNPblRleDAxLngsXG4gICAgICAgICAgICAgICAgbGF5b3V0Qm91bmRzT25UZXgwMS55XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHRoaXMuX3RtcE1hdHJpeC5zY2FsZVJlbGF0aXZlKHNjYWxlWCwgc2NhbGVZKTsgLy8gbmV3ID0gW3RyYW5zbGF0ZV1bc2NhbGVdXG4gICAgICAgICAgICAgIHRoaXMuX3RtcE1hdHJpeC50cmFuc2xhdGVSZWxhdGl2ZShcbiAgICAgICAgICAgICAgICAtdGhpcy5fdG1wQm91bmRzT25Nb2RlbC54LFxuICAgICAgICAgICAgICAgIC10aGlzLl90bXBCb3VuZHNPbk1vZGVsLnlcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgLy8gbmV3ID0gW3RyYW5zbGF0ZV1bc2NhbGVdW3RyYW5zbGF0ZV1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRtcE1hdHJpeEZvck1hc2vjgYzoqIjnrpfntZDmnpxcbiAgICAgICAgICAgIHRoaXMuX3RtcE1hdHJpeEZvck1hc2suc2V0TWF0cml4KHRoaXMuX3RtcE1hdHJpeC5nZXRBcnJheSgpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLy0tLS0tLS0tLSBkcmF35pmC44GuIG1hc2sg5Y+C54Wn55So6KGM5YiX44KS6KiI566XXG4gICAgICAgICAge1xuICAgICAgICAgICAgLy8g44K344Kn44O844OA44Gr5rih44GZ6KGM5YiX44KS5rGC44KB44KLIDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PCDopoHmnIDpganljJbvvIjpgIbpoIbjgavoqIjnrpfjgZnjgozjgbDjgrfjg7Pjg5fjg6vjgavjgafjgY3jgovvvIlcbiAgICAgICAgICAgIHRoaXMuX3RtcE1hdHJpeC5sb2FkSWRlbnRpdHkoKTtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdGhpcy5fdG1wTWF0cml4LnRyYW5zbGF0ZVJlbGF0aXZlKFxuICAgICAgICAgICAgICAgIGxheW91dEJvdW5kc09uVGV4MDEueCxcbiAgICAgICAgICAgICAgICBsYXlvdXRCb3VuZHNPblRleDAxLnlcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgdGhpcy5fdG1wTWF0cml4LnNjYWxlUmVsYXRpdmUoc2NhbGVYLCBzY2FsZVkpOyAvLyBuZXcgPSBbdHJhbnNsYXRlXVtzY2FsZV1cbiAgICAgICAgICAgICAgdGhpcy5fdG1wTWF0cml4LnRyYW5zbGF0ZVJlbGF0aXZlKFxuICAgICAgICAgICAgICAgIC10aGlzLl90bXBCb3VuZHNPbk1vZGVsLngsXG4gICAgICAgICAgICAgICAgLXRoaXMuX3RtcEJvdW5kc09uTW9kZWwueVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAvLyBuZXcgPSBbdHJhbnNsYXRlXVtzY2FsZV1bdHJhbnNsYXRlXVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdG1wTWF0cml4Rm9yRHJhdy5zZXRNYXRyaXgodGhpcy5fdG1wTWF0cml4LmdldEFycmF5KCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjbGlwQ29udGV4dC5fbWF0cml4Rm9yTWFzay5zZXRNYXRyaXgoXG4gICAgICAgICAgICB0aGlzLl90bXBNYXRyaXhGb3JNYXNrLmdldEFycmF5KClcbiAgICAgICAgICApO1xuICAgICAgICAgIGNsaXBDb250ZXh0Ll9tYXRyaXhGb3JEcmF3LnNldE1hdHJpeChcbiAgICAgICAgICAgIHRoaXMuX3RtcE1hdHJpeEZvckRyYXcuZ2V0QXJyYXkoKVxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBjb25zdCBjbGlwRHJhd0NvdW50OiBudW1iZXIgPSBjbGlwQ29udGV4dC5fY2xpcHBpbmdJZENvdW50O1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2xpcERyYXdDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjbGlwRHJhd0luZGV4OiBudW1iZXIgPSBjbGlwQ29udGV4dC5fY2xpcHBpbmdJZExpc3RbaV07XG5cbiAgICAgICAgICAgIC8vIOmggueCueaDheWgseOBjOabtOaWsOOBleOCjOOBpuOBiuOCieOBmuOAgeS/oemgvOaAp+OBjOOBquOBhOWgtOWQiOOBr+aPj+eUu+OCkuODkeOCueOBmeOCi1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAhbW9kZWwuZ2V0RHJhd2FibGVEeW5hbWljRmxhZ1ZlcnRleFBvc2l0aW9uc0RpZENoYW5nZShcbiAgICAgICAgICAgICAgICBjbGlwRHJhd0luZGV4XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVuZGVyZXIuc2V0SXNDdWxsaW5nKFxuICAgICAgICAgICAgICBtb2RlbC5nZXREcmF3YWJsZUN1bGxpbmcoY2xpcERyYXdJbmRleCkgIT0gZmFsc2VcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8vIOS7iuWbnuWwgueUqOOBruWkieaPm+OCkumBqeeUqOOBl+OBpuaPj+OBj1xuICAgICAgICAgICAgLy8g44OB44Oj44Oz44ON44Or44KC5YiH44KK5pu/44GI44KL5b+F6KaB44GM44GC44KLKEEsUixHLEIpXG4gICAgICAgICAgICByZW5kZXJlci5zZXRDbGlwcGluZ0NvbnRleHRCdWZmZXJGb3JNYXNrKGNsaXBDb250ZXh0KTtcbiAgICAgICAgICAgIHJlbmRlcmVyLmRyYXdNZXNoKFxuICAgICAgICAgICAgICBtb2RlbC5nZXREcmF3YWJsZVRleHR1cmVJbmRpY2VzKGNsaXBEcmF3SW5kZXgpLFxuICAgICAgICAgICAgICBtb2RlbC5nZXREcmF3YWJsZVZlcnRleEluZGV4Q291bnQoY2xpcERyYXdJbmRleCksXG4gICAgICAgICAgICAgIG1vZGVsLmdldERyYXdhYmxlVmVydGV4Q291bnQoY2xpcERyYXdJbmRleCksXG4gICAgICAgICAgICAgIG1vZGVsLmdldERyYXdhYmxlVmVydGV4SW5kaWNlcyhjbGlwRHJhd0luZGV4KSxcbiAgICAgICAgICAgICAgbW9kZWwuZ2V0RHJhd2FibGVWZXJ0aWNlcyhjbGlwRHJhd0luZGV4KSxcbiAgICAgICAgICAgICAgbW9kZWwuZ2V0RHJhd2FibGVWZXJ0ZXhVdnMoY2xpcERyYXdJbmRleCksXG4gICAgICAgICAgICAgIG1vZGVsLmdldERyYXdhYmxlT3BhY2l0eShjbGlwRHJhd0luZGV4KSxcbiAgICAgICAgICAgICAgQ3ViaXNtQmxlbmRNb2RlLkN1YmlzbUJsZW5kTW9kZV9Ob3JtYWwsIC8vIOOCr+ODquODg+ODlOODs+OCsOOBr+mAmuW4uOaPj+eUu+OCkuW8t+WItlxuICAgICAgICAgICAgICBmYWxzZSAvLyDjg57jgrnjgq/nlJ/miJDmmYLjga/jgq/jg6rjg4Pjg5Tjg7PjgrDjga7lj43ou6Lkvb/nlKjjga/lhajjgY/plqLkv4LjgYzjgarjgYRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gLS0tIOW+jOWHpueQhiAtLS1cbiAgICAgICAgdGhpcy5nbC5iaW5kRnJhbWVidWZmZXIodGhpcy5nbC5GUkFNRUJVRkZFUiwgc19mYm8pOyAvLyDmj4/nlLvlr77osaHjgpLmiLvjgZlcbiAgICAgICAgcmVuZGVyZXIuc2V0Q2xpcHBpbmdDb250ZXh0QnVmZmVyRm9yTWFzayhudWxsKTtcblxuICAgICAgICB0aGlzLmdsLnZpZXdwb3J0KFxuICAgICAgICAgIHNfdmlld3BvcnRbMF0sXG4gICAgICAgICAgc192aWV3cG9ydFsxXSxcbiAgICAgICAgICBzX3ZpZXdwb3J0WzJdLFxuICAgICAgICAgIHNfdmlld3BvcnRbM11cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDml6Ljgavjg57jgrnjgq/jgpLkvZzjgaPjgabjgYTjgovjgYvjgpLnorroqo1cbiAgICAgKiDkvZzjgaPjgabjgYTjgovmp5jjgafjgYLjgozjgbDoqbLlvZPjgZnjgovjgq/jg6rjg4Pjg5Tjg7PjgrDjg57jgrnjgq/jga7jgqTjg7Pjgrnjgr/jg7PjgrnjgpLov5TjgZlcbiAgICAgKiDkvZzjgaPjgabjgYTjgarjgZHjgozjgbBOVUxM44KS6L+U44GZXG4gICAgICogQHBhcmFtIGRyYXdhYmxlTWFza3Mg5o+P55S744Kq44OW44K444Kn44Kv44OI44KS44Oe44K544Kv44GZ44KL5o+P55S744Kq44OW44K444Kn44Kv44OI44Gu44Oq44K544OIXG4gICAgICogQHBhcmFtIGRyYXdhYmxlTWFza0NvdW50cyDmj4/nlLvjgqrjg5bjgrjjgqfjgq/jg4jjgpLjg57jgrnjgq/jgZnjgovmj4/nlLvjgqrjg5bjgrjjgqfjgq/jg4jjga7mlbBcbiAgICAgKiBAcmV0dXJuIOipsuW9k+OBmeOCi+OCr+ODquODg+ODlOODs+OCsOODnuOCueOCr+OBjOWtmOWcqOOBmeOCjOOBsOOCpOODs+OCueOCv+ODs+OCueOCkui/lOOBl+OAgeOBquOBkeOCjOOBsE5VTEzjgpLov5TjgZlcbiAgICAgKi9cbiAgICBwdWJsaWMgZmluZFNhbWVDbGlwKFxuICAgICAgZHJhd2FibGVNYXNrczogSW50MzJBcnJheSxcbiAgICAgIGRyYXdhYmxlTWFza0NvdW50czogbnVtYmVyXG4gICAgKTogQ3ViaXNtQ2xpcHBpbmdDb250ZXh0IHtcbiAgICAgIC8vIOS9nOaIkOa4iOOBv0NsaXBwaW5nQ29udGV4dOOBqOS4gOiHtOOBmeOCi+OBi+eiuuiqjVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9jbGlwcGluZ0NvbnRleHRMaXN0Rm9yTWFzay5nZXRTaXplKCk7IGkrKykge1xuICAgICAgICBjb25zdCBjbGlwcGluZ0NvbnRleHQ6IEN1YmlzbUNsaXBwaW5nQ29udGV4dCA9IHRoaXMuX2NsaXBwaW5nQ29udGV4dExpc3RGb3JNYXNrLmF0KFxuICAgICAgICAgIGlcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgY291bnQ6IG51bWJlciA9IGNsaXBwaW5nQ29udGV4dC5fY2xpcHBpbmdJZENvdW50O1xuXG4gICAgICAgIC8vIOWAi+aVsOOBjOmBleOBhuWgtOWQiOOBr+WIpeeJqVxuICAgICAgICBpZiAoY291bnQgIT0gZHJhd2FibGVNYXNrQ291bnRzKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc2FtZUNvdW50ID0gMDtcblxuICAgICAgICAvLyDlkIzjgZhJROOCkuaMgeOBpOOBi+eiuuiqjeOAgumFjeWIl+OBruaVsOOBjOWQjOOBmOOBquOBruOBp+OAgeS4gOiHtOOBl+OBn+WAi+aVsOOBjOWQjOOBmOOBquOCieWQjOOBmOeJqeOCkuaMgeOBpOOBqOOBmeOCi1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNvdW50OyBqKyspIHtcbiAgICAgICAgICBjb25zdCBjbGlwSWQ6IG51bWJlciA9IGNsaXBwaW5nQ29udGV4dC5fY2xpcHBpbmdJZExpc3Rbal07XG5cbiAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGNvdW50OyBrKyspIHtcbiAgICAgICAgICAgIGlmIChkcmF3YWJsZU1hc2tzW2tdID09IGNsaXBJZCkge1xuICAgICAgICAgICAgICBzYW1lQ291bnQrKztcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNhbWVDb3VudCA9PSBjb3VudCkge1xuICAgICAgICAgIHJldHVybiBjbGlwcGluZ0NvbnRleHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7IC8vIOimi+OBpOOBi+OCieOBquOBi+OBo+OBn1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOOCr+ODquODg+ODlOODs+OCsOOCs+ODs+ODhuOCreOCueODiOOCkumFjee9ruOBmeOCi+ODrOOCpOOCouOCpuODiFxuICAgICAqIOS4gOOBpOOBruODrOODs+ODgOODvOODhuOCr+OCueODgeODo+OCkualteWKm+OBhOOBo+OBseOBhOOBq+S9v+OBo+OBpuODnuOCueOCr+OCkuODrOOCpOOCouOCpuODiOOBmeOCi1xuICAgICAqIOODnuOCueOCr+OCsOODq+ODvOODl+OBruaVsOOBjDTku6XkuIvjgarjgolSR0JB5ZCE44OB44Oj44Oz44ON44Or44Gr5LiA44Gk44Ga44Gk44Oe44K544Kv44KS6YWN572u44GX44CBNeS7peS4ijbku6XkuIvjgarjgolSR0JB44KSMiwyLDEsMeOBqOmFjee9ruOBmeOCi+OAglxuICAgICAqXG4gICAgICogQHBhcmFtIHVzaW5nQ2xpcENvdW50IOmFjee9ruOBmeOCi+OCr+ODquODg+ODlOODs+OCsOOCs+ODs+ODhuOCreOCueODiOOBruaVsFxuICAgICAqL1xuICAgIHB1YmxpYyBzZXR1cExheW91dEJvdW5kcyh1c2luZ0NsaXBDb3VudDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAvLyDjgbLjgajjgaTjga5SZW5kZXJUZXh0dXJl44KS5qW15Yqb44GE44Gj44Gx44GE44Gr5L2/44Gj44Gm44Oe44K544Kv44KS44Os44Kk44Ki44Km44OI44GZ44KLXG4gICAgICAvLyDjg57jgrnjgq/jgrDjg6vjg7zjg5fjga7mlbDjgYw05Lul5LiL44Gq44KJUkdCQeWQhOODgeODo+ODs+ODjeODq+OBqzHjgaTjgZrjgaTjg57jgrnjgq/jgpLphY3nva7jgZfjgIE15Lul5LiKNuS7peS4i+OBquOCiVJHQkHjgpIyLDIsMSwx44Go6YWN572u44GZ44KLXG5cbiAgICAgIC8vIFJHQkHjgpLpoIbnlarjgavkvb/jgaPjgabjgYTjgY9cbiAgICAgIGxldCBkaXY6IG51bWJlciA9IHVzaW5nQ2xpcENvdW50IC8gQ29sb3JDaGFubmVsQ291bnQ7IC8vIDHjg4Hjg6Pjg7Pjg43jg6vjgavphY3nva7jgZnjgovln7rmnKzjga7jg57jgrnjgq9cbiAgICAgIGxldCBtb2Q6IG51bWJlciA9IHVzaW5nQ2xpcENvdW50ICUgQ29sb3JDaGFubmVsQ291bnQ7IC8vIOS9meOCiuOAgeOBk+OBrueVquWPt+OBruODgeODo+ODs+ODjeODq+OBvuOBp+OBq+S4gOOBpOOBmuOBpOmFjeWIhuOBmeOCi1xuXG4gICAgICAvLyDlsI/mlbDngrnjga/liIfjgormjajjgabjgotcbiAgICAgIGRpdiA9IH5+ZGl2O1xuICAgICAgbW9kID0gfn5tb2Q7XG5cbiAgICAgIC8vIFJHQkHjgZ3jgozjgZ7jgozjga7jg4Hjg6Pjg7Pjg43jg6vjgpLnlKjmhI/jgZfjgabjgYTjgY/vvIgwOlIsIDE6RywgMjpCLCAzOkHvvIlcbiAgICAgIGxldCBjdXJDbGlwSW5kZXggPSAwOyAvLyDpoIbnlarjgavoqK3lrprjgZfjgabjgYTjgY9cblxuICAgICAgZm9yIChsZXQgY2hhbm5lbE5vID0gMDsgY2hhbm5lbE5vIDwgQ29sb3JDaGFubmVsQ291bnQ7IGNoYW5uZWxObysrKSB7XG4gICAgICAgIC8vIOOBk+OBruODgeODo+ODs+ODjeODq+OBq+ODrOOCpOOCouOCpuODiOOBmeOCi+aVsFxuICAgICAgICBjb25zdCBsYXlvdXRDb3VudDogbnVtYmVyID0gZGl2ICsgKGNoYW5uZWxObyA8IG1vZCA/IDEgOiAwKTtcblxuICAgICAgICAvLyDliIblibLmlrnms5XjgpLmsbrlrprjgZnjgotcbiAgICAgICAgaWYgKGxheW91dENvdW50ID09IDApIHtcbiAgICAgICAgICAvLyDkvZXjgoLjgZfjgarjgYRcbiAgICAgICAgfSBlbHNlIGlmIChsYXlvdXRDb3VudCA9PSAxKSB7XG4gICAgICAgICAgLy8g5YWo44Gm44KS44Gd44Gu44G+44G+5L2/44GGXG4gICAgICAgICAgY29uc3QgY2xpcENvbnRleHQ6IEN1YmlzbUNsaXBwaW5nQ29udGV4dCA9IHRoaXMuX2NsaXBwaW5nQ29udGV4dExpc3RGb3JNYXNrLmF0KFxuICAgICAgICAgICAgY3VyQ2xpcEluZGV4KytcbiAgICAgICAgICApO1xuICAgICAgICAgIGNsaXBDb250ZXh0Ll9sYXlvdXRDaGFubmVsTm8gPSBjaGFubmVsTm87XG4gICAgICAgICAgY2xpcENvbnRleHQuX2xheW91dEJvdW5kcy54ID0gMC4wO1xuICAgICAgICAgIGNsaXBDb250ZXh0Ll9sYXlvdXRCb3VuZHMueSA9IDAuMDtcbiAgICAgICAgICBjbGlwQ29udGV4dC5fbGF5b3V0Qm91bmRzLndpZHRoID0gMS4wO1xuICAgICAgICAgIGNsaXBDb250ZXh0Ll9sYXlvdXRCb3VuZHMuaGVpZ2h0ID0gMS4wO1xuICAgICAgICB9IGVsc2UgaWYgKGxheW91dENvdW50ID09IDIpIHtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxheW91dENvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGxldCB4cG9zOiBudW1iZXIgPSBpICUgMjtcblxuICAgICAgICAgICAgLy8g5bCP5pWw54K544Gv5YiH44KK5o2o44Gm44KLXG4gICAgICAgICAgICB4cG9zID0gfn54cG9zO1xuXG4gICAgICAgICAgICBjb25zdCBjYzogQ3ViaXNtQ2xpcHBpbmdDb250ZXh0ID0gdGhpcy5fY2xpcHBpbmdDb250ZXh0TGlzdEZvck1hc2suYXQoXG4gICAgICAgICAgICAgIGN1ckNsaXBJbmRleCsrXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY2MuX2xheW91dENoYW5uZWxObyA9IGNoYW5uZWxObztcblxuICAgICAgICAgICAgY2MuX2xheW91dEJvdW5kcy54ID0geHBvcyAqIDAuNTtcbiAgICAgICAgICAgIGNjLl9sYXlvdXRCb3VuZHMueSA9IDAuMDtcbiAgICAgICAgICAgIGNjLl9sYXlvdXRCb3VuZHMud2lkdGggPSAwLjU7XG4gICAgICAgICAgICBjYy5fbGF5b3V0Qm91bmRzLmhlaWdodCA9IDEuMDtcbiAgICAgICAgICAgIC8vIFVW44KSMuOBpOOBq+WIhuino+OBl+OBpuS9v+OBhlxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChsYXlvdXRDb3VudCA8PSA0KSB7XG4gICAgICAgICAgLy8gNOWIhuWJsuOBl+OBpuS9v+OBhlxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGF5b3V0Q291bnQ7IGkrKykge1xuICAgICAgICAgICAgbGV0IHhwb3M6IG51bWJlciA9IGkgJSAyO1xuICAgICAgICAgICAgbGV0IHlwb3M6IG51bWJlciA9IGkgLyAyO1xuXG4gICAgICAgICAgICAvLyDlsI/mlbDngrnjga/liIfjgormjajjgabjgotcbiAgICAgICAgICAgIHhwb3MgPSB+fnhwb3M7XG4gICAgICAgICAgICB5cG9zID0gfn55cG9zO1xuXG4gICAgICAgICAgICBjb25zdCBjYyA9IHRoaXMuX2NsaXBwaW5nQ29udGV4dExpc3RGb3JNYXNrLmF0KGN1ckNsaXBJbmRleCsrKTtcbiAgICAgICAgICAgIGNjLl9sYXlvdXRDaGFubmVsTm8gPSBjaGFubmVsTm87XG5cbiAgICAgICAgICAgIGNjLl9sYXlvdXRCb3VuZHMueCA9IHhwb3MgKiAwLjU7XG4gICAgICAgICAgICBjYy5fbGF5b3V0Qm91bmRzLnkgPSB5cG9zICogMC41O1xuICAgICAgICAgICAgY2MuX2xheW91dEJvdW5kcy53aWR0aCA9IDAuNTtcbiAgICAgICAgICAgIGNjLl9sYXlvdXRCb3VuZHMuaGVpZ2h0ID0gMC41O1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChsYXlvdXRDb3VudCA8PSA5KSB7XG4gICAgICAgICAgLy8gOeWIhuWJsuOBl+OBpuS9v+OBhlxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGF5b3V0Q291bnQ7IGkrKykge1xuICAgICAgICAgICAgbGV0IHhwb3MgPSBpICUgMztcbiAgICAgICAgICAgIGxldCB5cG9zID0gaSAvIDM7XG5cbiAgICAgICAgICAgIC8vIOWwj+aVsOeCueOBr+WIh+OCiuaNqOOBpuOCi1xuICAgICAgICAgICAgeHBvcyA9IH5+eHBvcztcbiAgICAgICAgICAgIHlwb3MgPSB+fnlwb3M7XG5cbiAgICAgICAgICAgIGNvbnN0IGNjOiBDdWJpc21DbGlwcGluZ0NvbnRleHQgPSB0aGlzLl9jbGlwcGluZ0NvbnRleHRMaXN0Rm9yTWFzay5hdChcbiAgICAgICAgICAgICAgY3VyQ2xpcEluZGV4KytcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjYy5fbGF5b3V0Q2hhbm5lbE5vID0gY2hhbm5lbE5vO1xuXG4gICAgICAgICAgICBjYy5fbGF5b3V0Qm91bmRzLnggPSB4cG9zIC8gMy4wO1xuICAgICAgICAgICAgY2MuX2xheW91dEJvdW5kcy55ID0geXBvcyAvIDMuMDtcbiAgICAgICAgICAgIGNjLl9sYXlvdXRCb3VuZHMud2lkdGggPSAxLjAgLyAzLjA7XG4gICAgICAgICAgICBjYy5fbGF5b3V0Qm91bmRzLmhlaWdodCA9IDEuMCAvIDMuMDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgQ3ViaXNtTG9nRXJyb3IoJ25vdCBzdXBwb3J0ZWQgbWFzayBjb3VudCA6IHswfScsIGxheW91dENvdW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOOCq+ODqeODvOODkOODg+ODleOCoeOCkuWPluW+l+OBmeOCi1xuICAgICAqIEByZXR1cm4g44Kr44Op44O844OQ44OD44OV44KhXG4gICAgICovXG4gICAgcHVibGljIGdldENvbG9yQnVmZmVyKCk6IFdlYkdMVGV4dHVyZSB7XG4gICAgICByZXR1cm4gdGhpcy5fY29sb3JCdWZmZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog55S76Z2i5o+P55S744Gr5L2/55So44GZ44KL44Kv44Oq44OD44OU44Oz44Kw44Oe44K544Kv44Gu44Oq44K544OI44KS5Y+W5b6X44GZ44KLXG4gICAgICogQHJldHVybiDnlLvpnaLmj4/nlLvjgavkvb/nlKjjgZnjgovjgq/jg6rjg4Pjg5Tjg7PjgrDjg57jgrnjgq/jga7jg6rjgrnjg4hcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0Q2xpcHBpbmdDb250ZXh0TGlzdEZvckRyYXcoKTogY3NtVmVjdG9yPEN1YmlzbUNsaXBwaW5nQ29udGV4dD4ge1xuICAgICAgcmV0dXJuIHRoaXMuX2NsaXBwaW5nQ29udGV4dExpc3RGb3JEcmF3O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOOCr+ODquODg+ODlOODs+OCsOODnuOCueOCr+ODkOODg+ODleOCoeOBruOCteOCpOOCuuOCkuioreWumuOBmeOCi1xuICAgICAqIEBwYXJhbSBzaXplIOOCr+ODquODg+ODlOODs+OCsOODnuOCueOCr+ODkOODg+ODleOCoeOBruOCteOCpOOCulxuICAgICAqL1xuICAgIHB1YmxpYyBzZXRDbGlwcGluZ01hc2tCdWZmZXJTaXplKHNpemU6IG51bWJlcik6IHZvaWQge1xuICAgICAgdGhpcy5fY2xpcHBpbmdNYXNrQnVmZmVyU2l6ZSA9IHNpemU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Kv44Oq44OD44OU44Oz44Kw44Oe44K544Kv44OQ44OD44OV44Kh44Gu44K144Kk44K644KS5Y+W5b6X44GZ44KLXG4gICAgICogQHJldHVybiDjgq/jg6rjg4Pjg5Tjg7PjgrDjg57jgrnjgq/jg5Djg4Pjg5XjgqHjga7jgrXjgqTjgrpcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0Q2xpcHBpbmdNYXNrQnVmZmVyU2l6ZSgpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHRoaXMuX2NsaXBwaW5nTWFza0J1ZmZlclNpemU7XG4gICAgfVxuXG4gICAgcHVibGljIF9tYXNrUmVuZGVyVGV4dHVyZTogV2ViR0xGcmFtZWJ1ZmZlcjsgLy8g44Oe44K544Kv55So44Os44Oz44OA44O844OG44Kv44K544OB44Oj44Gu44Ki44OJ44Os44K5XG4gICAgcHVibGljIF9jb2xvckJ1ZmZlcjogV2ViR0xUZXh0dXJlOyAvLyDjg57jgrnjgq/nlKjjgqvjg6njg7zjg5Djg4Pjg5XjgqHjg7zjga7jgqLjg4njg6zjgrlcbiAgICBwdWJsaWMgX2N1cnJlbnRGcmFtZU5vOiBudW1iZXI7IC8vIOODnuOCueOCr+ODhuOCr+OCueODgeODo+OBq+S4juOBiOOCi+ODleODrOODvOODoOeVquWPt1xuXG4gICAgcHVibGljIF9jaGFubmVsQ29sb3JzOiBjc21WZWN0b3I8Q3ViaXNtVGV4dHVyZUNvbG9yPjtcbiAgICBwdWJsaWMgX21hc2tUZXh0dXJlOiBDdWJpc21SZW5kZXJUZXh0dXJlUmVzb3VyY2U7IC8vIOODnuOCueOCr+eUqOOBruODhuOCr+OCueODgeODo+ODquOCveODvOOCueOBruODquOCueODiFxuICAgIHB1YmxpYyBfY2xpcHBpbmdDb250ZXh0TGlzdEZvck1hc2s6IGNzbVZlY3RvcjxDdWJpc21DbGlwcGluZ0NvbnRleHQ+OyAvLyDjg57jgrnjgq/nlKjjgq/jg6rjg4Pjg5Tjg7PjgrDjgrPjg7Pjg4bjgq3jgrnjg4jjga7jg6rjgrnjg4hcbiAgICBwdWJsaWMgX2NsaXBwaW5nQ29udGV4dExpc3RGb3JEcmF3OiBjc21WZWN0b3I8Q3ViaXNtQ2xpcHBpbmdDb250ZXh0PjsgLy8g5o+P55S755So44Kv44Oq44OD44OU44Oz44Kw44Kz44Oz44OG44Kt44K544OI44Gu44Oq44K544OIXG4gICAgcHVibGljIF9jbGlwcGluZ01hc2tCdWZmZXJTaXplOiBudW1iZXI7IC8vIOOCr+ODquODg+ODlOODs+OCsOODnuOCueOCr+OBruODkOODg+ODleOCoeOCteOCpOOCuu+8iOWIneacn+WApDoyNTbvvIlcblxuICAgIHByaXZhdGUgX3RtcE1hdHJpeDogQ3ViaXNtTWF0cml4NDQ7IC8vIOODnuOCueOCr+ioiOeul+eUqOOBruihjOWIl1xuICAgIHByaXZhdGUgX3RtcE1hdHJpeEZvck1hc2s6IEN1YmlzbU1hdHJpeDQ0OyAvLyDjg57jgrnjgq/oqIjnrpfnlKjjga7ooYzliJdcbiAgICBwcml2YXRlIF90bXBNYXRyaXhGb3JEcmF3OiBDdWJpc21NYXRyaXg0NDsgLy8g44Oe44K544Kv6KiI566X55So44Gu6KGM5YiXXG4gICAgcHJpdmF0ZSBfdG1wQm91bmRzT25Nb2RlbDogY3NtUmVjdDsgLy8g44Oe44K544Kv6YWN572u6KiI566X55So44Gu55+p5b2iXG5cbiAgICBnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0OyAvLyBXZWJHTOODrOODs+ODgOODquODs+OCsOOCs+ODs+ODhuOCreOCueODiFxuICB9XG5cbiAgLyoqXG4gICAqIOODrOODs+ODgOODvOODhuOCr+OCueODgeODo+OBruODquOCveODvOOCueOCkuWumue+qeOBmeOCi+ani+mAoOS9k1xuICAgKiDjgq/jg6rjg4Pjg5Tjg7PjgrDjg57jgrnjgq/jgafkvb/nlKjjgZnjgotcbiAgICovXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21SZW5kZXJUZXh0dXJlUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIOW8leaVsOS7mOOBjeOCs+ODs+OCueODiOODqeOCr+OCv1xuICAgICAqIEBwYXJhbSBmcmFtZU5vIOODrOODs+ODgOODqeODvOOBruODleODrOODvOODoOeVquWPt1xuICAgICAqIEBwYXJhbSB0ZXh0dXJlIOODhuOCr+OCueODgeODo+OBruOCouODieODrOOCuVxuICAgICAqL1xuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihmcmFtZU5vOiBudW1iZXIsIHRleHR1cmU6IFdlYkdMRnJhbWVidWZmZXIpIHtcbiAgICAgIHRoaXMuZnJhbWVObyA9IGZyYW1lTm87XG4gICAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlO1xuICAgIH1cblxuICAgIHB1YmxpYyBmcmFtZU5vOiBudW1iZXI7IC8vIOODrOODs+ODgOODqeOBruODleODrOODvOODoOeVquWPt1xuICAgIHB1YmxpYyB0ZXh0dXJlOiBXZWJHTEZyYW1lYnVmZmVyOyAvLyDjg4bjgq/jgrnjg4Hjg6Pjga7jgqLjg4njg6zjgrlcbiAgfVxuXG4gIC8qKlxuICAgKiDjgq/jg6rjg4Pjg5Tjg7PjgrDjg57jgrnjgq/jga7jgrPjg7Pjg4bjgq3jgrnjg4hcbiAgICovXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21DbGlwcGluZ0NvbnRleHQge1xuICAgIC8qKlxuICAgICAqIOW8leaVsOS7mOOBjeOCs+ODs+OCueODiOODqeOCr+OCv1xuICAgICAqL1xuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihcbiAgICAgIG1hbmFnZXI6IEN1YmlzbUNsaXBwaW5nTWFuYWdlcl9XZWJHTCxcbiAgICAgIGNsaXBwaW5nRHJhd2FibGVJbmRpY2VzOiBJbnQzMkFycmF5LFxuICAgICAgY2xpcENvdW50OiBudW1iZXJcbiAgICApIHtcbiAgICAgIHRoaXMuX293bmVyID0gbWFuYWdlcjtcblxuICAgICAgLy8g44Kv44Oq44OD44OX44GX44Gm44GE44KL77yI77yd44Oe44K544Kv55So44Gu77yJRHJhd2FibGXjga7jgqTjg7Pjg4fjg4Pjgq/jgrnjg6rjgrnjg4hcbiAgICAgIHRoaXMuX2NsaXBwaW5nSWRMaXN0ID0gY2xpcHBpbmdEcmF3YWJsZUluZGljZXM7XG5cbiAgICAgIC8vIOODnuOCueOCr+OBruaVsFxuICAgICAgdGhpcy5fY2xpcHBpbmdJZENvdW50ID0gY2xpcENvdW50O1xuXG4gICAgICB0aGlzLl9hbGxDbGlwcGVkRHJhd1JlY3QgPSBuZXcgY3NtUmVjdCgpO1xuICAgICAgdGhpcy5fbGF5b3V0Qm91bmRzID0gbmV3IGNzbVJlY3QoKTtcblxuICAgICAgdGhpcy5fY2xpcHBlZERyYXdhYmxlSW5kZXhMaXN0ID0gW107XG5cbiAgICAgIHRoaXMuX21hdHJpeEZvck1hc2sgPSBuZXcgQ3ViaXNtTWF0cml4NDQoKTtcbiAgICAgIHRoaXMuX21hdHJpeEZvckRyYXcgPSBuZXcgQ3ViaXNtTWF0cml4NDQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg4fjgrnjg4jjg6njgq/jgr/nm7jlvZPjga7lh6bnkIZcbiAgICAgKi9cbiAgICBwdWJsaWMgcmVsZWFzZSgpOiB2b2lkIHtcbiAgICAgIGlmICh0aGlzLl9sYXlvdXRCb3VuZHMgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLl9sYXlvdXRCb3VuZHMgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fYWxsQ2xpcHBlZERyYXdSZWN0ICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5fYWxsQ2xpcHBlZERyYXdSZWN0ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2NsaXBwZWREcmF3YWJsZUluZGV4TGlzdCAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuX2NsaXBwZWREcmF3YWJsZUluZGV4TGlzdCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44GT44Gu44Oe44K544Kv44Gr44Kv44Oq44OD44OX44GV44KM44KL5o+P55S744Kq44OW44K444Kn44Kv44OI44KS6L+95Yqg44GZ44KLXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZHJhd2FibGVJbmRleCDjgq/jg6rjg4Pjg5Tjg7PjgrDlr77osaHjgavov73liqDjgZnjgovmj4/nlLvjgqrjg5bjgrjjgqfjgq/jg4jjga7jgqTjg7Pjg4fjg4Pjgq/jgrlcbiAgICAgKi9cbiAgICBwdWJsaWMgYWRkQ2xpcHBlZERyYXdhYmxlKGRyYXdhYmxlSW5kZXg6IG51bWJlcikge1xuICAgICAgdGhpcy5fY2xpcHBlZERyYXdhYmxlSW5kZXhMaXN0LnB1c2goZHJhd2FibGVJbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44GT44Gu44Oe44K544Kv44KS566h55CG44GZ44KL44Oe44ON44O844K444Oj44Gu44Kk44Oz44K544K/44Oz44K544KS5Y+W5b6X44GZ44KLXG4gICAgICogQHJldHVybiDjgq/jg6rjg4Pjg5Tjg7PjgrDjg57jg43jg7zjgrjjg6Pjga7jgqTjg7Pjgrnjgr/jg7PjgrlcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0Q2xpcHBpbmdNYW5hZ2VyKCk6IEN1YmlzbUNsaXBwaW5nTWFuYWdlcl9XZWJHTCB7XG4gICAgICByZXR1cm4gdGhpcy5fb3duZXI7XG4gICAgfVxuXG4gICAgcHVibGljIHNldEdsKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQpOiB2b2lkIHtcbiAgICAgIHRoaXMuX293bmVyLnNldEdMKGdsKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgX2lzVXNpbmc6IGJvb2xlYW47IC8vIOePvuWcqOOBruaPj+eUu+eKtuaFi+OBp+ODnuOCueOCr+OBrua6luWCmeOBjOW/heimgeOBquOCiXRydWVcbiAgICBwdWJsaWMgcmVhZG9ubHkgX2NsaXBwaW5nSWRMaXN0OiBJbnQzMkFycmF5OyAvLyDjgq/jg6rjg4Pjg5Tjg7PjgrDjg57jgrnjgq/jga5JROODquOCueODiFxuICAgIHB1YmxpYyBfY2xpcHBpbmdJZENvdW50OiBudW1iZXI7IC8vIOOCr+ODquODg+ODlOODs+OCsOODnuOCueOCr+OBruaVsFxuICAgIHB1YmxpYyBfbGF5b3V0Q2hhbm5lbE5vOiBudW1iZXI7IC8vIFJHQkHjga7jgYTjgZrjgozjga7jg4Hjg6Pjg7Pjg43jg6vjgavjgZPjga7jgq/jg6rjg4Pjg5fjgpLphY3nva7jgZnjgovjgYvvvIgwOlIsIDE6RywgMjpCLCAzOkHvvIlcbiAgICBwdWJsaWMgX2xheW91dEJvdW5kczogY3NtUmVjdDsgLy8g44Oe44K544Kv55So44OB44Oj44Oz44ON44Or44Gu44Gp44Gu6aCY5Z+f44Gr44Oe44K544Kv44KS5YWl44KM44KL44GL77yIVmlld+W6p+aomS0xfjEsIFVW44GvMH4x44Gr55u044GZ77yJXG4gICAgcHVibGljIF9hbGxDbGlwcGVkRHJhd1JlY3Q6IGNzbVJlY3Q7IC8vIOOBk+OBruOCr+ODquODg+ODlOODs+OCsOOBp+OAgeOCr+ODquODg+ODlOODs+OCsOOBleOCjOOCi+OBmeOBueOBpuOBruaPj+eUu+OCquODluOCuOOCp+OCr+ODiOOBruWbsuOBv+efqeW9ou+8iOavjuWbnuabtOaWsO+8iVxuICAgIHB1YmxpYyBfbWF0cml4Rm9yTWFzazogQ3ViaXNtTWF0cml4NDQ7IC8vIOODnuOCueOCr+OBruS9jee9ruioiOeul+e1kOaenOOCkuS/neaMgeOBmeOCi+ihjOWIl1xuICAgIHB1YmxpYyBfbWF0cml4Rm9yRHJhdzogQ3ViaXNtTWF0cml4NDQ7IC8vIOaPj+eUu+OCquODluOCuOOCp+OCr+ODiOOBruS9jee9ruioiOeul+e1kOaenOOCkuS/neaMgeOBmeOCi+ihjOWIl1xuICAgIHB1YmxpYyBfY2xpcHBlZERyYXdhYmxlSW5kZXhMaXN0OiBudW1iZXJbXTsgLy8g44GT44Gu44Oe44K544Kv44Gr44Kv44Oq44OD44OX44GV44KM44KL5o+P55S744Kq44OW44K444Kn44Kv44OI44Gu44Oq44K544OIXG5cbiAgICBwcml2YXRlIF9vd25lcjogQ3ViaXNtQ2xpcHBpbmdNYW5hZ2VyX1dlYkdMOyAvLyDjgZPjga7jg57jgrnjgq/jgpLnrqHnkIbjgZfjgabjgYTjgovjg57jg43jg7zjgrjjg6Pjga7jgqTjg7Pjgrnjgr/jg7PjgrlcbiAgfVxuXG4gIC8qKlxuICAgKiBXZWJHTOeUqOOBruOCt+OCp+ODvOODgOODvOODl+ODreOCsOODqeODoOOCkueUn+aIkOODu+egtOajhOOBmeOCi+OCr+ODqeOCuVxuICAgKiDjgrfjg7PjgrDjg6vjg4jjg7Pjgarjgq/jg6njgrnjgafjgYLjgorjgIFDdWJpc21TaGFkZXJfV2ViR0wuZ2V0SW5zdGFuY2XjgYvjgonjgqLjgq/jgrvjgrnjgZnjgovjgIJcbiAgICovXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21TaGFkZXJfV2ViR0wge1xuICAgIC8qKlxuICAgICAqIOOCpOODs+OCueOCv+ODs+OCueOCkuWPluW+l+OBmeOCi++8iOOCt+ODs+OCsOODq+ODiOODs++8iVxuICAgICAqIEByZXR1cm4g44Kk44Oz44K544K/44Oz44K5XG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBDdWJpc21TaGFkZXJfV2ViR0wge1xuICAgICAgaWYgKHNfaW5zdGFuY2UgPT0gbnVsbCkge1xuICAgICAgICBzX2luc3RhbmNlID0gbmV3IEN1YmlzbVNoYWRlcl9XZWJHTCgpO1xuXG4gICAgICAgIHJldHVybiBzX2luc3RhbmNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNfaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Kk44Oz44K544K/44Oz44K544KS6ZaL5pS+44GZ44KL77yI44K344Oz44Kw44Or44OI44Oz77yJXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBkZWxldGVJbnN0YW5jZSgpOiB2b2lkIHtcbiAgICAgIGlmIChzX2luc3RhbmNlKSB7XG4gICAgICAgIHNfaW5zdGFuY2UucmVsZWFzZSgpO1xuICAgICAgICBzX2luc3RhbmNlID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBwcml2YXRl44Gq44Kz44Oz44K544OI44Op44Kv44K/XG4gICAgICovXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHRoaXMuX3NoYWRlclNldHMgPSBuZXcgY3NtVmVjdG9yPEN1YmlzbVNoYWRlclNldD4oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg4fjgrnjg4jjg6njgq/jgr/nm7jlvZPjga7lh6bnkIZcbiAgICAgKi9cbiAgICBwdWJsaWMgcmVsZWFzZSgpOiB2b2lkIHtcbiAgICAgIHRoaXMucmVsZWFzZVNoYWRlclByb2dyYW0oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjgrfjgqfjg7zjg4Djg7zjg5fjg63jgrDjg6njg6Djga7kuIDpgKPjga7jgrvjg4Pjg4jjgqLjg4Pjg5fjgpLlrp/ooYzjgZnjgotcbiAgICAgKiBAcGFyYW0gcmVuZGVyZXIg44Os44Oz44OA44Op44Gu44Kk44Oz44K544K/44Oz44K5XG4gICAgICogQHBhcmFtIHRleHR1cmVJZCBHUFXjga7jg4bjgq/jgrnjg4Hjg6NJRFxuICAgICAqIEBwYXJhbSB2ZXJ0ZXhDb3VudCDjg53jg6rjgrTjg7Pjg6Hjg4Pjgrfjg6Xjga7poILngrnmlbBcbiAgICAgKiBAcGFyYW0gdmVydGV4QXJyYXkg44Od44Oq44K044Oz44Oh44OD44K344Ol44Gu6aCC54K56YWN5YiXXG4gICAgICogQHBhcmFtIGluZGV4QXJyYXkg44Kk44Oz44OH44OD44Kv44K544OQ44OD44OV44Kh44Gu6aCC54K56YWN5YiXXG4gICAgICogQHBhcmFtIHV2QXJyYXkgdXbphY3liJdcbiAgICAgKiBAcGFyYW0gb3BhY2l0eSDkuI3pgI/mmI7luqZcbiAgICAgKiBAcGFyYW0gY29sb3JCbGVuZE1vZGUg44Kr44Op44O844OW44Os44Oz44OH44Kj44Oz44Kw44Gu44K/44Kk44OXXG4gICAgICogQHBhcmFtIGJhc2VDb2xvciDjg5njg7zjgrnjgqvjg6njg7xcbiAgICAgKiBAcGFyYW0gaXNQcmVtdWx0aXBsaWVkQWxwaGEg5LmX566X5riI44G/44Ki44Or44OV44Kh44GL44Gp44GG44GLXG4gICAgICogQHBhcmFtIG1hdHJpeDR4NCBNb2RlbC1WaWV3LVByb2plY3Rpb27ooYzliJdcbiAgICAgKiBAcGFyYW0gaW52ZXJ0ZWRNYXNrIOODnuOCueOCr+OCkuWPjei7ouOBl+OBpuS9v+eUqOOBmeOCi+ODleODqeOCsFxuICAgICAqL1xuICAgIHB1YmxpYyBzZXR1cFNoYWRlclByb2dyYW0oXG4gICAgICByZW5kZXJlcjogQ3ViaXNtUmVuZGVyZXJfV2ViR0wsXG4gICAgICB0ZXh0dXJlSWQ6IFdlYkdMVGV4dHVyZSxcbiAgICAgIHZlcnRleENvdW50OiBudW1iZXIsXG4gICAgICB2ZXJ0ZXhBcnJheTogRmxvYXQzMkFycmF5LFxuICAgICAgaW5kZXhBcnJheTogVWludDE2QXJyYXksXG4gICAgICB1dkFycmF5OiBGbG9hdDMyQXJyYXksXG4gICAgICBidWZmZXJEYXRhOiB7XG4gICAgICAgIHZlcnRleDogV2ViR0xCdWZmZXI7XG4gICAgICAgIHV2OiBXZWJHTEJ1ZmZlcjtcbiAgICAgICAgaW5kZXg6IFdlYkdMQnVmZmVyO1xuICAgICAgfSxcbiAgICAgIG9wYWNpdHk6IG51bWJlcixcbiAgICAgIGNvbG9yQmxlbmRNb2RlOiBDdWJpc21CbGVuZE1vZGUsXG4gICAgICBiYXNlQ29sb3I6IEN1YmlzbVRleHR1cmVDb2xvcixcbiAgICAgIGlzUHJlbXVsdGlwbGllZEFscGhhOiBib29sZWFuLFxuICAgICAgbWF0cml4NHg0OiBDdWJpc21NYXRyaXg0NCxcbiAgICAgIGludmVydGVkTWFzazogYm9vbGVhblxuICAgICk6IHZvaWQge1xuICAgICAgaWYgKCFpc1ByZW11bHRpcGxpZWRBbHBoYSkge1xuICAgICAgICBDdWJpc21Mb2dFcnJvcignTm9QcmVtdWx0aXBsaWVkQWxwaGEgaXMgbm90IGFsbG93ZWQnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX3NoYWRlclNldHMuZ2V0U2l6ZSgpID09IDApIHtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZVNoYWRlcnMoKTtcbiAgICAgIH1cblxuICAgICAgLy8gQmxlbmRpbmdcbiAgICAgIGxldCBTUkNfQ09MT1I6IG51bWJlcjtcbiAgICAgIGxldCBEU1RfQ09MT1I6IG51bWJlcjtcbiAgICAgIGxldCBTUkNfQUxQSEE6IG51bWJlcjtcbiAgICAgIGxldCBEU1RfQUxQSEE6IG51bWJlcjtcblxuICAgICAgaWYgKHJlbmRlcmVyLmdldENsaXBwaW5nQ29udGV4dEJ1ZmZlckZvck1hc2soKSAhPSBudWxsKSB7XG4gICAgICAgIC8vIOODnuOCueOCr+eUn+aIkOaZglxuICAgICAgICBjb25zdCBzaGFkZXJTZXQ6IEN1YmlzbVNoYWRlclNldCA9IHRoaXMuX3NoYWRlclNldHMuYXQoXG4gICAgICAgICAgU2hhZGVyTmFtZXMuU2hhZGVyTmFtZXNfU2V0dXBNYXNrXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuZ2wudXNlUHJvZ3JhbShzaGFkZXJTZXQuc2hhZGVyUHJvZ3JhbSk7XG5cbiAgICAgICAgLy8g44OG44Kv44K544OB44Oj6Kit5a6aXG4gICAgICAgIHRoaXMuZ2wuYWN0aXZlVGV4dHVyZSh0aGlzLmdsLlRFWFRVUkUwKTtcbiAgICAgICAgdGhpcy5nbC5iaW5kVGV4dHVyZSh0aGlzLmdsLlRFWFRVUkVfMkQsIHRleHR1cmVJZCk7XG4gICAgICAgIHRoaXMuZ2wudW5pZm9ybTFpKHNoYWRlclNldC5zYW1wbGVyVGV4dHVyZTBMb2NhdGlvbiwgMCk7XG5cbiAgICAgICAgLy8g6aCC54K56YWN5YiX44Gu6Kit5a6aKFZCTylcbiAgICAgICAgaWYgKGJ1ZmZlckRhdGEudmVydGV4ID09IG51bGwpIHtcbiAgICAgICAgICBidWZmZXJEYXRhLnZlcnRleCA9IHRoaXMuZ2wuY3JlYXRlQnVmZmVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nbC5iaW5kQnVmZmVyKHRoaXMuZ2wuQVJSQVlfQlVGRkVSLCBidWZmZXJEYXRhLnZlcnRleCk7XG4gICAgICAgIHRoaXMuZ2wuYnVmZmVyRGF0YShcbiAgICAgICAgICB0aGlzLmdsLkFSUkFZX0JVRkZFUixcbiAgICAgICAgICB2ZXJ0ZXhBcnJheSxcbiAgICAgICAgICB0aGlzLmdsLkRZTkFNSUNfRFJBV1xuICAgICAgICApO1xuICAgICAgICB0aGlzLmdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHNoYWRlclNldC5hdHRyaWJ1dGVQb3NpdGlvbkxvY2F0aW9uKTtcbiAgICAgICAgdGhpcy5nbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKFxuICAgICAgICAgIHNoYWRlclNldC5hdHRyaWJ1dGVQb3NpdGlvbkxvY2F0aW9uLFxuICAgICAgICAgIDIsXG4gICAgICAgICAgdGhpcy5nbC5GTE9BVCxcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAwLFxuICAgICAgICAgIDBcbiAgICAgICAgKTtcblxuICAgICAgICAvLyDjg4bjgq/jgrnjg4Hjg6PpoILngrnjga7oqK3lrppcbiAgICAgICAgaWYgKGJ1ZmZlckRhdGEudXYgPT0gbnVsbCkge1xuICAgICAgICAgIGJ1ZmZlckRhdGEudXYgPSB0aGlzLmdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2wuYmluZEJ1ZmZlcih0aGlzLmdsLkFSUkFZX0JVRkZFUiwgYnVmZmVyRGF0YS51dik7XG4gICAgICAgIHRoaXMuZ2wuYnVmZmVyRGF0YSh0aGlzLmdsLkFSUkFZX0JVRkZFUiwgdXZBcnJheSwgdGhpcy5nbC5EWU5BTUlDX0RSQVcpO1xuICAgICAgICB0aGlzLmdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHNoYWRlclNldC5hdHRyaWJ1dGVUZXhDb29yZExvY2F0aW9uKTtcbiAgICAgICAgdGhpcy5nbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKFxuICAgICAgICAgIHNoYWRlclNldC5hdHRyaWJ1dGVUZXhDb29yZExvY2F0aW9uLFxuICAgICAgICAgIDIsXG4gICAgICAgICAgdGhpcy5nbC5GTE9BVCxcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAwLFxuICAgICAgICAgIDBcbiAgICAgICAgKTtcblxuICAgICAgICAvLyDjg4Hjg6Pjg7Pjg43jg6tcbiAgICAgICAgY29uc3QgY2hhbm5lbE5vOiBudW1iZXIgPSByZW5kZXJlci5nZXRDbGlwcGluZ0NvbnRleHRCdWZmZXJGb3JNYXNrKClcbiAgICAgICAgICAuX2xheW91dENoYW5uZWxObztcbiAgICAgICAgY29uc3QgY29sb3JDaGFubmVsOiBDdWJpc21UZXh0dXJlQ29sb3IgPSByZW5kZXJlclxuICAgICAgICAgIC5nZXRDbGlwcGluZ0NvbnRleHRCdWZmZXJGb3JNYXNrKClcbiAgICAgICAgICAuZ2V0Q2xpcHBpbmdNYW5hZ2VyKClcbiAgICAgICAgICAuZ2V0Q2hhbm5lbEZsYWdBc0NvbG9yKGNoYW5uZWxObyk7XG4gICAgICAgIHRoaXMuZ2wudW5pZm9ybTRmKFxuICAgICAgICAgIHNoYWRlclNldC51bmlmb3JtQ2hhbm5lbEZsYWdMb2NhdGlvbixcbiAgICAgICAgICBjb2xvckNoYW5uZWwuUixcbiAgICAgICAgICBjb2xvckNoYW5uZWwuRyxcbiAgICAgICAgICBjb2xvckNoYW5uZWwuQixcbiAgICAgICAgICBjb2xvckNoYW5uZWwuQVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuZ2wudW5pZm9ybU1hdHJpeDRmdihcbiAgICAgICAgICBzaGFkZXJTZXQudW5pZm9ybUNsaXBNYXRyaXhMb2NhdGlvbixcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICByZW5kZXJlci5nZXRDbGlwcGluZ0NvbnRleHRCdWZmZXJGb3JNYXNrKCkuX21hdHJpeEZvck1hc2suZ2V0QXJyYXkoKVxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IHJlY3Q6IGNzbVJlY3QgPSByZW5kZXJlci5nZXRDbGlwcGluZ0NvbnRleHRCdWZmZXJGb3JNYXNrKClcbiAgICAgICAgICAuX2xheW91dEJvdW5kcztcblxuICAgICAgICB0aGlzLmdsLnVuaWZvcm00ZihcbiAgICAgICAgICBzaGFkZXJTZXQudW5pZm9ybUJhc2VDb2xvckxvY2F0aW9uLFxuICAgICAgICAgIHJlY3QueCAqIDIuMCAtIDEuMCxcbiAgICAgICAgICByZWN0LnkgKiAyLjAgLSAxLjAsXG4gICAgICAgICAgcmVjdC5nZXRSaWdodCgpICogMi4wIC0gMS4wLFxuICAgICAgICAgIHJlY3QuZ2V0Qm90dG9tKCkgKiAyLjAgLSAxLjBcbiAgICAgICAgKTtcblxuICAgICAgICBTUkNfQ09MT1IgPSB0aGlzLmdsLlpFUk87XG4gICAgICAgIERTVF9DT0xPUiA9IHRoaXMuZ2wuT05FX01JTlVTX1NSQ19DT0xPUjtcbiAgICAgICAgU1JDX0FMUEhBID0gdGhpcy5nbC5aRVJPO1xuICAgICAgICBEU1RfQUxQSEEgPSB0aGlzLmdsLk9ORV9NSU5VU19TUkNfQUxQSEE7XG4gICAgICB9IC8vIOODnuOCueOCr+eUn+aIkOS7peWkluOBruWgtOWQiFxuICAgICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IG1hc2tlZDogYm9vbGVhbiA9XG4gICAgICAgICAgcmVuZGVyZXIuZ2V0Q2xpcHBpbmdDb250ZXh0QnVmZmVyRm9yRHJhdygpICE9IG51bGw7IC8vIOOBk+OBruaPj+eUu+OCquODluOCuOOCp+OCr+ODiOOBr+ODnuOCueOCr+WvvuixoeOBi1xuICAgICAgICBjb25zdCBvZmZzZXQ6IG51bWJlciA9IG1hc2tlZCA/IChpbnZlcnRlZE1hc2sgPyAyIDogMSkgOiAwO1xuXG4gICAgICAgIGxldCBzaGFkZXJTZXQ6IEN1YmlzbVNoYWRlclNldCA9IG5ldyBDdWJpc21TaGFkZXJTZXQoKTtcblxuICAgICAgICBzd2l0Y2ggKGNvbG9yQmxlbmRNb2RlKSB7XG4gICAgICAgICAgY2FzZSBDdWJpc21CbGVuZE1vZGUuQ3ViaXNtQmxlbmRNb2RlX05vcm1hbDpcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgc2hhZGVyU2V0ID0gdGhpcy5fc2hhZGVyU2V0cy5hdChcbiAgICAgICAgICAgICAgU2hhZGVyTmFtZXMuU2hhZGVyTmFtZXNfTm9ybWFsUHJlbXVsdGlwbGllZEFscGhhICsgb2Zmc2V0XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgU1JDX0NPTE9SID0gdGhpcy5nbC5PTkU7XG4gICAgICAgICAgICBEU1RfQ09MT1IgPSB0aGlzLmdsLk9ORV9NSU5VU19TUkNfQUxQSEE7XG4gICAgICAgICAgICBTUkNfQUxQSEEgPSB0aGlzLmdsLk9ORTtcbiAgICAgICAgICAgIERTVF9BTFBIQSA9IHRoaXMuZ2wuT05FX01JTlVTX1NSQ19BTFBIQTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBDdWJpc21CbGVuZE1vZGUuQ3ViaXNtQmxlbmRNb2RlX0FkZGl0aXZlOlxuICAgICAgICAgICAgc2hhZGVyU2V0ID0gdGhpcy5fc2hhZGVyU2V0cy5hdChcbiAgICAgICAgICAgICAgU2hhZGVyTmFtZXMuU2hhZGVyTmFtZXNfQWRkUHJlbXVsdGlwbGllZEFscGhhICsgb2Zmc2V0XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgU1JDX0NPTE9SID0gdGhpcy5nbC5PTkU7XG4gICAgICAgICAgICBEU1RfQ09MT1IgPSB0aGlzLmdsLk9ORTtcbiAgICAgICAgICAgIFNSQ19BTFBIQSA9IHRoaXMuZ2wuWkVSTztcbiAgICAgICAgICAgIERTVF9BTFBIQSA9IHRoaXMuZ2wuT05FO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIEN1YmlzbUJsZW5kTW9kZS5DdWJpc21CbGVuZE1vZGVfTXVsdGlwbGljYXRpdmU6XG4gICAgICAgICAgICBzaGFkZXJTZXQgPSB0aGlzLl9zaGFkZXJTZXRzLmF0KFxuICAgICAgICAgICAgICBTaGFkZXJOYW1lcy5TaGFkZXJOYW1lc19NdWx0UHJlbXVsdGlwbGllZEFscGhhICsgb2Zmc2V0XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgU1JDX0NPTE9SID0gdGhpcy5nbC5EU1RfQ09MT1I7XG4gICAgICAgICAgICBEU1RfQ09MT1IgPSB0aGlzLmdsLk9ORV9NSU5VU19TUkNfQUxQSEE7XG4gICAgICAgICAgICBTUkNfQUxQSEEgPSB0aGlzLmdsLlpFUk87XG4gICAgICAgICAgICBEU1RfQUxQSEEgPSB0aGlzLmdsLk9ORTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nbC51c2VQcm9ncmFtKHNoYWRlclNldC5zaGFkZXJQcm9ncmFtKTtcblxuICAgICAgICAvLyDpoILngrnphY3liJfjga7oqK3lrppcbiAgICAgICAgaWYgKGJ1ZmZlckRhdGEudmVydGV4ID09IG51bGwpIHtcbiAgICAgICAgICBidWZmZXJEYXRhLnZlcnRleCA9IHRoaXMuZ2wuY3JlYXRlQnVmZmVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nbC5iaW5kQnVmZmVyKHRoaXMuZ2wuQVJSQVlfQlVGRkVSLCBidWZmZXJEYXRhLnZlcnRleCk7XG4gICAgICAgIHRoaXMuZ2wuYnVmZmVyRGF0YShcbiAgICAgICAgICB0aGlzLmdsLkFSUkFZX0JVRkZFUixcbiAgICAgICAgICB2ZXJ0ZXhBcnJheSxcbiAgICAgICAgICB0aGlzLmdsLkRZTkFNSUNfRFJBV1xuICAgICAgICApO1xuICAgICAgICB0aGlzLmdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHNoYWRlclNldC5hdHRyaWJ1dGVQb3NpdGlvbkxvY2F0aW9uKTtcbiAgICAgICAgdGhpcy5nbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKFxuICAgICAgICAgIHNoYWRlclNldC5hdHRyaWJ1dGVQb3NpdGlvbkxvY2F0aW9uLFxuICAgICAgICAgIDIsXG4gICAgICAgICAgdGhpcy5nbC5GTE9BVCxcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAwLFxuICAgICAgICAgIDBcbiAgICAgICAgKTtcblxuICAgICAgICAvLyDjg4bjgq/jgrnjg4Hjg6PpoILngrnjga7oqK3lrppcbiAgICAgICAgaWYgKGJ1ZmZlckRhdGEudXYgPT0gbnVsbCkge1xuICAgICAgICAgIGJ1ZmZlckRhdGEudXYgPSB0aGlzLmdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2wuYmluZEJ1ZmZlcih0aGlzLmdsLkFSUkFZX0JVRkZFUiwgYnVmZmVyRGF0YS51dik7XG4gICAgICAgIHRoaXMuZ2wuYnVmZmVyRGF0YSh0aGlzLmdsLkFSUkFZX0JVRkZFUiwgdXZBcnJheSwgdGhpcy5nbC5EWU5BTUlDX0RSQVcpO1xuICAgICAgICB0aGlzLmdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHNoYWRlclNldC5hdHRyaWJ1dGVUZXhDb29yZExvY2F0aW9uKTtcbiAgICAgICAgdGhpcy5nbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKFxuICAgICAgICAgIHNoYWRlclNldC5hdHRyaWJ1dGVUZXhDb29yZExvY2F0aW9uLFxuICAgICAgICAgIDIsXG4gICAgICAgICAgdGhpcy5nbC5GTE9BVCxcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAwLFxuICAgICAgICAgIDBcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAobWFza2VkKSB7XG4gICAgICAgICAgdGhpcy5nbC5hY3RpdmVUZXh0dXJlKHRoaXMuZ2wuVEVYVFVSRTEpO1xuICAgICAgICAgIGNvbnN0IHRleDogV2ViR0xUZXh0dXJlID0gcmVuZGVyZXJcbiAgICAgICAgICAgIC5nZXRDbGlwcGluZ0NvbnRleHRCdWZmZXJGb3JEcmF3KClcbiAgICAgICAgICAgIC5nZXRDbGlwcGluZ01hbmFnZXIoKVxuICAgICAgICAgICAgLmdldENvbG9yQnVmZmVyKCk7XG4gICAgICAgICAgdGhpcy5nbC5iaW5kVGV4dHVyZSh0aGlzLmdsLlRFWFRVUkVfMkQsIHRleCk7XG4gICAgICAgICAgdGhpcy5nbC51bmlmb3JtMWkoc2hhZGVyU2V0LnNhbXBsZXJUZXh0dXJlMUxvY2F0aW9uLCAxKTtcblxuICAgICAgICAgIC8vIHZpZXfluqfmqJnjgpJDbGlwcGluZ0NvbnRleHTjga7luqfmqJnjgavlpInmj5vjgZnjgovjgZ/jgoHjga7ooYzliJfjgpLoqK3lrppcbiAgICAgICAgICB0aGlzLmdsLnVuaWZvcm1NYXRyaXg0ZnYoXG4gICAgICAgICAgICBzaGFkZXJTZXQudW5pZm9ybUNsaXBNYXRyaXhMb2NhdGlvbixcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgcmVuZGVyZXIuZ2V0Q2xpcHBpbmdDb250ZXh0QnVmZmVyRm9yRHJhdygpLl9tYXRyaXhGb3JEcmF3LmdldEFycmF5KClcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgLy8g5L2/55So44GZ44KL44Kr44Op44O844OB44Oj44Oz44ON44Or44KS6Kit5a6aXG4gICAgICAgICAgY29uc3QgY2hhbm5lbE5vOiBudW1iZXIgPSByZW5kZXJlci5nZXRDbGlwcGluZ0NvbnRleHRCdWZmZXJGb3JEcmF3KClcbiAgICAgICAgICAgIC5fbGF5b3V0Q2hhbm5lbE5vO1xuICAgICAgICAgIGNvbnN0IGNvbG9yQ2hhbm5lbDogQ3ViaXNtVGV4dHVyZUNvbG9yID0gcmVuZGVyZXJcbiAgICAgICAgICAgIC5nZXRDbGlwcGluZ0NvbnRleHRCdWZmZXJGb3JEcmF3KClcbiAgICAgICAgICAgIC5nZXRDbGlwcGluZ01hbmFnZXIoKVxuICAgICAgICAgICAgLmdldENoYW5uZWxGbGFnQXNDb2xvcihjaGFubmVsTm8pO1xuICAgICAgICAgIHRoaXMuZ2wudW5pZm9ybTRmKFxuICAgICAgICAgICAgc2hhZGVyU2V0LnVuaWZvcm1DaGFubmVsRmxhZ0xvY2F0aW9uLFxuICAgICAgICAgICAgY29sb3JDaGFubmVsLlIsXG4gICAgICAgICAgICBjb2xvckNoYW5uZWwuRyxcbiAgICAgICAgICAgIGNvbG9yQ2hhbm5lbC5CLFxuICAgICAgICAgICAgY29sb3JDaGFubmVsLkFcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g44OG44Kv44K544OB44Oj6Kit5a6aXG4gICAgICAgIHRoaXMuZ2wuYWN0aXZlVGV4dHVyZSh0aGlzLmdsLlRFWFRVUkUwKTtcbiAgICAgICAgdGhpcy5nbC5iaW5kVGV4dHVyZSh0aGlzLmdsLlRFWFRVUkVfMkQsIHRleHR1cmVJZCk7XG4gICAgICAgIHRoaXMuZ2wudW5pZm9ybTFpKHNoYWRlclNldC5zYW1wbGVyVGV4dHVyZTBMb2NhdGlvbiwgMCk7XG5cbiAgICAgICAgLy8g5bqn5qiZ5aSJ5o+bXG4gICAgICAgIHRoaXMuZ2wudW5pZm9ybU1hdHJpeDRmdihcbiAgICAgICAgICBzaGFkZXJTZXQudW5pZm9ybU1hdHJpeExvY2F0aW9uLFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIG1hdHJpeDR4NC5nZXRBcnJheSgpXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5nbC51bmlmb3JtNGYoXG4gICAgICAgICAgc2hhZGVyU2V0LnVuaWZvcm1CYXNlQ29sb3JMb2NhdGlvbixcbiAgICAgICAgICBiYXNlQ29sb3IuUixcbiAgICAgICAgICBiYXNlQ29sb3IuRyxcbiAgICAgICAgICBiYXNlQ29sb3IuQixcbiAgICAgICAgICBiYXNlQ29sb3IuQVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBJQk/jgpLkvZzmiJDjgZfjgIHjg4fjg7zjgr/jgpLou6LpgIFcbiAgICAgIGlmIChidWZmZXJEYXRhLmluZGV4ID09IG51bGwpIHtcbiAgICAgICAgYnVmZmVyRGF0YS5pbmRleCA9IHRoaXMuZ2wuY3JlYXRlQnVmZmVyKCk7XG4gICAgICB9XG4gICAgICB0aGlzLmdsLmJpbmRCdWZmZXIodGhpcy5nbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgYnVmZmVyRGF0YS5pbmRleCk7XG4gICAgICB0aGlzLmdsLmJ1ZmZlckRhdGEoXG4gICAgICAgIHRoaXMuZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsXG4gICAgICAgIGluZGV4QXJyYXksXG4gICAgICAgIHRoaXMuZ2wuRFlOQU1JQ19EUkFXXG4gICAgICApO1xuICAgICAgdGhpcy5nbC5ibGVuZEZ1bmNTZXBhcmF0ZShTUkNfQ09MT1IsIERTVF9DT0xPUiwgU1JDX0FMUEhBLCBEU1RfQUxQSEEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOOCt+OCp+ODvOODgOODvOODl+ODreOCsOODqeODoOOCkuino+aUvuOBmeOCi1xuICAgICAqL1xuICAgIHB1YmxpYyByZWxlYXNlU2hhZGVyUHJvZ3JhbSgpOiB2b2lkIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fc2hhZGVyU2V0cy5nZXRTaXplKCk7IGkrKykge1xuICAgICAgICB0aGlzLmdsLmRlbGV0ZVByb2dyYW0odGhpcy5fc2hhZGVyU2V0cy5hdChpKS5zaGFkZXJQcm9ncmFtKTtcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChpKS5zaGFkZXJQcm9ncmFtID0gMDtcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5zZXQoaSwgdm9pZCAwKTtcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5zZXQoaSwgbnVsbCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44K344Kn44O844OA44O844OX44Ot44Kw44Op44Og44KS5Yid5pyf5YyW44GZ44KLXG4gICAgICogQHBhcmFtIHZlcnRTaGFkZXJTcmMg6aCC54K544K344Kn44O844OA44Gu44K944O844K5XG4gICAgICogQHBhcmFtIGZyYWdTaGFkZXJTcmMg44OV44Op44Kw44Oh44Oz44OI44K344Kn44O844OA44Gu44K944O844K5XG4gICAgICovXG4gICAgcHVibGljIGdlbmVyYXRlU2hhZGVycygpOiB2b2lkIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hhZGVyQ291bnQ7IGkrKykge1xuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLnB1c2hCYWNrKG5ldyBDdWJpc21TaGFkZXJTZXQoKSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoMCkuc2hhZGVyUHJvZ3JhbSA9IHRoaXMubG9hZFNoYWRlclByb2dyYW0oXG4gICAgICAgIHZlcnRleFNoYWRlclNyY1NldHVwTWFzayxcbiAgICAgICAgZnJhZ21lbnRTaGFkZXJTcmNzZXR1cE1hc2tcbiAgICAgICk7XG5cbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoMSkuc2hhZGVyUHJvZ3JhbSA9IHRoaXMubG9hZFNoYWRlclByb2dyYW0oXG4gICAgICAgIHZlcnRleFNoYWRlclNyYyxcbiAgICAgICAgZnJhZ21lbnRTaGFkZXJTcmNQcmVtdWx0aXBsaWVkQWxwaGFcbiAgICAgICk7XG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDIpLnNoYWRlclByb2dyYW0gPSB0aGlzLmxvYWRTaGFkZXJQcm9ncmFtKFxuICAgICAgICB2ZXJ0ZXhTaGFkZXJTcmNNYXNrZWQsXG4gICAgICAgIGZyYWdtZW50U2hhZGVyU3JjTWFza1ByZW11bHRpcGxpZWRBbHBoYVxuICAgICAgKTtcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoMykuc2hhZGVyUHJvZ3JhbSA9IHRoaXMubG9hZFNoYWRlclByb2dyYW0oXG4gICAgICAgIHZlcnRleFNoYWRlclNyY01hc2tlZCxcbiAgICAgICAgZnJhZ21lbnRTaGFkZXJTcmNNYXNrSW52ZXJ0ZWRQcmVtdWx0aXBsaWVkQWxwaGFcbiAgICAgICk7XG5cbiAgICAgIC8vIOWKoOeul+OCgumAmuW4uOOBqOWQjOOBmOOCt+OCp+ODvOODgOODvOOCkuWIqeeUqOOBmeOCi1xuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg0KS5zaGFkZXJQcm9ncmFtID0gdGhpcy5fc2hhZGVyU2V0cy5hdChcbiAgICAgICAgMVxuICAgICAgKS5zaGFkZXJQcm9ncmFtO1xuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg1KS5zaGFkZXJQcm9ncmFtID0gdGhpcy5fc2hhZGVyU2V0cy5hdChcbiAgICAgICAgMlxuICAgICAgKS5zaGFkZXJQcm9ncmFtO1xuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg2KS5zaGFkZXJQcm9ncmFtID0gdGhpcy5fc2hhZGVyU2V0cy5hdChcbiAgICAgICAgM1xuICAgICAgKS5zaGFkZXJQcm9ncmFtO1xuXG4gICAgICAvLyDkuZfnrpfjgoLpgJrluLjjgajlkIzjgZjjgrfjgqfjg7zjg4Djg7zjgpLliKnnlKjjgZnjgotcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoNykuc2hhZGVyUHJvZ3JhbSA9IHRoaXMuX3NoYWRlclNldHMuYXQoXG4gICAgICAgIDFcbiAgICAgICkuc2hhZGVyUHJvZ3JhbTtcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoOCkuc2hhZGVyUHJvZ3JhbSA9IHRoaXMuX3NoYWRlclNldHMuYXQoXG4gICAgICAgIDJcbiAgICAgICkuc2hhZGVyUHJvZ3JhbTtcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoOSkuc2hhZGVyUHJvZ3JhbSA9IHRoaXMuX3NoYWRlclNldHMuYXQoXG4gICAgICAgIDNcbiAgICAgICkuc2hhZGVyUHJvZ3JhbTtcblxuICAgICAgLy8gU2V0dXBNYXNrXG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxuICAgICAgICAwXG4gICAgICApLmF0dHJpYnV0ZVBvc2l0aW9uTG9jYXRpb24gPSB0aGlzLmdsLmdldEF0dHJpYkxvY2F0aW9uKFxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDApLnNoYWRlclByb2dyYW0sXG4gICAgICAgICdhX3Bvc2l0aW9uJ1xuICAgICAgKTtcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXG4gICAgICAgIDBcbiAgICAgICkuYXR0cmlidXRlVGV4Q29vcmRMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0QXR0cmliTG9jYXRpb24oXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoMCkuc2hhZGVyUHJvZ3JhbSxcbiAgICAgICAgJ2FfdGV4Q29vcmQnXG4gICAgICApO1xuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcbiAgICAgICAgMFxuICAgICAgKS5zYW1wbGVyVGV4dHVyZTBMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDApLnNoYWRlclByb2dyYW0sXG4gICAgICAgICdzX3RleHR1cmUwJ1xuICAgICAgKTtcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXG4gICAgICAgIDBcbiAgICAgICkudW5pZm9ybUNsaXBNYXRyaXhMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDApLnNoYWRlclByb2dyYW0sXG4gICAgICAgICd1X2NsaXBNYXRyaXgnXG4gICAgICApO1xuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcbiAgICAgICAgMFxuICAgICAgKS51bmlmb3JtQ2hhbm5lbEZsYWdMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDApLnNoYWRlclByb2dyYW0sXG4gICAgICAgICd1X2NoYW5uZWxGbGFnJ1xuICAgICAgKTtcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXG4gICAgICAgIDBcbiAgICAgICkudW5pZm9ybUJhc2VDb2xvckxvY2F0aW9uID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24oXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoMCkuc2hhZGVyUHJvZ3JhbSxcbiAgICAgICAgJ3VfYmFzZUNvbG9yJ1xuICAgICAgKTtcblxuICAgICAgLy8g6YCa5bi477yIUHJlbXVsdGlwbGllZEFscGhh77yJXG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxuICAgICAgICAxXG4gICAgICApLmF0dHJpYnV0ZVBvc2l0aW9uTG9jYXRpb24gPSB0aGlzLmdsLmdldEF0dHJpYkxvY2F0aW9uKFxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDEpLnNoYWRlclByb2dyYW0sXG4gICAgICAgICdhX3Bvc2l0aW9uJ1xuICAgICAgKTtcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXG4gICAgICAgIDFcbiAgICAgICkuYXR0cmlidXRlVGV4Q29vcmRMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0QXR0cmliTG9jYXRpb24oXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoMSkuc2hhZGVyUHJvZ3JhbSxcbiAgICAgICAgJ2FfdGV4Q29vcmQnXG4gICAgICApO1xuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcbiAgICAgICAgMVxuICAgICAgKS5zYW1wbGVyVGV4dHVyZTBMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDEpLnNoYWRlclByb2dyYW0sXG4gICAgICAgICdzX3RleHR1cmUwJ1xuICAgICAgKTtcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoMSkudW5pZm9ybU1hdHJpeExvY2F0aW9uID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24oXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoMSkuc2hhZGVyUHJvZ3JhbSxcbiAgICAgICAgJ3VfbWF0cml4J1xuICAgICAgKTtcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXG4gICAgICAgIDFcbiAgICAgICkudW5pZm9ybUJhc2VDb2xvckxvY2F0aW9uID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24oXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoMSkuc2hhZGVyUHJvZ3JhbSxcbiAgICAgICAgJ3VfYmFzZUNvbG9yJ1xuICAgICAgKTtcblxuICAgICAgLy8g6YCa5bi477yI44Kv44Oq44OD44OU44Oz44Kw44CBUHJlbXVsdGlwbGllZEFscGhh77yJXG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxuICAgICAgICAyXG4gICAgICApLmF0dHJpYnV0ZVBvc2l0aW9uTG9jYXRpb24gPSB0aGlzLmdsLmdldEF0dHJpYkxvY2F0aW9uKFxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDIpLnNoYWRlclByb2dyYW0sXG4gICAgICAgICdhX3Bvc2l0aW9uJ1xuICAgICAgKTtcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXG4gICAgICAgIDJcbiAgICAgICkuYXR0cmlidXRlVGV4Q29vcmRMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0QXR0cmliTG9jYXRpb24oXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoMikuc2hhZGVyUHJvZ3JhbSxcbiAgICAgICAgJ2FfdGV4Q29vcmQnXG4gICAgICApO1xuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcbiAgICAgICAgMlxuICAgICAgKS5zYW1wbGVyVGV4dHVyZTBMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDIpLnNoYWRlclByb2dyYW0sXG4gICAgICAgICdzX3RleHR1cmUwJ1xuICAgICAgKTtcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXG4gICAgICAgIDJcbiAgICAgICkuc2FtcGxlclRleHR1cmUxTG9jYXRpb24gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCgyKS5zaGFkZXJQcm9ncmFtLFxuICAgICAgICAnc190ZXh0dXJlMSdcbiAgICAgICk7XG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDIpLnVuaWZvcm1NYXRyaXhMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDIpLnNoYWRlclByb2dyYW0sXG4gICAgICAgICd1X21hdHJpeCdcbiAgICAgICk7XG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxuICAgICAgICAyXG4gICAgICApLnVuaWZvcm1DbGlwTWF0cml4TG9jYXRpb24gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCgyKS5zaGFkZXJQcm9ncmFtLFxuICAgICAgICAndV9jbGlwTWF0cml4J1xuICAgICAgKTtcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXG4gICAgICAgIDJcbiAgICAgICkudW5pZm9ybUNoYW5uZWxGbGFnTG9jYXRpb24gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCgyKS5zaGFkZXJQcm9ncmFtLFxuICAgICAgICAndV9jaGFubmVsRmxhZydcbiAgICAgICk7XG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxuICAgICAgICAyXG4gICAgICApLnVuaWZvcm1CYXNlQ29sb3JMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDIpLnNoYWRlclByb2dyYW0sXG4gICAgICAgICd1X2Jhc2VDb2xvcidcbiAgICAgICk7XG5cbiAgICAgIC8vIOmAmuW4uO+8iOOCr+ODquODg+ODlOODs+OCsOODu+WPjei7oiwgUHJlbXVsdGlwbGllZEFscGhh77yJXG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxuICAgICAgICAzXG4gICAgICApLmF0dHJpYnV0ZVBvc2l0aW9uTG9jYXRpb24gPSB0aGlzLmdsLmdldEF0dHJpYkxvY2F0aW9uKFxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDMpLnNoYWRlclByb2dyYW0sXG4gICAgICAgICdhX3Bvc2l0aW9uJ1xuICAgICAgKTtcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXG4gICAgICAgIDNcbiAgICAgICkuYXR0cmlidXRlVGV4Q29vcmRMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0QXR0cmliTG9jYXRpb24oXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoMykuc2hhZGVyUHJvZ3JhbSxcbiAgICAgICAgJ2FfdGV4Q29vcmQnXG4gICAgICApO1xuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcbiAgICAgICAgM1xuICAgICAgKS5zYW1wbGVyVGV4dHVyZTBMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDMpLnNoYWRlclByb2dyYW0sXG4gICAgICAgICdzX3RleHR1cmUwJ1xuICAgICAgKTtcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXG4gICAgICAgIDNcbiAgICAgICkuc2FtcGxlclRleHR1cmUxTG9jYXRpb24gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCgzKS5zaGFkZXJQcm9ncmFtLFxuICAgICAgICAnc190ZXh0dXJlMSdcbiAgICAgICk7XG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDMpLnVuaWZvcm1NYXRyaXhMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDMpLnNoYWRlclByb2dyYW0sXG4gICAgICAgICd1X21hdHJpeCdcbiAgICAgICk7XG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxuICAgICAgICAzXG4gICAgICApLnVuaWZvcm1DbGlwTWF0cml4TG9jYXRpb24gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCgzKS5zaGFkZXJQcm9ncmFtLFxuICAgICAgICAndV9jbGlwTWF0cml4J1xuICAgICAgKTtcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXG4gICAgICAgIDNcbiAgICAgICkudW5pZm9ybUNoYW5uZWxGbGFnTG9jYXRpb24gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCgzKS5zaGFkZXJQcm9ncmFtLFxuICAgICAgICAndV9jaGFubmVsRmxhZydcbiAgICAgICk7XG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxuICAgICAgICAzXG4gICAgICApLnVuaWZvcm1CYXNlQ29sb3JMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDMpLnNoYWRlclByb2dyYW0sXG4gICAgICAgICd1X2Jhc2VDb2xvcidcbiAgICAgICk7XG5cbiAgICAgIC8vIOWKoOeul++8iFByZW11bHRpcGxpZWRBbHBoYe+8iVxuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcbiAgICAgICAgNFxuICAgICAgKS5hdHRyaWJ1dGVQb3NpdGlvbkxvY2F0aW9uID0gdGhpcy5nbC5nZXRBdHRyaWJMb2NhdGlvbihcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg0KS5zaGFkZXJQcm9ncmFtLFxuICAgICAgICAnYV9wb3NpdGlvbidcbiAgICAgICk7XG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxuICAgICAgICA0XG4gICAgICApLmF0dHJpYnV0ZVRleENvb3JkTG9jYXRpb24gPSB0aGlzLmdsLmdldEF0dHJpYkxvY2F0aW9uKFxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDQpLnNoYWRlclByb2dyYW0sXG4gICAgICAgICdhX3RleENvb3JkJ1xuICAgICAgKTtcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXG4gICAgICAgIDRcbiAgICAgICkuc2FtcGxlclRleHR1cmUwTG9jYXRpb24gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg0KS5zaGFkZXJQcm9ncmFtLFxuICAgICAgICAnc190ZXh0dXJlMCdcbiAgICAgICk7XG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDQpLnVuaWZvcm1NYXRyaXhMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDQpLnNoYWRlclByb2dyYW0sXG4gICAgICAgICd1X21hdHJpeCdcbiAgICAgICk7XG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxuICAgICAgICA0XG4gICAgICApLnVuaWZvcm1CYXNlQ29sb3JMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDQpLnNoYWRlclByb2dyYW0sXG4gICAgICAgICd1X2Jhc2VDb2xvcidcbiAgICAgICk7XG5cbiAgICAgIC8vIOWKoOeul++8iOOCr+ODquODg+ODlOODs+OCsOOAgVByZW11bHRpcGxpZWRBbHBoYe+8iVxuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcbiAgICAgICAgNVxuICAgICAgKS5hdHRyaWJ1dGVQb3NpdGlvbkxvY2F0aW9uID0gdGhpcy5nbC5nZXRBdHRyaWJMb2NhdGlvbihcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg1KS5zaGFkZXJQcm9ncmFtLFxuICAgICAgICAnYV9wb3NpdGlvbidcbiAgICAgICk7XG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxuICAgICAgICA1XG4gICAgICApLmF0dHJpYnV0ZVRleENvb3JkTG9jYXRpb24gPSB0aGlzLmdsLmdldEF0dHJpYkxvY2F0aW9uKFxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDUpLnNoYWRlclByb2dyYW0sXG4gICAgICAgICdhX3RleENvb3JkJ1xuICAgICAgKTtcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXG4gICAgICAgIDVcbiAgICAgICkuc2FtcGxlclRleHR1cmUwTG9jYXRpb24gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg1KS5zaGFkZXJQcm9ncmFtLFxuICAgICAgICAnc190ZXh0dXJlMCdcbiAgICAgICk7XG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxuICAgICAgICA1XG4gICAgICApLnNhbXBsZXJUZXh0dXJlMUxvY2F0aW9uID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24oXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoNSkuc2hhZGVyUHJvZ3JhbSxcbiAgICAgICAgJ3NfdGV4dHVyZTEnXG4gICAgICApO1xuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg1KS51bmlmb3JtTWF0cml4TG9jYXRpb24gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg1KS5zaGFkZXJQcm9ncmFtLFxuICAgICAgICAndV9tYXRyaXgnXG4gICAgICApO1xuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcbiAgICAgICAgNVxuICAgICAgKS51bmlmb3JtQ2xpcE1hdHJpeExvY2F0aW9uID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24oXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoNSkuc2hhZGVyUHJvZ3JhbSxcbiAgICAgICAgJ3VfY2xpcE1hdHJpeCdcbiAgICAgICk7XG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxuICAgICAgICA1XG4gICAgICApLnVuaWZvcm1DaGFubmVsRmxhZ0xvY2F0aW9uID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24oXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoNSkuc2hhZGVyUHJvZ3JhbSxcbiAgICAgICAgJ3VfY2hhbm5lbEZsYWcnXG4gICAgICApO1xuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcbiAgICAgICAgNVxuICAgICAgKS51bmlmb3JtQmFzZUNvbG9yTG9jYXRpb24gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg1KS5zaGFkZXJQcm9ncmFtLFxuICAgICAgICAndV9iYXNlQ29sb3InXG4gICAgICApO1xuXG4gICAgICAvLyDliqDnrpfvvIjjgq/jg6rjg4Pjg5Tjg7PjgrDjg7vlj43ou6LjgIFQcmVtdWx0aXBsaWVkQWxwaGHvvIlcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXG4gICAgICAgIDZcbiAgICAgICkuYXR0cmlidXRlUG9zaXRpb25Mb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0QXR0cmliTG9jYXRpb24oXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoNikuc2hhZGVyUHJvZ3JhbSxcbiAgICAgICAgJ2FfcG9zaXRpb24nXG4gICAgICApO1xuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcbiAgICAgICAgNlxuICAgICAgKS5hdHRyaWJ1dGVUZXhDb29yZExvY2F0aW9uID0gdGhpcy5nbC5nZXRBdHRyaWJMb2NhdGlvbihcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg2KS5zaGFkZXJQcm9ncmFtLFxuICAgICAgICAnYV90ZXhDb29yZCdcbiAgICAgICk7XG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxuICAgICAgICA2XG4gICAgICApLnNhbXBsZXJUZXh0dXJlMExvY2F0aW9uID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24oXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoNikuc2hhZGVyUHJvZ3JhbSxcbiAgICAgICAgJ3NfdGV4dHVyZTAnXG4gICAgICApO1xuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcbiAgICAgICAgNlxuICAgICAgKS5zYW1wbGVyVGV4dHVyZTFMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDYpLnNoYWRlclByb2dyYW0sXG4gICAgICAgICdzX3RleHR1cmUxJ1xuICAgICAgKTtcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoNikudW5pZm9ybU1hdHJpeExvY2F0aW9uID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24oXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoNikuc2hhZGVyUHJvZ3JhbSxcbiAgICAgICAgJ3VfbWF0cml4J1xuICAgICAgKTtcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXG4gICAgICAgIDZcbiAgICAgICkudW5pZm9ybUNsaXBNYXRyaXhMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDYpLnNoYWRlclByb2dyYW0sXG4gICAgICAgICd1X2NsaXBNYXRyaXgnXG4gICAgICApO1xuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcbiAgICAgICAgNlxuICAgICAgKS51bmlmb3JtQ2hhbm5lbEZsYWdMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDYpLnNoYWRlclByb2dyYW0sXG4gICAgICAgICd1X2NoYW5uZWxGbGFnJ1xuICAgICAgKTtcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXG4gICAgICAgIDZcbiAgICAgICkudW5pZm9ybUJhc2VDb2xvckxvY2F0aW9uID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24oXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoNikuc2hhZGVyUHJvZ3JhbSxcbiAgICAgICAgJ3VfYmFzZUNvbG9yJ1xuICAgICAgKTtcblxuICAgICAgLy8g5LmX566X77yIUHJlbXVsdGlwbGllZEFscGhh77yJXG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxuICAgICAgICA3XG4gICAgICApLmF0dHJpYnV0ZVBvc2l0aW9uTG9jYXRpb24gPSB0aGlzLmdsLmdldEF0dHJpYkxvY2F0aW9uKFxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDcpLnNoYWRlclByb2dyYW0sXG4gICAgICAgICdhX3Bvc2l0aW9uJ1xuICAgICAgKTtcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXG4gICAgICAgIDdcbiAgICAgICkuYXR0cmlidXRlVGV4Q29vcmRMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0QXR0cmliTG9jYXRpb24oXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoNykuc2hhZGVyUHJvZ3JhbSxcbiAgICAgICAgJ2FfdGV4Q29vcmQnXG4gICAgICApO1xuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcbiAgICAgICAgN1xuICAgICAgKS5zYW1wbGVyVGV4dHVyZTBMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDcpLnNoYWRlclByb2dyYW0sXG4gICAgICAgICdzX3RleHR1cmUwJ1xuICAgICAgKTtcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoNykudW5pZm9ybU1hdHJpeExvY2F0aW9uID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24oXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoNykuc2hhZGVyUHJvZ3JhbSxcbiAgICAgICAgJ3VfbWF0cml4J1xuICAgICAgKTtcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXG4gICAgICAgIDdcbiAgICAgICkudW5pZm9ybUJhc2VDb2xvckxvY2F0aW9uID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24oXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoNykuc2hhZGVyUHJvZ3JhbSxcbiAgICAgICAgJ3VfYmFzZUNvbG9yJ1xuICAgICAgKTtcblxuICAgICAgLy8g5LmX566X77yI44Kv44Oq44OD44OU44Oz44Kw44CBUHJlbXVsdGlwbGllZEFscGhh77yJXG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxuICAgICAgICA4XG4gICAgICApLmF0dHJpYnV0ZVBvc2l0aW9uTG9jYXRpb24gPSB0aGlzLmdsLmdldEF0dHJpYkxvY2F0aW9uKFxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDgpLnNoYWRlclByb2dyYW0sXG4gICAgICAgICdhX3Bvc2l0aW9uJ1xuICAgICAgKTtcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXG4gICAgICAgIDhcbiAgICAgICkuYXR0cmlidXRlVGV4Q29vcmRMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0QXR0cmliTG9jYXRpb24oXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoOCkuc2hhZGVyUHJvZ3JhbSxcbiAgICAgICAgJ2FfdGV4Q29vcmQnXG4gICAgICApO1xuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcbiAgICAgICAgOFxuICAgICAgKS5zYW1wbGVyVGV4dHVyZTBMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDgpLnNoYWRlclByb2dyYW0sXG4gICAgICAgICdzX3RleHR1cmUwJ1xuICAgICAgKTtcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXG4gICAgICAgIDhcbiAgICAgICkuc2FtcGxlclRleHR1cmUxTG9jYXRpb24gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg4KS5zaGFkZXJQcm9ncmFtLFxuICAgICAgICAnc190ZXh0dXJlMSdcbiAgICAgICk7XG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDgpLnVuaWZvcm1NYXRyaXhMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDgpLnNoYWRlclByb2dyYW0sXG4gICAgICAgICd1X21hdHJpeCdcbiAgICAgICk7XG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxuICAgICAgICA4XG4gICAgICApLnVuaWZvcm1DbGlwTWF0cml4TG9jYXRpb24gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg4KS5zaGFkZXJQcm9ncmFtLFxuICAgICAgICAndV9jbGlwTWF0cml4J1xuICAgICAgKTtcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXG4gICAgICAgIDhcbiAgICAgICkudW5pZm9ybUNoYW5uZWxGbGFnTG9jYXRpb24gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg4KS5zaGFkZXJQcm9ncmFtLFxuICAgICAgICAndV9jaGFubmVsRmxhZydcbiAgICAgICk7XG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxuICAgICAgICA4XG4gICAgICApLnVuaWZvcm1CYXNlQ29sb3JMb2NhdGlvbiA9IHRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKFxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDgpLnNoYWRlclByb2dyYW0sXG4gICAgICAgICd1X2Jhc2VDb2xvcidcbiAgICAgICk7XG5cbiAgICAgIC8vIOS5l+eul++8iOOCr+ODquODg+ODlOODs+OCsOODu+WPjei7ouOAgVByZW11bHRpcGxpZWRBbHBoYe+8iVxuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcbiAgICAgICAgOVxuICAgICAgKS5hdHRyaWJ1dGVQb3NpdGlvbkxvY2F0aW9uID0gdGhpcy5nbC5nZXRBdHRyaWJMb2NhdGlvbihcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg5KS5zaGFkZXJQcm9ncmFtLFxuICAgICAgICAnYV9wb3NpdGlvbidcbiAgICAgICk7XG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxuICAgICAgICA5XG4gICAgICApLmF0dHJpYnV0ZVRleENvb3JkTG9jYXRpb24gPSB0aGlzLmdsLmdldEF0dHJpYkxvY2F0aW9uKFxuICAgICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KDkpLnNoYWRlclByb2dyYW0sXG4gICAgICAgICdhX3RleENvb3JkJ1xuICAgICAgKTtcbiAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoXG4gICAgICAgIDlcbiAgICAgICkuc2FtcGxlclRleHR1cmUwTG9jYXRpb24gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg5KS5zaGFkZXJQcm9ncmFtLFxuICAgICAgICAnc190ZXh0dXJlMCdcbiAgICAgICk7XG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxuICAgICAgICA5XG4gICAgICApLnNhbXBsZXJUZXh0dXJlMUxvY2F0aW9uID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24oXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoOSkuc2hhZGVyUHJvZ3JhbSxcbiAgICAgICAgJ3NfdGV4dHVyZTEnXG4gICAgICApO1xuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg5KS51bmlmb3JtTWF0cml4TG9jYXRpb24gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg5KS5zaGFkZXJQcm9ncmFtLFxuICAgICAgICAndV9tYXRyaXgnXG4gICAgICApO1xuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcbiAgICAgICAgOVxuICAgICAgKS51bmlmb3JtQ2xpcE1hdHJpeExvY2F0aW9uID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24oXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoOSkuc2hhZGVyUHJvZ3JhbSxcbiAgICAgICAgJ3VfY2xpcE1hdHJpeCdcbiAgICAgICk7XG4gICAgICB0aGlzLl9zaGFkZXJTZXRzLmF0KFxuICAgICAgICA5XG4gICAgICApLnVuaWZvcm1DaGFubmVsRmxhZ0xvY2F0aW9uID0gdGhpcy5nbC5nZXRVbmlmb3JtTG9jYXRpb24oXG4gICAgICAgIHRoaXMuX3NoYWRlclNldHMuYXQoOSkuc2hhZGVyUHJvZ3JhbSxcbiAgICAgICAgJ3VfY2hhbm5lbEZsYWcnXG4gICAgICApO1xuICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdChcbiAgICAgICAgOVxuICAgICAgKS51bmlmb3JtQmFzZUNvbG9yTG9jYXRpb24gPSB0aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihcbiAgICAgICAgdGhpcy5fc2hhZGVyU2V0cy5hdCg5KS5zaGFkZXJQcm9ncmFtLFxuICAgICAgICAndV9iYXNlQ29sb3InXG4gICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOOCt+OCp+ODvOODgOODl+ODreOCsOODqeODoOOCkuODreODvOODieOBl+OBpuOCouODieODrOOCueOCkui/lOOBmVxuICAgICAqIEBwYXJhbSB2ZXJ0ZXhTaGFkZXJTb3VyY2UgICAg6aCC54K544K344Kn44O844OA44Gu44K944O844K5XG4gICAgICogQHBhcmFtIGZyYWdtZW50U2hhZGVyU291cmNlICDjg5Xjg6njgrDjg6Hjg7Pjg4jjgrfjgqfjg7zjg4Djga7jgr3jg7zjgrlcbiAgICAgKiBAcmV0dXJuIOOCt+OCp+ODvOODgOODl+ODreOCsOODqeODoOOBruOCouODieODrOOCuVxuICAgICAqL1xuICAgIHB1YmxpYyBsb2FkU2hhZGVyUHJvZ3JhbShcbiAgICAgIHZlcnRleFNoYWRlclNvdXJjZTogc3RyaW5nLFxuICAgICAgZnJhZ21lbnRTaGFkZXJTb3VyY2U6IHN0cmluZ1xuICAgICk6IFdlYkdMUHJvZ3JhbSB7XG4gICAgICAvLyBDcmVhdGUgU2hhZGVyIFByb2dyYW1cbiAgICAgIGxldCBzaGFkZXJQcm9ncmFtOiBXZWJHTFByb2dyYW0gPSB0aGlzLmdsLmNyZWF0ZVByb2dyYW0oKTtcblxuICAgICAgbGV0IHZlcnRTaGFkZXIgPSB0aGlzLmNvbXBpbGVTaGFkZXJTb3VyY2UoXG4gICAgICAgIHRoaXMuZ2wuVkVSVEVYX1NIQURFUixcbiAgICAgICAgdmVydGV4U2hhZGVyU291cmNlXG4gICAgICApO1xuXG4gICAgICBpZiAoIXZlcnRTaGFkZXIpIHtcbiAgICAgICAgQ3ViaXNtTG9nRXJyb3IoJ1ZlcnRleCBzaGFkZXIgY29tcGlsZSBlcnJvciEnKTtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG5cbiAgICAgIGxldCBmcmFnU2hhZGVyID0gdGhpcy5jb21waWxlU2hhZGVyU291cmNlKFxuICAgICAgICB0aGlzLmdsLkZSQUdNRU5UX1NIQURFUixcbiAgICAgICAgZnJhZ21lbnRTaGFkZXJTb3VyY2VcbiAgICAgICk7XG4gICAgICBpZiAoIWZyYWdTaGFkZXIpIHtcbiAgICAgICAgQ3ViaXNtTG9nRXJyb3IoJ1ZlcnRleCBzaGFkZXIgY29tcGlsZSBlcnJvciEnKTtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG5cbiAgICAgIC8vIEF0dGFjaCB2ZXJ0ZXggc2hhZGVyIHRvIHByb2dyYW1cbiAgICAgIHRoaXMuZ2wuYXR0YWNoU2hhZGVyKHNoYWRlclByb2dyYW0sIHZlcnRTaGFkZXIpO1xuXG4gICAgICAvLyBBdHRhY2ggZnJhZ21lbnQgc2hhZGVyIHRvIHByb2dyYW1cbiAgICAgIHRoaXMuZ2wuYXR0YWNoU2hhZGVyKHNoYWRlclByb2dyYW0sIGZyYWdTaGFkZXIpO1xuXG4gICAgICAvLyBsaW5rIHByb2dyYW1cbiAgICAgIHRoaXMuZ2wubGlua1Byb2dyYW0oc2hhZGVyUHJvZ3JhbSk7XG4gICAgICBjb25zdCBsaW5rU3RhdHVzID0gdGhpcy5nbC5nZXRQcm9ncmFtUGFyYW1ldGVyKFxuICAgICAgICBzaGFkZXJQcm9ncmFtLFxuICAgICAgICB0aGlzLmdsLkxJTktfU1RBVFVTXG4gICAgICApO1xuXG4gICAgICAvLyDjg6rjg7Pjgq/jgavlpLHmlZfjgZfjgZ/jgonjgrfjgqfjg7zjg4Djg7zjgpLliYrpmaRcbiAgICAgIGlmICghbGlua1N0YXR1cykge1xuICAgICAgICBDdWJpc21Mb2dFcnJvcignRmFpbGVkIHRvIGxpbmsgcHJvZ3JhbTogezB9Jywgc2hhZGVyUHJvZ3JhbSk7XG5cbiAgICAgICAgdGhpcy5nbC5kZWxldGVTaGFkZXIodmVydFNoYWRlcik7XG4gICAgICAgIHZlcnRTaGFkZXIgPSAwO1xuXG4gICAgICAgIHRoaXMuZ2wuZGVsZXRlU2hhZGVyKGZyYWdTaGFkZXIpO1xuICAgICAgICBmcmFnU2hhZGVyID0gMDtcblxuICAgICAgICBpZiAoc2hhZGVyUHJvZ3JhbSkge1xuICAgICAgICAgIHRoaXMuZ2wuZGVsZXRlUHJvZ3JhbShzaGFkZXJQcm9ncmFtKTtcbiAgICAgICAgICBzaGFkZXJQcm9ncmFtID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuXG4gICAgICAvLyBSZWxlYXNlIHZlcnRleCBhbmQgZnJhZ21lbnQgc2hhZGVycy5cbiAgICAgIHRoaXMuZ2wuZGVsZXRlU2hhZGVyKHZlcnRTaGFkZXIpO1xuICAgICAgdGhpcy5nbC5kZWxldGVTaGFkZXIoZnJhZ1NoYWRlcik7XG5cbiAgICAgIHJldHVybiBzaGFkZXJQcm9ncmFtO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOOCt+OCp+ODvOODgOODvOODl+ODreOCsOODqeODoOOCkuOCs+ODs+ODkeOCpOODq+OBmeOCi1xuICAgICAqIEBwYXJhbSBzaGFkZXJUeXBlIOOCt+OCp+ODvOODgOOCv+OCpOODlyhWZXJ0ZXgvRnJhZ21lbnQpXG4gICAgICogQHBhcmFtIHNoYWRlclNvdXJjZSDjgrfjgqfjg7zjg4Djgr3jg7zjgrnjgrPjg7zjg4lcbiAgICAgKlxuICAgICAqIEByZXR1cm4g44Kz44Oz44OR44Kk44Or44GV44KM44Gf44K344Kn44O844OA44O844OX44Ot44Kw44Op44OgXG4gICAgICovXG4gICAgcHVibGljIGNvbXBpbGVTaGFkZXJTb3VyY2UoXG4gICAgICBzaGFkZXJUeXBlOiBHTGVudW0sXG4gICAgICBzaGFkZXJTb3VyY2U6IHN0cmluZ1xuICAgICk6IFdlYkdMUHJvZ3JhbSB7XG4gICAgICBjb25zdCBzb3VyY2U6IHN0cmluZyA9IHNoYWRlclNvdXJjZTtcblxuICAgICAgY29uc3Qgc2hhZGVyOiBXZWJHTFByb2dyYW0gPSB0aGlzLmdsLmNyZWF0ZVNoYWRlcihzaGFkZXJUeXBlKTtcbiAgICAgIHRoaXMuZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc291cmNlKTtcbiAgICAgIHRoaXMuZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xuXG4gICAgICBpZiAoIXNoYWRlcikge1xuICAgICAgICBjb25zdCBsb2c6IHN0cmluZyA9IHRoaXMuZ2wuZ2V0U2hhZGVySW5mb0xvZyhzaGFkZXIpO1xuICAgICAgICBDdWJpc21Mb2dFcnJvcignU2hhZGVyIGNvbXBpbGUgbG9nOiB7MH0gJywgbG9nKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc3RhdHVzOiBhbnkgPSB0aGlzLmdsLmdldFNoYWRlclBhcmFtZXRlcihcbiAgICAgICAgc2hhZGVyLFxuICAgICAgICB0aGlzLmdsLkNPTVBJTEVfU1RBVFVTXG4gICAgICApO1xuICAgICAgaWYgKCFzdGF0dXMpIHtcbiAgICAgICAgdGhpcy5nbC5kZWxldGVTaGFkZXIoc2hhZGVyKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzaGFkZXI7XG4gICAgfVxuXG4gICAgcHVibGljIHNldEdsKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQpOiB2b2lkIHtcbiAgICAgIHRoaXMuZ2wgPSBnbDtcbiAgICB9XG5cbiAgICBfc2hhZGVyU2V0czogY3NtVmVjdG9yPEN1YmlzbVNoYWRlclNldD47IC8vIOODreODvOODieOBl+OBn+OCt+OCp+ODvOODgOODvOODl+ODreOCsOODqeODoOOCkuS/neaMgeOBmeOCi+WkieaVsFxuICAgIGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQ7IC8vIHdlYmds44Kz44Oz44OG44Kt44K544OIXG4gIH1cblxuICAvKipcbiAgICogQ3ViaXNtU2hhZGVyX1dlYkdM44Gu44Kk44Oz44OK44O844Kv44Op44K5XG4gICAqL1xuICBleHBvcnQgY2xhc3MgQ3ViaXNtU2hhZGVyU2V0IHtcbiAgICBzaGFkZXJQcm9ncmFtOiBXZWJHTFByb2dyYW07IC8vIOOCt+OCp+ODvOODgOODvOODl+ODreOCsOODqeODoOOBruOCouODieODrOOCuVxuICAgIGF0dHJpYnV0ZVBvc2l0aW9uTG9jYXRpb246IEdMdWludDsgLy8g44K344Kn44O844OA44O844OX44Ot44Kw44Op44Og44Gr5rih44GZ5aSJ5pWw44Gu44Ki44OJ44Os44K577yIUG9zaXRpb27vvIlcbiAgICBhdHRyaWJ1dGVUZXhDb29yZExvY2F0aW9uOiBHTHVpbnQ7IC8vIOOCt+OCp+ODvOODgOODvOODl+ODreOCsOODqeODoOOBq+a4oeOBmeWkieaVsOOBruOCouODieODrOOCue+8iFRleENvb3Jk77yJXG4gICAgdW5pZm9ybU1hdHJpeExvY2F0aW9uOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbjsgLy8g44K344Kn44O844OA44O844OX44Ot44Kw44Op44Og44Gr5rih44GZ5aSJ5pWw44Gu44Ki44OJ44Os44K577yITWF0cml477yJXG4gICAgdW5pZm9ybUNsaXBNYXRyaXhMb2NhdGlvbjogV2ViR0xVbmlmb3JtTG9jYXRpb247IC8vIOOCt+OCp+ODvOODgOODvOODl+ODreOCsOODqeODoOOBq+a4oeOBmeWkieaVsOOBruOCouODieODrOOCue+8iENsaXBNYXRyaXjvvIlcbiAgICBzYW1wbGVyVGV4dHVyZTBMb2NhdGlvbjogV2ViR0xVbmlmb3JtTG9jYXRpb247IC8vIOOCt+OCp+ODvOODgOODvOODl+ODreOCsOODqeODoOOBq+a4oeOBmeWkieaVsOOBruOCouODieODrOOCue+8iFRleHR1cmUw77yJXG4gICAgc2FtcGxlclRleHR1cmUxTG9jYXRpb246IFdlYkdMVW5pZm9ybUxvY2F0aW9uOyAvLyDjgrfjgqfjg7zjg4Djg7zjg5fjg63jgrDjg6njg6DjgavmuKHjgZnlpInmlbDjga7jgqLjg4njg6zjgrnvvIhUZXh0dXJlMe+8iVxuICAgIHVuaWZvcm1CYXNlQ29sb3JMb2NhdGlvbjogV2ViR0xVbmlmb3JtTG9jYXRpb247IC8vIOOCt+OCp+ODvOODgOODvOODl+ODreOCsOODqeODoOOBq+a4oeOBmeWkieaVsOOBruOCouODieODrOOCue+8iEJhc2VDb2xvcu+8iVxuICAgIHVuaWZvcm1DaGFubmVsRmxhZ0xvY2F0aW9uOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbjsgLy8g44K344Kn44O844OA44O844OX44Ot44Kw44Op44Og44Gr5rih44GZ5aSJ5pWw44Gu44Ki44OJ44Os44K577yIQ2hhbm5lbEZsYWfvvIlcbiAgfVxuXG4gIGV4cG9ydCBlbnVtIFNoYWRlck5hbWVzIHtcbiAgICAvLyBTZXR1cE1hc2tcbiAgICBTaGFkZXJOYW1lc19TZXR1cE1hc2ssXG5cbiAgICAvLyBOb3JtYWxcbiAgICBTaGFkZXJOYW1lc19Ob3JtYWxQcmVtdWx0aXBsaWVkQWxwaGEsXG4gICAgU2hhZGVyTmFtZXNfTm9ybWFsTWFza2VkUHJlbXVsdGlwbGllZEFscGhhLFxuICAgIFNoYWRlck5hbWVzX05vbXJhbE1hc2tlZEludmVydGVkUHJlbXVsdGlwbGllZEFscGhhLFxuXG4gICAgLy8gQWRkXG4gICAgU2hhZGVyTmFtZXNfQWRkUHJlbXVsdGlwbGllZEFscGhhLFxuICAgIFNoYWRlck5hbWVzX0FkZE1hc2tlZFByZW11bHRpcGxpZWRBbHBoYSxcbiAgICBTaGFkZXJOYW1lc19BZGRNYXNrZWRQcmVtdWx0aXBsaWVkQWxwaGFJbnZlcnRlZCxcblxuICAgIC8vIE11bHRcbiAgICBTaGFkZXJOYW1lc19NdWx0UHJlbXVsdGlwbGllZEFscGhhLFxuICAgIFNoYWRlck5hbWVzX011bHRNYXNrZWRQcmVtdWx0aXBsaWVkQWxwaGEsXG4gICAgU2hhZGVyTmFtZXNfTXVsdE1hc2tlZFByZW11bHRpcGxpZWRBbHBoYUludmVydGVkXG4gIH1cblxuICBleHBvcnQgY29uc3QgdmVydGV4U2hhZGVyU3JjU2V0dXBNYXNrID1cbiAgICAnYXR0cmlidXRlIHZlYzQgICAgIGFfcG9zaXRpb247JyArXG4gICAgJ2F0dHJpYnV0ZSB2ZWMyICAgICBhX3RleENvb3JkOycgK1xuICAgICd2YXJ5aW5nIHZlYzIgICAgICAgdl90ZXhDb29yZDsnICtcbiAgICAndmFyeWluZyB2ZWM0ICAgICAgIHZfbXlQb3M7JyArXG4gICAgJ3VuaWZvcm0gbWF0NCAgICAgICB1X2NsaXBNYXRyaXg7JyArXG4gICAgJ3ZvaWQgbWFpbigpJyArXG4gICAgJ3snICtcbiAgICAnICAgZ2xfUG9zaXRpb24gPSB1X2NsaXBNYXRyaXggKiBhX3Bvc2l0aW9uOycgK1xuICAgICcgICB2X215UG9zID0gdV9jbGlwTWF0cml4ICogYV9wb3NpdGlvbjsnICtcbiAgICAnICAgdl90ZXhDb29yZCA9IGFfdGV4Q29vcmQ7JyArXG4gICAgJyAgIHZfdGV4Q29vcmQueSA9IDEuMCAtIHZfdGV4Q29vcmQueTsnICtcbiAgICAnfSc7XG4gIGV4cG9ydCBjb25zdCBmcmFnbWVudFNoYWRlclNyY3NldHVwTWFzayA9XG4gICAgJ3ByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OycgK1xuICAgICd2YXJ5aW5nIHZlYzIgICAgICAgdl90ZXhDb29yZDsnICtcbiAgICAndmFyeWluZyB2ZWM0ICAgICAgIHZfbXlQb3M7JyArXG4gICAgJ3VuaWZvcm0gdmVjNCAgICAgICB1X2Jhc2VDb2xvcjsnICtcbiAgICAndW5pZm9ybSB2ZWM0ICAgICAgIHVfY2hhbm5lbEZsYWc7JyArXG4gICAgJ3VuaWZvcm0gc2FtcGxlcjJEICBzX3RleHR1cmUwOycgK1xuICAgICd2b2lkIG1haW4oKScgK1xuICAgICd7JyArXG4gICAgJyAgIGZsb2F0IGlzSW5zaWRlID0gJyArXG4gICAgJyAgICAgICBzdGVwKHVfYmFzZUNvbG9yLngsIHZfbXlQb3MueC92X215UG9zLncpJyArXG4gICAgJyAgICAgICAqIHN0ZXAodV9iYXNlQ29sb3IueSwgdl9teVBvcy55L3ZfbXlQb3MudyknICtcbiAgICAnICAgICAgICogc3RlcCh2X215UG9zLngvdl9teVBvcy53LCB1X2Jhc2VDb2xvci56KScgK1xuICAgICcgICAgICAgKiBzdGVwKHZfbXlQb3MueS92X215UG9zLncsIHVfYmFzZUNvbG9yLncpOycgK1xuICAgICcgICBnbF9GcmFnQ29sb3IgPSB1X2NoYW5uZWxGbGFnICogdGV4dHVyZTJEKHNfdGV4dHVyZTAsIHZfdGV4Q29vcmQpLmEgKiBpc0luc2lkZTsnICtcbiAgICAnfSc7XG5cbiAgLy8tLS0tLSDjg5Djg7zjg4bjg4Pjgq/jgrnjgrfjgqfjg7zjg4Djg5fjg63jgrDjg6njg6AgLS0tLS1cbiAgLy8gTm9ybWFsICYgQWRkICYgTXVsdCDlhbHpgJpcbiAgZXhwb3J0IGNvbnN0IHZlcnRleFNoYWRlclNyYyA9XG4gICAgJ2F0dHJpYnV0ZSB2ZWM0ICAgICBhX3Bvc2l0aW9uOycgKyAvL3YudmVydGV4XG4gICAgJ2F0dHJpYnV0ZSB2ZWMyICAgICBhX3RleENvb3JkOycgKyAvL3YudGV4Y29vcmRcbiAgICAndmFyeWluZyB2ZWMyICAgICAgIHZfdGV4Q29vcmQ7JyArIC8vdjJmLnRleGNvb3JkXG4gICAgJ3VuaWZvcm0gbWF0NCAgICAgICB1X21hdHJpeDsnICtcbiAgICAndm9pZCBtYWluKCknICtcbiAgICAneycgK1xuICAgICcgICBnbF9Qb3NpdGlvbiA9IHVfbWF0cml4ICogYV9wb3NpdGlvbjsnICtcbiAgICAnICAgdl90ZXhDb29yZCA9IGFfdGV4Q29vcmQ7JyArXG4gICAgJyAgIHZfdGV4Q29vcmQueSA9IDEuMCAtIHZfdGV4Q29vcmQueTsnICtcbiAgICAnfSc7XG5cbiAgLy8gTm9ybWFsICYgQWRkICYgTXVsdCDlhbHpgJrvvIjjgq/jg6rjg4Pjg5Tjg7PjgrDjgZXjgozjgZ/jgoLjga7jga7mj4/nlLvnlKjvvIlcbiAgZXhwb3J0IGNvbnN0IHZlcnRleFNoYWRlclNyY01hc2tlZCA9XG4gICAgJ2F0dHJpYnV0ZSB2ZWM0ICAgICBhX3Bvc2l0aW9uOycgK1xuICAgICdhdHRyaWJ1dGUgdmVjMiAgICAgYV90ZXhDb29yZDsnICtcbiAgICAndmFyeWluZyB2ZWMyICAgICAgIHZfdGV4Q29vcmQ7JyArXG4gICAgJ3ZhcnlpbmcgdmVjNCAgICAgICB2X2NsaXBQb3M7JyArXG4gICAgJ3VuaWZvcm0gbWF0NCAgICAgICB1X21hdHJpeDsnICtcbiAgICAndW5pZm9ybSBtYXQ0ICAgICAgIHVfY2xpcE1hdHJpeDsnICtcbiAgICAndm9pZCBtYWluKCknICtcbiAgICAneycgK1xuICAgICcgICBnbF9Qb3NpdGlvbiA9IHVfbWF0cml4ICogYV9wb3NpdGlvbjsnICtcbiAgICAnICAgdl9jbGlwUG9zID0gdV9jbGlwTWF0cml4ICogYV9wb3NpdGlvbjsnICtcbiAgICAnICAgdl90ZXhDb29yZCA9IGFfdGV4Q29vcmQ7JyArXG4gICAgJyAgIHZfdGV4Q29vcmQueSA9IDEuMCAtIHZfdGV4Q29vcmQueTsnICtcbiAgICAnfSc7XG5cbiAgLy8tLS0tLSDjg5Xjg6njgrDjg6Hjg7Pjg4jjgrfjgqfjg7zjg4Djg5fjg63jgrDjg6njg6AgLS0tLS1cbiAgLy8gTm9ybWFsICYgQWRkICYgTXVsdCDlhbHpgJog77yIUHJlbXVsdGlwbGllZEFscGhh77yJXG4gIGV4cG9ydCBjb25zdCBmcmFnbWVudFNoYWRlclNyY1ByZW11bHRpcGxpZWRBbHBoYSA9XG4gICAgJ3ByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OycgK1xuICAgICd2YXJ5aW5nIHZlYzIgICAgICAgdl90ZXhDb29yZDsnICsgLy92MmYudGV4Y29vcmRcbiAgICAndW5pZm9ybSB2ZWM0ICAgICAgIHVfYmFzZUNvbG9yOycgK1xuICAgICd1bmlmb3JtIHNhbXBsZXIyRCAgc190ZXh0dXJlMDsnICsgLy9fTWFpblRleFxuICAgICd2b2lkIG1haW4oKScgK1xuICAgICd7JyArXG4gICAgJyAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRChzX3RleHR1cmUwICwgdl90ZXhDb29yZCkgKiB1X2Jhc2VDb2xvcjsnICtcbiAgICAnfSc7XG5cbiAgLy8gTm9ybWFsIO+8iOOCr+ODquODg+ODlOODs+OCsOOBleOCjOOBn+OCguOBruOBruaPj+eUu+eUqOOAgVByZW11bHRpcGxpZWRBbHBoYeWFvOeUqO+8iVxuICBleHBvcnQgY29uc3QgZnJhZ21lbnRTaGFkZXJTcmNNYXNrUHJlbXVsdGlwbGllZEFscGhhID1cbiAgICAncHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7JyArXG4gICAgJ3ZhcnlpbmcgdmVjMiAgICAgICB2X3RleENvb3JkOycgK1xuICAgICd2YXJ5aW5nIHZlYzQgICAgICAgdl9jbGlwUG9zOycgK1xuICAgICd1bmlmb3JtIHZlYzQgICAgICAgdV9iYXNlQ29sb3I7JyArXG4gICAgJ3VuaWZvcm0gdmVjNCAgICAgICB1X2NoYW5uZWxGbGFnOycgK1xuICAgICd1bmlmb3JtIHNhbXBsZXIyRCAgc190ZXh0dXJlMDsnICtcbiAgICAndW5pZm9ybSBzYW1wbGVyMkQgIHNfdGV4dHVyZTE7JyArXG4gICAgJ3ZvaWQgbWFpbigpJyArXG4gICAgJ3snICtcbiAgICAnICAgdmVjNCBjb2xfZm9ybWFzayA9IHRleHR1cmUyRChzX3RleHR1cmUwICwgdl90ZXhDb29yZCkgKiB1X2Jhc2VDb2xvcjsnICtcbiAgICAnICAgdmVjNCBjbGlwTWFzayA9ICgxLjAgLSB0ZXh0dXJlMkQoc190ZXh0dXJlMSwgdl9jbGlwUG9zLnh5IC8gdl9jbGlwUG9zLncpKSAqIHVfY2hhbm5lbEZsYWc7JyArXG4gICAgJyAgIGZsb2F0IG1hc2tWYWwgPSBjbGlwTWFzay5yICsgY2xpcE1hc2suZyArIGNsaXBNYXNrLmIgKyBjbGlwTWFzay5hOycgK1xuICAgICcgICBjb2xfZm9ybWFzayA9IGNvbF9mb3JtYXNrICogbWFza1ZhbDsnICtcbiAgICAnICAgZ2xfRnJhZ0NvbG9yID0gY29sX2Zvcm1hc2s7JyArXG4gICAgJ30nO1xuXG4gIC8vIE5vcm1hbCAmIEFkZCAmIE11bHQg5YWx6YCa77yI44Kv44Oq44OD44OU44Oz44Kw44GV44KM44Gm5Y+N6Lui5L2/55So44Gu5o+P55S755So44CBUHJlbXVsdGlwbGllZEFscGhh44Gu5aC05ZCI77yJXG4gIGV4cG9ydCBjb25zdCBmcmFnbWVudFNoYWRlclNyY01hc2tJbnZlcnRlZFByZW11bHRpcGxpZWRBbHBoYSA9XG4gICAgJ3ByZWNpc2lvbiBtZWRpdW1wIGZsb2F0OycgK1xuICAgICd2YXJ5aW5nIHZlYzIgdl90ZXhDb29yZDsnICtcbiAgICAndmFyeWluZyB2ZWM0IHZfY2xpcFBvczsnICtcbiAgICAndW5pZm9ybSBzYW1wbGVyMkQgc190ZXh0dXJlMDsnICtcbiAgICAndW5pZm9ybSBzYW1wbGVyMkQgc190ZXh0dXJlMTsnICtcbiAgICAndW5pZm9ybSB2ZWM0IHVfY2hhbm5lbEZsYWc7JyArXG4gICAgJ3VuaWZvcm0gdmVjNCB1X2Jhc2VDb2xvcjsnICtcbiAgICAndm9pZCBtYWluKCknICtcbiAgICAneycgK1xuICAgICd2ZWM0IGNvbF9mb3JtYXNrID0gdGV4dHVyZTJEKHNfdGV4dHVyZTAsIHZfdGV4Q29vcmQpICogdV9iYXNlQ29sb3I7JyArXG4gICAgJ3ZlYzQgY2xpcE1hc2sgPSAoMS4wIC0gdGV4dHVyZTJEKHNfdGV4dHVyZTEsIHZfY2xpcFBvcy54eSAvIHZfY2xpcFBvcy53KSkgKiB1X2NoYW5uZWxGbGFnOycgK1xuICAgICdmbG9hdCBtYXNrVmFsID0gY2xpcE1hc2suciArIGNsaXBNYXNrLmcgKyBjbGlwTWFzay5iICsgY2xpcE1hc2suYTsnICtcbiAgICAnY29sX2Zvcm1hc2sgPSBjb2xfZm9ybWFzayAqICgxLjAgLSBtYXNrVmFsKTsnICtcbiAgICAnZ2xfRnJhZ0NvbG9yID0gY29sX2Zvcm1hc2s7JyArXG4gICAgJ30nO1xuXG4gIC8qKlxuICAgKiBXZWJHTOeUqOOBruaPj+eUu+WRveS7pOOCkuWun+ijheOBl+OBn+OCr+ODqeOCuVxuICAgKi9cbiAgZXhwb3J0IGNsYXNzIEN1YmlzbVJlbmRlcmVyX1dlYkdMIGV4dGVuZHMgQ3ViaXNtUmVuZGVyZXIge1xuICAgIC8qKlxuICAgICAqIOODrOODs+ODgOODqeOBruWIneacn+WMluWHpueQhuOCkuWun+ihjOOBmeOCi1xuICAgICAqIOW8leaVsOOBq+a4oeOBl+OBn+ODouODh+ODq+OBi+OCieODrOODs+ODgOODqeOBruWIneacn+WMluWHpueQhuOBq+W/heimgeOBquaDheWgseOCkuWPluOCiuWHuuOBmeOBk+OBqOOBjOOBp+OBjeOCi1xuICAgICAqXG4gICAgICogQHBhcmFtIG1vZGVsIOODouODh+ODq+OBruOCpOODs+OCueOCv+ODs+OCuVxuICAgICAqL1xuICAgIHB1YmxpYyBpbml0aWFsaXplKG1vZGVsOiBDdWJpc21Nb2RlbCk6IHZvaWQge1xuICAgICAgaWYgKG1vZGVsLmlzVXNpbmdNYXNraW5nKCkpIHtcbiAgICAgICAgdGhpcy5fY2xpcHBpbmdNYW5hZ2VyID0gbmV3IEN1YmlzbUNsaXBwaW5nTWFuYWdlcl9XZWJHTCgpOyAvLyDjgq/jg6rjg4Pjg5Tjg7PjgrDjg57jgrnjgq/jg7vjg5Djg4Pjg5XjgqHliY3lh6bnkIbmlrnlvI/jgpLliJ3mnJ/ljJZcbiAgICAgICAgdGhpcy5fY2xpcHBpbmdNYW5hZ2VyLmluaXRpYWxpemUoXG4gICAgICAgICAgbW9kZWwsXG4gICAgICAgICAgbW9kZWwuZ2V0RHJhd2FibGVDb3VudCgpLFxuICAgICAgICAgIG1vZGVsLmdldERyYXdhYmxlTWFza3MoKSxcbiAgICAgICAgICBtb2RlbC5nZXREcmF3YWJsZU1hc2tDb3VudHMoKVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9zb3J0ZWREcmF3YWJsZUluZGV4TGlzdC5yZXNpemUobW9kZWwuZ2V0RHJhd2FibGVDb3VudCgpLCAwKTtcblxuICAgICAgc3VwZXIuaW5pdGlhbGl6ZShtb2RlbCk7IC8vIOimquOCr+ODqeOCueOBruWHpueQhuOCkuWRvOOBtlxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdlYkdM44OG44Kv44K544OB44Oj44Gu44OQ44Kk44Oz44OJ5Yem55CGXG4gICAgICogQ3ViaXNtUmVuZGVyZXLjgavjg4bjgq/jgrnjg4Hjg6PjgpLoqK3lrprjgZfjgIFDdWJpc21SZW5kZXJlcuWGheOBp+OBneOBrueUu+WDj+OCkuWPgueFp+OBmeOCi+OBn+OCgeOBrkluZGV45YCk44KS5oi744KK5YCk44Go44GZ44KLXG4gICAgICogQHBhcmFtIG1vZGVsVGV4dHVyZU5vIOOCu+ODg+ODiOOBmeOCi+ODouODh+ODq+ODhuOCr+OCueODgeODo+OBrueVquWPt1xuICAgICAqIEBwYXJhbSBnbFRleHR1cmVObyBXZWJHTOODhuOCr+OCueODgeODo+OBrueVquWPt1xuICAgICAqL1xuICAgIHB1YmxpYyBiaW5kVGV4dHVyZShtb2RlbFRleHR1cmVObzogbnVtYmVyLCBnbFRleHR1cmU6IFdlYkdMVGV4dHVyZSk6IHZvaWQge1xuICAgICAgdGhpcy5fdGV4dHVyZXMuc2V0VmFsdWUobW9kZWxUZXh0dXJlTm8sIGdsVGV4dHVyZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2ViR0zjgavjg5DjgqTjg7Pjg4njgZXjgozjgZ/jg4bjgq/jgrnjg4Hjg6Pjga7jg6rjgrnjg4jjgpLlj5blvpfjgZnjgotcbiAgICAgKiBAcmV0dXJuIOODhuOCr+OCueODgeODo+OBruODquOCueODiFxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRCaW5kZWRUZXh0dXJlcygpOiBjc21NYXA8bnVtYmVyLCBXZWJHTFRleHR1cmU+IHtcbiAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjgq/jg6rjg4Pjg5Tjg7PjgrDjg57jgrnjgq/jg5Djg4Pjg5XjgqHjga7jgrXjgqTjgrrjgpLoqK3lrprjgZnjgotcbiAgICAgKiDjg57jgrnjgq/nlKjjga5GcmFtZUJ1ZmZlcuOCkuegtOajhOOAgeWGjeS9nOaIkOOBmeOCi+eCuuWHpueQhuOCs+OCueODiOOBr+mrmOOBhFxuICAgICAqIEBwYXJhbSBzaXplIOOCr+ODquODg+ODlOODs+OCsOODnuOCueOCr+ODkOODg+ODleOCoeOBruOCteOCpOOCulxuICAgICAqL1xuICAgIHB1YmxpYyBzZXRDbGlwcGluZ01hc2tCdWZmZXJTaXplKHNpemU6IG51bWJlcikge1xuICAgICAgLy8gRnJhbWVCdWZmZXLjga7jgrXjgqTjgrrjgpLlpInmm7TjgZnjgovjgZ/jgoHjgavjgqTjg7Pjgrnjgr/jg7PjgrnjgpLnoLTmo4Tjg7vlho3kvZzmiJDjgZnjgotcbiAgICAgIHRoaXMuX2NsaXBwaW5nTWFuYWdlci5yZWxlYXNlKCk7XG4gICAgICB0aGlzLl9jbGlwcGluZ01hbmFnZXIgPSB2b2lkIDA7XG4gICAgICB0aGlzLl9jbGlwcGluZ01hbmFnZXIgPSBudWxsO1xuXG4gICAgICB0aGlzLl9jbGlwcGluZ01hbmFnZXIgPSBuZXcgQ3ViaXNtQ2xpcHBpbmdNYW5hZ2VyX1dlYkdMKCk7XG5cbiAgICAgIHRoaXMuX2NsaXBwaW5nTWFuYWdlci5zZXRDbGlwcGluZ01hc2tCdWZmZXJTaXplKHNpemUpO1xuXG4gICAgICB0aGlzLl9jbGlwcGluZ01hbmFnZXIuaW5pdGlhbGl6ZShcbiAgICAgICAgdGhpcy5nZXRNb2RlbCgpLFxuICAgICAgICB0aGlzLmdldE1vZGVsKCkuZ2V0RHJhd2FibGVDb3VudCgpLFxuICAgICAgICB0aGlzLmdldE1vZGVsKCkuZ2V0RHJhd2FibGVNYXNrcygpLFxuICAgICAgICB0aGlzLmdldE1vZGVsKCkuZ2V0RHJhd2FibGVNYXNrQ291bnRzKClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Kv44Oq44OD44OU44Oz44Kw44Oe44K544Kv44OQ44OD44OV44Kh44Gu44K144Kk44K644KS5Y+W5b6X44GZ44KLXG4gICAgICogQHJldHVybiDjgq/jg6rjg4Pjg5Tjg7PjgrDjg57jgrnjgq/jg5Djg4Pjg5XjgqHjga7jgrXjgqTjgrpcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0Q2xpcHBpbmdNYXNrQnVmZmVyU2l6ZSgpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHRoaXMuX2NsaXBwaW5nTWFuYWdlci5nZXRDbGlwcGluZ01hc2tCdWZmZXJTaXplKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Kz44Oz44K544OI44Op44Kv44K/XG4gICAgICovXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgICAgc3VwZXIoKTtcbiAgICAgIHRoaXMuX2NsaXBwaW5nQ29udGV4dEJ1ZmZlckZvck1hc2sgPSBudWxsO1xuICAgICAgdGhpcy5fY2xpcHBpbmdDb250ZXh0QnVmZmVyRm9yRHJhdyA9IG51bGw7XG4gICAgICB0aGlzLl9jbGlwcGluZ01hbmFnZXIgPSBuZXcgQ3ViaXNtQ2xpcHBpbmdNYW5hZ2VyX1dlYkdMKCk7XG4gICAgICB0aGlzLmZpcnN0RHJhdyA9IHRydWU7XG4gICAgICB0aGlzLl90ZXh0dXJlcyA9IG5ldyBjc21NYXA8bnVtYmVyLCBudW1iZXI+KCk7XG4gICAgICB0aGlzLl9zb3J0ZWREcmF3YWJsZUluZGV4TGlzdCA9IG5ldyBjc21WZWN0b3I8bnVtYmVyPigpO1xuICAgICAgdGhpcy5fYnVmZmVyRGF0YSA9IHtcbiAgICAgICAgdmVydGV4OiBXZWJHTEJ1ZmZlciA9IG51bGwsXG4gICAgICAgIHV2OiBXZWJHTEJ1ZmZlciA9IG51bGwsXG4gICAgICAgIGluZGV4OiBXZWJHTEJ1ZmZlciA9IG51bGxcbiAgICAgIH07XG5cbiAgICAgIC8vIOODhuOCr+OCueODgeODo+WvvuW/nOODnuODg+ODl+OBruWuuemHj+OCkueiuuS/neOBl+OBpuOBiuOBj1xuICAgICAgdGhpcy5fdGV4dHVyZXMucHJlcGFyZUNhcGFjaXR5KDMyLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg4fjgrnjg4jjg6njgq/jgr/nm7jlvZPjga7lh6bnkIZcbiAgICAgKi9cbiAgICBwdWJsaWMgcmVsZWFzZSgpOiB2b2lkIHtcbiAgICAgIHRoaXMuX2NsaXBwaW5nTWFuYWdlci5yZWxlYXNlKCk7XG4gICAgICB0aGlzLl9jbGlwcGluZ01hbmFnZXIgPSB2b2lkIDA7XG4gICAgICB0aGlzLl9jbGlwcGluZ01hbmFnZXIgPSBudWxsO1xuXG4gICAgICB0aGlzLmdsLmRlbGV0ZUJ1ZmZlcih0aGlzLl9idWZmZXJEYXRhLnZlcnRleCk7XG4gICAgICB0aGlzLl9idWZmZXJEYXRhLnZlcnRleCA9IG51bGw7XG4gICAgICB0aGlzLmdsLmRlbGV0ZUJ1ZmZlcih0aGlzLl9idWZmZXJEYXRhLnV2KTtcbiAgICAgIHRoaXMuX2J1ZmZlckRhdGEudXYgPSBudWxsO1xuICAgICAgdGhpcy5nbC5kZWxldGVCdWZmZXIodGhpcy5fYnVmZmVyRGF0YS5pbmRleCk7XG4gICAgICB0aGlzLl9idWZmZXJEYXRhLmluZGV4ID0gbnVsbDtcbiAgICAgIHRoaXMuX2J1ZmZlckRhdGEgPSBudWxsO1xuXG4gICAgICB0aGlzLl90ZXh0dXJlcyA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Oi44OH44Or44KS5o+P55S744GZ44KL5a6f6Zqb44Gu5Yem55CGXG4gICAgICovXG4gICAgcHVibGljIGRvRHJhd01vZGVsKCk6IHZvaWQge1xuICAgICAgLy8tLS0tLS0tLS0tLS0g44Kv44Oq44OD44OU44Oz44Kw44Oe44K544Kv44O744OQ44OD44OV44Kh5YmN5Yem55CG5pa55byP44Gu5aC05ZCIIC0tLS0tLS0tLS0tLVxuICAgICAgaWYgKHRoaXMuX2NsaXBwaW5nTWFuYWdlciAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMucHJlRHJhdygpO1xuICAgICAgICB0aGlzLl9jbGlwcGluZ01hbmFnZXIuc2V0dXBDbGlwcGluZ0NvbnRleHQodGhpcy5nZXRNb2RlbCgpLCB0aGlzKTtcbiAgICAgIH1cblxuICAgICAgLy8g5LiK6KiY44Kv44Oq44OD44OU44Oz44Kw5Yem55CG5YaF44Gn44KC5LiA5bqmUHJlRHJhd+OCkuWRvOOBtuOBruOBp+azqOaEjyEhXG4gICAgICB0aGlzLnByZURyYXcoKTtcblxuICAgICAgY29uc3QgZHJhd2FibGVDb3VudDogbnVtYmVyID0gdGhpcy5nZXRNb2RlbCgpLmdldERyYXdhYmxlQ291bnQoKTtcbiAgICAgIGNvbnN0IHJlbmRlck9yZGVyOiBJbnQzMkFycmF5ID0gdGhpcy5nZXRNb2RlbCgpLmdldERyYXdhYmxlUmVuZGVyT3JkZXJzKCk7XG5cbiAgICAgIC8vIOOCpOODs+ODh+ODg+OCr+OCueOCkuaPj+eUu+mghuOBp+OCveODvOODiFxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkcmF3YWJsZUNvdW50OyArK2kpIHtcbiAgICAgICAgY29uc3Qgb3JkZXI6IG51bWJlciA9IHJlbmRlck9yZGVyW2ldO1xuICAgICAgICB0aGlzLl9zb3J0ZWREcmF3YWJsZUluZGV4TGlzdC5zZXQob3JkZXIsIGkpO1xuICAgICAgfVxuXG4gICAgICAvLyDmj4/nlLtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZHJhd2FibGVDb3VudDsgKytpKSB7XG4gICAgICAgIGNvbnN0IGRyYXdhYmxlSW5kZXg6IG51bWJlciA9IHRoaXMuX3NvcnRlZERyYXdhYmxlSW5kZXhMaXN0LmF0KGkpO1xuXG4gICAgICAgIC8vIERyYXdhYmxl44GM6KGo56S654q25oWL44Gn44Gq44GR44KM44Gw5Yem55CG44KS44OR44K544GZ44KLXG4gICAgICAgIGlmICghdGhpcy5nZXRNb2RlbCgpLmdldERyYXdhYmxlRHluYW1pY0ZsYWdJc1Zpc2libGUoZHJhd2FibGVJbmRleCkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOOCr+ODquODg+ODlOODs+OCsOODnuOCueOCr+OCkuOCu+ODg+ODiOOBmeOCi1xuICAgICAgICB0aGlzLnNldENsaXBwaW5nQ29udGV4dEJ1ZmZlckZvckRyYXcoXG4gICAgICAgICAgdGhpcy5fY2xpcHBpbmdNYW5hZ2VyICE9IG51bGxcbiAgICAgICAgICAgID8gdGhpcy5fY2xpcHBpbmdNYW5hZ2VyXG4gICAgICAgICAgICAgICAgLmdldENsaXBwaW5nQ29udGV4dExpc3RGb3JEcmF3KClcbiAgICAgICAgICAgICAgICAuYXQoZHJhd2FibGVJbmRleClcbiAgICAgICAgICAgIDogbnVsbFxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuc2V0SXNDdWxsaW5nKHRoaXMuZ2V0TW9kZWwoKS5nZXREcmF3YWJsZUN1bGxpbmcoZHJhd2FibGVJbmRleCkpO1xuXG4gICAgICAgIHRoaXMuZHJhd01lc2goXG4gICAgICAgICAgdGhpcy5nZXRNb2RlbCgpLmdldERyYXdhYmxlVGV4dHVyZUluZGljZXMoZHJhd2FibGVJbmRleCksXG4gICAgICAgICAgdGhpcy5nZXRNb2RlbCgpLmdldERyYXdhYmxlVmVydGV4SW5kZXhDb3VudChkcmF3YWJsZUluZGV4KSxcbiAgICAgICAgICB0aGlzLmdldE1vZGVsKCkuZ2V0RHJhd2FibGVWZXJ0ZXhDb3VudChkcmF3YWJsZUluZGV4KSxcbiAgICAgICAgICB0aGlzLmdldE1vZGVsKCkuZ2V0RHJhd2FibGVWZXJ0ZXhJbmRpY2VzKGRyYXdhYmxlSW5kZXgpLFxuICAgICAgICAgIHRoaXMuZ2V0TW9kZWwoKS5nZXREcmF3YWJsZVZlcnRpY2VzKGRyYXdhYmxlSW5kZXgpLFxuICAgICAgICAgIHRoaXMuZ2V0TW9kZWwoKS5nZXREcmF3YWJsZVZlcnRleFV2cyhkcmF3YWJsZUluZGV4KSxcbiAgICAgICAgICB0aGlzLmdldE1vZGVsKCkuZ2V0RHJhd2FibGVPcGFjaXR5KGRyYXdhYmxlSW5kZXgpLFxuICAgICAgICAgIHRoaXMuZ2V0TW9kZWwoKS5nZXREcmF3YWJsZUJsZW5kTW9kZShkcmF3YWJsZUluZGV4KSxcbiAgICAgICAgICB0aGlzLmdldE1vZGVsKCkuZ2V0RHJhd2FibGVJbnZlcnRlZE1hc2tCaXQoZHJhd2FibGVJbmRleClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBb44Kq44O844OQ44O844Op44Kk44OJXVxuICAgICAqIOaPj+eUu+OCquODluOCuOOCp+OCr+ODiO+8iOOCouODvOODiOODoeODg+OCt+ODpe+8ieOCkuaPj+eUu+OBmeOCi+OAglxuICAgICAqIOODneODquOCtOODs+ODoeODg+OCt+ODpeOBqOODhuOCr+OCueODgeODo+eVquWPt+OCkuOCu+ODg+ODiOOBp+a4oeOBmeOAglxuICAgICAqIEBwYXJhbSB0ZXh0dXJlTm8g5o+P55S744GZ44KL44OG44Kv44K544OB44Oj55Wq5Y+3XG4gICAgICogQHBhcmFtIGluZGV4Q291bnQg5o+P55S744Kq44OW44K444Kn44Kv44OI44Gu44Kk44Oz44OH44OD44Kv44K55YCkXG4gICAgICogQHBhcmFtIHZlcnRleENvdW50IOODneODquOCtOODs+ODoeODg+OCt+ODpeOBrumggueCueaVsFxuICAgICAqIEBwYXJhbSBpbmRleEFycmF5IOODneODquOCtOODs+ODoeODg+OCt+ODpeOBruOCpOODs+ODh+ODg+OCr+OCuemFjeWIl1xuICAgICAqIEBwYXJhbSB2ZXJ0ZXhBcnJheSDjg53jg6rjgrTjg7Pjg6Hjg4Pjgrfjg6Xjga7poILngrnphY3liJdcbiAgICAgKiBAcGFyYW0gdXZBcnJheSB1dumFjeWIl1xuICAgICAqIEBwYXJhbSBvcGFjaXR5IOS4jemAj+aYjuW6plxuICAgICAqIEBwYXJhbSBjb2xvckJsZW5kTW9kZSDjgqvjg6njg7zlkIjmiJDjgr/jgqTjg5dcbiAgICAgKiBAcGFyYW0gaW52ZXJ0ZWRNYXNrIOODnuOCueOCr+S9v+eUqOaZguOBruODnuOCueOCr+OBruWPjei7ouS9v+eUqFxuICAgICAqL1xuICAgIHB1YmxpYyBkcmF3TWVzaChcbiAgICAgIHRleHR1cmVObzogbnVtYmVyLFxuICAgICAgaW5kZXhDb3VudDogbnVtYmVyLFxuICAgICAgdmVydGV4Q291bnQ6IG51bWJlcixcbiAgICAgIGluZGV4QXJyYXk6IFVpbnQxNkFycmF5LFxuICAgICAgdmVydGV4QXJyYXk6IEZsb2F0MzJBcnJheSxcbiAgICAgIHV2QXJyYXk6IEZsb2F0MzJBcnJheSxcbiAgICAgIG9wYWNpdHk6IG51bWJlcixcbiAgICAgIGNvbG9yQmxlbmRNb2RlOiBDdWJpc21CbGVuZE1vZGUsXG4gICAgICBpbnZlcnRlZE1hc2s6IGJvb2xlYW5cbiAgICApOiB2b2lkIHtcbiAgICAgIC8vIOijj+mdouaPj+eUu+OBruacieWKueODu+eEoeWKuVxuICAgICAgaWYgKHRoaXMuaXNDdWxsaW5nKCkpIHtcbiAgICAgICAgdGhpcy5nbC5lbmFibGUodGhpcy5nbC5DVUxMX0ZBQ0UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5nbC5kaXNhYmxlKHRoaXMuZ2wuQ1VMTF9GQUNFKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5nbC5mcm9udEZhY2UodGhpcy5nbC5DQ1cpOyAvLyBDdWJpc20gU0RLIE9wZW5HTOOBr+ODnuOCueOCr+ODu+OCouODvOODiOODoeODg+OCt+ODpeWFseOBq0NDV+OBjOihqOmdolxuXG4gICAgICBjb25zdCBtb2RlbENvbG9yUkdCQTogQ3ViaXNtVGV4dHVyZUNvbG9yID0gdGhpcy5nZXRNb2RlbENvbG9yKCk7XG5cbiAgICAgIGlmICh0aGlzLmdldENsaXBwaW5nQ29udGV4dEJ1ZmZlckZvck1hc2soKSA9PSBudWxsKSB7XG4gICAgICAgIC8vIOODnuOCueOCr+eUn+aIkOaZguS7peWkllxuICAgICAgICBtb2RlbENvbG9yUkdCQS5BICo9IG9wYWNpdHk7XG4gICAgICAgIGlmICh0aGlzLmlzUHJlbXVsdGlwbGllZEFscGhhKCkpIHtcbiAgICAgICAgICBtb2RlbENvbG9yUkdCQS5SICo9IG1vZGVsQ29sb3JSR0JBLkE7XG4gICAgICAgICAgbW9kZWxDb2xvclJHQkEuRyAqPSBtb2RlbENvbG9yUkdCQS5BO1xuICAgICAgICAgIG1vZGVsQ29sb3JSR0JBLkIgKj0gbW9kZWxDb2xvclJHQkEuQTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsZXQgZHJhd3RleHR1cmU6IFdlYkdMVGV4dHVyZTsgLy8g44K344Kn44O844OA44Gr5rih44GZ44OG44Kv44K544OB44OjXG5cbiAgICAgIC8vIOODhuOCr+OCueODgeODo+ODnuODg+ODl+OBi+OCieODkOOCpOODs+ODiea4iOOBv+ODhuOCr+OCueODgeODo++8qe+8pOOCkuWPluW+l1xuICAgICAgLy8g44OQ44Kk44Oz44OJ44GV44KM44Gm44GE44Gq44GR44KM44Gw44OA44Of44O844Gu44OG44Kv44K544OB44OjSUTjgpLjgrvjg4Pjg4jjgZnjgotcbiAgICAgIGlmICh0aGlzLl90ZXh0dXJlcy5nZXRWYWx1ZSh0ZXh0dXJlTm8pICE9IG51bGwpIHtcbiAgICAgICAgZHJhd3RleHR1cmUgPSB0aGlzLl90ZXh0dXJlcy5nZXRWYWx1ZSh0ZXh0dXJlTm8pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZHJhd3RleHR1cmUgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBDdWJpc21TaGFkZXJfV2ViR0wuZ2V0SW5zdGFuY2UoKS5zZXR1cFNoYWRlclByb2dyYW0oXG4gICAgICAgIHRoaXMsXG4gICAgICAgIGRyYXd0ZXh0dXJlLFxuICAgICAgICB2ZXJ0ZXhDb3VudCxcbiAgICAgICAgdmVydGV4QXJyYXksXG4gICAgICAgIGluZGV4QXJyYXksXG4gICAgICAgIHV2QXJyYXksXG4gICAgICAgIHRoaXMuX2J1ZmZlckRhdGEsXG4gICAgICAgIG9wYWNpdHksXG4gICAgICAgIGNvbG9yQmxlbmRNb2RlLFxuICAgICAgICBtb2RlbENvbG9yUkdCQSxcbiAgICAgICAgdGhpcy5pc1ByZW11bHRpcGxpZWRBbHBoYSgpLFxuICAgICAgICB0aGlzLmdldE12cE1hdHJpeCgpLFxuICAgICAgICBpbnZlcnRlZE1hc2tcbiAgICAgICk7XG5cbiAgICAgIC8vIOODneODquOCtOODs+ODoeODg+OCt+ODpeOCkuaPj+eUu+OBmeOCi1xuICAgICAgdGhpcy5nbC5kcmF3RWxlbWVudHMoXG4gICAgICAgIHRoaXMuZ2wuVFJJQU5HTEVTLFxuICAgICAgICBpbmRleENvdW50LFxuICAgICAgICB0aGlzLmdsLlVOU0lHTkVEX1NIT1JULFxuICAgICAgICAwXG4gICAgICApO1xuXG4gICAgICAvLyDlvozlh6bnkIZcbiAgICAgIHRoaXMuZ2wudXNlUHJvZ3JhbShudWxsKTtcbiAgICAgIHRoaXMuc2V0Q2xpcHBpbmdDb250ZXh0QnVmZmVyRm9yRHJhdyhudWxsKTtcbiAgICAgIHRoaXMuc2V0Q2xpcHBpbmdDb250ZXh0QnVmZmVyRm9yTWFzayhudWxsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6zjg7Pjg4Djg6njgYzkv53mjIHjgZnjgovpnZnnmoTjgarjg6rjgr3jg7zjgrnjgpLop6PmlL7jgZnjgotcbiAgICAgKiBXZWJHTOOBrumdmeeahOOBquOCt+OCp+ODvOODgOODvOODl+ODreOCsOODqeODoOOCkuino+aUvuOBmeOCi1xuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgZG9TdGF0aWNSZWxlYXNlKCk6IHZvaWQge1xuICAgICAgQ3ViaXNtU2hhZGVyX1dlYkdMLmRlbGV0ZUluc3RhbmNlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Os44Oz44OA44O844K544OG44O844OI44KS6Kit5a6a44GZ44KLXG4gICAgICogQHBhcmFtIGZibyDjgqLjg5fjg6rjgrHjg7zjgrfjg6fjg7PlgbTjgafmjIflrprjgZfjgabjgYTjgovjg5Xjg6zjg7zjg6Djg5Djg4Pjg5XjgqFcbiAgICAgKiBAcGFyYW0gdmlld3BvcnQg44OT44Ol44O844Od44O844OIXG4gICAgICovXG4gICAgcHVibGljIHNldFJlbmRlclN0YXRlKGZibzogV2ViR0xGcmFtZWJ1ZmZlciwgdmlld3BvcnQ6IG51bWJlcltdKTogdm9pZCB7XG4gICAgICBzX2ZibyA9IGZibztcbiAgICAgIHNfdmlld3BvcnQgPSB2aWV3cG9ydDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDmj4/nlLvplovlp4vmmYLjga7ov73liqDlh6bnkIZcbiAgICAgKiDjg6Ljg4fjg6vjgpLmj4/nlLvjgZnjgovliY3jgavjgq/jg6rjg4Pjg5Tjg7PjgrDjg57jgrnjgq/jgavlv4XopoHjgarlh6bnkIbjgpLlrp/oo4XjgZfjgabjgYTjgotcbiAgICAgKi9cbiAgICBwdWJsaWMgcHJlRHJhdygpOiB2b2lkIHtcbiAgICAgIGlmICh0aGlzLmZpcnN0RHJhdykge1xuICAgICAgICB0aGlzLmZpcnN0RHJhdyA9IGZhbHNlO1xuXG4gICAgICAgIC8vIOaLoeW8teapn+iDveOCkuacieWKueOBq+OBmeOCi1xuICAgICAgICB0aGlzLl9hbmlzb3J0b3B5ID1cbiAgICAgICAgICB0aGlzLmdsLmdldEV4dGVuc2lvbignRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljJykgfHxcbiAgICAgICAgICB0aGlzLmdsLmdldEV4dGVuc2lvbignV0VCS0lUX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYycpIHx8XG4gICAgICAgICAgdGhpcy5nbC5nZXRFeHRlbnNpb24oJ01PWl9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMnKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5nbC5kaXNhYmxlKHRoaXMuZ2wuU0NJU1NPUl9URVNUKTtcbiAgICAgIHRoaXMuZ2wuZGlzYWJsZSh0aGlzLmdsLlNURU5DSUxfVEVTVCk7XG4gICAgICB0aGlzLmdsLmRpc2FibGUodGhpcy5nbC5ERVBUSF9URVNUKTtcblxuICAgICAgLy8g44Kr44Oq44Oz44Kw77yIMS4wYmV0YTPvvIlcbiAgICAgIHRoaXMuZ2wuZnJvbnRGYWNlKHRoaXMuZ2wuQ1cpO1xuXG4gICAgICB0aGlzLmdsLmVuYWJsZSh0aGlzLmdsLkJMRU5EKTtcbiAgICAgIHRoaXMuZ2wuY29sb3JNYXNrKHRydWUsIHRydWUsIHRydWUsIHRydWUpO1xuXG4gICAgICB0aGlzLmdsLmJpbmRCdWZmZXIodGhpcy5nbC5BUlJBWV9CVUZGRVIsIG51bGwpOyAvLyDliY3jgavjg5Djg4Pjg5XjgqHjgYzjg5DjgqTjg7Pjg4njgZXjgozjgabjgYTjgZ/jgonnoLTmo4TjgZnjgovlv4XopoHjgYzjgYLjgotcbiAgICAgIHRoaXMuZ2wuYmluZEJ1ZmZlcih0aGlzLmdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBudWxsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg57jgrnjgq/jg4bjgq/jgrnjg4Hjg6Pjgavmj4/nlLvjgZnjgovjgq/jg6rjg4Pjg5Tjg7PjgrDjgrPjg7Pjg4bjgq3jgrnjg4jjgpLjgrvjg4Pjg4jjgZnjgotcbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0Q2xpcHBpbmdDb250ZXh0QnVmZmVyRm9yTWFzayhjbGlwOiBDdWJpc21DbGlwcGluZ0NvbnRleHQpIHtcbiAgICAgIHRoaXMuX2NsaXBwaW5nQ29udGV4dEJ1ZmZlckZvck1hc2sgPSBjbGlwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODnuOCueOCr+ODhuOCr+OCueODgeODo+OBq+aPj+eUu+OBmeOCi+OCr+ODquODg+ODlOODs+OCsOOCs+ODs+ODhuOCreOCueODiOOCkuWPluW+l+OBmeOCi1xuICAgICAqIEByZXR1cm4g44Oe44K544Kv44OG44Kv44K544OB44Oj44Gr5o+P55S744GZ44KL44Kv44Oq44OD44OU44Oz44Kw44Kz44Oz44OG44Kt44K544OIXG4gICAgICovXG4gICAgcHVibGljIGdldENsaXBwaW5nQ29udGV4dEJ1ZmZlckZvck1hc2soKTogQ3ViaXNtQ2xpcHBpbmdDb250ZXh0IHtcbiAgICAgIHJldHVybiB0aGlzLl9jbGlwcGluZ0NvbnRleHRCdWZmZXJGb3JNYXNrO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOeUu+mdouS4iuOBq+aPj+eUu+OBmeOCi+OCr+ODquODg+ODlOODs+OCsOOCs+ODs+ODhuOCreOCueODiOOCkuOCu+ODg+ODiOOBmeOCi1xuICAgICAqL1xuICAgIHB1YmxpYyBzZXRDbGlwcGluZ0NvbnRleHRCdWZmZXJGb3JEcmF3KGNsaXA6IEN1YmlzbUNsaXBwaW5nQ29udGV4dCk6IHZvaWQge1xuICAgICAgdGhpcy5fY2xpcHBpbmdDb250ZXh0QnVmZmVyRm9yRHJhdyA9IGNsaXA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog55S76Z2i5LiK44Gr5o+P55S744GZ44KL44Kv44Oq44OD44OU44Oz44Kw44Kz44Oz44OG44Kt44K544OI44KS5Y+W5b6X44GZ44KLXG4gICAgICogQHJldHVybiDnlLvpnaLkuIrjgavmj4/nlLvjgZnjgovjgq/jg6rjg4Pjg5Tjg7PjgrDjgrPjg7Pjg4bjgq3jgrnjg4hcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0Q2xpcHBpbmdDb250ZXh0QnVmZmVyRm9yRHJhdygpOiBDdWJpc21DbGlwcGluZ0NvbnRleHQge1xuICAgICAgcmV0dXJuIHRoaXMuX2NsaXBwaW5nQ29udGV4dEJ1ZmZlckZvckRyYXc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZ2zjga7oqK3lrppcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhcnRVcChnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0KTogdm9pZCB7XG4gICAgICB0aGlzLmdsID0gZ2w7XG4gICAgICB0aGlzLl9jbGlwcGluZ01hbmFnZXIuc2V0R0woZ2wpO1xuICAgICAgQ3ViaXNtU2hhZGVyX1dlYkdMLmdldEluc3RhbmNlKCkuc2V0R2woZ2wpO1xuICAgIH1cblxuICAgIF90ZXh0dXJlczogY3NtTWFwPG51bWJlciwgV2ViR0xUZXh0dXJlPjsgLy8g44Oi44OH44Or44GM5Y+C54Wn44GZ44KL44OG44Kv44K544OB44Oj44Go44Os44Oz44OA44Op44Gn44OQ44Kk44Oz44OJ44GX44Gm44GE44KL44OG44Kv44K544OB44Oj44Go44Gu44Oe44OD44OXXG4gICAgX3NvcnRlZERyYXdhYmxlSW5kZXhMaXN0OiBjc21WZWN0b3I8bnVtYmVyPjsgLy8g5o+P55S744Kq44OW44K444Kn44Kv44OI44Gu44Kk44Oz44OH44OD44Kv44K544KS5o+P55S76aCG44Gr5Lim44G544Gf44Oq44K544OIXG4gICAgX2NsaXBwaW5nTWFuYWdlcjogQ3ViaXNtQ2xpcHBpbmdNYW5hZ2VyX1dlYkdMOyAvLyDjgq/jg6rjg4Pjg5Tjg7PjgrDjg57jgrnjgq/nrqHnkIbjgqrjg5bjgrjjgqfjgq/jg4hcbiAgICBfY2xpcHBpbmdDb250ZXh0QnVmZmVyRm9yTWFzazogQ3ViaXNtQ2xpcHBpbmdDb250ZXh0OyAvLyDjg57jgrnjgq/jg4bjgq/jgrnjg4Hjg6Pjgavmj4/nlLvjgZnjgovjgZ/jgoHjga7jgq/jg6rjg4Pjg5Tjg7PjgrDjgrPjg7Pjg4bjgq3jgrnjg4hcbiAgICBfY2xpcHBpbmdDb250ZXh0QnVmZmVyRm9yRHJhdzogQ3ViaXNtQ2xpcHBpbmdDb250ZXh0OyAvLyDnlLvpnaLkuIrmj4/nlLvjgZnjgovjgZ/jgoHjga7jgq/jg6rjg4Pjg5Tjg7PjgrDjgrPjg7Pjg4bjgq3jgrnjg4hcbiAgICBmaXJzdERyYXc6IGJvb2xlYW47XG4gICAgX2J1ZmZlckRhdGE6IHtcbiAgICAgIHZlcnRleDogV2ViR0xCdWZmZXI7XG4gICAgICB1djogV2ViR0xCdWZmZXI7XG4gICAgICBpbmRleDogV2ViR0xCdWZmZXI7XG4gICAgfTsgLy8g6aCC54K544OQ44OD44OV44Kh44OH44O844K/XG4gICAgZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dDsgLy8gd2ViZ2zjgrPjg7Pjg4bjgq3jgrnjg4hcbiAgfVxuXG4gIC8qKlxuICAgKiDjg6zjg7Pjg4Djg6njgYzkv53mjIHjgZnjgovpnZnnmoTjgarjg6rjgr3jg7zjgrnjgpLplovmlL7jgZnjgotcbiAgICovXG4gIEN1YmlzbVJlbmRlcmVyLnN0YXRpY1JlbGVhc2UgPSAoKTogdm9pZCA9PiB7XG4gICAgQ3ViaXNtUmVuZGVyZXJfV2ViR0wuZG9TdGF0aWNSZWxlYXNlKCk7XG4gIH07XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBc01BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUExT0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQVdBO0FBS0E7QUFLQTtBQUtBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFPQTtBQUVBO0FBSUE7QUFFQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBT0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBR0E7QUFNQTtBQUdBO0FBR0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFtREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBVUE7QUFRQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFJQTtBQUVBO0FBS0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBT0E7QUFJQTtBQUlBO0FBQ0E7QUFNQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBUUE7QUFHQTtBQUVBO0FBR0E7QUFJQTtBQUlBO0FBQ0E7QUFJQTtBQU1BO0FBR0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQVFBO0FBRUE7QUFJQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUtBO0FBRUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFJQTtBQUNBO0FBQ0E7QUFHQTtBQUtBO0FBQ0E7QUFFQTtBQU1BO0FBQ0E7QUFXQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBTUE7QUFDQTtBQVVBO0FBS0E7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFTQTtBQUtBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFFQTtBQUVBO0FBR0E7QUFFQTtBQUFBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFrQkE7QUFBQTtBQWpzQkE7QUF1c0JBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUFBO0FBYkE7QUFrQkE7QUFJQTtBQUtBO0FBR0E7QUFHQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFhQTtBQUFBO0FBM0VBO0FBaUZBO0FBMkJBO0FBQ0E7QUFDQTtBQXhCQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVlBO0FBQ0E7QUFDQTtBQWlCQTtBQW1CQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFHQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBTUE7QUFDQTtBQUVBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBTUE7QUFPQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUlBO0FBSUE7QUFNQTtBQUdBO0FBR0E7QUFLQTtBQUdBO0FBR0E7QUFLQTtBQU1BO0FBTUE7QUFNQTtBQU1BO0FBTUE7QUFRQTtBQU1BO0FBTUE7QUFNQTtBQUlBO0FBUUE7QUFNQTtBQU1BO0FBTUE7QUFNQTtBQUlBO0FBTUE7QUFNQTtBQVFBO0FBTUE7QUFNQTtBQU1BO0FBTUE7QUFJQTtBQU1BO0FBTUE7QUFRQTtBQU1BO0FBTUE7QUFNQTtBQUlBO0FBUUE7QUFNQTtBQU1BO0FBTUE7QUFNQTtBQUlBO0FBTUE7QUFNQTtBQVFBO0FBTUE7QUFNQTtBQU1BO0FBTUE7QUFJQTtBQU1BO0FBTUE7QUFRQTtBQU1BO0FBTUE7QUFNQTtBQUlBO0FBUUE7QUFNQTtBQU1BO0FBTUE7QUFNQTtBQUlBO0FBTUE7QUFNQTtBQVFBO0FBTUE7QUFNQTtBQU1BO0FBTUE7QUFJQTtBQU1BO0FBTUE7QUFNQTtBQVFBO0FBS0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFHQTtBQUNBO0FBTUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFTQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBQUE7QUF4NEJBO0FBNjRCQTtBQUFBO0FBVUE7QUFBQTtBQUFBO0FBVkE7QUFZQTtBQUFBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQTJFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBOztBQUNBO0FBcEZBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFFQTtBQUVBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFPQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQU1BO0FBTUE7QUFDQTtBQUNBO0FBMEJBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBV0E7QUFDQTtBQWdCQTtBQVlBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQWlCQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWNBO0FBQUE7QUFoV0E7QUFxV0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Framework/src/rendering/cubismrenderer_webgl.ts\n");

/***/ }),

/***/ "./Framework/src/type/csmmap.ts":
/*!**************************************!*\
  !*** ./Framework/src/type/csmmap.ts ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar cubismdebug_1 = __webpack_require__(/*! ../utils/cubismdebug */ \"./Framework/src/utils/cubismdebug.ts\");\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var csmPair = (function () {\n        function csmPair(key, value) {\n            this.first = key == undefined ? null : key;\n            this.second = value == undefined ? null : value;\n        }\n        return csmPair;\n    }());\n    Live2DCubismFramework.csmPair = csmPair;\n    var csmMap = (function () {\n        function csmMap(size) {\n            if (size != undefined) {\n                if (size < 1) {\n                    this._keyValues = [];\n                    this._dummyValue = null;\n                    this._size = 0;\n                }\n                else {\n                    this._keyValues = new Array(size);\n                    this._size = size;\n                }\n            }\n            else {\n                this._keyValues = [];\n                this._dummyValue = null;\n                this._size = 0;\n            }\n        }\n        csmMap.prototype.release = function () {\n            this.clear();\n        };\n        csmMap.prototype.appendKey = function (key) {\n            this.prepareCapacity(this._size + 1, false);\n            this._keyValues[this._size] = new csmPair(key);\n            this._size += 1;\n        };\n        csmMap.prototype.getValue = function (key) {\n            var found = -1;\n            for (var i = 0; i < this._size; i++) {\n                if (this._keyValues[i].first == key) {\n                    found = i;\n                    break;\n                }\n            }\n            if (found >= 0) {\n                return this._keyValues[found].second;\n            }\n            else {\n                this.appendKey(key);\n                return this._keyValues[this._size - 1].second;\n            }\n        };\n        csmMap.prototype.setValue = function (key, value) {\n            var found = -1;\n            for (var i = 0; i < this._size; i++) {\n                if (this._keyValues[i].first == key) {\n                    found = i;\n                    break;\n                }\n            }\n            if (found >= 0) {\n                this._keyValues[found].second = value;\n            }\n            else {\n                this.appendKey(key);\n                this._keyValues[this._size - 1].second = value;\n            }\n        };\n        csmMap.prototype.isExist = function (key) {\n            for (var i = 0; i < this._size; i++) {\n                if (this._keyValues[i].first == key) {\n                    return true;\n                }\n            }\n            return false;\n        };\n        csmMap.prototype.clear = function () {\n            this._keyValues = void 0;\n            this._keyValues = null;\n            this._keyValues = [];\n            this._size = 0;\n        };\n        csmMap.prototype.getSize = function () {\n            return this._size;\n        };\n        csmMap.prototype.prepareCapacity = function (newSize, fitToSize) {\n            if (newSize > this._keyValues.length) {\n                if (this._keyValues.length == 0) {\n                    if (!fitToSize && newSize < csmMap.DefaultSize)\n                        newSize = csmMap.DefaultSize;\n                    this._keyValues.length = newSize;\n                }\n                else {\n                    if (!fitToSize && newSize < this._keyValues.length * 2)\n                        newSize = this._keyValues.length * 2;\n                    this._keyValues.length = newSize;\n                }\n            }\n        };\n        csmMap.prototype.begin = function () {\n            var ite = new iterator(this, 0);\n            return ite;\n        };\n        csmMap.prototype.end = function () {\n            var ite = new iterator(this, this._size);\n            return ite;\n        };\n        csmMap.prototype.erase = function (ite) {\n            var index = ite._index;\n            if (index < 0 || this._size <= index) {\n                return ite;\n            }\n            this._keyValues.splice(index, 1);\n            --this._size;\n            var ite2 = new iterator(this, index);\n            return ite2;\n        };\n        csmMap.prototype.dumpAsInt = function () {\n            for (var i = 0; i < this._size; i++) {\n                cubismdebug_1.CubismLogDebug('{0} ,', this._keyValues[i]);\n                cubismdebug_1.CubismLogDebug('\\n');\n            }\n        };\n        csmMap.DefaultSize = 10;\n        return csmMap;\n    }());\n    Live2DCubismFramework.csmMap = csmMap;\n    var iterator = (function () {\n        function iterator(v, idx) {\n            this._map = v != undefined ? v : new csmMap();\n            this._index = idx != undefined ? idx : 0;\n        }\n        iterator.prototype.set = function (ite) {\n            this._index = ite._index;\n            this._map = ite._map;\n            return this;\n        };\n        iterator.prototype.preIncrement = function () {\n            ++this._index;\n            return this;\n        };\n        iterator.prototype.preDecrement = function () {\n            --this._index;\n            return this;\n        };\n        iterator.prototype.increment = function () {\n            var iteold = new iterator(this._map, this._index++);\n            this._map = iteold._map;\n            this._index = iteold._index;\n            return this;\n        };\n        iterator.prototype.decrement = function () {\n            var iteold = new iterator(this._map, this._index);\n            this._map = iteold._map;\n            this._index = iteold._index;\n            return this;\n        };\n        iterator.prototype.ptr = function () {\n            return this._map._keyValues[this._index];\n        };\n        iterator.prototype.notEqual = function (ite) {\n            return this._index != ite._index || this._map != ite._map;\n        };\n        return iterator;\n    }());\n    Live2DCubismFramework.iterator = iterator;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL3R5cGUvY3NtbWFwLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vRnJhbWV3b3JrL3NyYy90eXBlL2NzbW1hcC50cz80YzQwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0KGMpIExpdmUyRCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcbiAqIHRoYXQgY2FuIGJlIGZvdW5kIGF0IGh0dHBzOi8vd3d3LmxpdmUyZC5jb20vZXVsYS9saXZlMmQtb3Blbi1zb2Z0d2FyZS1saWNlbnNlLWFncmVlbWVudF9lbi5odG1sLlxuICovXG5cbmltcG9ydCB7IEN1YmlzbUxvZ0RlYnVnIH0gZnJvbSAnLi4vdXRpbHMvY3ViaXNtZGVidWcnO1xuXG5leHBvcnQgbmFtZXNwYWNlIExpdmUyREN1YmlzbUZyYW1ld29yayB7XG4gIC8qKlxuICAgKiBLZXktVmFsdWXjga7jg5rjgqLjgpLlrprnvqnjgZnjgovjgq/jg6njgrlcbiAgICogY3NtTWFw44Kv44Op44K544Gu5YaF6YOo44OH44O844K/44Gn5L2/55So44GZ44KL44CCXG4gICAqL1xuICBleHBvcnQgY2xhc3MgY3NtUGFpcjxfS2V5VCwgX1ZhbFQ+IHtcbiAgICAvKipcbiAgICAgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr9cbiAgICAgKiBAcGFyYW0ga2V5IEtleeOBqOOBl+OBpuOCu+ODg+ODiOOBmeOCi+WApFxuICAgICAqIEBwYXJhbSB2YWx1ZSBWYWx1ZeOBqOOBl+OBpuOCu+ODg+ODiOOBmeOCi+WApFxuICAgICAqL1xuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihrZXk/OiBfS2V5VCwgdmFsdWU/OiBfVmFsVCkge1xuICAgICAgdGhpcy5maXJzdCA9IGtleSA9PSB1bmRlZmluZWQgPyBudWxsIDoga2V5O1xuXG4gICAgICB0aGlzLnNlY29uZCA9IHZhbHVlID09IHVuZGVmaW5lZCA/IG51bGwgOiB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZmlyc3Q6IF9LZXlUOyAvLyBrZXnjgajjgZfjgabnlKjjgYTjgovlpInmlbBcbiAgICBwdWJsaWMgc2Vjb25kOiBfVmFsVDsgLy8gdmFsdWXjgajjgZfjgabnlKjjgYTjgovlpInmlbBcbiAgfVxuXG4gIC8qKlxuICAgKiDjg57jg4Pjg5flnotcbiAgICovXG4gIGV4cG9ydCBjbGFzcyBjc21NYXA8X0tleVQsIF9WYWxUPiB7XG4gICAgLyoqXG4gICAgICog5byV5pWw5LuY44GN44Kz44Oz44K544OI44Op44Kv44K/XG4gICAgICogQHBhcmFtIHNpemUg5Yid5pyf5YyW5pmC54K544Gn56K65L+d44GZ44KL44K144Kk44K6XG4gICAgICovXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHNpemU/OiBudW1iZXIpIHtcbiAgICAgIGlmIChzaXplICE9IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoc2l6ZSA8IDEpIHtcbiAgICAgICAgICB0aGlzLl9rZXlWYWx1ZXMgPSBbXTtcbiAgICAgICAgICB0aGlzLl9kdW1teVZhbHVlID0gbnVsbDtcbiAgICAgICAgICB0aGlzLl9zaXplID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9rZXlWYWx1ZXMgPSBuZXcgQXJyYXkoc2l6ZSk7XG4gICAgICAgICAgdGhpcy5fc2l6ZSA9IHNpemU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2tleVZhbHVlcyA9IFtdO1xuICAgICAgICB0aGlzLl9kdW1teVZhbHVlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc2l6ZSA9IDA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44OH44K544OI44Op44Kv44K/XG4gICAgICovXG4gICAgcHVibGljIHJlbGVhc2UoKSB7XG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Kt44O844KS6L+95Yqg44GZ44KLXG4gICAgICogQHBhcmFtIGtleSDmlrDjgZ/jgavov73liqDjgZnjgovjgq3jg7xcbiAgICAgKi9cbiAgICBwdWJsaWMgYXBwZW5kS2V5KGtleTogX0tleVQpOiB2b2lkIHtcbiAgICAgIC8vIOaWsOOBl+OBj0tleS9WYWx1ZeOBruODmuOCouOCkuS9nOOCi1xuICAgICAgdGhpcy5wcmVwYXJlQ2FwYWNpdHkodGhpcy5fc2l6ZSArIDEsIGZhbHNlKTsgLy8gMeOBpOS7peS4iuWFpeOCi+mamemWk+OCkuS9nOOCi1xuICAgICAgLy8g5paw44GX44GEa2V5L3ZhbHVl44Gu44Kk44Oz44OH44OD44Kv44K544GvX3NpemVcblxuICAgICAgdGhpcy5fa2V5VmFsdWVzW3RoaXMuX3NpemVdID0gbmV3IGNzbVBhaXI8X0tleVQsIF9WYWxUPihrZXkpO1xuICAgICAgdGhpcy5fc2l6ZSArPSAxO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOa3u+Wtl+a8lOeul+WtkFtrZXld44Gu44Kq44O844OQ44O844Ot44O844OJKGdldClcbiAgICAgKiBAcGFyYW0ga2V5IOa3u+Wtl+OBi+OCieeJueWumuOBleOCjOOCi1ZhbHVl5YCkXG4gICAgICovXG4gICAgcHVibGljIGdldFZhbHVlKGtleTogX0tleVQpOiBfVmFsVCB7XG4gICAgICBsZXQgZm91bmQgPSAtMTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9zaXplOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMuX2tleVZhbHVlc1tpXS5maXJzdCA9PSBrZXkpIHtcbiAgICAgICAgICBmb3VuZCA9IGk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGZvdW5kID49IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2tleVZhbHVlc1tmb3VuZF0uc2Vjb25kO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5hcHBlbmRLZXkoa2V5KTsgLy8g5paw6KaP44Kt44O844KS6L+95YqgXG4gICAgICAgIHJldHVybiB0aGlzLl9rZXlWYWx1ZXNbdGhpcy5fc2l6ZSAtIDFdLnNlY29uZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDmt7vlrZfmvJTnrpflrZBba2V5XeOBruOCquODvOODkOODvOODreODvOODiShzZXQpXG4gICAgICogQHBhcmFtIGtleSDmt7vlrZfjgYvjgonnibnlrprjgZXjgozjgotWYWx1ZeWApFxuICAgICAqIEBwYXJhbSB2YWx1ZSDku6PlhaXjgZnjgotWYWx1ZeWApFxuICAgICAqL1xuICAgIHB1YmxpYyBzZXRWYWx1ZShrZXk6IF9LZXlULCB2YWx1ZTogX1ZhbFQpOiB2b2lkIHtcbiAgICAgIGxldCBmb3VuZCA9IC0xO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3NpemU7IGkrKykge1xuICAgICAgICBpZiAodGhpcy5fa2V5VmFsdWVzW2ldLmZpcnN0ID09IGtleSkge1xuICAgICAgICAgIGZvdW5kID0gaTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZm91bmQgPj0gMCkge1xuICAgICAgICB0aGlzLl9rZXlWYWx1ZXNbZm91bmRdLnNlY29uZCA9IHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5hcHBlbmRLZXkoa2V5KTsgLy8g5paw6KaP44Kt44O844KS6L+95YqgXG4gICAgICAgIHRoaXMuX2tleVZhbHVlc1t0aGlzLl9zaXplIC0gMV0uc2Vjb25kID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5byV5pWw44Gn5rih44GX44GfS2V544KS5oyB44Gk6KaB57Sg44GM5a2Y5Zyo44GZ44KL44GLXG4gICAgICogQHBhcmFtIGtleSDlrZjlnKjjgpLnorroqo3jgZnjgotrZXlcbiAgICAgKiBAcmV0dXJuIHRydWUg5byV5pWw44Gn5rih44GX44Gfa2V544KS5oyB44Gk6KaB57Sg44GM5a2Y5Zyo44GZ44KLXG4gICAgICogQHJldHVybiBmYWxzZSDlvJXmlbDjgafmuKHjgZfjgZ9rZXnjgpLmjIHjgaTopoHntKDjgYzlrZjlnKjjgZfjgarjgYRcbiAgICAgKi9cbiAgICBwdWJsaWMgaXNFeGlzdChrZXk6IF9LZXlUKTogYm9vbGVhbiB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3NpemU7IGkrKykge1xuICAgICAgICBpZiAodGhpcy5fa2V5VmFsdWVzW2ldLmZpcnN0ID09IGtleSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICoga2V5VmFsdWXjga7jg53jgqTjg7Pjgr/jgpLlhajjgabop6PmlL7jgZnjgotcbiAgICAgKi9cbiAgICBwdWJsaWMgY2xlYXIoKTogdm9pZCB7XG4gICAgICB0aGlzLl9rZXlWYWx1ZXMgPSB2b2lkIDA7XG4gICAgICB0aGlzLl9rZXlWYWx1ZXMgPSBudWxsO1xuICAgICAgdGhpcy5fa2V5VmFsdWVzID0gW107XG5cbiAgICAgIHRoaXMuX3NpemUgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOOCs+ODs+ODhuODiuOBruOCteOCpOOCuuOCkuWPluW+l+OBmeOCi1xuICAgICAqXG4gICAgICogQHJldHVybiDjgrPjg7Pjg4bjg4rjga7jgrXjgqTjgrpcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0U2l6ZSgpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHRoaXMuX3NpemU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Kz44Oz44OG44OK44Gu44Kt44Oj44OR44K344OG44Kj44KS56K65L+d44GZ44KLXG4gICAgICogQHBhcmFtIG5ld1NpemUg5paw44Gf44Gq44Kt44Oj44OR44K344OG44Kj44CC5byV5pWw44Gu5YCk44GM54++5Zyo44Gu44K144Kk44K65pyq5rqA44Gu5aC05ZCI44Gv5L2V44KC44GX44Gq44GE44CCXG4gICAgICogQHBhcmFtIGZpdFRvU2l6ZSB0cnVl44Gq44KJ5oyH5a6a44GX44Gf44K144Kk44K644Gr5ZCI44KP44Gb44KL44CCZmFsc2XjgarjgonjgrXjgqTjgrrjgpIy5YCN56K65L+d44GX44Gm44GK44GP44CCXG4gICAgICovXG4gICAgcHVibGljIHByZXBhcmVDYXBhY2l0eShuZXdTaXplOiBudW1iZXIsIGZpdFRvU2l6ZTogYm9vbGVhbik6IHZvaWQge1xuICAgICAgaWYgKG5ld1NpemUgPiB0aGlzLl9rZXlWYWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgIGlmICh0aGlzLl9rZXlWYWx1ZXMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICBpZiAoIWZpdFRvU2l6ZSAmJiBuZXdTaXplIDwgY3NtTWFwLkRlZmF1bHRTaXplKVxuICAgICAgICAgICAgbmV3U2l6ZSA9IGNzbU1hcC5EZWZhdWx0U2l6ZTtcbiAgICAgICAgICB0aGlzLl9rZXlWYWx1ZXMubGVuZ3RoID0gbmV3U2l6ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoIWZpdFRvU2l6ZSAmJiBuZXdTaXplIDwgdGhpcy5fa2V5VmFsdWVzLmxlbmd0aCAqIDIpXG4gICAgICAgICAgICBuZXdTaXplID0gdGhpcy5fa2V5VmFsdWVzLmxlbmd0aCAqIDI7XG4gICAgICAgICAgdGhpcy5fa2V5VmFsdWVzLmxlbmd0aCA9IG5ld1NpemU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjgrPjg7Pjg4bjg4rjga7lhYjpoK3opoHntKDjgpLov5TjgZlcbiAgICAgKi9cbiAgICBwdWJsaWMgYmVnaW4oKTogaXRlcmF0b3I8X0tleVQsIF9WYWxUPiB7XG4gICAgICBjb25zdCBpdGU6IGl0ZXJhdG9yPF9LZXlULCBfVmFsVD4gPSBuZXcgaXRlcmF0b3I8X0tleVQsIF9WYWxUPih0aGlzLCAwKTtcbiAgICAgIHJldHVybiBpdGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Kz44Oz44OG44OK44Gu57WC56uv6KaB57Sg44KS6L+U44GZXG4gICAgICovXG4gICAgcHVibGljIGVuZCgpOiBpdGVyYXRvcjxfS2V5VCwgX1ZhbFQ+IHtcbiAgICAgIGNvbnN0IGl0ZTogaXRlcmF0b3I8X0tleVQsIF9WYWxUPiA9IG5ldyBpdGVyYXRvcjxfS2V5VCwgX1ZhbFQ+KFxuICAgICAgICB0aGlzLFxuICAgICAgICB0aGlzLl9zaXplXG4gICAgICApOyAvLyDntYLkuoZcbiAgICAgIHJldHVybiBpdGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Kz44Oz44OG44OK44GL44KJ6KaB57Sg44KS5YmK6Zmk44GZ44KLXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaXRlIOWJiumZpOOBmeOCi+imgee0oFxuICAgICAqL1xuICAgIHB1YmxpYyBlcmFzZShpdGU6IGl0ZXJhdG9yPF9LZXlULCBfVmFsVD4pOiBpdGVyYXRvcjxfS2V5VCwgX1ZhbFQ+IHtcbiAgICAgIGNvbnN0IGluZGV4OiBudW1iZXIgPSBpdGUuX2luZGV4O1xuICAgICAgaWYgKGluZGV4IDwgMCB8fCB0aGlzLl9zaXplIDw9IGluZGV4KSB7XG4gICAgICAgIHJldHVybiBpdGU7IC8vIOWJiumZpOevhOWbsuWkllxuICAgICAgfVxuXG4gICAgICAvLyDliYrpmaRcbiAgICAgIHRoaXMuX2tleVZhbHVlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgLS10aGlzLl9zaXplO1xuXG4gICAgICBjb25zdCBpdGUyOiBpdGVyYXRvcjxfS2V5VCwgX1ZhbFQ+ID0gbmV3IGl0ZXJhdG9yPF9LZXlULCBfVmFsVD4oXG4gICAgICAgIHRoaXMsXG4gICAgICAgIGluZGV4XG4gICAgICApOyAvLyDntYLkuoZcbiAgICAgIHJldHVybiBpdGUyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOOCs+ODs+ODhuODiuOBruWApOOCkjMy44OT44OD44OI56ym5Y+35LuY44GN5pW05pWw5Z6L44Gn44OA44Oz44OX44GZ44KLXG4gICAgICovXG4gICAgcHVibGljIGR1bXBBc0ludCgpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fc2l6ZTsgaSsrKSB7XG4gICAgICAgIEN1YmlzbUxvZ0RlYnVnKCd7MH0gLCcsIHRoaXMuX2tleVZhbHVlc1tpXSk7XG4gICAgICAgIEN1YmlzbUxvZ0RlYnVnKCdcXG4nKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IERlZmF1bHRTaXplID0gMTA7IC8vIOOCs+ODs+ODhuODiuOBruWIneacn+WMluOBruODh+ODleOCqeODq+ODiOOCteOCpOOCulxuICAgIHB1YmxpYyBfa2V5VmFsdWVzOiBjc21QYWlyPF9LZXlULCBfVmFsVD5bXTsgLy8ga2V5LXZhbHVl44Oa44Ki44Gu6YWN5YiXXG4gICAgcHVibGljIF9kdW1teVZhbHVlOiBfVmFsVDsgLy8g56m644Gu5YCk44KS6L+U44GZ54K644Gu44OA44Of44O8XG4gICAgcHVibGljIF9zaXplOiBudW1iZXI7IC8vIOOCs+ODs+ODhuODiuOBruimgee0oOaVsFxuICB9XG5cbiAgLyoqXG4gICAqIGNzbU1hcDxUPuOBruOCpOODhuODrOODvOOCv1xuICAgKi9cbiAgZXhwb3J0IGNsYXNzIGl0ZXJhdG9yPF9LZXlULCBfVmFsVD4ge1xuICAgIC8qKlxuICAgICAqIOOCs+ODs+OCueODiOODqeOCr+OCv1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHY/OiBjc21NYXA8X0tleVQsIF9WYWxUPiwgaWR4PzogbnVtYmVyKSB7XG4gICAgICB0aGlzLl9tYXAgPSB2ICE9IHVuZGVmaW5lZCA/IHYgOiBuZXcgY3NtTWFwPF9LZXlULCBfVmFsVD4oKTtcblxuICAgICAgdGhpcy5faW5kZXggPSBpZHggIT0gdW5kZWZpbmVkID8gaWR4IDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA95ryU566X5a2Q44Gu44Kq44O844OQ44O844Ot44O844OJXG4gICAgICovXG4gICAgcHVibGljIHNldChpdGU6IGl0ZXJhdG9yPF9LZXlULCBfVmFsVD4pOiBpdGVyYXRvcjxfS2V5VCwgX1ZhbFQ+IHtcbiAgICAgIHRoaXMuX2luZGV4ID0gaXRlLl9pbmRleDtcbiAgICAgIHRoaXMuX21hcCA9IGl0ZS5fbWFwO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5YmN572u44GNKyvmvJTnrpflrZDjga7jgqrjg7zjg5Djg7zjg63jg7zjg4lcbiAgICAgKi9cbiAgICBwdWJsaWMgcHJlSW5jcmVtZW50KCk6IGl0ZXJhdG9yPF9LZXlULCBfVmFsVD4ge1xuICAgICAgKyt0aGlzLl9pbmRleDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWJjee9ruOBjS0t5ryU566X5a2Q44Gu44Kq44O844OQ44O844Ot44O844OJXG4gICAgICovXG4gICAgcHVibGljIHByZURlY3JlbWVudCgpOiBpdGVyYXRvcjxfS2V5VCwgX1ZhbFQ+IHtcbiAgICAgIC0tdGhpcy5faW5kZXg7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlvoznva7jgY0rK+a8lOeul+WtkOOBruOCquODvOODkOODvOODreODvOODiVxuICAgICAqL1xuICAgIHB1YmxpYyBpbmNyZW1lbnQoKTogaXRlcmF0b3I8X0tleVQsIF9WYWxUPiB7XG4gICAgICBjb25zdCBpdGVvbGQgPSBuZXcgaXRlcmF0b3I8X0tleVQsIF9WYWxUPih0aGlzLl9tYXAsIHRoaXMuX2luZGV4KyspOyAvLyDlj6TjgYTlgKTjgpLkv53lrZhcbiAgICAgIHRoaXMuX21hcCA9IGl0ZW9sZC5fbWFwO1xuICAgICAgdGhpcy5faW5kZXggPSBpdGVvbGQuX2luZGV4O1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5b6M572u44GNLS3mvJTnrpflrZDjga7jgqrjg7zjg5Djg7zjg63jg7zjg4lcbiAgICAgKi9cbiAgICBwdWJsaWMgZGVjcmVtZW50KCk6IGl0ZXJhdG9yPF9LZXlULCBfVmFsVD4ge1xuICAgICAgY29uc3QgaXRlb2xkID0gbmV3IGl0ZXJhdG9yPF9LZXlULCBfVmFsVD4odGhpcy5fbWFwLCB0aGlzLl9pbmRleCk7IC8vIOWPpOOBhOWApOOCkuS/neWtmFxuICAgICAgdGhpcy5fbWFwID0gaXRlb2xkLl9tYXA7XG4gICAgICB0aGlzLl9pbmRleCA9IGl0ZW9sZC5faW5kZXg7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAq5ryU566X5a2Q44Gu44Kq44O844OQ44O844Ot44O844OJXG4gICAgICovXG4gICAgcHVibGljIHB0cigpOiBjc21QYWlyPF9LZXlULCBfVmFsVD4ge1xuICAgICAgcmV0dXJuIHRoaXMuX21hcC5fa2V5VmFsdWVzW3RoaXMuX2luZGV4XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAhPea8lOeul1xuICAgICAqL1xuICAgIHB1YmxpYyBub3RFcXVhbChpdGU6IGl0ZXJhdG9yPF9LZXlULCBfVmFsVD4pOiBib29sZWFuIHtcbiAgICAgIHJldHVybiB0aGlzLl9pbmRleCAhPSBpdGUuX2luZGV4IHx8IHRoaXMuX21hcCAhPSBpdGUuX21hcDtcbiAgICB9XG5cbiAgICBfaW5kZXg6IG51bWJlcjsgLy8g44Kz44Oz44OG44OK44Gu44Kk44Oz44OH44OD44Kv44K55YCkXG4gICAgX21hcDogY3NtTWFwPF9LZXlULCBfVmFsVD47IC8vIOOCs+ODs+ODhuODilxuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7OztBQU9BO0FBRUE7QUFBQTtBQUtBO0FBTUE7QUFDQTtBQUVBO0FBQ0E7QUFJQTtBQUFBO0FBZEE7QUFtQkE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFNQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBSUE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUFBO0FBcE1BO0FBeU1BO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUlBO0FBQUE7QUF2RUE7QUF3RUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Framework/src/type/csmmap.ts\n");

/***/ }),

/***/ "./Framework/src/type/csmrectf.ts":
/*!****************************************!*\
  !*** ./Framework/src/type/csmrectf.ts ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var csmRect = (function () {\n        function csmRect(x, y, w, h) {\n            this.x = x;\n            this.y = y;\n            this.width = w;\n            this.height = h;\n        }\n        csmRect.prototype.getCenterX = function () {\n            return this.x + 0.5 * this.width;\n        };\n        csmRect.prototype.getCenterY = function () {\n            return this.y + 0.5 * this.height;\n        };\n        csmRect.prototype.getRight = function () {\n            return this.x + this.width;\n        };\n        csmRect.prototype.getBottom = function () {\n            return this.y + this.height;\n        };\n        csmRect.prototype.setRect = function (r) {\n            this.x = r.x;\n            this.y = r.y;\n            this.width = r.width;\n            this.height = r.height;\n        };\n        csmRect.prototype.expand = function (w, h) {\n            this.x -= w;\n            this.y -= h;\n            this.width += w * 2.0;\n            this.height += h * 2.0;\n        };\n        return csmRect;\n    }());\n    Live2DCubismFramework.csmRect = csmRect;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL3R5cGUvY3NtcmVjdGYudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9GcmFtZXdvcmsvc3JjL3R5cGUvY3NtcmVjdGYudHM/M2M5MSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodChjKSBMaXZlMkQgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IHRoZSBMaXZlMkQgT3BlbiBTb2Z0d2FyZSBsaWNlbnNlXG4gKiB0aGF0IGNhbiBiZSBmb3VuZCBhdCBodHRwczovL3d3dy5saXZlMmQuY29tL2V1bGEvbGl2ZTJkLW9wZW4tc29mdHdhcmUtbGljZW5zZS1hZ3JlZW1lbnRfZW4uaHRtbC5cbiAqL1xuXG5leHBvcnQgbmFtZXNwYWNlIExpdmUyREN1YmlzbUZyYW1ld29yayB7XG4gIC8qKlxuICAgKiDnn6nlvaLlvaLnirbvvIjluqfmqJnjg7vplbfjgZXjga9mbG9hdOWApO+8ieOCkuWumue+qeOBmeOCi+OCr+ODqeOCuVxuICAgKi9cbiAgZXhwb3J0IGNsYXNzIGNzbVJlY3Qge1xuICAgIC8qKlxuICAgICAqIOOCs+ODs+OCueODiOODqeOCr+OCv1xuICAgICAqIEBwYXJhbSB4IOW3puerr1jluqfmqJlcbiAgICAgKiBAcGFyYW0geSDkuIrnq69Z5bqn5qiZXG4gICAgICogQHBhcmFtIHcg5bmFXG4gICAgICogQHBhcmFtIGgg6auY44GVXG4gICAgICovXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHg/OiBudW1iZXIsIHk/OiBudW1iZXIsIHc/OiBudW1iZXIsIGg/OiBudW1iZXIpIHtcbiAgICAgIHRoaXMueCA9IHg7XG4gICAgICB0aGlzLnkgPSB5O1xuICAgICAgdGhpcy53aWR0aCA9IHc7XG4gICAgICB0aGlzLmhlaWdodCA9IGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog55+p5b2i5Lit5aSu44GuWOW6p+aomeOCkuWPluW+l+OBmeOCi1xuICAgICAqL1xuICAgIHB1YmxpYyBnZXRDZW50ZXJYKCk6IG51bWJlciB7XG4gICAgICByZXR1cm4gdGhpcy54ICsgMC41ICogdGhpcy53aWR0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDnn6nlvaLkuK3lpK7jga5Z5bqn5qiZ44KS5Y+W5b6X44GZ44KLXG4gICAgICovXG4gICAgcHVibGljIGdldENlbnRlclkoKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiB0aGlzLnkgKyAwLjUgKiB0aGlzLmhlaWdodDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlj7PlgbTjga5Y5bqn5qiZ44KS5Y+W5b6X44GZ44KLXG4gICAgICovXG4gICAgcHVibGljIGdldFJpZ2h0KCk6IG51bWJlciB7XG4gICAgICByZXR1cm4gdGhpcy54ICsgdGhpcy53aWR0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDkuIvnq6/jga5Z5bqn5qiZ44KS5Y+W5b6X44GZ44KLXG4gICAgICovXG4gICAgcHVibGljIGdldEJvdHRvbSgpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHRoaXMueSArIHRoaXMuaGVpZ2h0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOefqeW9ouOBq+WApOOCkuOCu+ODg+ODiOOBmeOCi1xuICAgICAqIEBwYXJhbSByIOefqeW9ouOBruOCpOODs+OCueOCv+ODs+OCuVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXRSZWN0KHI6IGNzbVJlY3QpOiB2b2lkIHtcbiAgICAgIHRoaXMueCA9IHIueDtcbiAgICAgIHRoaXMueSA9IHIueTtcbiAgICAgIHRoaXMud2lkdGggPSByLndpZHRoO1xuICAgICAgdGhpcy5oZWlnaHQgPSByLmhlaWdodDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDnn6nlvaLkuK3lpK7jgpLou7jjgavjgZfjgabnuKbmqKrjgpLmi6HnuK7jgZnjgotcbiAgICAgKiBAcGFyYW0gdyDluYXmlrnlkJHjgavmi6HnuK7jgZnjgovph49cbiAgICAgKiBAcGFyYW0gaCDpq5jjgZXmlrnlkJHjgavmi6HnuK7jgZnjgovph49cbiAgICAgKi9cbiAgICBwdWJsaWMgZXhwYW5kKHc6IG51bWJlciwgaDogbnVtYmVyKSB7XG4gICAgICB0aGlzLnggLT0gdztcbiAgICAgIHRoaXMueSAtPSBoO1xuICAgICAgdGhpcy53aWR0aCArPSB3ICogMi4wO1xuICAgICAgdGhpcy5oZWlnaHQgKz0gaCAqIDIuMDtcbiAgICB9XG5cbiAgICBwdWJsaWMgeDogbnVtYmVyOyAvLyDlt6bnq69Y5bqn5qiZXG4gICAgcHVibGljIHk6IG51bWJlcjsgLy8g5LiK56uvWeW6p+aomVxuICAgIHB1YmxpYyB3aWR0aDogbnVtYmVyOyAvLyDluYVcbiAgICBwdWJsaWMgaGVpZ2h0OiBudW1iZXI7IC8vIOmrmOOBlVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7OztBQU9BO0FBQUE7QUFJQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQUE7QUF0RUE7QUF1RUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Framework/src/type/csmrectf.ts\n");

/***/ }),

/***/ "./Framework/src/type/csmstring.ts":
/*!*****************************************!*\
  !*** ./Framework/src/type/csmstring.ts ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var csmString = (function () {\n        function csmString(s) {\n            this.s = s;\n        }\n        csmString.prototype.append = function (c, length) {\n            this.s += length !== undefined ? c.substr(0, length) : c;\n            return this;\n        };\n        csmString.prototype.expansion = function (length, v) {\n            for (var i = 0; i < length; i++) {\n                this.append(v);\n            }\n            return this;\n        };\n        csmString.prototype.getBytes = function () {\n            return encodeURIComponent(this.s).replace(/%../g, 'x').length;\n        };\n        csmString.prototype.getLength = function () {\n            return this.s.length;\n        };\n        csmString.prototype.isLess = function (s) {\n            return this.s < s.s;\n        };\n        csmString.prototype.isGreat = function (s) {\n            return this.s > s.s;\n        };\n        csmString.prototype.isEqual = function (s) {\n            return this.s == s;\n        };\n        csmString.prototype.isEmpty = function () {\n            return this.s.length == 0;\n        };\n        return csmString;\n    }());\n    Live2DCubismFramework.csmString = csmString;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL3R5cGUvY3Ntc3RyaW5nLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vRnJhbWV3b3JrL3NyYy90eXBlL2NzbXN0cmluZy50cz9iNTllIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0KGMpIExpdmUyRCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcbiAqIHRoYXQgY2FuIGJlIGZvdW5kIGF0IGh0dHBzOi8vd3d3LmxpdmUyZC5jb20vZXVsYS9saXZlMmQtb3Blbi1zb2Z0d2FyZS1saWNlbnNlLWFncmVlbWVudF9lbi5odG1sLlxuICovXG5cbmV4cG9ydCBuYW1lc3BhY2UgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIHtcbiAgLyoqXG4gICAqIOaWh+Wtl+WIl+OCr+ODqeOCueOAglxuICAgKi9cbiAgZXhwb3J0IGNsYXNzIGNzbVN0cmluZyB7XG4gICAgLyoqXG4gICAgICog5paH5a2X5YiX44KS5b6M5pa544Gr6L+95Yqg44GZ44KLXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYyDov73liqDjgZnjgovmloflrZfliJdcbiAgICAgKiBAcmV0dXJuIOabtOaWsOOBleOCjOOBn+aWh+Wtl+WIl1xuICAgICAqL1xuICAgIHB1YmxpYyBhcHBlbmQoYzogc3RyaW5nLCBsZW5ndGg/OiBudW1iZXIpOiBjc21TdHJpbmcge1xuICAgICAgdGhpcy5zICs9IGxlbmd0aCAhPT0gdW5kZWZpbmVkID8gYy5zdWJzdHIoMCwgbGVuZ3RoKSA6IGM7XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOaWh+Wtl+OCteOCpOOCuuOCkuaLoeW8teOBl+OBpuaWh+Wtl+OCkuWfi+OCgeOCi1xuICAgICAqIEBwYXJhbSBsZW5ndGggICAg5ouh5by144GZ44KL5paH5a2X5pWwXG4gICAgICogQHBhcmFtIHYgICAgICAgICDln4vjgoHjgovmloflrZdcbiAgICAgKiBAcmV0dXJuIOabtOaWsOOBleOCjOOBn+aWh+Wtl+WIl1xuICAgICAqL1xuICAgIHB1YmxpYyBleHBhbnNpb24obGVuZ3RoOiBudW1iZXIsIHY6IHN0cmluZyk6IGNzbVN0cmluZyB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKHYpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDmloflrZfliJfjga7plbfjgZXjgpLjg5DjgqTjg4jmlbDjgaflj5blvpfjgZnjgotcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0Qnl0ZXMoKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodGhpcy5zKS5yZXBsYWNlKC8lLi4vZywgJ3gnKS5sZW5ndGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5paH5a2X5YiX44Gu6ZW344GV44KS6L+U44GZXG4gICAgICovXG4gICAgcHVibGljIGdldExlbmd0aCgpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHRoaXMucy5sZW5ndGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5paH5a2X5YiX5q+U6LyDIDxcbiAgICAgKiBAcGFyYW0gcyDmr5TovIPjgZnjgovmloflrZfliJdcbiAgICAgKiBAcmV0dXJuIHRydWU6ICAgIOavlOi8g+OBmeOCi+aWh+Wtl+WIl+OCiOOCiuWwj+OBleOBhFxuICAgICAqIEByZXR1cm4gZmFsc2U6ICAg5q+U6LyD44GZ44KL5paH5a2X5YiX44KI44KK5aSn44GN44GEXG4gICAgICovXG4gICAgcHVibGljIGlzTGVzcyhzOiBjc21TdHJpbmcpOiBib29sZWFuIHtcbiAgICAgIHJldHVybiB0aGlzLnMgPCBzLnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5paH5a2X5YiX5q+U6LyDID5cbiAgICAgKiBAcGFyYW0gcyDmr5TovIPjgZnjgovmloflrZfliJdcbiAgICAgKiBAcmV0dXJuIHRydWU6ICAgIOavlOi8g+OBmeOCi+aWh+Wtl+WIl+OCiOOCiuWkp+OBjeOBhFxuICAgICAqIEByZXR1cm4gZmFsc2U6ICAg5q+U6LyD44GZ44KL5paH5a2X5YiX44KI44KK5bCP44GV44GEXG4gICAgICovXG4gICAgcHVibGljIGlzR3JlYXQoczogY3NtU3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICByZXR1cm4gdGhpcy5zID4gcy5zO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOaWh+Wtl+WIl+avlOi8gyA9PVxuICAgICAqIEBwYXJhbSBzIOavlOi8g+OBmeOCi+aWh+Wtl+WIl1xuICAgICAqIEByZXR1cm4gdHJ1ZTogICAg5q+U6LyD44GZ44KL5paH5a2X5YiX44Go562J44GX44GEXG4gICAgICogQHJldHVybiBmYWxzZTogICDmr5TovIPjgZnjgovmloflrZfliJfjgajnlbDjgarjgotcbiAgICAgKi9cbiAgICBwdWJsaWMgaXNFcXVhbChzOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgIHJldHVybiB0aGlzLnMgPT0gcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDmloflrZfliJfjgYznqbrjgYvjganjgYbjgYtcbiAgICAgKiBAcmV0dXJuIHRydWU6IOepuuOBruaWh+Wtl+WIl1xuICAgICAqIEByZXR1cm4gZmFsc2U6IOWApOOBjOioreWumuOBleOCjOOBpuOBhOOCi1xuICAgICAqL1xuICAgIHB1YmxpYyBpc0VtcHR5KCk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIHRoaXMucy5sZW5ndGggPT0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlvJXmlbDku5jjgY3jgrPjg7Pjgrnjg4jjg6njgq/jgr9cbiAgICAgKi9cbiAgICBwdWJsaWMgY29uc3RydWN0b3Ioczogc3RyaW5nKSB7XG4gICAgICB0aGlzLnMgPSBzO1xuICAgIH1cblxuICAgIHM6IHN0cmluZztcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7QUFPQTtBQUFBO0FBSUE7QUFtRkE7QUFDQTtBQUNBO0FBOUVBO0FBQ0E7QUFFQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBVUE7QUFBQTtBQXhGQTtBQXlGQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Framework/src/type/csmstring.ts\n");

/***/ }),

/***/ "./Framework/src/type/csmvector.ts":
/*!*****************************************!*\
  !*** ./Framework/src/type/csmvector.ts ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var csmVector = (function () {\n        function csmVector(initialCapacity) {\n            if (initialCapacity === void 0) { initialCapacity = 0; }\n            if (initialCapacity < 1) {\n                this._ptr = [];\n                this._capacity = 0;\n                this._size = 0;\n            }\n            else {\n                this._ptr = new Array(initialCapacity);\n                this._capacity = initialCapacity;\n                this._size = 0;\n            }\n        }\n        csmVector.prototype.at = function (index) {\n            return this._ptr[index];\n        };\n        csmVector.prototype.set = function (index, value) {\n            this._ptr[index] = value;\n        };\n        csmVector.prototype.get = function (offset) {\n            if (offset === void 0) { offset = 0; }\n            var ret = new Array();\n            for (var i = offset; i < this._size; i++) {\n                ret.push(this._ptr[i]);\n            }\n            return ret;\n        };\n        csmVector.prototype.pushBack = function (value) {\n            if (this._size >= this._capacity) {\n                this.prepareCapacity(this._capacity == 0 ? csmVector.s_defaultSize : this._capacity * 2);\n            }\n            this._ptr[this._size++] = value;\n        };\n        csmVector.prototype.clear = function () {\n            this._ptr.length = 0;\n            this._size = 0;\n        };\n        csmVector.prototype.getSize = function () {\n            return this._size;\n        };\n        csmVector.prototype.assign = function (newSize, value) {\n            var curSize = this._size;\n            if (curSize < newSize) {\n                this.prepareCapacity(newSize);\n            }\n            for (var i = 0; i < newSize; i++) {\n                this._ptr[i] = value;\n            }\n            this._size = newSize;\n        };\n        csmVector.prototype.resize = function (newSize, value) {\n            if (value === void 0) { value = null; }\n            this.updateSize(newSize, value, true);\n        };\n        csmVector.prototype.updateSize = function (newSize, value, callPlacementNew) {\n            if (value === void 0) { value = null; }\n            if (callPlacementNew === void 0) { callPlacementNew = true; }\n            var curSize = this._size;\n            if (curSize < newSize) {\n                this.prepareCapacity(newSize);\n                if (callPlacementNew) {\n                    for (var i = this._size; i < newSize; i++) {\n                        if (typeof value == 'function') {\n                            this._ptr[i] = JSON.parse(JSON.stringify(new value()));\n                        }\n                        else {\n                            this._ptr[i] = value;\n                        }\n                    }\n                }\n                else {\n                    for (var i = this._size; i < newSize; i++) {\n                        this._ptr[i] = value;\n                    }\n                }\n            }\n            else {\n                var sub = this._size - newSize;\n                this._ptr.splice(this._size - sub, sub);\n            }\n            this._size = newSize;\n        };\n        csmVector.prototype.insert = function (position, begin, end) {\n            var dstSi = position._index;\n            var srcSi = begin._index;\n            var srcEi = end._index;\n            var addCount = srcEi - srcSi;\n            this.prepareCapacity(this._size + addCount);\n            var addSize = this._size - dstSi;\n            if (addSize > 0) {\n                for (var i = 0; i < addSize; i++) {\n                    this._ptr.splice(dstSi + i, 0, null);\n                }\n            }\n            for (var i = srcSi; i < srcEi; i++, dstSi++) {\n                this._ptr[dstSi] = begin._vector._ptr[i];\n            }\n            this._size = this._size + addCount;\n        };\n        csmVector.prototype.remove = function (index) {\n            if (index < 0 || this._size <= index) {\n                return false;\n            }\n            this._ptr.splice(index, 1);\n            --this._size;\n            return true;\n        };\n        csmVector.prototype.erase = function (ite) {\n            var index = ite._index;\n            if (index < 0 || this._size <= index) {\n                return ite;\n            }\n            this._ptr.splice(index, 1);\n            --this._size;\n            var ite2 = new iterator(this, index);\n            return ite2;\n        };\n        csmVector.prototype.prepareCapacity = function (newSize) {\n            if (newSize > this._capacity) {\n                if (this._capacity == 0) {\n                    this._ptr = new Array(newSize);\n                    this._capacity = newSize;\n                }\n                else {\n                    this._ptr.length = newSize;\n                    this._capacity = newSize;\n                }\n            }\n        };\n        csmVector.prototype.begin = function () {\n            var ite = this._size == 0 ? this.end() : new iterator(this, 0);\n            return ite;\n        };\n        csmVector.prototype.end = function () {\n            var ite = new iterator(this, this._size);\n            return ite;\n        };\n        csmVector.prototype.getOffset = function (offset) {\n            var newVector = new csmVector();\n            newVector._ptr = this.get(offset);\n            newVector._size = this.get(offset).length;\n            newVector._capacity = this.get(offset).length;\n            return newVector;\n        };\n        csmVector.s_defaultSize = 10;\n        return csmVector;\n    }());\n    Live2DCubismFramework.csmVector = csmVector;\n    var iterator = (function () {\n        function iterator(v, index) {\n            this._vector = v != undefined ? v : null;\n            this._index = index != undefined ? index : 0;\n        }\n        iterator.prototype.set = function (ite) {\n            this._index = ite._index;\n            this._vector = ite._vector;\n            return this;\n        };\n        iterator.prototype.preIncrement = function () {\n            ++this._index;\n            return this;\n        };\n        iterator.prototype.preDecrement = function () {\n            --this._index;\n            return this;\n        };\n        iterator.prototype.increment = function () {\n            var iteold = new iterator(this._vector, this._index++);\n            this._vector = iteold._vector;\n            this._index = iteold._index;\n            return this;\n        };\n        iterator.prototype.decrement = function () {\n            var iteold = new iterator(this._vector, this._index--);\n            this._vector = iteold._vector;\n            this._index = iteold._index;\n            return this;\n        };\n        iterator.prototype.ptr = function () {\n            return this._vector._ptr[this._index];\n        };\n        iterator.prototype.substitution = function (ite) {\n            this._index = ite._index;\n            this._vector = ite._vector;\n            return this;\n        };\n        iterator.prototype.notEqual = function (ite) {\n            return this._index != ite._index || this._vector != ite._vector;\n        };\n        return iterator;\n    }());\n    Live2DCubismFramework.iterator = iterator;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL3R5cGUvY3NtdmVjdG9yLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vRnJhbWV3b3JrL3NyYy90eXBlL2NzbXZlY3Rvci50cz83NjkwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0KGMpIExpdmUyRCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcbiAqIHRoYXQgY2FuIGJlIGZvdW5kIGF0IGh0dHBzOi8vd3d3LmxpdmUyZC5jb20vZXVsYS9saXZlMmQtb3Blbi1zb2Z0d2FyZS1saWNlbnNlLWFncmVlbWVudF9lbi5odG1sLlxuICovXG5cbmV4cG9ydCBuYW1lc3BhY2UgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIHtcbiAgLyoqXG4gICAqIOODmeOCr+OCv+ODvOWei++8iOWPr+WkiemFjeWIl+Wei++8iVxuICAgKi9cbiAgZXhwb3J0IGNsYXNzIGNzbVZlY3RvcjxUPiB7XG4gICAgLyoqXG4gICAgICog5byV5pWw5LuY44GN44Kz44Oz44K544OI44Op44Kv44K/XG4gICAgICogQHBhcmFtIGluaWl0YWxDYXBhY2l0eSDliJ3mnJ/ljJblvozjga7jgq3jg6Pjg5Hjgrfjg4bjgqPjgILjg4fjg7zjgr/jgrXjgqTjgrrjga9fY2FwYWNpdHkgKiBzaXplb2YoVClcbiAgICAgKiBAcGFyYW0gemVyb0NsZWFyIHRydWXjgarjgonliJ3mnJ/ljJbmmYLjgavnorrkv53jgZfjgZ/poJjln5/jgpIw44Gn5Z+L44KB44KLXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaW5pdGlhbENhcGFjaXR5ID0gMCkge1xuICAgICAgaWYgKGluaXRpYWxDYXBhY2l0eSA8IDEpIHtcbiAgICAgICAgdGhpcy5fcHRyID0gW107XG4gICAgICAgIHRoaXMuX2NhcGFjaXR5ID0gMDtcbiAgICAgICAgdGhpcy5fc2l6ZSA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9wdHIgPSBuZXcgQXJyYXkoaW5pdGlhbENhcGFjaXR5KTtcbiAgICAgICAgdGhpcy5fY2FwYWNpdHkgPSBpbml0aWFsQ2FwYWNpdHk7XG4gICAgICAgIHRoaXMuX3NpemUgPSAwO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOOCpOODs+ODh+ODg+OCr+OCueOBp+aMh+WumuOBl+OBn+imgee0oOOCkui/lOOBmVxuICAgICAqL1xuICAgIHB1YmxpYyBhdChpbmRleDogbnVtYmVyKTogVCB7XG4gICAgICByZXR1cm4gdGhpcy5fcHRyW2luZGV4XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDopoHntKDjgpLjgrvjg4Pjg4hcbiAgICAgKiBAcGFyYW0gaW5kZXgg6KaB57Sg44KS44K744OD44OI44GZ44KL44Kk44Oz44OH44OD44Kv44K5XG4gICAgICogQHBhcmFtIHZhbHVlIOOCu+ODg+ODiOOBmeOCi+imgee0oFxuICAgICAqL1xuICAgIHB1YmxpYyBzZXQoaW5kZXg6IG51bWJlciwgdmFsdWU6IFQpOiB2b2lkIHtcbiAgICAgIHRoaXMuX3B0cltpbmRleF0gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjgrPjg7Pjg4bjg4rjgpLlj5blvpfjgZnjgotcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0KG9mZnNldCA9IDApOiBUW10ge1xuICAgICAgY29uc3QgcmV0OiBUW10gPSBuZXcgQXJyYXk8VD4oKTtcbiAgICAgIGZvciAobGV0IGkgPSBvZmZzZXQ7IGkgPCB0aGlzLl9zaXplOyBpKyspIHtcbiAgICAgICAgcmV0LnB1c2godGhpcy5fcHRyW2ldKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcHVzaEJhY2vlh6bnkIbjgIHjgrPjg7Pjg4bjg4rjgavmlrDjgZ/jgaropoHntKDjgpLov73liqDjgZnjgotcbiAgICAgKiBAcGFyYW0gdmFsdWUgUHVzaEJhY2vlh6bnkIbjgafov73liqDjgZnjgovlgKRcbiAgICAgKi9cbiAgICBwdWJsaWMgcHVzaEJhY2sodmFsdWU6IFQpOiB2b2lkIHtcbiAgICAgIGlmICh0aGlzLl9zaXplID49IHRoaXMuX2NhcGFjaXR5KSB7XG4gICAgICAgIHRoaXMucHJlcGFyZUNhcGFjaXR5KFxuICAgICAgICAgIHRoaXMuX2NhcGFjaXR5ID09IDAgPyBjc21WZWN0b3Iuc19kZWZhdWx0U2l6ZSA6IHRoaXMuX2NhcGFjaXR5ICogMlxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9wdHJbdGhpcy5fc2l6ZSsrXSA9IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOOCs+ODs+ODhuODiuOBruWFqOimgee0oOOCkuino+aUvuOBmeOCi1xuICAgICAqL1xuICAgIHB1YmxpYyBjbGVhcigpOiB2b2lkIHtcbiAgICAgIHRoaXMuX3B0ci5sZW5ndGggPSAwO1xuICAgICAgdGhpcy5fc2l6ZSA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Kz44Oz44OG44OK44Gu6KaB57Sg5pWw44KS6L+U44GZXG4gICAgICogQHJldHVybiDjgrPjg7Pjg4bjg4rjga7opoHntKDmlbBcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0U2l6ZSgpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHRoaXMuX3NpemU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Kz44Oz44OG44OK44Gu5YWo6KaB57Sg44Gr5a++44GX44Gm5Luj5YWl5Yem55CG44KS6KGM44GGXG4gICAgICogQHBhcmFtIG5ld1NpemUg5Luj5YWl5Yem55CG5b6M44Gu44K144Kk44K6XG4gICAgICogQHBhcmFtIHZhbHVlIOimgee0oOOBq+S7o+WFpeOBmeOCi+WApFxuICAgICAqL1xuICAgIHB1YmxpYyBhc3NpZ24obmV3U2l6ZTogbnVtYmVyLCB2YWx1ZTogVCk6IHZvaWQge1xuICAgICAgY29uc3QgY3VyU2l6ZSA9IHRoaXMuX3NpemU7XG5cbiAgICAgIGlmIChjdXJTaXplIDwgbmV3U2l6ZSkge1xuICAgICAgICB0aGlzLnByZXBhcmVDYXBhY2l0eShuZXdTaXplKTsgLy8gY2FwYWNpdHnmm7TmlrBcbiAgICAgIH1cblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdTaXplOyBpKyspIHtcbiAgICAgICAgdGhpcy5fcHRyW2ldID0gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3NpemUgPSBuZXdTaXplO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOOCteOCpOOCuuWkieabtFxuICAgICAqL1xuICAgIHB1YmxpYyByZXNpemUobmV3U2l6ZTogbnVtYmVyLCB2YWx1ZTogVCA9IG51bGwpOiB2b2lkIHtcbiAgICAgIHRoaXMudXBkYXRlU2l6ZShuZXdTaXplLCB2YWx1ZSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44K144Kk44K65aSJ5pu0XG4gICAgICovXG4gICAgcHVibGljIHVwZGF0ZVNpemUoXG4gICAgICBuZXdTaXplOiBudW1iZXIsXG4gICAgICB2YWx1ZTogYW55ID0gbnVsbCxcbiAgICAgIGNhbGxQbGFjZW1lbnROZXcgPSB0cnVlXG4gICAgKTogdm9pZCB7XG4gICAgICBjb25zdCBjdXJTaXplOiBudW1iZXIgPSB0aGlzLl9zaXplO1xuXG4gICAgICBpZiAoY3VyU2l6ZSA8IG5ld1NpemUpIHtcbiAgICAgICAgdGhpcy5wcmVwYXJlQ2FwYWNpdHkobmV3U2l6ZSk7IC8vIGNhcGFjaXR55pu05pawXG5cbiAgICAgICAgaWYgKGNhbGxQbGFjZW1lbnROZXcpIHtcbiAgICAgICAgICBmb3IgKGxldCBpOiBudW1iZXIgPSB0aGlzLl9zaXplOyBpIDwgbmV3U2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgLy8gbmV3XG4gICAgICAgICAgICAgIHRoaXMuX3B0cltpXSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobmV3IHZhbHVlKCkpKTtcbiAgICAgICAgICAgIH0gLy8g44OX44Oq44Of44OG44Kj44OW5Z6L44Gq44Gu44Gn5YCk5rih44GXXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5fcHRyW2ldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZvciAobGV0IGk6IG51bWJlciA9IHRoaXMuX3NpemU7IGkgPCBuZXdTaXplOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuX3B0cltpXSA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gbmV3U2l6ZSA8PSB0aGlzLl9zaXplXG4gICAgICAgIC8vLS0tXG4gICAgICAgIGNvbnN0IHN1YiA9IHRoaXMuX3NpemUgLSBuZXdTaXplO1xuICAgICAgICB0aGlzLl9wdHIuc3BsaWNlKHRoaXMuX3NpemUgLSBzdWIsIHN1Yik7IC8vIOS4jeimgeOBquOBruOBp+egtOajhOOBmeOCi1xuICAgICAgfVxuICAgICAgdGhpcy5fc2l6ZSA9IG5ld1NpemU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Kz44Oz44OG44OK44Gr44Kz44Oz44OG44OK6KaB57Sg44KS5oy/5YWl44GZ44KLXG4gICAgICogQHBhcmFtIHBvc2l0aW9uIOaMv+WFpeOBmeOCi+S9jee9rlxuICAgICAqIEBwYXJhbSBiZWdpbiDmjL/lhaXjgZnjgovjgrPjg7Pjg4bjg4rjga7plovlp4vkvY3nva5cbiAgICAgKiBAcGFyYW0gZW5kIOaMv+WFpeOBmeOCi+OCs+ODs+ODhuODiuOBrue1guerr+S9jee9rlxuICAgICAqL1xuICAgIHB1YmxpYyBpbnNlcnQoXG4gICAgICBwb3NpdGlvbjogaXRlcmF0b3I8VD4sXG4gICAgICBiZWdpbjogaXRlcmF0b3I8VD4sXG4gICAgICBlbmQ6IGl0ZXJhdG9yPFQ+XG4gICAgKTogdm9pZCB7XG4gICAgICBsZXQgZHN0U2k6IG51bWJlciA9IHBvc2l0aW9uLl9pbmRleDtcbiAgICAgIGNvbnN0IHNyY1NpOiBudW1iZXIgPSBiZWdpbi5faW5kZXg7XG4gICAgICBjb25zdCBzcmNFaTogbnVtYmVyID0gZW5kLl9pbmRleDtcblxuICAgICAgY29uc3QgYWRkQ291bnQ6IG51bWJlciA9IHNyY0VpIC0gc3JjU2k7XG5cbiAgICAgIHRoaXMucHJlcGFyZUNhcGFjaXR5KHRoaXMuX3NpemUgKyBhZGRDb3VudCk7XG5cbiAgICAgIC8vIOaMv+WFpeeUqOOBruaXouWtmOODh+ODvOOCv+OCkuOCt+ODleODiOOBl+OBpumamemWk+OCkuS9nOOCi1xuICAgICAgY29uc3QgYWRkU2l6ZSA9IHRoaXMuX3NpemUgLSBkc3RTaTtcbiAgICAgIGlmIChhZGRTaXplID4gMCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFkZFNpemU7IGkrKykge1xuICAgICAgICAgIHRoaXMuX3B0ci5zcGxpY2UoZHN0U2kgKyBpLCAwLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKGxldCBpOiBudW1iZXIgPSBzcmNTaTsgaSA8IHNyY0VpOyBpKyssIGRzdFNpKyspIHtcbiAgICAgICAgdGhpcy5fcHRyW2RzdFNpXSA9IGJlZ2luLl92ZWN0b3IuX3B0cltpXTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fc2l6ZSA9IHRoaXMuX3NpemUgKyBhZGRDb3VudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjgrPjg7Pjg4bjg4rjgYvjgonjgqTjg7Pjg4fjg4Pjgq/jgrnjgafmjIflrprjgZfjgZ/opoHntKDjgpLliYrpmaTjgZnjgotcbiAgICAgKiBAcGFyYW0gaW5kZXgg44Kk44Oz44OH44OD44Kv44K55YCkXG4gICAgICogQHJldHVybiB0cnVlIOWJiumZpOWun+ihjFxuICAgICAqIEByZXR1cm4gZmFsc2Ug5YmK6Zmk56+E5Zuy5aSWXG4gICAgICovXG4gICAgcHVibGljIHJlbW92ZShpbmRleDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICBpZiAoaW5kZXggPCAwIHx8IHRoaXMuX3NpemUgPD0gaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyDliYrpmaTnr4Tlm7LlpJZcbiAgICAgIH1cblxuICAgICAgdGhpcy5fcHRyLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAtLXRoaXMuX3NpemU7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOOCs+ODs+ODhuODiuOBi+OCieimgee0oOOCkuWJiumZpOOBl+OBpuS7luOBruimgee0oOOCkuOCt+ODleODiOOBmeOCi1xuICAgICAqIEBwYXJhbSBpdGUg5YmK6Zmk44GZ44KL6KaB57SgXG4gICAgICovXG4gICAgcHVibGljIGVyYXNlKGl0ZTogaXRlcmF0b3I8VD4pOiBpdGVyYXRvcjxUPiB7XG4gICAgICBjb25zdCBpbmRleDogbnVtYmVyID0gaXRlLl9pbmRleDtcbiAgICAgIGlmIChpbmRleCA8IDAgfHwgdGhpcy5fc2l6ZSA8PSBpbmRleCkge1xuICAgICAgICByZXR1cm4gaXRlOyAvLyDliYrpmaTnr4Tlm7LlpJZcbiAgICAgIH1cblxuICAgICAgLy8g5YmK6ZmkXG4gICAgICB0aGlzLl9wdHIuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIC0tdGhpcy5fc2l6ZTtcblxuICAgICAgY29uc3QgaXRlMjogaXRlcmF0b3I8VD4gPSBuZXcgaXRlcmF0b3I8VD4odGhpcywgaW5kZXgpOyAvLyDntYLkuoZcbiAgICAgIHJldHVybiBpdGUyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOOCs+ODs+ODhuODiuOBruOCreODo+ODkeOCt+ODhuOCo+OCkueiuuS/neOBmeOCi1xuICAgICAqIEBwYXJhbSBuZXdTaXplIOaWsOOBn+OBquOCreODo+ODkeOCt+ODhuOCo+OAguW8leaVsOOBruWApOOBjOePvuWcqOOBruOCteOCpOOCuuacqua6gOOBruWgtOWQiOOBr+S9leOCguOBl+OBquOBhC5cbiAgICAgKi9cbiAgICBwdWJsaWMgcHJlcGFyZUNhcGFjaXR5KG5ld1NpemU6IG51bWJlcik6IHZvaWQge1xuICAgICAgaWYgKG5ld1NpemUgPiB0aGlzLl9jYXBhY2l0eSkge1xuICAgICAgICBpZiAodGhpcy5fY2FwYWNpdHkgPT0gMCkge1xuICAgICAgICAgIHRoaXMuX3B0ciA9IG5ldyBBcnJheShuZXdTaXplKTtcbiAgICAgICAgICB0aGlzLl9jYXBhY2l0eSA9IG5ld1NpemU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fcHRyLmxlbmd0aCA9IG5ld1NpemU7XG4gICAgICAgICAgdGhpcy5fY2FwYWNpdHkgPSBuZXdTaXplO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Kz44Oz44OG44OK44Gu5YWI6aCt6KaB57Sg44KS6L+U44GZXG4gICAgICovXG4gICAgcHVibGljIGJlZ2luKCk6IGl0ZXJhdG9yPFQ+IHtcbiAgICAgIGNvbnN0IGl0ZTogaXRlcmF0b3I8VD4gPVxuICAgICAgICB0aGlzLl9zaXplID09IDAgPyB0aGlzLmVuZCgpIDogbmV3IGl0ZXJhdG9yPFQ+KHRoaXMsIDApO1xuICAgICAgcmV0dXJuIGl0ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjgrPjg7Pjg4bjg4rjga7ntYLnq6/opoHntKDjgpLov5TjgZlcbiAgICAgKi9cbiAgICBwdWJsaWMgZW5kKCk6IGl0ZXJhdG9yPFQ+IHtcbiAgICAgIGNvbnN0IGl0ZTogaXRlcmF0b3I8VD4gPSBuZXcgaXRlcmF0b3I8VD4odGhpcywgdGhpcy5fc2l6ZSk7XG4gICAgICByZXR1cm4gaXRlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRPZmZzZXQob2Zmc2V0OiBudW1iZXIpOiBjc21WZWN0b3I8VD4ge1xuICAgICAgY29uc3QgbmV3VmVjdG9yID0gbmV3IGNzbVZlY3RvcjxUPigpO1xuICAgICAgbmV3VmVjdG9yLl9wdHIgPSB0aGlzLmdldChvZmZzZXQpO1xuICAgICAgbmV3VmVjdG9yLl9zaXplID0gdGhpcy5nZXQob2Zmc2V0KS5sZW5ndGg7XG4gICAgICBuZXdWZWN0b3IuX2NhcGFjaXR5ID0gdGhpcy5nZXQob2Zmc2V0KS5sZW5ndGg7XG5cbiAgICAgIHJldHVybiBuZXdWZWN0b3I7XG4gICAgfVxuXG4gICAgX3B0cjogVFtdOyAvLyDjgrPjg7Pjg4bjg4rjga7lhYjpoK3jgqLjg4njg6zjgrlcbiAgICBfc2l6ZTogbnVtYmVyOyAvLyDjgrPjg7Pjg4bjg4rjga7opoHntKDmlbBcbiAgICBfY2FwYWNpdHk6IG51bWJlcjsgLy8g44Kz44Oz44OG44OK44Gu44Kt44Oj44OR44K344OG44KjXG5cbiAgICBzdGF0aWMgcmVhZG9ubHkgc19kZWZhdWx0U2l6ZSA9IDEwOyAvLyDjgrPjg7Pjg4bjg4rliJ3mnJ/ljJbjga7jg4fjg5Xjgqnjg6vjg4jjgrXjgqTjgrpcbiAgfVxuXG4gIGV4cG9ydCBjbGFzcyBpdGVyYXRvcjxUPiB7XG4gICAgLyoqXG4gICAgICog44Kz44Oz44K544OI44Op44Kv44K/XG4gICAgICovXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHY/OiBjc21WZWN0b3I8VD4sIGluZGV4PzogbnVtYmVyKSB7XG4gICAgICB0aGlzLl92ZWN0b3IgPSB2ICE9IHVuZGVmaW5lZCA/IHYgOiBudWxsO1xuICAgICAgdGhpcy5faW5kZXggPSBpbmRleCAhPSB1bmRlZmluZWQgPyBpbmRleCA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5Luj5YWlXG4gICAgICovXG4gICAgcHVibGljIHNldChpdGU6IGl0ZXJhdG9yPFQ+KTogaXRlcmF0b3I8VD4ge1xuICAgICAgdGhpcy5faW5kZXggPSBpdGUuX2luZGV4O1xuICAgICAgdGhpcy5fdmVjdG9yID0gaXRlLl92ZWN0b3I7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDliY3nva7jgY0rK+a8lOeul1xuICAgICAqL1xuICAgIHB1YmxpYyBwcmVJbmNyZW1lbnQoKTogaXRlcmF0b3I8VD4ge1xuICAgICAgKyt0aGlzLl9pbmRleDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWJjee9ruOBjS0t5ryU566XXG4gICAgICovXG4gICAgcHVibGljIHByZURlY3JlbWVudCgpOiBpdGVyYXRvcjxUPiB7XG4gICAgICAtLXRoaXMuX2luZGV4O1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5b6M572u44GNKyvmvJTnrpflrZBcbiAgICAgKi9cbiAgICBwdWJsaWMgaW5jcmVtZW50KCk6IGl0ZXJhdG9yPFQ+IHtcbiAgICAgIGNvbnN0IGl0ZW9sZCA9IG5ldyBpdGVyYXRvcjxUPih0aGlzLl92ZWN0b3IsIHRoaXMuX2luZGV4KyspO1xuICAgICAgdGhpcy5fdmVjdG9yID0gaXRlb2xkLl92ZWN0b3I7XG4gICAgICB0aGlzLl9pbmRleCA9IGl0ZW9sZC5faW5kZXg7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlvoznva7jgY0tLea8lOeul+WtkFxuICAgICAqL1xuICAgIHB1YmxpYyBkZWNyZW1lbnQoKTogaXRlcmF0b3I8VD4ge1xuICAgICAgY29uc3QgaXRlb2xkID0gbmV3IGl0ZXJhdG9yPFQ+KHRoaXMuX3ZlY3RvciwgdGhpcy5faW5kZXgtLSk7IC8vIOWPpOOBhOWApOOCkuS/neWtmFxuICAgICAgdGhpcy5fdmVjdG9yID0gaXRlb2xkLl92ZWN0b3I7XG4gICAgICB0aGlzLl9pbmRleCA9IGl0ZW9sZC5faW5kZXg7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBwdHJcbiAgICAgKi9cbiAgICBwdWJsaWMgcHRyKCk6IFQge1xuICAgICAgcmV0dXJuIHRoaXMuX3ZlY3Rvci5fcHRyW3RoaXMuX2luZGV4XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiA95ryU566X5a2Q44Gu44Kq44O844OQ44O844Ot44O844OJXG4gICAgICovXG4gICAgcHVibGljIHN1YnN0aXR1dGlvbihpdGU6IGl0ZXJhdG9yPFQ+KTogaXRlcmF0b3I8VD4ge1xuICAgICAgdGhpcy5faW5kZXggPSBpdGUuX2luZGV4O1xuICAgICAgdGhpcy5fdmVjdG9yID0gaXRlLl92ZWN0b3I7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAhPea8lOeul+WtkOOBruOCquODvOODkOODvOODreODvOODiVxuICAgICAqL1xuICAgIHB1YmxpYyBub3RFcXVhbChpdGU6IGl0ZXJhdG9yPFQ+KTogYm9vbGVhbiB7XG4gICAgICByZXR1cm4gdGhpcy5faW5kZXggIT0gaXRlLl9pbmRleCB8fCB0aGlzLl92ZWN0b3IgIT0gaXRlLl92ZWN0b3I7XG4gICAgfVxuXG4gICAgX2luZGV4OiBudW1iZXI7IC8vIOOCs+ODs+ODhuODiuOBruOCpOODs+ODh+ODg+OCr+OCueWApFxuICAgIF92ZWN0b3I6IGNzbVZlY3RvcjxUPjsgLy8g44Kz44Oz44OG44OKXG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7O0FBT0E7QUFBQTtBQUlBO0FBTUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQUE7QUFDQTtBQUNBO0FBS0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBTUE7QUFDQTtBQUFBO0FBOVBBO0FBZ1FBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFJQTtBQUFBO0FBL0VBO0FBZ0ZBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Framework/src/type/csmvector.ts\n");

/***/ }),

/***/ "./Framework/src/utils/cubismdebug.ts":
/*!********************************************!*\
  !*** ./Framework/src/utils/cubismdebug.ts ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = exports.CubismLogError = exports.CubismLogWarning = exports.CubismLogInfo = exports.CubismLogDebug = exports.CubismLogVerbose = exports.CSM_ASSERT = exports.CubismLogPrintIn = exports.CubismLogPrint = void 0;\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./Framework/src/live2dcubismframework.ts\");\nvar cubismframeworkconfig_1 = __webpack_require__(/*! ../cubismframeworkconfig */ \"./Framework/src/cubismframeworkconfig.ts\");\nexports.CubismLogPrint = function (level, fmt, args) {\n    Live2DCubismFramework.CubismDebug.print(level, '[CSM]' + fmt, args);\n};\nexports.CubismLogPrintIn = function (level, fmt, args) {\n    exports.CubismLogPrint(level, fmt + '\\n', args);\n};\nexports.CSM_ASSERT = function (expr) {\n    console.assert(expr);\n};\nif (cubismframeworkconfig_1.CSM_LOG_LEVEL <= cubismframeworkconfig_1.CSM_LOG_LEVEL_VERBOSE) {\n    exports.CubismLogVerbose = function (fmt) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        exports.CubismLogPrintIn(live2dcubismframework_1.LogLevel.LogLevel_Verbose, '[V]' + fmt, args);\n    };\n    exports.CubismLogDebug = function (fmt) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        exports.CubismLogPrintIn(live2dcubismframework_1.LogLevel.LogLevel_Debug, '[D]' + fmt, args);\n    };\n    exports.CubismLogInfo = function (fmt) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        exports.CubismLogPrintIn(live2dcubismframework_1.LogLevel.LogLevel_Info, '[I]' + fmt, args);\n    };\n    exports.CubismLogWarning = function (fmt) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        exports.CubismLogPrintIn(live2dcubismframework_1.LogLevel.LogLevel_Warning, '[W]' + fmt, args);\n    };\n    exports.CubismLogError = function (fmt) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        exports.CubismLogPrintIn(live2dcubismframework_1.LogLevel.LogLevel_Error, '[E]' + fmt, args);\n    };\n}\nelse if (cubismframeworkconfig_1.CSM_LOG_LEVEL == cubismframeworkconfig_1.CSM_LOG_LEVEL_DEBUG) {\n    exports.CubismLogDebug = function (fmt) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        exports.CubismLogPrintIn(live2dcubismframework_1.LogLevel.LogLevel_Debug, '[D]' + fmt, args);\n    };\n    exports.CubismLogInfo = function (fmt) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        exports.CubismLogPrintIn(live2dcubismframework_1.LogLevel.LogLevel_Info, '[I]' + fmt, args);\n    };\n    exports.CubismLogWarning = function (fmt) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        exports.CubismLogPrintIn(live2dcubismframework_1.LogLevel.LogLevel_Warning, '[W]' + fmt, args);\n    };\n    exports.CubismLogError = function (fmt) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        exports.CubismLogPrintIn(live2dcubismframework_1.LogLevel.LogLevel_Error, '[E]' + fmt, args);\n    };\n}\nelse if (cubismframeworkconfig_1.CSM_LOG_LEVEL == cubismframeworkconfig_1.CSM_LOG_LEVEL_INFO) {\n    exports.CubismLogInfo = function (fmt) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        exports.CubismLogPrintIn(live2dcubismframework_1.LogLevel.LogLevel_Info, '[I]' + fmt, args);\n    };\n    exports.CubismLogWarning = function (fmt) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        exports.CubismLogPrintIn(live2dcubismframework_1.LogLevel.LogLevel_Warning, '[W]' + fmt, args);\n    };\n    exports.CubismLogError = function (fmt) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        exports.CubismLogPrintIn(live2dcubismframework_1.LogLevel.LogLevel_Error, '[E]' + fmt, args);\n    };\n}\nelse if (cubismframeworkconfig_1.CSM_LOG_LEVEL == cubismframeworkconfig_1.CSM_LOG_LEVEL_WARNING) {\n    exports.CubismLogWarning = function (fmt) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        exports.CubismLogPrintIn(live2dcubismframework_1.LogLevel.LogLevel_Warning, '[W]' + fmt, args);\n    };\n    exports.CubismLogError = function (fmt) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        exports.CubismLogPrintIn(live2dcubismframework_1.LogLevel.LogLevel_Error, '[E]' + fmt, args);\n    };\n}\nelse if (cubismframeworkconfig_1.CSM_LOG_LEVEL == cubismframeworkconfig_1.CSM_LOG_LEVEL_ERROR) {\n    exports.CubismLogError = function (fmt) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        exports.CubismLogPrintIn(live2dcubismframework_1.LogLevel.LogLevel_Error, '[E]' + fmt, args);\n    };\n}\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var CubismDebug = (function () {\n        function CubismDebug() {\n        }\n        CubismDebug.print = function (logLevel, format, args) {\n            if (logLevel < live2dcubismframework_1.Live2DCubismFramework.CubismFramework.getLoggingLevel()) {\n                return;\n            }\n            var logPrint = live2dcubismframework_1.Live2DCubismFramework.CubismFramework.coreLogFunction;\n            if (!logPrint)\n                return;\n            var buffer = format.replace(/\\{(\\d+)\\}/g, function (m, k) {\n                return args[k];\n            });\n            logPrint(buffer);\n        };\n        CubismDebug.dumpBytes = function (logLevel, data, length) {\n            for (var i = 0; i < length; i++) {\n                if (i % 16 == 0 && i > 0)\n                    this.print(logLevel, '\\n');\n                else if (i % 8 == 0 && i > 0)\n                    this.print(logLevel, '  ');\n                this.print(logLevel, '{0} ', [data[i] & 0xff]);\n            }\n            this.print(logLevel, '\\n');\n        };\n        return CubismDebug;\n    }());\n    Live2DCubismFramework.CubismDebug = CubismDebug;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL3V0aWxzL2N1YmlzbWRlYnVnLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vRnJhbWV3b3JrL3NyYy91dGlscy9jdWJpc21kZWJ1Zy50cz9mMGVlIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0KGMpIExpdmUyRCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcbiAqIHRoYXQgY2FuIGJlIGZvdW5kIGF0IGh0dHBzOi8vd3d3LmxpdmUyZC5jb20vZXVsYS9saXZlMmQtb3Blbi1zb2Z0d2FyZS1saWNlbnNlLWFncmVlbWVudF9lbi5odG1sLlxuICovXG5cbmltcG9ydCB7XG4gIExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21mcmFtZXdvcmssXG4gIExvZ0xldmVsXG59IGZyb20gJy4uL2xpdmUyZGN1YmlzbWZyYW1ld29yayc7XG5pbXBvcnQge1xuICBDU01fTE9HX0xFVkVMLFxuICBDU01fTE9HX0xFVkVMX1ZFUkJPU0UsXG4gIENTTV9MT0dfTEVWRUxfREVCVUcsXG4gIENTTV9MT0dfTEVWRUxfSU5GTyxcbiAgQ1NNX0xPR19MRVZFTF9XQVJOSU5HLFxuICBDU01fTE9HX0xFVkVMX0VSUk9SXG59IGZyb20gJy4uL2N1YmlzbWZyYW1ld29ya2NvbmZpZyc7XG5cbmV4cG9ydCBjb25zdCBDdWJpc21Mb2dQcmludCA9IChsZXZlbDogTG9nTGV2ZWwsIGZtdDogc3RyaW5nLCBhcmdzOiBhbnlbXSkgPT4ge1xuICBMaXZlMkRDdWJpc21GcmFtZXdvcmsuQ3ViaXNtRGVidWcucHJpbnQobGV2ZWwsICdbQ1NNXScgKyBmbXQsIGFyZ3MpO1xufTtcblxuZXhwb3J0IGNvbnN0IEN1YmlzbUxvZ1ByaW50SW4gPSAobGV2ZWw6IExvZ0xldmVsLCBmbXQ6IHN0cmluZywgYXJnczogYW55W10pID0+IHtcbiAgQ3ViaXNtTG9nUHJpbnQobGV2ZWwsIGZtdCArICdcXG4nLCBhcmdzKTtcbn07XG5cbmV4cG9ydCBjb25zdCBDU01fQVNTRVJUID0gKGV4cHI6IGFueSkgPT4ge1xuICBjb25zb2xlLmFzc2VydChleHByKTtcbn07XG5cbmV4cG9ydCBsZXQgQ3ViaXNtTG9nVmVyYm9zZTogKGZtdDogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSkgPT4gdm9pZDtcbmV4cG9ydCBsZXQgQ3ViaXNtTG9nRGVidWc6IChmbXQ6IHN0cmluZywgLi4uYXJnczogYW55W10pID0+IHZvaWQ7XG5leHBvcnQgbGV0IEN1YmlzbUxvZ0luZm86IChmbXQ6IHN0cmluZywgLi4uYXJnczogYW55W10pID0+IHZvaWQ7XG5leHBvcnQgbGV0IEN1YmlzbUxvZ1dhcm5pbmc6IChmbXQ6IHN0cmluZywgLi4uYXJnczogYW55W10pID0+IHZvaWQ7XG5leHBvcnQgbGV0IEN1YmlzbUxvZ0Vycm9yOiAoZm10OiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkO1xuXG5pZiAoQ1NNX0xPR19MRVZFTCA8PSBDU01fTE9HX0xFVkVMX1ZFUkJPU0UpIHtcbiAgQ3ViaXNtTG9nVmVyYm9zZSA9IChmbXQ6IHN0cmluZywgLi4uYXJnczogYW55W10pID0+IHtcbiAgICBDdWJpc21Mb2dQcmludEluKExvZ0xldmVsLkxvZ0xldmVsX1ZlcmJvc2UsICdbVl0nICsgZm10LCBhcmdzKTtcbiAgfTtcblxuICBDdWJpc21Mb2dEZWJ1ZyA9IChmbXQ6IHN0cmluZywgLi4uYXJnczogYW55W10pID0+IHtcbiAgICBDdWJpc21Mb2dQcmludEluKExvZ0xldmVsLkxvZ0xldmVsX0RlYnVnLCAnW0RdJyArIGZtdCwgYXJncyk7XG4gIH07XG5cbiAgQ3ViaXNtTG9nSW5mbyA9IChmbXQ6IHN0cmluZywgLi4uYXJnczogYW55W10pID0+IHtcbiAgICBDdWJpc21Mb2dQcmludEluKExvZ0xldmVsLkxvZ0xldmVsX0luZm8sICdbSV0nICsgZm10LCBhcmdzKTtcbiAgfTtcblxuICBDdWJpc21Mb2dXYXJuaW5nID0gKGZtdDogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSkgPT4ge1xuICAgIEN1YmlzbUxvZ1ByaW50SW4oTG9nTGV2ZWwuTG9nTGV2ZWxfV2FybmluZywgJ1tXXScgKyBmbXQsIGFyZ3MpO1xuICB9O1xuXG4gIEN1YmlzbUxvZ0Vycm9yID0gKGZtdDogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSkgPT4ge1xuICAgIEN1YmlzbUxvZ1ByaW50SW4oTG9nTGV2ZWwuTG9nTGV2ZWxfRXJyb3IsICdbRV0nICsgZm10LCBhcmdzKTtcbiAgfTtcbn0gZWxzZSBpZiAoQ1NNX0xPR19MRVZFTCA9PSBDU01fTE9HX0xFVkVMX0RFQlVHKSB7XG4gIEN1YmlzbUxvZ0RlYnVnID0gKGZtdDogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSkgPT4ge1xuICAgIEN1YmlzbUxvZ1ByaW50SW4oTG9nTGV2ZWwuTG9nTGV2ZWxfRGVidWcsICdbRF0nICsgZm10LCBhcmdzKTtcbiAgfTtcblxuICBDdWJpc21Mb2dJbmZvID0gKGZtdDogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSkgPT4ge1xuICAgIEN1YmlzbUxvZ1ByaW50SW4oTG9nTGV2ZWwuTG9nTGV2ZWxfSW5mbywgJ1tJXScgKyBmbXQsIGFyZ3MpO1xuICB9O1xuXG4gIEN1YmlzbUxvZ1dhcm5pbmcgPSAoZm10OiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKSA9PiB7XG4gICAgQ3ViaXNtTG9nUHJpbnRJbihMb2dMZXZlbC5Mb2dMZXZlbF9XYXJuaW5nLCAnW1ddJyArIGZtdCwgYXJncyk7XG4gIH07XG5cbiAgQ3ViaXNtTG9nRXJyb3IgPSAoZm10OiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKSA9PiB7XG4gICAgQ3ViaXNtTG9nUHJpbnRJbihMb2dMZXZlbC5Mb2dMZXZlbF9FcnJvciwgJ1tFXScgKyBmbXQsIGFyZ3MpO1xuICB9O1xufSBlbHNlIGlmIChDU01fTE9HX0xFVkVMID09IENTTV9MT0dfTEVWRUxfSU5GTykge1xuICBDdWJpc21Mb2dJbmZvID0gKGZtdDogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSkgPT4ge1xuICAgIEN1YmlzbUxvZ1ByaW50SW4oTG9nTGV2ZWwuTG9nTGV2ZWxfSW5mbywgJ1tJXScgKyBmbXQsIGFyZ3MpO1xuICB9O1xuXG4gIEN1YmlzbUxvZ1dhcm5pbmcgPSAoZm10OiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKSA9PiB7XG4gICAgQ3ViaXNtTG9nUHJpbnRJbihMb2dMZXZlbC5Mb2dMZXZlbF9XYXJuaW5nLCAnW1ddJyArIGZtdCwgYXJncyk7XG4gIH07XG5cbiAgQ3ViaXNtTG9nRXJyb3IgPSAoZm10OiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKSA9PiB7XG4gICAgQ3ViaXNtTG9nUHJpbnRJbihMb2dMZXZlbC5Mb2dMZXZlbF9FcnJvciwgJ1tFXScgKyBmbXQsIGFyZ3MpO1xuICB9O1xufSBlbHNlIGlmIChDU01fTE9HX0xFVkVMID09IENTTV9MT0dfTEVWRUxfV0FSTklORykge1xuICBDdWJpc21Mb2dXYXJuaW5nID0gKGZtdDogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSkgPT4ge1xuICAgIEN1YmlzbUxvZ1ByaW50SW4oTG9nTGV2ZWwuTG9nTGV2ZWxfV2FybmluZywgJ1tXXScgKyBmbXQsIGFyZ3MpO1xuICB9O1xuXG4gIEN1YmlzbUxvZ0Vycm9yID0gKGZtdDogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSkgPT4ge1xuICAgIEN1YmlzbUxvZ1ByaW50SW4oTG9nTGV2ZWwuTG9nTGV2ZWxfRXJyb3IsICdbRV0nICsgZm10LCBhcmdzKTtcbiAgfTtcbn0gZWxzZSBpZiAoQ1NNX0xPR19MRVZFTCA9PSBDU01fTE9HX0xFVkVMX0VSUk9SKSB7XG4gIEN1YmlzbUxvZ0Vycm9yID0gKGZtdDogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSkgPT4ge1xuICAgIEN1YmlzbUxvZ1ByaW50SW4oTG9nTGV2ZWwuTG9nTGV2ZWxfRXJyb3IsICdbRV0nICsgZm10LCBhcmdzKTtcbiAgfTtcbn1cblxuLy8tLS0tLS0tLS0tLS0gTElWRTJEIE5BTUVTUEFDRSAtLS0tLS0tLS0tLS1cbmV4cG9ydCBuYW1lc3BhY2UgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIHtcbiAgLyoqXG4gICAqIOODh+ODkOODg+OCsOeUqOOBruODpuODvOODhuOCo+ODquODhuOCo+OCr+ODqeOCueOAglxuICAgKiDjg63jgrDjga7lh7rlipvjgIHjg5DjgqTjg4jjga7jg4Djg7Pjg5fjgarjgalcbiAgICovXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21EZWJ1ZyB7XG4gICAgLyoqXG4gICAgICog44Ot44Kw44KS5Ye65Yqb44GZ44KL44CC56ys5LiA5byV5pWw44Gr44Ot44Kw44Os44OZ44Or44KS6Kit5a6a44GZ44KL44CCXG4gICAgICogQ3ViaXNtRnJhbWV3b3JrLmluaXRpYWxpemUoKeaZguOBq+OCquODl+OCt+ODp+ODs+OBp+ioreWumuOBleOCjOOBn+ODreOCsOWHuuWKm+ODrOODmeODq+OCkuS4i+WbnuOCi+WgtOWQiOOBr+ODreOCsOOBq+WHuuOBleOBquOBhOOAglxuICAgICAqXG4gICAgICogQHBhcmFtIGxvZ0xldmVsIOODreOCsOODrOODmeODq+OBruioreWumlxuICAgICAqIEBwYXJhbSBmb3JtYXQg5pu45byP5LuY44GN5paH5a2X5YiXXG4gICAgICogQHBhcmFtIGFyZ3Mg5Y+v5aSJ6ZW35byV5pWwXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBwcmludChcbiAgICAgIGxvZ0xldmVsOiBMb2dMZXZlbCxcbiAgICAgIGZvcm1hdDogc3RyaW5nLFxuICAgICAgYXJncz86IGFueVtdXG4gICAgKTogdm9pZCB7XG4gICAgICAvLyDjgqrjg5fjgrfjg6fjg7PjgafoqK3lrprjgZXjgozjgZ/jg63jgrDlh7rlipvjg6zjg5njg6vjgpLkuIvlm57jgovloLTlkIjjga/jg63jgrDjgavlh7rjgZXjgarjgYRcbiAgICAgIGlmIChsb2dMZXZlbCA8IGN1YmlzbWZyYW1ld29yay5DdWJpc21GcmFtZXdvcmsuZ2V0TG9nZ2luZ0xldmVsKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBsb2dQcmludDogTGl2ZTJEQ3ViaXNtQ29yZS5jc21Mb2dGdW5jdGlvbiA9XG4gICAgICAgIGN1YmlzbWZyYW1ld29yay5DdWJpc21GcmFtZXdvcmsuY29yZUxvZ0Z1bmN0aW9uO1xuXG4gICAgICBpZiAoIWxvZ1ByaW50KSByZXR1cm47XG5cbiAgICAgIGNvbnN0IGJ1ZmZlcjogc3RyaW5nID0gZm9ybWF0LnJlcGxhY2UoL1xceyhcXGQrKVxcfS9nLCAobSwgaykgPT4ge1xuICAgICAgICByZXR1cm4gYXJnc1trXTtcbiAgICAgIH0pO1xuICAgICAgbG9nUHJpbnQoYnVmZmVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg4fjg7zjgr/jgYvjgonmjIflrprjgZfjgZ/plbfjgZXjgaDjgZHjg4Djg7Pjg5flh7rlipvjgZnjgovjgIJcbiAgICAgKiBDdWJpc21GcmFtZXdvcmsuaW5pdGlhbGl6ZSgp5pmC44Gr44Kq44OX44K344On44Oz44Gn6Kit5a6a44GV44KM44Gf44Ot44Kw5Ye65Yqb44Os44OZ44Or44KS5LiL5Zue44KL5aC05ZCI44Gv44Ot44Kw44Gr5Ye644GV44Gq44GE44CCXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbG9nTGV2ZWwg44Ot44Kw44Os44OZ44Or44Gu6Kit5a6aXG4gICAgICogQHBhcmFtIGRhdGEg44OA44Oz44OX44GZ44KL44OH44O844K/XG4gICAgICogQHBhcmFtIGxlbmd0aCDjg4Djg7Pjg5fjgZnjgovplbfjgZVcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGR1bXBCeXRlcyhcbiAgICAgIGxvZ0xldmVsOiBMb2dMZXZlbCxcbiAgICAgIGRhdGE6IFVpbnQ4QXJyYXksXG4gICAgICBsZW5ndGg6IG51bWJlclxuICAgICk6IHZvaWQge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaSAlIDE2ID09IDAgJiYgaSA+IDApIHRoaXMucHJpbnQobG9nTGV2ZWwsICdcXG4nKTtcbiAgICAgICAgZWxzZSBpZiAoaSAlIDggPT0gMCAmJiBpID4gMCkgdGhpcy5wcmludChsb2dMZXZlbCwgJyAgJyk7XG4gICAgICAgIHRoaXMucHJpbnQobG9nTGV2ZWwsICd7MH0gJywgW2RhdGFbaV0gJiAweGZmXSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMucHJpbnQobG9nTGV2ZWwsICdcXG4nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBwcml2YXRlIOOCs+ODs+OCueODiOODqeOCr+OCv1xuICAgICAqL1xuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7fVxuICB9XG59XG5cbi8vLS0tLS0tLS0tLS0tIExJVkUyRCBOQU1FU1BBQ0UgLS0tLS0tLS0tLS0tXG4iXSwibWFwcGluZ3MiOiI7OztBQU9BO0FBSUE7QUFTQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQUE7QUFBQTtBQUFBOztBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTs7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7O0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBOztBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTs7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBOztBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTs7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7O0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBOztBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7O0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBOztBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTs7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBOztBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTs7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBOztBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFLQTtBQXVEQTtBQUFBO0FBOUNBO0FBTUE7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVVBO0FBS0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBTUE7QUFBQTtBQXhEQTtBQXlEQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Framework/src/utils/cubismdebug.ts\n");

/***/ }),

/***/ "./Framework/src/utils/cubismjson.ts":
/*!*******************************************!*\
  !*** ./Framework/src/utils/cubismjson.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Live2DCubismFramework = void 0;\nvar csmstring_1 = __webpack_require__(/*! ../type/csmstring */ \"./Framework/src/type/csmstring.ts\");\nvar csmmap_1 = __webpack_require__(/*! ../type/csmmap */ \"./Framework/src/type/csmmap.ts\");\nvar csmvector_1 = __webpack_require__(/*! ../type/csmvector */ \"./Framework/src/type/csmvector.ts\");\nvar cubismdebug_1 = __webpack_require__(/*! ./cubismdebug */ \"./Framework/src/utils/cubismdebug.ts\");\nvar live2dcubismframework_1 = __webpack_require__(/*! ../live2dcubismframework */ \"./Framework/src/live2dcubismframework.ts\");\nvar csmVector = csmvector_1.Live2DCubismFramework.csmVector;\nvar csmMap = csmmap_1.Live2DCubismFramework.csmMap;\nvar csmString = csmstring_1.Live2DCubismFramework.csmString;\nvar Live2DCubismFramework;\n(function (Live2DCubismFramework) {\n    var CSM_JSON_ERROR_TYPE_MISMATCH = 'Error: type mismatch';\n    var CSM_JSON_ERROR_INDEX_OF_BOUNDS = 'Error: index out of bounds';\n    var Value = (function () {\n        function Value() {\n        }\n        Value.prototype.getRawString = function (defaultValue, indent) {\n            return this.getString(defaultValue, indent);\n        };\n        Value.prototype.toInt = function (defaultValue) {\n            if (defaultValue === void 0) { defaultValue = 0; }\n            return defaultValue;\n        };\n        Value.prototype.toFloat = function (defaultValue) {\n            if (defaultValue === void 0) { defaultValue = 0; }\n            return defaultValue;\n        };\n        Value.prototype.toBoolean = function (defaultValue) {\n            if (defaultValue === void 0) { defaultValue = false; }\n            return defaultValue;\n        };\n        Value.prototype.getSize = function () {\n            return 0;\n        };\n        Value.prototype.getArray = function (defaultValue) {\n            if (defaultValue === void 0) { defaultValue = null; }\n            return defaultValue;\n        };\n        Value.prototype.getVector = function (defaultValue) {\n            return defaultValue;\n        };\n        Value.prototype.getMap = function (defaultValue) {\n            return defaultValue;\n        };\n        Value.prototype.getValueByIndex = function (index) {\n            return Value.errorValue.setErrorNotForClientCall(CSM_JSON_ERROR_TYPE_MISMATCH);\n        };\n        Value.prototype.getValueByString = function (s) {\n            return Value.nullValue.setErrorNotForClientCall(CSM_JSON_ERROR_TYPE_MISMATCH);\n        };\n        Value.prototype.getKeys = function () {\n            return Value.s_dummyKeys;\n        };\n        Value.prototype.isError = function () {\n            return false;\n        };\n        Value.prototype.isNull = function () {\n            return false;\n        };\n        Value.prototype.isBool = function () {\n            return false;\n        };\n        Value.prototype.isFloat = function () {\n            return false;\n        };\n        Value.prototype.isString = function () {\n            return false;\n        };\n        Value.prototype.isArray = function () {\n            return false;\n        };\n        Value.prototype.isMap = function () {\n            return false;\n        };\n        Value.prototype.equals = function (value) {\n            return false;\n        };\n        Value.prototype.isStatic = function () {\n            return false;\n        };\n        Value.prototype.setErrorNotForClientCall = function (errorStr) {\n            return JsonError.errorValue;\n        };\n        Value.staticInitializeNotForClientCall = function () {\n            JsonBoolean.trueValue = new JsonBoolean(true);\n            JsonBoolean.falseValue = new JsonBoolean(false);\n            JsonError.errorValue = new JsonError('ERROR', true);\n            this.nullValue = new JsonNullvalue();\n            Value.s_dummyKeys = new csmVector();\n        };\n        Value.staticReleaseNotForClientCall = function () {\n            JsonBoolean.trueValue = null;\n            JsonBoolean.falseValue = null;\n            JsonError.errorValue = null;\n            Value.nullValue = null;\n            Value.s_dummyKeys = null;\n            JsonBoolean.trueValue = null;\n            JsonBoolean.falseValue = null;\n            JsonError.errorValue = null;\n            Value.nullValue = null;\n            Value.s_dummyKeys = null;\n        };\n        return Value;\n    }());\n    Live2DCubismFramework.Value = Value;\n    var CubismJson = (function () {\n        function CubismJson(buffer, length) {\n            this._error = null;\n            this._lineCount = 0;\n            this._root = null;\n            if (buffer != undefined) {\n                this.parseBytes(buffer, length);\n            }\n        }\n        CubismJson.create = function (buffer, size) {\n            var json = new CubismJson();\n            var succeeded = json.parseBytes(buffer, size);\n            if (!succeeded) {\n                CubismJson.delete(json);\n                return null;\n            }\n            else {\n                return json;\n            }\n        };\n        CubismJson.delete = function (instance) {\n            instance = null;\n        };\n        CubismJson.prototype.getRoot = function () {\n            return this._root;\n        };\n        CubismJson.prototype.arrayBufferToString = function (buffer) {\n            var uint8Array = new Uint8Array(buffer);\n            var str = '';\n            for (var i = 0, len = uint8Array.length; i < len; ++i) {\n                str += '%' + this.pad(uint8Array[i].toString(16));\n            }\n            str = decodeURIComponent(str);\n            return str;\n        };\n        CubismJson.prototype.pad = function (n) {\n            return n.length < 2 ? '0' + n : n;\n        };\n        CubismJson.prototype.parseBytes = function (buffer, size) {\n            var endPos = new Array(1);\n            var decodeBuffer = this.arrayBufferToString(buffer);\n            this._root = this.parseValue(decodeBuffer, size, 0, endPos);\n            if (this._error) {\n                var strbuf = '\\0';\n                strbuf = 'Json parse error : @line ' + (this._lineCount + 1) + '\\n';\n                this._root = new JsonString(strbuf);\n                cubismdebug_1.CubismLogInfo('{0}', this._root.getRawString());\n                return false;\n            }\n            else if (this._root == null) {\n                this._root = new JsonError(new csmString(this._error), false);\n                return false;\n            }\n            return true;\n        };\n        CubismJson.prototype.getParseError = function () {\n            return this._error;\n        };\n        CubismJson.prototype.checkEndOfFile = function () {\n            return this._root.getArray()[1].equals('EOF');\n        };\n        CubismJson.prototype.parseValue = function (buffer, length, begin, outEndPos) {\n            if (this._error)\n                return null;\n            var o = null;\n            var i = begin;\n            var f;\n            for (; i < length; i++) {\n                var c = buffer[i];\n                switch (c) {\n                    case '-':\n                    case '.':\n                    case '0':\n                    case '1':\n                    case '2':\n                    case '3':\n                    case '4':\n                    case '5':\n                    case '6':\n                    case '7':\n                    case '8':\n                    case '9': {\n                        var afterString = new Array(1);\n                        f = live2dcubismframework_1.strtod(buffer.slice(i), afterString);\n                        outEndPos[0] = buffer.indexOf(afterString[0]);\n                        return new JsonFloat(f);\n                    }\n                    case '\"':\n                        return new JsonString(this.parseString(buffer, length, i + 1, outEndPos));\n                    case '[':\n                        o = this.parseArray(buffer, length, i + 1, outEndPos);\n                        return o;\n                    case '{':\n                        o = this.parseObject(buffer, length, i + 1, outEndPos);\n                        return o;\n                    case 'n':\n                        if (i + 3 < length) {\n                            o = new JsonNullvalue();\n                            outEndPos[0] = i + 4;\n                        }\n                        else {\n                            this._error = 'parse null';\n                        }\n                        return o;\n                    case 't':\n                        if (i + 3 < length) {\n                            o = JsonBoolean.trueValue;\n                            outEndPos[0] = i + 4;\n                        }\n                        else {\n                            this._error = 'parse true';\n                        }\n                        return o;\n                    case 'f':\n                        if (i + 4 < length) {\n                            o = JsonBoolean.falseValue;\n                            outEndPos[0] = i + 5;\n                        }\n                        else {\n                            this._error = \"illegal ',' position\";\n                        }\n                        return o;\n                    case ',':\n                        this._error = \"illegal ',' position\";\n                        return null;\n                    case ']':\n                        outEndPos[0] = i;\n                        return null;\n                    case '\\n':\n                        this._lineCount++;\n                    case ' ':\n                    case '\\t':\n                    case '\\r':\n                    default:\n                        break;\n                }\n            }\n            this._error = 'illegal end of value';\n            return null;\n        };\n        CubismJson.prototype.parseString = function (string, length, begin, outEndPos) {\n            if (this._error)\n                return null;\n            var i = begin;\n            var c, c2;\n            var ret = new csmString('');\n            var bufStart = begin;\n            for (; i < length; i++) {\n                c = string[i];\n                switch (c) {\n                    case '\"': {\n                        outEndPos[0] = i + 1;\n                        ret.append(string.slice(bufStart), i - bufStart);\n                        return ret.s;\n                    }\n                    case '//': {\n                        i++;\n                        if (i - 1 > bufStart) {\n                            ret.append(string.slice(bufStart), i - bufStart);\n                        }\n                        bufStart = i + 1;\n                        if (i < length) {\n                            c2 = string[i];\n                            switch (c2) {\n                                case '\\\\':\n                                    ret.expansion(1, '\\\\');\n                                    break;\n                                case '\"':\n                                    ret.expansion(1, '\"');\n                                    break;\n                                case '/':\n                                    ret.expansion(1, '/');\n                                    break;\n                                case 'b':\n                                    ret.expansion(1, '\\b');\n                                    break;\n                                case 'f':\n                                    ret.expansion(1, '\\f');\n                                    break;\n                                case 'n':\n                                    ret.expansion(1, '\\n');\n                                    break;\n                                case 'r':\n                                    ret.expansion(1, '\\r');\n                                    break;\n                                case 't':\n                                    ret.expansion(1, '\\t');\n                                    break;\n                                case 'u':\n                                    this._error = 'parse string/unicord escape not supported';\n                                    break;\n                                default:\n                                    break;\n                            }\n                        }\n                        else {\n                            this._error = 'parse string/escape error';\n                        }\n                    }\n                    default: {\n                        break;\n                    }\n                }\n            }\n            this._error = 'parse string/illegal end';\n            return null;\n        };\n        CubismJson.prototype.parseObject = function (buffer, length, begin, outEndPos) {\n            if (this._error)\n                return null;\n            var ret = new JsonMap();\n            var key = '';\n            var i = begin;\n            var c = '';\n            var localRetEndPos2 = Array(1);\n            var ok = false;\n            for (; i < length; i++) {\n                FOR_LOOP: for (; i < length; i++) {\n                    c = buffer[i];\n                    switch (c) {\n                        case '\"':\n                            key = this.parseString(buffer, length, i + 1, localRetEndPos2);\n                            if (this._error) {\n                                return null;\n                            }\n                            i = localRetEndPos2[0];\n                            ok = true;\n                            break FOR_LOOP;\n                        case '}':\n                            outEndPos[0] = i + 1;\n                            return ret;\n                        case ':':\n                            this._error = \"illegal ':' position\";\n                            break;\n                        case '\\n':\n                            this._lineCount++;\n                        default:\n                            break;\n                    }\n                }\n                if (!ok) {\n                    this._error = 'key not found';\n                    return null;\n                }\n                ok = false;\n                FOR_LOOP2: for (; i < length; i++) {\n                    c = buffer[i];\n                    switch (c) {\n                        case ':':\n                            ok = true;\n                            i++;\n                            break FOR_LOOP2;\n                        case '}':\n                            this._error = \"illegal '}' position\";\n                            break;\n                        case '\\n':\n                            this._lineCount++;\n                        default:\n                            break;\n                    }\n                }\n                if (!ok) {\n                    this._error = \"':' not found\";\n                    return null;\n                }\n                var value = this.parseValue(buffer, length, i, localRetEndPos2);\n                if (this._error) {\n                    return null;\n                }\n                i = localRetEndPos2[0];\n                ret.put(key, value);\n                FOR_LOOP3: for (; i < length; i++) {\n                    c = buffer[i];\n                    switch (c) {\n                        case ',':\n                            break FOR_LOOP3;\n                        case '}':\n                            outEndPos[0] = i + 1;\n                            return ret;\n                        case '\\n':\n                            this._lineCount++;\n                        default:\n                            break;\n                    }\n                }\n            }\n            this._error = 'illegal end of perseObject';\n            return null;\n        };\n        CubismJson.prototype.parseArray = function (buffer, length, begin, outEndPos) {\n            if (this._error)\n                return null;\n            var ret = new JsonArray();\n            var i = begin;\n            var c;\n            var localRetEndpos2 = new Array(1);\n            for (; i < length; i++) {\n                var value = this.parseValue(buffer, length, i, localRetEndpos2);\n                if (this._error) {\n                    return null;\n                }\n                i = localRetEndpos2[0];\n                if (value) {\n                    ret.add(value);\n                }\n                FOR_LOOP: for (; i < length; i++) {\n                    c = buffer[i];\n                    switch (c) {\n                        case ',':\n                            break FOR_LOOP;\n                        case ']':\n                            outEndPos[0] = i + 1;\n                            return ret;\n                        case '\\n':\n                            ++this._lineCount;\n                        default:\n                            break;\n                    }\n                }\n            }\n            ret = void 0;\n            this._error = 'illegal end of parseObject';\n            return null;\n        };\n        return CubismJson;\n    }());\n    Live2DCubismFramework.CubismJson = CubismJson;\n    var JsonFloat = (function (_super) {\n        __extends(JsonFloat, _super);\n        function JsonFloat(v) {\n            var _this = _super.call(this) || this;\n            _this._value = v;\n            return _this;\n        }\n        JsonFloat.prototype.isFloat = function () {\n            return true;\n        };\n        JsonFloat.prototype.getString = function (defaultValue, indent) {\n            var strbuf = '\\0';\n            this._value = parseFloat(strbuf);\n            this._stringBuffer = strbuf;\n            return this._stringBuffer;\n        };\n        JsonFloat.prototype.toInt = function (defaultValue) {\n            if (defaultValue === void 0) { defaultValue = 0; }\n            return parseInt(this._value.toString());\n        };\n        JsonFloat.prototype.toFloat = function (defaultValue) {\n            if (defaultValue === void 0) { defaultValue = 0.0; }\n            return this._value;\n        };\n        JsonFloat.prototype.equals = function (value) {\n            if ('number' === typeof value) {\n                if (Math.round(value)) {\n                    return false;\n                }\n                else {\n                    return value == this._value;\n                }\n            }\n            return false;\n        };\n        return JsonFloat;\n    }(Value));\n    Live2DCubismFramework.JsonFloat = JsonFloat;\n    var JsonBoolean = (function (_super) {\n        __extends(JsonBoolean, _super);\n        function JsonBoolean(v) {\n            var _this = _super.call(this) || this;\n            _this._boolValue = v;\n            return _this;\n        }\n        JsonBoolean.prototype.isBool = function () {\n            return true;\n        };\n        JsonBoolean.prototype.toBoolean = function (defaultValue) {\n            if (defaultValue === void 0) { defaultValue = false; }\n            return this._boolValue;\n        };\n        JsonBoolean.prototype.getString = function (defaultValue, indent) {\n            this._stringBuffer = this._boolValue ? 'true' : 'false';\n            return this._stringBuffer;\n        };\n        JsonBoolean.prototype.equals = function (value) {\n            if ('boolean' === typeof value) {\n                return value == this._boolValue;\n            }\n            return false;\n        };\n        JsonBoolean.prototype.isStatic = function () {\n            return true;\n        };\n        return JsonBoolean;\n    }(Value));\n    Live2DCubismFramework.JsonBoolean = JsonBoolean;\n    var JsonString = (function (_super) {\n        __extends(JsonString, _super);\n        function JsonString(s) {\n            var _this = _super.call(this) || this;\n            if ('string' === typeof s) {\n                _this._stringBuffer = s;\n            }\n            if (s instanceof csmString) {\n                _this._stringBuffer = s.s;\n            }\n            return _this;\n        }\n        JsonString.prototype.isString = function () {\n            return true;\n        };\n        JsonString.prototype.getString = function (defaultValue, indent) {\n            return this._stringBuffer;\n        };\n        JsonString.prototype.equals = function (value) {\n            if ('string' === typeof value) {\n                return this._stringBuffer == value;\n            }\n            if (value instanceof csmString) {\n                return this._stringBuffer == value.s;\n            }\n            return false;\n        };\n        return JsonString;\n    }(Value));\n    Live2DCubismFramework.JsonString = JsonString;\n    var JsonError = (function (_super) {\n        __extends(JsonError, _super);\n        function JsonError(s, isStatic) {\n            var _this = this;\n            if ('string' === typeof s) {\n                _this = _super.call(this, s) || this;\n            }\n            else {\n                _this = _super.call(this, s) || this;\n            }\n            _this._isStatic = isStatic;\n            return _this;\n        }\n        JsonError.prototype.isStatic = function () {\n            return this._isStatic;\n        };\n        JsonError.prototype.setErrorNotForClientCall = function (s) {\n            this._stringBuffer = s;\n            return this;\n        };\n        JsonError.prototype.isError = function () {\n            return true;\n        };\n        return JsonError;\n    }(JsonString));\n    Live2DCubismFramework.JsonError = JsonError;\n    var JsonNullvalue = (function (_super) {\n        __extends(JsonNullvalue, _super);\n        function JsonNullvalue() {\n            var _this = _super.call(this) || this;\n            _this._stringBuffer = 'NullValue';\n            return _this;\n        }\n        JsonNullvalue.prototype.isNull = function () {\n            return true;\n        };\n        JsonNullvalue.prototype.getString = function (defaultValue, indent) {\n            return this._stringBuffer;\n        };\n        JsonNullvalue.prototype.isStatic = function () {\n            return true;\n        };\n        return JsonNullvalue;\n    }(Value));\n    Live2DCubismFramework.JsonNullvalue = JsonNullvalue;\n    var JsonArray = (function (_super) {\n        __extends(JsonArray, _super);\n        function JsonArray() {\n            var _this = _super.call(this) || this;\n            _this._array = new csmVector();\n            return _this;\n        }\n        JsonArray.prototype.release = function () {\n            for (var ite = this._array.begin(); ite.notEqual(this._array.end()); ite.preIncrement()) {\n                var v = ite.ptr();\n                if (v && !v.isStatic()) {\n                    v = void 0;\n                    v = null;\n                }\n            }\n        };\n        JsonArray.prototype.isArray = function () {\n            return true;\n        };\n        JsonArray.prototype.getValueByIndex = function (index) {\n            if (index < 0 || this._array.getSize() <= index) {\n                return Value.errorValue.setErrorNotForClientCall(CSM_JSON_ERROR_INDEX_OF_BOUNDS);\n            }\n            var v = this._array.at(index);\n            if (v == null) {\n                return Value.nullValue;\n            }\n            return v;\n        };\n        JsonArray.prototype.getValueByString = function (s) {\n            return Value.errorValue.setErrorNotForClientCall(CSM_JSON_ERROR_TYPE_MISMATCH);\n        };\n        JsonArray.prototype.getString = function (defaultValue, indent) {\n            var stringBuffer = indent + '[\\n';\n            for (var ite = this._array.begin(); ite.notEqual(this._array.end()); ite.increment()) {\n                var v = ite.ptr();\n                this._stringBuffer += indent + '' + v.getString(indent + ' ') + '\\n';\n            }\n            this._stringBuffer = stringBuffer + indent + ']\\n';\n            return this._stringBuffer;\n        };\n        JsonArray.prototype.add = function (v) {\n            this._array.pushBack(v);\n        };\n        JsonArray.prototype.getVector = function (defaultValue) {\n            if (defaultValue === void 0) { defaultValue = null; }\n            return this._array;\n        };\n        JsonArray.prototype.getSize = function () {\n            return this._array.getSize();\n        };\n        return JsonArray;\n    }(Value));\n    Live2DCubismFramework.JsonArray = JsonArray;\n    var JsonMap = (function (_super) {\n        __extends(JsonMap, _super);\n        function JsonMap() {\n            var _this = _super.call(this) || this;\n            _this._map = new csmMap();\n            return _this;\n        }\n        JsonMap.prototype.release = function () {\n            var ite = this._map.begin();\n            while (ite.notEqual(this._map.end())) {\n                var v = ite.ptr().second;\n                if (v && !v.isStatic()) {\n                    v = void 0;\n                    v = null;\n                }\n                ite.preIncrement();\n            }\n        };\n        JsonMap.prototype.isMap = function () {\n            return true;\n        };\n        JsonMap.prototype.getValueByString = function (s) {\n            if (s instanceof csmString) {\n                var ret = this._map.getValue(s.s);\n                if (ret == null) {\n                    return Value.nullValue;\n                }\n                return ret;\n            }\n            for (var iter = this._map.begin(); iter.notEqual(this._map.end()); iter.preIncrement()) {\n                if (iter.ptr().first == s) {\n                    if (iter.ptr().second == null) {\n                        return Value.nullValue;\n                    }\n                    return iter.ptr().second;\n                }\n            }\n            return Value.nullValue;\n        };\n        JsonMap.prototype.getValueByIndex = function (index) {\n            return Value.errorValue.setErrorNotForClientCall(CSM_JSON_ERROR_TYPE_MISMATCH);\n        };\n        JsonMap.prototype.getString = function (defaultValue, indent) {\n            this._stringBuffer = indent + '{\\n';\n            var ite = this._map.begin();\n            while (ite.notEqual(this._map.end())) {\n                var key = ite.ptr().first;\n                var v = ite.ptr().second;\n                this._stringBuffer +=\n                    indent + ' ' + key + ' : ' + v.getString(indent + '   ') + ' \\n';\n                ite.preIncrement();\n            }\n            this._stringBuffer += indent + '}\\n';\n            return this._stringBuffer;\n        };\n        JsonMap.prototype.getMap = function (defaultValue) {\n            return this._map;\n        };\n        JsonMap.prototype.put = function (key, v) {\n            this._map.setValue(key, v);\n        };\n        JsonMap.prototype.getKeys = function () {\n            if (!this._keys) {\n                this._keys = new csmVector();\n                var ite = this._map.begin();\n                while (ite.notEqual(this._map.end())) {\n                    var key = ite.ptr().first;\n                    this._keys.pushBack(key);\n                    ite.preIncrement();\n                }\n            }\n            return this._keys;\n        };\n        JsonMap.prototype.getSize = function () {\n            return this._keys.getSize();\n        };\n        return JsonMap;\n    }(Value));\n    Live2DCubismFramework.JsonMap = JsonMap;\n})(Live2DCubismFramework = exports.Live2DCubismFramework || (exports.Live2DCubismFramework = {}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9GcmFtZXdvcmsvc3JjL3V0aWxzL2N1YmlzbWpzb24udHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9GcmFtZXdvcmsvc3JjL3V0aWxzL2N1YmlzbWpzb24udHM/YjE5NiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodChjKSBMaXZlMkQgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IHRoZSBMaXZlMkQgT3BlbiBTb2Z0d2FyZSBsaWNlbnNlXG4gKiB0aGF0IGNhbiBiZSBmb3VuZCBhdCBodHRwczovL3d3dy5saXZlMmQuY29tL2V1bGEvbGl2ZTJkLW9wZW4tc29mdHdhcmUtbGljZW5zZS1hZ3JlZW1lbnRfZW4uaHRtbC5cbiAqL1xuXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3Ntc3RyaW5nIH0gZnJvbSAnLi4vdHlwZS9jc21zdHJpbmcnO1xuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGNzbW1hcCB9IGZyb20gJy4uL3R5cGUvY3NtbWFwJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjc212ZWN0b3IgfSBmcm9tICcuLi90eXBlL2NzbXZlY3Rvcic7XG5pbXBvcnQgeyBDdWJpc21Mb2dJbmZvIH0gZnJvbSAnLi9jdWJpc21kZWJ1Zyc7XG5pbXBvcnQgeyBzdHJ0b2QgfSBmcm9tICcuLi9saXZlMmRjdWJpc21mcmFtZXdvcmsnO1xuaW1wb3J0IGNzbVZlY3RvciA9IGNzbXZlY3Rvci5jc21WZWN0b3I7XG5pbXBvcnQgY3NtVmVjdG9yX2l0ZXJhdG9yID0gY3NtdmVjdG9yLml0ZXJhdG9yO1xuaW1wb3J0IGNzbU1hcCA9IGNzbW1hcC5jc21NYXA7XG5pbXBvcnQgY3NtTWFwX2l0ZXJhdG9yID0gY3NtbWFwLml0ZXJhdG9yO1xuaW1wb3J0IGNzbVN0cmluZyA9IGNzbXN0cmluZy5jc21TdHJpbmc7XG5cbmV4cG9ydCBuYW1lc3BhY2UgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIHtcbiAgLy8gU3RhdGljSW5pdGlhbGl6ZU5vdEZvckNsaWVudENhbGwoKeOBp+WIneacn+WMluOBmeOCi1xuICBjb25zdCBDU01fSlNPTl9FUlJPUl9UWVBFX01JU01BVENIID0gJ0Vycm9yOiB0eXBlIG1pc21hdGNoJztcbiAgY29uc3QgQ1NNX0pTT05fRVJST1JfSU5ERVhfT0ZfQk9VTkRTID0gJ0Vycm9yOiBpbmRleCBvdXQgb2YgYm91bmRzJztcblxuICAvKipcbiAgICog44OR44O844K544GX44GfSlNPTuOCqOODrOODoeODs+ODiOOBruimgee0oOOBruWfuuW6leOCr+ODqeOCueOAglxuICAgKi9cbiAgZXhwb3J0IGFic3RyYWN0IGNsYXNzIFZhbHVlIHtcbiAgICAvKipcbiAgICAgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr9cbiAgICAgKi9cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7fVxuXG4gICAgLyoqXG4gICAgICog6KaB57Sg44KS5paH5a2X5YiX5Z6L44Gn6L+U44GZKGNzbVN0cmluZ+WeiylcbiAgICAgKi9cbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0U3RyaW5nKGRlZmF1bHRWYWx1ZT86IHN0cmluZywgaW5kZW50Pzogc3RyaW5nKTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICog6KaB57Sg44KS5paH5a2X5YiX5Z6L44Gn6L+U44GZKHN0cmluZylcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0UmF3U3RyaW5nKGRlZmF1bHRWYWx1ZT86IHN0cmluZywgaW5kZW50Pzogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgIHJldHVybiB0aGlzLmdldFN0cmluZyhkZWZhdWx0VmFsdWUsIGluZGVudCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6KaB57Sg44KS5pWw5YCk5Z6L44Gn6L+U44GZKG51bWJlcilcbiAgICAgKi9cbiAgICBwdWJsaWMgdG9JbnQoZGVmYXVsdFZhbHVlID0gMCk6IG51bWJlciB7XG4gICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOimgee0oOOCkuaVsOWApOWei+OBp+i/lOOBmShudW1iZXIpXG4gICAgICovXG4gICAgcHVibGljIHRvRmxvYXQoZGVmYXVsdFZhbHVlID0gMCk6IG51bWJlciB7XG4gICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOimgee0oOOCkuecn+WBveWApOOBp+i/lOOBmShib29sZWFuKVxuICAgICAqL1xuICAgIHB1YmxpYyB0b0Jvb2xlYW4oZGVmYXVsdFZhbHVlID0gZmFsc2UpOiBib29sZWFuIHtcbiAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44K144Kk44K644KS6L+U44GZXG4gICAgICovXG4gICAgcHVibGljIGdldFNpemUoKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOimgee0oOOCkumFjeWIl+OBp+i/lOOBmShWYWx1ZVtdKVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRBcnJheShkZWZhdWx0VmFsdWU6IFZhbHVlW10gPSBudWxsKTogVmFsdWVbXSB7XG4gICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOimgee0oOOCkuOCs+ODs+ODhuODiuOBp+i/lOOBmShhcnJheSlcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0VmVjdG9yKGRlZmF1bHRWYWx1ZT86IGNzbVZlY3RvcjxWYWx1ZT4pOiBjc21WZWN0b3I8VmFsdWU+IHtcbiAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6KaB57Sg44KS44Oe44OD44OX44Gn6L+U44GZKGNzbU1hcDxjc21TdHJpbmcsIFZhbHVlPilcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0TWFwKGRlZmF1bHRWYWx1ZT86IGNzbU1hcDxzdHJpbmcsIFZhbHVlPik6IGNzbU1hcDxzdHJpbmcsIFZhbHVlPiB7XG4gICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOa3u+Wtl+a8lOeul+WtkFtpbmRleF1cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0VmFsdWVCeUluZGV4KGluZGV4OiBudW1iZXIpOiBWYWx1ZSB7XG4gICAgICByZXR1cm4gVmFsdWUuZXJyb3JWYWx1ZS5zZXRFcnJvck5vdEZvckNsaWVudENhbGwoXG4gICAgICAgIENTTV9KU09OX0VSUk9SX1RZUEVfTUlTTUFUQ0hcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5re75a2X5ryU566X5a2QW3N0cmluZyB8IGNzbVN0cmluZ11cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0VmFsdWVCeVN0cmluZyhzOiBzdHJpbmcgfCBjc21TdHJpbmcpOiBWYWx1ZSB7XG4gICAgICByZXR1cm4gVmFsdWUubnVsbFZhbHVlLnNldEVycm9yTm90Rm9yQ2xpZW50Q2FsbChcbiAgICAgICAgQ1NNX0pTT05fRVJST1JfVFlQRV9NSVNNQVRDSFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg57jg4Pjg5fjga7jgq3jg7zkuIDopqfjgpLjgrPjg7Pjg4bjg4rjgafov5TjgZlcbiAgICAgKlxuICAgICAqIEByZXR1cm4g44Oe44OD44OX44Gu44Kt44O844Gu5LiA6KanXG4gICAgICovXG4gICAgcHVibGljIGdldEtleXMoKTogY3NtVmVjdG9yPHN0cmluZz4ge1xuICAgICAgcmV0dXJuIFZhbHVlLnNfZHVtbXlLZXlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZhbHVl44Gu56iu6aGe44GM44Ko44Op44O85YCk44Gq44KJdHJ1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBpc0Vycm9yKCk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZhbHVl44Gu56iu6aGe44GMbnVsbOOBquOCiXRydWVcbiAgICAgKi9cbiAgICBwdWJsaWMgaXNOdWxsKCk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZhbHVl44Gu56iu6aGe44GM55yf5YG95YCk44Gq44KJdHJ1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBpc0Jvb2woKTogYm9vbGVhbiB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmFsdWXjga7nqK7poZ7jgYzmlbDlgKTlnovjgarjgol0cnVlXG4gICAgICovXG4gICAgcHVibGljIGlzRmxvYXQoKTogYm9vbGVhbiB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmFsdWXjga7nqK7poZ7jgYzmloflrZfliJfjgarjgol0cnVlXG4gICAgICovXG4gICAgcHVibGljIGlzU3RyaW5nKCk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZhbHVl44Gu56iu6aGe44GM6YWN5YiX44Gq44KJdHJ1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBpc0FycmF5KCk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZhbHVl44Gu56iu6aGe44GM44Oe44OD44OX5Z6L44Gq44KJdHJ1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBpc01hcCgpOiBib29sZWFuIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlvJXmlbDjga7lgKTjgajnrYnjgZfjgZHjgozjgbB0cnVlXG4gICAgICovXG4gICAgcHVibGljIGVxdWFscyh2YWx1ZTogY3NtU3RyaW5nKTogYm9vbGVhbjtcbiAgICBwdWJsaWMgZXF1YWxzKHZhbHVlOiBzdHJpbmcpOiBib29sZWFuO1xuICAgIHB1YmxpYyBlcXVhbHModmFsdWU6IG51bWJlcik6IGJvb2xlYW47XG4gICAgcHVibGljIGVxdWFscyh2YWx1ZTogYm9vbGVhbik6IGJvb2xlYW47XG4gICAgcHVibGljIGVxdWFscyh2YWx1ZTogYW55KTogYm9vbGVhbiB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmFsdWXjga7lgKTjgYzpnZnnmoTjgarjgol0cnVl44CB6Z2Z55qE44Gq44KJ6Kej5pS+44GX44Gq44GEXG4gICAgICovXG4gICAgcHVibGljIGlzU3RhdGljKCk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZhbHVl44Gr44Ko44Op44O85YCk44KS44K744OD44OI44GZ44KLXG4gICAgICovXG4gICAgcHVibGljIHNldEVycm9yTm90Rm9yQ2xpZW50Q2FsbChlcnJvclN0cjogc3RyaW5nKTogVmFsdWUge1xuICAgICAgcmV0dXJuIEpzb25FcnJvci5lcnJvclZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWIneacn+WMlueUqOODoeOCveODg+ODiVxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgc3RhdGljSW5pdGlhbGl6ZU5vdEZvckNsaWVudENhbGwoKTogdm9pZCB7XG4gICAgICBKc29uQm9vbGVhbi50cnVlVmFsdWUgPSBuZXcgSnNvbkJvb2xlYW4odHJ1ZSk7XG4gICAgICBKc29uQm9vbGVhbi5mYWxzZVZhbHVlID0gbmV3IEpzb25Cb29sZWFuKGZhbHNlKTtcblxuICAgICAgSnNvbkVycm9yLmVycm9yVmFsdWUgPSBuZXcgSnNvbkVycm9yKCdFUlJPUicsIHRydWUpO1xuICAgICAgdGhpcy5udWxsVmFsdWUgPSBuZXcgSnNvbk51bGx2YWx1ZSgpO1xuXG4gICAgICBWYWx1ZS5zX2R1bW15S2V5cyA9IG5ldyBjc21WZWN0b3I8c3RyaW5nPigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODquODquODvOOCueeUqOODoeOCveODg+ODiVxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgc3RhdGljUmVsZWFzZU5vdEZvckNsaWVudENhbGwoKTogdm9pZCB7XG4gICAgICBKc29uQm9vbGVhbi50cnVlVmFsdWUgPSBudWxsO1xuICAgICAgSnNvbkJvb2xlYW4uZmFsc2VWYWx1ZSA9IG51bGw7XG4gICAgICBKc29uRXJyb3IuZXJyb3JWYWx1ZSA9IG51bGw7XG4gICAgICBWYWx1ZS5udWxsVmFsdWUgPSBudWxsO1xuICAgICAgVmFsdWUuc19kdW1teUtleXMgPSBudWxsO1xuXG4gICAgICBKc29uQm9vbGVhbi50cnVlVmFsdWUgPSBudWxsO1xuICAgICAgSnNvbkJvb2xlYW4uZmFsc2VWYWx1ZSA9IG51bGw7XG4gICAgICBKc29uRXJyb3IuZXJyb3JWYWx1ZSA9IG51bGw7XG4gICAgICBWYWx1ZS5udWxsVmFsdWUgPSBudWxsO1xuICAgICAgVmFsdWUuc19kdW1teUtleXMgPSBudWxsO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBfc3RyaW5nQnVmZmVyOiBzdHJpbmc7IC8vIOaWh+Wtl+WIl+ODkOODg+ODleOCoVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgc19kdW1teUtleXM6IGNzbVZlY3RvcjxzdHJpbmc+OyAvLyDjg4Djg5/jg7zjgq3jg7xcblxuICAgIHB1YmxpYyBzdGF0aWMgZXJyb3JWYWx1ZTogVmFsdWU7IC8vIOS4gOaZgueahOOBqui/lOOCiuWApOOBqOOBl+OBpui/lOOBmeOCqOODqeODvOOAgiBDdWJpc21GcmFtZXdvcms6OkRpc3Bvc2XjgZnjgovjgb7jgafjga9kZWxldGXjgZfjgarjgYRcbiAgICBwdWJsaWMgc3RhdGljIG51bGxWYWx1ZTogVmFsdWU7IC8vIOS4gOaZgueahOOBqui/lOOCiuWApOOBqOOBl+OBpui/lOOBmU5VTEzjgIIgICBDdWJpc21GcmFtZXdvcms6OkRpc3Bvc2XjgZnjgovjgb7jgafjga9kZWxldGXjgZfjgarjgYRcbiAgfVxuXG4gIC8qKlxuICAgKiBBc2NpaeaWh+Wtl+OBruOBv+WvvuW/nOOBl+OBn+acgOWwj+mZkOOBrui7vemHj0pTT07jg5Hjg7zjgrXjgIJcbiAgICog5LuV5qeY44GvSlNPTuOBruOCteODluOCu+ODg+ODiOOBqOOBquOCi+OAglxuICAgKiDoqK3lrprjg5XjgqHjgqTjg6sobW9kZWwzLmpzb24p44Gq44Gp44Gu44Ot44O844OJ55SoXG4gICAqXG4gICAqIFvmnKrlr77lv5zpoIXnm65dXG4gICAqIOODu+aXpeacrOiqnuOBquOBqeOBrumdnkFTQ0lJ5paH5a2XXG4gICAqIOODu2XjgavjgojjgovmjIfmlbDooajnj75cbiAgICovXG4gIGV4cG9ydCBjbGFzcyBDdWJpc21Kc29uIHtcbiAgICAvKipcbiAgICAgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr9cbiAgICAgKi9cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoYnVmZmVyPzogQXJyYXlCdWZmZXIsIGxlbmd0aD86IG51bWJlcikge1xuICAgICAgdGhpcy5fZXJyb3IgPSBudWxsO1xuICAgICAgdGhpcy5fbGluZUNvdW50ID0gMDtcbiAgICAgIHRoaXMuX3Jvb3QgPSBudWxsO1xuXG4gICAgICBpZiAoYnVmZmVyICE9IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLnBhcnNlQnl0ZXMoYnVmZmVyLCBsZW5ndGgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODkOOCpOODiOODh+ODvOOCv+OBi+OCieebtOaOpeODreODvOODieOBl+OBpuODkeODvOOCueOBmeOCi1xuICAgICAqXG4gICAgICogQHBhcmFtIGJ1ZmZlciDjg5Djg4Pjg5XjgqFcbiAgICAgKiBAcGFyYW0gc2l6ZSDjg5Djg4Pjg5XjgqHjgrXjgqTjgrpcbiAgICAgKiBAcmV0dXJuIEN1YmlzbUpzb27jgq/jg6njgrnjga7jgqTjg7Pjgrnjgr/jg7PjgrnjgILlpLHmlZfjgZfjgZ/jgolOVUxMXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGUoYnVmZmVyOiBBcnJheUJ1ZmZlciwgc2l6ZTogbnVtYmVyKSB7XG4gICAgICBjb25zdCBqc29uID0gbmV3IEN1YmlzbUpzb24oKTtcbiAgICAgIGNvbnN0IHN1Y2NlZWRlZDogYm9vbGVhbiA9IGpzb24ucGFyc2VCeXRlcyhidWZmZXIsIHNpemUpO1xuXG4gICAgICBpZiAoIXN1Y2NlZWRlZCkge1xuICAgICAgICBDdWJpc21Kc29uLmRlbGV0ZShqc29uKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ganNvbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg5Hjg7zjgrnjgZfjgZ9KU09O44Kq44OW44K444Kn44Kv44OI44Gu6Kej5pS+5Yem55CGXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaW5zdGFuY2UgQ3ViaXNtSnNvbuOCr+ODqeOCueOBruOCpOODs+OCueOCv+ODs+OCuVxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgZGVsZXRlKGluc3RhbmNlOiBDdWJpc21Kc29uKSB7XG4gICAgICBpbnN0YW5jZSA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44OR44O844K544GX44GfSlNPTuOBruODq+ODvOODiOimgee0oOOCkui/lOOBmVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRSb290KCk6IFZhbHVlIHtcbiAgICAgIHJldHVybiB0aGlzLl9yb290O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBVbmljb2Rl44Gu44OQ44Kk44OK44Oq44KSU3RyaW5n44Gr5aSJ5o+bXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYnVmZmVyIOWkieaPm+OBmeOCi+ODkOOCpOODiuODquODh+ODvOOCv1xuICAgICAqIEByZXR1cm4g5aSJ5o+b5b6M44Gu5paH5a2X5YiXXG4gICAgICovXG4gICAgcHVibGljIGFycmF5QnVmZmVyVG9TdHJpbmcoYnVmZmVyOiBBcnJheUJ1ZmZlcik6IHN0cmluZyB7XG4gICAgICBjb25zdCB1aW50OEFycmF5OiBVaW50OEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgICAgIGxldCBzdHIgPSAnJztcblxuICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbjogbnVtYmVyID0gdWludDhBcnJheS5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgICBzdHIgKz0gJyUnICsgdGhpcy5wYWQodWludDhBcnJheVtpXS50b1N0cmluZygxNikpO1xuICAgICAgfVxuXG4gICAgICBzdHIgPSBkZWNvZGVVUklDb21wb25lbnQoc3RyKTtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Ko44Oz44Kz44O844OJ44CB44OR44OH44Kj44Oz44KwXG4gICAgICovXG4gICAgcHJpdmF0ZSBwYWQobjogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgIHJldHVybiBuLmxlbmd0aCA8IDIgPyAnMCcgKyBuIDogbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBKU09O44Gu44OR44O844K544KS5a6f6KGM44GZ44KLXG4gICAgICogQHBhcmFtIGJ1ZmZlciAgICDjg5Hjg7zjgrnlr77osaHjga7jg4fjg7zjgr/jg5DjgqTjg4hcbiAgICAgKiBAcGFyYW0gc2l6ZSAgICAgIOODh+ODvOOCv+ODkOOCpOODiOOBruOCteOCpOOCulxuICAgICAqIHJldHVybiB0cnVlIDog5oiQ5YqfXG4gICAgICogcmV0dXJuIGZhbHNlOiDlpLHmlZdcbiAgICAgKi9cbiAgICBwdWJsaWMgcGFyc2VCeXRlcyhidWZmZXI6IEFycmF5QnVmZmVyLCBzaXplOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgIGNvbnN0IGVuZFBvczogbnVtYmVyW10gPSBuZXcgQXJyYXkoMSk7IC8vIOWPgueFp+a4oeOBl+OBq+OBmeOCi+OBn+OCgemFjeWIl1xuICAgICAgY29uc3QgZGVjb2RlQnVmZmVyOiBzdHJpbmcgPSB0aGlzLmFycmF5QnVmZmVyVG9TdHJpbmcoYnVmZmVyKTtcbiAgICAgIHRoaXMuX3Jvb3QgPSB0aGlzLnBhcnNlVmFsdWUoZGVjb2RlQnVmZmVyLCBzaXplLCAwLCBlbmRQb3MpO1xuXG4gICAgICBpZiAodGhpcy5fZXJyb3IpIHtcbiAgICAgICAgbGV0IHN0cmJ1ZiA9ICdcXDAnO1xuICAgICAgICBzdHJidWYgPSAnSnNvbiBwYXJzZSBlcnJvciA6IEBsaW5lICcgKyAodGhpcy5fbGluZUNvdW50ICsgMSkgKyAnXFxuJztcbiAgICAgICAgdGhpcy5fcm9vdCA9IG5ldyBKc29uU3RyaW5nKHN0cmJ1Zik7XG5cbiAgICAgICAgQ3ViaXNtTG9nSW5mbygnezB9JywgdGhpcy5fcm9vdC5nZXRSYXdTdHJpbmcoKSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fcm9vdCA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuX3Jvb3QgPSBuZXcgSnNvbkVycm9yKG5ldyBjc21TdHJpbmcodGhpcy5fZXJyb3IpLCBmYWxzZSk7IC8vIHJvb3Tjga/op6PmlL7jgZXjgozjgovjga7jgafjgqjjg6njg7zjgqrjg5bjgrjjgqfjgq/jg4jjgpLliKXpgJTkvZzmiJDjgZnjgotcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44OR44O844K55pmC44Gu44Ko44Op44O85YCk44KS6L+U44GZXG4gICAgICovXG4gICAgcHVibGljIGdldFBhcnNlRXJyb3IoKTogc3RyaW5nIHtcbiAgICAgIHJldHVybiB0aGlzLl9lcnJvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjg6vjg7zjg4jopoHntKDjga7mrKHjga7opoHntKDjgYzjg5XjgqHjgqTjg6vjga7ntYLnq6/jgaDjgaPjgZ/jgol0cnVl44KS6L+U44GZXG4gICAgICovXG4gICAgcHVibGljIGNoZWNrRW5kT2ZGaWxlKCk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIHRoaXMuX3Jvb3QuZ2V0QXJyYXkoKVsxXS5lcXVhbHMoJ0VPRicpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEpTT07jgqjjg6zjg6Hjg7Pjg4jjgYvjgolWYWx1ZShmbG9hdCxTdHJpbmcsVmFsdWUqLEFycmF5LG51bGwsdHJ1ZSxmYWxzZSnjgpLjg5Hjg7zjgrnjgZnjgotcbiAgICAgKiDjgqjjg6zjg6Hjg7Pjg4jjga7mm7jlvI/jgavlv5zjgZjjgablhoXpg6jjgadQYXJzZVN0cmluZygpLCBQYXJzZU9iamVjdCgpLCBQYXJzZUFycmF5KCnjgpLlkbzjgbZcbiAgICAgKlxuICAgICAqIEBwYXJhbSAgIGJ1ZmZlciAgICAgIEpTT07jgqjjg6zjg6Hjg7Pjg4jjga7jg5Djg4Pjg5XjgqFcbiAgICAgKiBAcGFyYW0gICBsZW5ndGggICAgICDjg5Hjg7zjgrnjgZnjgovplbfjgZVcbiAgICAgKiBAcGFyYW0gICBiZWdpbiAgICAgICDjg5Hjg7zjgrnjgpLplovlp4vjgZnjgovkvY3nva5cbiAgICAgKiBAcGFyYW0gICBvdXRFbmRQb3MgICDjg5Hjg7zjgrnntYLkuobmmYLjga7kvY3nva5cbiAgICAgKiBAcmV0dXJuICAgICAg44OR44O844K544GL44KJ5Y+W5b6X44GX44GfVmFsdWXjgqrjg5bjgrjjgqfjgq/jg4hcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgcGFyc2VWYWx1ZShcbiAgICAgIGJ1ZmZlcjogc3RyaW5nLFxuICAgICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgICBiZWdpbjogbnVtYmVyLFxuICAgICAgb3V0RW5kUG9zOiBudW1iZXJbXVxuICAgICkge1xuICAgICAgaWYgKHRoaXMuX2Vycm9yKSByZXR1cm4gbnVsbDtcblxuICAgICAgbGV0IG86IFZhbHVlID0gbnVsbDtcbiAgICAgIGxldCBpOiBudW1iZXIgPSBiZWdpbjtcbiAgICAgIGxldCBmOiBudW1iZXI7XG5cbiAgICAgIGZvciAoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgYzogc3RyaW5nID0gYnVmZmVyW2ldO1xuICAgICAgICBzd2l0Y2ggKGMpIHtcbiAgICAgICAgICBjYXNlICctJzpcbiAgICAgICAgICBjYXNlICcuJzpcbiAgICAgICAgICBjYXNlICcwJzpcbiAgICAgICAgICBjYXNlICcxJzpcbiAgICAgICAgICBjYXNlICcyJzpcbiAgICAgICAgICBjYXNlICczJzpcbiAgICAgICAgICBjYXNlICc0JzpcbiAgICAgICAgICBjYXNlICc1JzpcbiAgICAgICAgICBjYXNlICc2JzpcbiAgICAgICAgICBjYXNlICc3JzpcbiAgICAgICAgICBjYXNlICc4JzpcbiAgICAgICAgICBjYXNlICc5Jzoge1xuICAgICAgICAgICAgY29uc3QgYWZ0ZXJTdHJpbmc6IHN0cmluZ1tdID0gbmV3IEFycmF5KDEpOyAvLyDlj4LnhafmuKHjgZfjgavjgZnjgovjgZ/jgoFcbiAgICAgICAgICAgIGYgPSBzdHJ0b2QoYnVmZmVyLnNsaWNlKGkpLCBhZnRlclN0cmluZyk7XG4gICAgICAgICAgICBvdXRFbmRQb3NbMF0gPSBidWZmZXIuaW5kZXhPZihhZnRlclN0cmluZ1swXSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEpzb25GbG9hdChmKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSAnXCInOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBKc29uU3RyaW5nKFxuICAgICAgICAgICAgICB0aGlzLnBhcnNlU3RyaW5nKGJ1ZmZlciwgbGVuZ3RoLCBpICsgMSwgb3V0RW5kUG9zKVxuICAgICAgICAgICAgKTsgLy8gXFxcIuOBruasoeOBruaWh+Wtl+OBi+OCiVxuICAgICAgICAgIGNhc2UgJ1snOlxuICAgICAgICAgICAgbyA9IHRoaXMucGFyc2VBcnJheShidWZmZXIsIGxlbmd0aCwgaSArIDEsIG91dEVuZFBvcyk7XG4gICAgICAgICAgICByZXR1cm4gbztcbiAgICAgICAgICBjYXNlICd7JzpcbiAgICAgICAgICAgIG8gPSB0aGlzLnBhcnNlT2JqZWN0KGJ1ZmZlciwgbGVuZ3RoLCBpICsgMSwgb3V0RW5kUG9zKTtcbiAgICAgICAgICAgIHJldHVybiBvO1xuICAgICAgICAgIGNhc2UgJ24nOiAvLyBudWxs5Lul5aSW44Gr44Gq44GEXG4gICAgICAgICAgICBpZiAoaSArIDMgPCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgbyA9IG5ldyBKc29uTnVsbHZhbHVlKCk7IC8vIOino+aUvuOBp+OBjeOCi+OCiOOBhuOBq+OBmeOCi1xuICAgICAgICAgICAgICBvdXRFbmRQb3NbMF0gPSBpICsgNDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuX2Vycm9yID0gJ3BhcnNlIG51bGwnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG87XG4gICAgICAgICAgY2FzZSAndCc6IC8vIHRydWXku6XlpJbjgavjgarjgYRcbiAgICAgICAgICAgIGlmIChpICsgMyA8IGxlbmd0aCkge1xuICAgICAgICAgICAgICBvID0gSnNvbkJvb2xlYW4udHJ1ZVZhbHVlO1xuICAgICAgICAgICAgICBvdXRFbmRQb3NbMF0gPSBpICsgNDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuX2Vycm9yID0gJ3BhcnNlIHRydWUnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG87XG4gICAgICAgICAgY2FzZSAnZic6IC8vIGZhbHNl5Lul5aSW44Gr44Gq44GEXG4gICAgICAgICAgICBpZiAoaSArIDQgPCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgbyA9IEpzb25Cb29sZWFuLmZhbHNlVmFsdWU7XG4gICAgICAgICAgICAgIG91dEVuZFBvc1swXSA9IGkgKyA1O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5fZXJyb3IgPSBcImlsbGVnYWwgJywnIHBvc2l0aW9uXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbztcbiAgICAgICAgICBjYXNlICcsJzogLy8gQXJyYXkgc2VwYXJhdG9yXG4gICAgICAgICAgICB0aGlzLl9lcnJvciA9IFwiaWxsZWdhbCAnLCcgcG9zaXRpb25cIjtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIGNhc2UgJ10nOiAvLyDkuI3mraPjgarvvZ3jgaDjgYzjgrnjgq3jg4Pjg5fjgZnjgovjgILphY3liJfjga7mnIDlvozjgavkuI3opoHjgaogLCDjgYzjgYLjgovjgajmgJ3jgo/jgozjgotcbiAgICAgICAgICAgIG91dEVuZFBvc1swXSA9IGk7IC8vIOWQjOOBmOaWh+Wtl+OCkuWGjeWHpueQhlxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgY2FzZSAnXFxuJzpcbiAgICAgICAgICAgIHRoaXMuX2xpbmVDb3VudCsrO1xuICAgICAgICAgIGNhc2UgJyAnOlxuICAgICAgICAgIGNhc2UgJ1xcdCc6XG4gICAgICAgICAgY2FzZSAnXFxyJzpcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgLy8g44K544Kt44OD44OXXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLl9lcnJvciA9ICdpbGxlZ2FsIGVuZCBvZiB2YWx1ZSc7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDmrKHjga7jgIxcIuOAjeOBvuOBp+OBruaWh+Wtl+WIl+OCkuODkeODvOOCueOBmeOCi+OAglxuICAgICAqXG4gICAgICogQHBhcmFtICAgc3RyaW5nICAtPiAg44OR44O844K55a++6LGh44Gu5paH5a2X5YiXXG4gICAgICogQHBhcmFtICAgbGVuZ3RoICAtPiAg44OR44O844K544GZ44KL6ZW344GVXG4gICAgICogQHBhcmFtICAgYmVnaW4gICAtPiAg44OR44O844K544KS6ZaL5aeL44GZ44KL5L2N572uXG4gICAgICogQHBhcmFtICBvdXRFbmRQb3MgICAtPiAg44OR44O844K557WC5LqG5pmC44Gu5L2N572uXG4gICAgICogQHJldHVybiAgICAgIOODkeODvOOCueOBl+OBn+aWh0blrZfliJfopoHntKBcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgcGFyc2VTdHJpbmcoXG4gICAgICBzdHJpbmc6IHN0cmluZyxcbiAgICAgIGxlbmd0aDogbnVtYmVyLFxuICAgICAgYmVnaW46IG51bWJlcixcbiAgICAgIG91dEVuZFBvczogbnVtYmVyW11cbiAgICApOiBzdHJpbmcge1xuICAgICAgaWYgKHRoaXMuX2Vycm9yKSByZXR1cm4gbnVsbDtcblxuICAgICAgbGV0IGkgPSBiZWdpbjtcbiAgICAgIGxldCBjOiBzdHJpbmcsIGMyOiBzdHJpbmc7XG4gICAgICBjb25zdCByZXQ6IGNzbVN0cmluZyA9IG5ldyBjc21TdHJpbmcoJycpO1xuICAgICAgbGV0IGJ1ZlN0YXJ0OiBudW1iZXIgPSBiZWdpbjsgLy8gc2J1ZuOBq+eZu+mMsuOBleOCjOOBpuOBhOOBquOBhOaWh+Wtl+OBrumWi+Wni+S9jee9rlxuXG4gICAgICBmb3IgKDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGMgPSBzdHJpbmdbaV07XG5cbiAgICAgICAgc3dpdGNoIChjKSB7XG4gICAgICAgICAgY2FzZSAnXCInOiB7XG4gICAgICAgICAgICAvLyDntYLnq6/jga7igJ3jgIHjgqjjgrnjgrHjg7zjg5fmloflrZfjga/liKXjgavlh6bnkIbjgZXjgozjgovjga7jgafjgZPjgZPjgavmnaXjgarjgYRcbiAgICAgICAgICAgIG91dEVuZFBvc1swXSA9IGkgKyAxOyAvLyDigJ3jga7mrKHjga7mloflrZdcbiAgICAgICAgICAgIHJldC5hcHBlbmQoc3RyaW5nLnNsaWNlKGJ1ZlN0YXJ0KSwgaSAtIGJ1ZlN0YXJ0KTsgLy8g5YmN44Gu5paH5a2X44G+44Gn44KS55m76Yyy44GZ44KLXG4gICAgICAgICAgICByZXR1cm4gcmV0LnM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgJy8vJzoge1xuICAgICAgICAgICAgLy8g44Ko44K544Kx44O844OX44Gu5aC05ZCIXG4gICAgICAgICAgICBpKys7IC8vIO+8kuaWh+Wtl+OCkuOCu+ODg+ODiOOBp+aJseOBhlxuXG4gICAgICAgICAgICBpZiAoaSAtIDEgPiBidWZTdGFydCkge1xuICAgICAgICAgICAgICByZXQuYXBwZW5kKHN0cmluZy5zbGljZShidWZTdGFydCksIGkgLSBidWZTdGFydCk7IC8vIOWJjeOBruaWh+Wtl+OBvuOBp+OCkueZu+mMsuOBmeOCi1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnVmU3RhcnQgPSBpICsgMTsgLy8g44Ko44K544Kx44O844OX77yI77yS5paH5a2XKeOBruasoeOBruaWh+Wtl+OBi+OCiVxuXG4gICAgICAgICAgICBpZiAoaSA8IGxlbmd0aCkge1xuICAgICAgICAgICAgICBjMiA9IHN0cmluZ1tpXTtcblxuICAgICAgICAgICAgICBzd2l0Y2ggKGMyKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnXFxcXCc6XG4gICAgICAgICAgICAgICAgICByZXQuZXhwYW5zaW9uKDEsICdcXFxcJyk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdcIic6XG4gICAgICAgICAgICAgICAgICByZXQuZXhwYW5zaW9uKDEsICdcIicpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnLyc6XG4gICAgICAgICAgICAgICAgICByZXQuZXhwYW5zaW9uKDEsICcvJyk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdiJzpcbiAgICAgICAgICAgICAgICAgIHJldC5leHBhbnNpb24oMSwgJ1xcYicpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZic6XG4gICAgICAgICAgICAgICAgICByZXQuZXhwYW5zaW9uKDEsICdcXGYnKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ24nOlxuICAgICAgICAgICAgICAgICAgcmV0LmV4cGFuc2lvbigxLCAnXFxuJyk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdyJzpcbiAgICAgICAgICAgICAgICAgIHJldC5leHBhbnNpb24oMSwgJ1xccicpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAndCc6XG4gICAgICAgICAgICAgICAgICByZXQuZXhwYW5zaW9uKDEsICdcXHQnKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3UnOlxuICAgICAgICAgICAgICAgICAgdGhpcy5fZXJyb3IgPSAncGFyc2Ugc3RyaW5nL3VuaWNvcmQgZXNjYXBlIG5vdCBzdXBwb3J0ZWQnO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLl9lcnJvciA9ICdwYXJzZSBzdHJpbmcvZXNjYXBlIGVycm9yJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2Vycm9yID0gJ3BhcnNlIHN0cmluZy9pbGxlZ2FsIGVuZCc7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBKU09O44Gu44Kq44OW44K444Kn44Kv44OI44Ko44Os44Oh44Oz44OI44KS44OR44O844K544GX44GmVmFsdWXjgqrjg5bjgrjjgqfjgq/jg4jjgpLov5TjgZlcbiAgICAgKlxuICAgICAqIEBwYXJhbSBidWZmZXIgICAgSlNPTuOCqOODrOODoeODs+ODiOOBruODkOODg+ODleOCoVxuICAgICAqIEBwYXJhbSBsZW5ndGggICAg44OR44O844K544GZ44KL6ZW344GVXG4gICAgICogQHBhcmFtIGJlZ2luICAgICDjg5Hjg7zjgrnjgpLplovlp4vjgZnjgovkvY3nva5cbiAgICAgKiBAcGFyYW0gb3V0RW5kUG9zIOODkeODvOOCuee1guS6huaZguOBruS9jee9rlxuICAgICAqIEByZXR1cm4g44OR44O844K544GL44KJ5Y+W5b6X44GX44GfVmFsdWXjgqrjg5bjgrjjgqfjgq/jg4hcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgcGFyc2VPYmplY3QoXG4gICAgICBidWZmZXI6IHN0cmluZyxcbiAgICAgIGxlbmd0aDogbnVtYmVyLFxuICAgICAgYmVnaW46IG51bWJlcixcbiAgICAgIG91dEVuZFBvczogbnVtYmVyW11cbiAgICApOiBWYWx1ZSB7XG4gICAgICBpZiAodGhpcy5fZXJyb3IpIHJldHVybiBudWxsO1xuICAgICAgY29uc3QgcmV0OiBKc29uTWFwID0gbmV3IEpzb25NYXAoKTtcblxuICAgICAgLy8gS2V5OiBWYWx1ZVxuICAgICAgbGV0IGtleSA9ICcnO1xuICAgICAgbGV0IGk6IG51bWJlciA9IGJlZ2luO1xuICAgICAgbGV0IGMgPSAnJztcbiAgICAgIGNvbnN0IGxvY2FsUmV0RW5kUG9zMjogbnVtYmVyW10gPSBBcnJheSgxKTtcbiAgICAgIGxldCBvayA9IGZhbHNlO1xuXG4gICAgICAvLyAsIOOBjOe2muOBj+mZkOOCiuODq+ODvOODl1xuICAgICAgZm9yICg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBGT1JfTE9PUDogZm9yICg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgIGMgPSBidWZmZXJbaV07XG5cbiAgICAgICAgICBzd2l0Y2ggKGMpIHtcbiAgICAgICAgICAgIGNhc2UgJ1wiJzpcbiAgICAgICAgICAgICAga2V5ID0gdGhpcy5wYXJzZVN0cmluZyhidWZmZXIsIGxlbmd0aCwgaSArIDEsIGxvY2FsUmV0RW5kUG9zMik7XG4gICAgICAgICAgICAgIGlmICh0aGlzLl9lcnJvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaSA9IGxvY2FsUmV0RW5kUG9zMlswXTtcbiAgICAgICAgICAgICAgb2sgPSB0cnVlO1xuICAgICAgICAgICAgICBicmVhayBGT1JfTE9PUDsgLy8tLSBsb29w44GL44KJ5Ye644KLXG4gICAgICAgICAgICBjYXNlICd9JzogLy8g6ZaJ44GY44Kr44OD44KzXG4gICAgICAgICAgICAgIG91dEVuZFBvc1swXSA9IGkgKyAxO1xuICAgICAgICAgICAgICByZXR1cm4gcmV0OyAvLyDnqbpcbiAgICAgICAgICAgIGNhc2UgJzonOlxuICAgICAgICAgICAgICB0aGlzLl9lcnJvciA9IFwiaWxsZWdhbCAnOicgcG9zaXRpb25cIjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdcXG4nOlxuICAgICAgICAgICAgICB0aGlzLl9saW5lQ291bnQrKztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIGJyZWFrOyAvLyDjgrnjgq3jg4Pjg5fjgZnjgovmloflrZdcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvaykge1xuICAgICAgICAgIHRoaXMuX2Vycm9yID0gJ2tleSBub3QgZm91bmQnO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgb2sgPSBmYWxzZTtcblxuICAgICAgICAvLyA6IOOCkuODgeOCp+ODg+OCr1xuICAgICAgICBGT1JfTE9PUDI6IGZvciAoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjID0gYnVmZmVyW2ldO1xuXG4gICAgICAgICAgc3dpdGNoIChjKSB7XG4gICAgICAgICAgICBjYXNlICc6JzpcbiAgICAgICAgICAgICAgb2sgPSB0cnVlO1xuICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgIGJyZWFrIEZPUl9MT09QMjtcbiAgICAgICAgICAgIGNhc2UgJ30nOlxuICAgICAgICAgICAgICB0aGlzLl9lcnJvciA9IFwiaWxsZWdhbCAnfScgcG9zaXRpb25cIjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdcXG4nOlxuICAgICAgICAgICAgICB0aGlzLl9saW5lQ291bnQrKztcbiAgICAgICAgICAgIC8vIGNhc2UgJyAnOiBjYXNlICdcXHQnIDogY2FzZSAnXFxyJzpcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIGJyZWFrOyAvLyDjgrnjgq3jg4Pjg5fjgZnjgovmloflrZdcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW9rKSB7XG4gICAgICAgICAgdGhpcy5fZXJyb3IgPSBcIic6JyBub3QgZm91bmRcIjtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOWApOOCkuODgeOCp+ODg+OCr1xuICAgICAgICBjb25zdCB2YWx1ZTogVmFsdWUgPSB0aGlzLnBhcnNlVmFsdWUoXG4gICAgICAgICAgYnVmZmVyLFxuICAgICAgICAgIGxlbmd0aCxcbiAgICAgICAgICBpLFxuICAgICAgICAgIGxvY2FsUmV0RW5kUG9zMlxuICAgICAgICApO1xuICAgICAgICBpZiAodGhpcy5fZXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGkgPSBsb2NhbFJldEVuZFBvczJbMF07XG5cbiAgICAgICAgLy8gcmV0LnB1dChrZXksIHZhbHVlKTtcbiAgICAgICAgcmV0LnB1dChrZXksIHZhbHVlKTtcblxuICAgICAgICBGT1JfTE9PUDM6IGZvciAoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjID0gYnVmZmVyW2ldO1xuXG4gICAgICAgICAgc3dpdGNoIChjKSB7XG4gICAgICAgICAgICBjYXNlICcsJzpcbiAgICAgICAgICAgICAgYnJlYWsgRk9SX0xPT1AzO1xuICAgICAgICAgICAgY2FzZSAnfSc6XG4gICAgICAgICAgICAgIG91dEVuZFBvc1swXSA9IGkgKyAxO1xuICAgICAgICAgICAgICByZXR1cm4gcmV0OyAvLyDmraPluLjntYLkuoZcbiAgICAgICAgICAgIGNhc2UgJ1xcbic6XG4gICAgICAgICAgICAgIHRoaXMuX2xpbmVDb3VudCsrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgYnJlYWs7IC8vIOOCueOCreODg+ODl1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLl9lcnJvciA9ICdpbGxlZ2FsIGVuZCBvZiBwZXJzZU9iamVjdCc7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDmrKHjga7jgIxcIuOAjeOBvuOBp+OBruaWh+Wtl+WIl+OCkuODkeODvOOCueOBmeOCi+OAglxuICAgICAqIEBwYXJhbSBidWZmZXIgICAgSlNPTuOCqOODrOODoeODs+ODiOOBruODkOODg+ODleOCoVxuICAgICAqIEBwYXJhbSBsZW5ndGggICAg44OR44O844K544GZ44KL6ZW344GVXG4gICAgICogQHBhcmFtIGJlZ2luICAgICDjg5Hjg7zjgrnjgpLplovlp4vjgZnjgovkvY3nva5cbiAgICAgKiBAcGFyYW0gb3V0RW5kUG9zIOODkeODvOOCuee1guS6huaZguOBruS9jee9rlxuICAgICAqIEByZXR1cm4g44OR44O844K544GL44KJ5Y+W5b6X44GX44GfVmFsdWXjgqrjg5bjgrjjgqfjgq/jg4hcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgcGFyc2VBcnJheShcbiAgICAgIGJ1ZmZlcjogc3RyaW5nLFxuICAgICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgICBiZWdpbjogbnVtYmVyLFxuICAgICAgb3V0RW5kUG9zOiBudW1iZXJbXVxuICAgICk6IFZhbHVlIHtcbiAgICAgIGlmICh0aGlzLl9lcnJvcikgcmV0dXJuIG51bGw7XG4gICAgICBsZXQgcmV0OiBKc29uQXJyYXkgPSBuZXcgSnNvbkFycmF5KCk7XG5cbiAgICAgIC8vIGtleSA6IHZhbHVlXG4gICAgICBsZXQgaTogbnVtYmVyID0gYmVnaW47XG4gICAgICBsZXQgYzogc3RyaW5nO1xuICAgICAgY29uc3QgbG9jYWxSZXRFbmRwb3MyOiBudW1iZXJbXSA9IG5ldyBBcnJheSgxKTtcblxuICAgICAgLy8gLCDjgYzntprjgY/pmZDjgorjg6vjg7zjg5dcbiAgICAgIGZvciAoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gOiDjgpLjg4Hjgqfjg4Pjgq9cbiAgICAgICAgY29uc3QgdmFsdWU6IFZhbHVlID0gdGhpcy5wYXJzZVZhbHVlKFxuICAgICAgICAgIGJ1ZmZlcixcbiAgICAgICAgICBsZW5ndGgsXG4gICAgICAgICAgaSxcbiAgICAgICAgICBsb2NhbFJldEVuZHBvczJcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAodGhpcy5fZXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpID0gbG9jYWxSZXRFbmRwb3MyWzBdO1xuXG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIHJldC5hZGQodmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRk9SX0xPT1AzOlxuICAgICAgICAvLyBib29sZWFuIGJyZWFrZmxhZyA9IGZhbHNlO1xuICAgICAgICBGT1JfTE9PUDogZm9yICg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgIGMgPSBidWZmZXJbaV07XG5cbiAgICAgICAgICBzd2l0Y2ggKGMpIHtcbiAgICAgICAgICAgIGNhc2UgJywnOlxuICAgICAgICAgICAgICAvLyBicmVha2ZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgICAvLyBicmVhazsgLy8g5qyh44GuS0VZLCBWQWxVReOBuFxuICAgICAgICAgICAgICBicmVhayBGT1JfTE9PUDtcbiAgICAgICAgICAgIGNhc2UgJ10nOlxuICAgICAgICAgICAgICBvdXRFbmRQb3NbMF0gPSBpICsgMTtcbiAgICAgICAgICAgICAgcmV0dXJuIHJldDsgLy8g57WC5LqGXG4gICAgICAgICAgICBjYXNlICdcXG4nOlxuICAgICAgICAgICAgICArK3RoaXMuX2xpbmVDb3VudDtcbiAgICAgICAgICAgIC8vY2FzZSAnICc6IGNhc2UgJ1xcdCc6IGNhc2UgJ1xccic6XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICBicmVhazsgLy8g44K544Kt44OD44OXXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldCA9IHZvaWQgMDtcbiAgICAgIHRoaXMuX2Vycm9yID0gJ2lsbGVnYWwgZW5kIG9mIHBhcnNlT2JqZWN0JztcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIF9lcnJvcjogc3RyaW5nOyAvLyDjg5Hjg7zjgrnmmYLjga7jgqjjg6njg7xcbiAgICBfbGluZUNvdW50OiBudW1iZXI7IC8vIOOCqOODqeODvOWgseWRiuOBq+eUqOOBhOOCi+ihjOaVsOOCq+OCpuODs+ODiFxuICAgIF9yb290OiBWYWx1ZTsgLy8g44OR44O844K544GV44KM44Gf44Or44O844OI6KaB57SgXG4gIH1cblxuICAvKipcbiAgICog44OR44O844K544GX44GfSlNPTuOBruimgee0oOOCkmZsb2F05YCk44Go44GX44Gm5omx44GGXG4gICAqL1xuICBleHBvcnQgY2xhc3MgSnNvbkZsb2F0IGV4dGVuZHMgVmFsdWUge1xuICAgIC8qKlxuICAgICAqIOOCs+ODs+OCueODiOODqeOCr+OCv1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHY6IG51bWJlcikge1xuICAgICAgc3VwZXIoKTtcblxuICAgICAgdGhpcy5fdmFsdWUgPSB2O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZhbHVl44Gu56iu6aGe44GM5pWw5YCk5Z6L44Gq44KJdHJ1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBpc0Zsb2F0KCk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6KaB57Sg44KS5paH5a2X5YiX44Gn6L+U44GZKGNzbVN0cmluZ+WeiylcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0U3RyaW5nKGRlZmF1bHRWYWx1ZTogc3RyaW5nLCBpbmRlbnQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICBjb25zdCBzdHJidWYgPSAnXFwwJztcbiAgICAgIHRoaXMuX3ZhbHVlID0gcGFyc2VGbG9hdChzdHJidWYpO1xuICAgICAgdGhpcy5fc3RyaW5nQnVmZmVyID0gc3RyYnVmO1xuXG4gICAgICByZXR1cm4gdGhpcy5fc3RyaW5nQnVmZmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOimgee0oOOCkuaVsOWApOWei+OBp+i/lOOBmShudW1iZXIpXG4gICAgICovXG4gICAgcHVibGljIHRvSW50KGRlZmF1bHRWYWx1ZSA9IDApOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHBhcnNlSW50KHRoaXMuX3ZhbHVlLnRvU3RyaW5nKCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOimgee0oOOCkuaVsOWApOWei+OBp+i/lOOBmShudW1iZXIpXG4gICAgICovXG4gICAgcHVibGljIHRvRmxvYXQoZGVmYXVsdFZhbHVlID0gMC4wKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlvJXmlbDjga7lgKTjgajnrYnjgZfjgZHjgozjgbB0cnVlXG4gICAgICovXG4gICAgcHVibGljIGVxdWFscyh2YWx1ZTogY3NtU3RyaW5nKTogYm9vbGVhbjtcbiAgICBwdWJsaWMgZXF1YWxzKHZhbHVlOiBzdHJpbmcpOiBib29sZWFuO1xuICAgIHB1YmxpYyBlcXVhbHModmFsdWU6IG51bWJlcik6IGJvb2xlYW47XG4gICAgcHVibGljIGVxdWFscyh2YWx1ZTogYm9vbGVhbik6IGJvb2xlYW47XG4gICAgcHVibGljIGVxdWFscyh2YWx1ZTogYW55KTogYm9vbGVhbiB7XG4gICAgICBpZiAoJ251bWJlcicgPT09IHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICAvLyBpbnRcbiAgICAgICAgaWYgKE1hdGgucm91bmQodmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGZsb2F0XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJldHVybiB2YWx1ZSA9PSB0aGlzLl92YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgX3ZhbHVlOiBudW1iZXI7IC8vIEpTT07opoHntKDjga7lgKRcbiAgfVxuXG4gIC8qKlxuICAgKiDjg5Hjg7zjgrnjgZfjgZ9KU09O44Gu6KaB57Sg44KS55yf5YG95YCk44Go44GX44Gm5omx44GGXG4gICAqL1xuICBleHBvcnQgY2xhc3MgSnNvbkJvb2xlYW4gZXh0ZW5kcyBWYWx1ZSB7XG4gICAgLyoqXG4gICAgICogVmFsdWXjga7nqK7poZ7jgYznnJ/lgb3lgKTjgarjgol0cnVlXG4gICAgICovXG4gICAgcHVibGljIGlzQm9vbCgpOiBib29sZWFuIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOimgee0oOOCkuecn+WBveWApOOBp+i/lOOBmShib29sZWFuKVxuICAgICAqL1xuICAgIHB1YmxpYyB0b0Jvb2xlYW4oZGVmYXVsdFZhbHVlID0gZmFsc2UpOiBib29sZWFuIHtcbiAgICAgIHJldHVybiB0aGlzLl9ib29sVmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6KaB57Sg44KS5paH5a2X5YiX44Gn6L+U44GZKGNzbVN0cmluZ+WeiylcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0U3RyaW5nKGRlZmF1bHRWYWx1ZTogc3RyaW5nLCBpbmRlbnQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICB0aGlzLl9zdHJpbmdCdWZmZXIgPSB0aGlzLl9ib29sVmFsdWUgPyAndHJ1ZScgOiAnZmFsc2UnO1xuXG4gICAgICByZXR1cm4gdGhpcy5fc3RyaW5nQnVmZmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOW8leaVsOOBruWApOOBqOetieOBl+OBkeOCjOOBsHRydWVcbiAgICAgKi9cbiAgICBwdWJsaWMgZXF1YWxzKHZhbHVlOiBjc21TdHJpbmcpOiBib29sZWFuO1xuICAgIHB1YmxpYyBlcXVhbHModmFsdWU6IHN0cmluZyk6IGJvb2xlYW47XG4gICAgcHVibGljIGVxdWFscyh2YWx1ZTogbnVtYmVyKTogYm9vbGVhbjtcbiAgICBwdWJsaWMgZXF1YWxzKHZhbHVlOiBib29sZWFuKTogYm9vbGVhbjtcbiAgICBwdWJsaWMgZXF1YWxzKHZhbHVlOiBhbnkpOiBib29sZWFuIHtcbiAgICAgIGlmICgnYm9vbGVhbicgPT09IHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT0gdGhpcy5fYm9vbFZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZhbHVl44Gu5YCk44GM6Z2Z55qE44Gq44KJdHJ1ZSwg6Z2Z55qE44Gq44KJ6Kej5pS+44GX44Gq44GEXG4gICAgICovXG4gICAgcHVibGljIGlzU3RhdGljKCk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5byV5pWw5LuY44GN44Kz44Oz44K544OI44Op44Kv44K/XG4gICAgICovXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHY6IGJvb2xlYW4pIHtcbiAgICAgIHN1cGVyKCk7XG5cbiAgICAgIHRoaXMuX2Jvb2xWYWx1ZSA9IHY7XG4gICAgfVxuXG4gICAgc3RhdGljIHRydWVWYWx1ZTogSnNvbkJvb2xlYW47IC8vIHRydWVcbiAgICBzdGF0aWMgZmFsc2VWYWx1ZTogSnNvbkJvb2xlYW47IC8vIGZhbHNlXG5cbiAgICBwcml2YXRlIF9ib29sVmFsdWU6IGJvb2xlYW47IC8vIEpTT07opoHntKDjga7lgKRcbiAgfVxuXG4gIC8qKlxuICAgKiDjg5Hjg7zjgrnjgZfjgZ9KU09O44Gu6KaB57Sg44KS5paH5a2X5YiX44Go44GX44Gm5omx44GGXG4gICAqL1xuICBleHBvcnQgY2xhc3MgSnNvblN0cmluZyBleHRlbmRzIFZhbHVlIHtcbiAgICAvKipcbiAgICAgKiDlvJXmlbDku5jjgY3jgrPjg7Pjgrnjg4jjg6njgq/jgr9cbiAgICAgKi9cbiAgICBwdWJsaWMgY29uc3RydWN0b3Ioczogc3RyaW5nKTtcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoczogY3NtU3RyaW5nKTtcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoczogYW55KSB7XG4gICAgICBzdXBlcigpO1xuXG4gICAgICBpZiAoJ3N0cmluZycgPT09IHR5cGVvZiBzKSB7XG4gICAgICAgIHRoaXMuX3N0cmluZ0J1ZmZlciA9IHM7XG4gICAgICB9XG5cbiAgICAgIGlmIChzIGluc3RhbmNlb2YgY3NtU3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX3N0cmluZ0J1ZmZlciA9IHMucztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBWYWx1ZeOBrueorumhnuOBjOaWh+Wtl+WIl+OBquOCiXRydWVcbiAgICAgKi9cbiAgICBwdWJsaWMgaXNTdHJpbmcoKTogYm9vbGVhbiB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDopoHntKDjgpLmloflrZfliJfjgafov5TjgZkoY3NtU3RyaW5n5Z6LKVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRTdHJpbmcoZGVmYXVsdFZhbHVlOiBzdHJpbmcsIGluZGVudDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgIHJldHVybiB0aGlzLl9zdHJpbmdCdWZmZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5byV5pWw44Gu5YCk44Go562J44GX44GR44KM44GwdHJ1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBlcXVhbHModmFsdWU6IGNzbVN0cmluZyk6IGJvb2xlYW47XG4gICAgcHVibGljIGVxdWFscyh2YWx1ZTogc3RyaW5nKTogYm9vbGVhbjtcbiAgICBwdWJsaWMgZXF1YWxzKHZhbHVlOiBudW1iZXIpOiBib29sZWFuO1xuICAgIHB1YmxpYyBlcXVhbHModmFsdWU6IGJvb2xlYW4pOiBib29sZWFuO1xuICAgIHB1YmxpYyBlcXVhbHModmFsdWU6IGFueSk6IGJvb2xlYW4ge1xuICAgICAgaWYgKCdzdHJpbmcnID09PSB0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0cmluZ0J1ZmZlciA9PSB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgY3NtU3RyaW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdHJpbmdCdWZmZXIgPT0gdmFsdWUucztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBKU09O44OR44O844K55pmC44Gu44Ko44Op44O857WQ5p6c44CC5paH5a2X5YiX5Z6L44Gu44KI44GG44Gr44G144KL44G+44GGXG4gICAqL1xuICBleHBvcnQgY2xhc3MgSnNvbkVycm9yIGV4dGVuZHMgSnNvblN0cmluZyB7XG4gICAgLyoqXG4gICAgICogVmFsdWXjga7lgKTjgYzpnZnnmoTjgarjgol0cnVl44CB6Z2Z55qE44Gq44KJ6Kej5pS+44GX44Gq44GEXG4gICAgICovXG4gICAgcHVibGljIGlzU3RhdGljKCk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIHRoaXMuX2lzU3RhdGljO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOOCqOODqeODvOaDheWgseOCkuOCu+ODg+ODiOOBmeOCi1xuICAgICAqL1xuICAgIHB1YmxpYyBzZXRFcnJvck5vdEZvckNsaWVudENhbGwoczogc3RyaW5nKTogVmFsdWUge1xuICAgICAgdGhpcy5fc3RyaW5nQnVmZmVyID0gcztcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOW8leaVsOS7mOOBjeOCs+ODs+OCueODiOODqeOCr+OCv1xuICAgICAqL1xuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihzOiBjc21TdHJpbmcgfCBzdHJpbmcsIGlzU3RhdGljOiBib29sZWFuKSB7XG4gICAgICBpZiAoJ3N0cmluZycgPT09IHR5cGVvZiBzKSB7XG4gICAgICAgIHN1cGVyKHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3VwZXIocyk7XG4gICAgICB9XG4gICAgICB0aGlzLl9pc1N0YXRpYyA9IGlzU3RhdGljO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZhbHVl44Gu56iu6aGe44GM44Ko44Op44O85YCk44Gq44KJdHJ1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBpc0Vycm9yKCk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIF9pc1N0YXRpYzogYm9vbGVhbjsgLy8g6Z2Z55qE44GqVmFsdWXjgYvjganjgYbjgYtcbiAgfVxuXG4gIC8qKlxuICAgKiDjg5Hjg7zjgrnjgZfjgZ9KU09O44Gu6KaB57Sg44KSTlVMTOWApOOBqOOBl+OBpuaMgeOBpFxuICAgKi9cbiAgZXhwb3J0IGNsYXNzIEpzb25OdWxsdmFsdWUgZXh0ZW5kcyBWYWx1ZSB7XG4gICAgLyoqXG4gICAgICogVmFsdWXjga7nqK7poZ7jgYxOVUxM5YCk44Gq44KJdHJ1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBpc051bGwoKTogYm9vbGVhbiB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDopoHntKDjgpLmloflrZfliJfjgafov5TjgZkoY3NtU3RyaW5n5Z6LKVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRTdHJpbmcoZGVmYXVsdFZhbHVlOiBzdHJpbmcsIGluZGVudDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgIHJldHVybiB0aGlzLl9zdHJpbmdCdWZmZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmFsdWXjga7lgKTjgYzpnZnnmoTjgarjgol0cnVlLCDpnZnnmoTjgarjgonop6PmlL7jgZfjgarjgYRcbiAgICAgKi9cbiAgICBwdWJsaWMgaXNTdGF0aWMoKTogYm9vbGVhbiB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr9cbiAgICAgKi9cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgICBzdXBlcigpO1xuXG4gICAgICB0aGlzLl9zdHJpbmdCdWZmZXIgPSAnTnVsbFZhbHVlJztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog44OR44O844K544GX44GfSlNPTuOBruimgee0oOOCkumFjeWIl+OBqOOBl+OBpuaMgeOBpFxuICAgKi9cbiAgZXhwb3J0IGNsYXNzIEpzb25BcnJheSBleHRlbmRzIFZhbHVlIHtcbiAgICAvKipcbiAgICAgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr9cbiAgICAgKi9cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgICBzdXBlcigpO1xuICAgICAgdGhpcy5fYXJyYXkgPSBuZXcgY3NtVmVjdG9yPFZhbHVlPigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOODh+OCueODiOODqeOCr+OCv+ebuOW9k+OBruWHpueQhlxuICAgICAqL1xuICAgIHB1YmxpYyByZWxlYXNlKCk6IHZvaWQge1xuICAgICAgZm9yIChcbiAgICAgICAgbGV0IGl0ZTogY3NtVmVjdG9yX2l0ZXJhdG9yPFZhbHVlPiA9IHRoaXMuX2FycmF5LmJlZ2luKCk7XG4gICAgICAgIGl0ZS5ub3RFcXVhbCh0aGlzLl9hcnJheS5lbmQoKSk7XG4gICAgICAgIGl0ZS5wcmVJbmNyZW1lbnQoKVxuICAgICAgKSB7XG4gICAgICAgIGxldCB2OiBWYWx1ZSA9IGl0ZS5wdHIoKTtcblxuICAgICAgICBpZiAodiAmJiAhdi5pc1N0YXRpYygpKSB7XG4gICAgICAgICAgdiA9IHZvaWQgMDtcbiAgICAgICAgICB2ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZhbHVl44Gu56iu6aGe44GM6YWN5YiX44Gq44KJdHJ1ZVxuICAgICAqL1xuICAgIHB1YmxpYyBpc0FycmF5KCk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5re75a2X5ryU566X5a2QW2luZGV4XVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRWYWx1ZUJ5SW5kZXgoaW5kZXg6IG51bWJlcik6IFZhbHVlIHtcbiAgICAgIGlmIChpbmRleCA8IDAgfHwgdGhpcy5fYXJyYXkuZ2V0U2l6ZSgpIDw9IGluZGV4KSB7XG4gICAgICAgIHJldHVybiBWYWx1ZS5lcnJvclZhbHVlLnNldEVycm9yTm90Rm9yQ2xpZW50Q2FsbChcbiAgICAgICAgICBDU01fSlNPTl9FUlJPUl9JTkRFWF9PRl9CT1VORFNcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdjogVmFsdWUgPSB0aGlzLl9hcnJheS5hdChpbmRleCk7XG5cbiAgICAgIGlmICh2ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFZhbHVlLm51bGxWYWx1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHY7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5re75a2X5ryU566X5a2QW3N0cmluZyB8IGNzbVN0cmluZ11cbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0VmFsdWVCeVN0cmluZyhzOiBzdHJpbmcgfCBjc21TdHJpbmcpOiBWYWx1ZSB7XG4gICAgICByZXR1cm4gVmFsdWUuZXJyb3JWYWx1ZS5zZXRFcnJvck5vdEZvckNsaWVudENhbGwoXG4gICAgICAgIENTTV9KU09OX0VSUk9SX1RZUEVfTUlTTUFUQ0hcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6KaB57Sg44KS5paH5a2X5YiX44Gn6L+U44GZKGNzbVN0cmluZ+WeiylcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0U3RyaW5nKGRlZmF1bHRWYWx1ZTogc3RyaW5nLCBpbmRlbnQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICBjb25zdCBzdHJpbmdCdWZmZXI6IHN0cmluZyA9IGluZGVudCArICdbXFxuJztcblxuICAgICAgZm9yIChcbiAgICAgICAgbGV0IGl0ZTogY3NtVmVjdG9yX2l0ZXJhdG9yPFZhbHVlPiA9IHRoaXMuX2FycmF5LmJlZ2luKCk7XG4gICAgICAgIGl0ZS5ub3RFcXVhbCh0aGlzLl9hcnJheS5lbmQoKSk7XG4gICAgICAgIGl0ZS5pbmNyZW1lbnQoKVxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IHY6IFZhbHVlID0gaXRlLnB0cigpO1xuICAgICAgICB0aGlzLl9zdHJpbmdCdWZmZXIgKz0gaW5kZW50ICsgJycgKyB2LmdldFN0cmluZyhpbmRlbnQgKyAnICcpICsgJ1xcbic7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3N0cmluZ0J1ZmZlciA9IHN0cmluZ0J1ZmZlciArIGluZGVudCArICddXFxuJztcblxuICAgICAgcmV0dXJuIHRoaXMuX3N0cmluZ0J1ZmZlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDphY3liJfopoHntKDjgpLov73liqDjgZnjgotcbiAgICAgKiBAcGFyYW0gdiDov73liqDjgZnjgovopoHntKBcbiAgICAgKi9cbiAgICBwdWJsaWMgYWRkKHY6IFZhbHVlKTogdm9pZCB7XG4gICAgICB0aGlzLl9hcnJheS5wdXNoQmFjayh2KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDopoHntKDjgpLjgrPjg7Pjg4bjg4rjgafov5TjgZkoY3NtVmVjdG9yPFZhbHVlPilcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0VmVjdG9yKGRlZmF1bHRWYWx1ZTogY3NtVmVjdG9yPFZhbHVlPiA9IG51bGwpOiBjc21WZWN0b3I8VmFsdWU+IHtcbiAgICAgIHJldHVybiB0aGlzLl9hcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDopoHntKDjga7mlbDjgpLov5TjgZlcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0U2l6ZSgpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHRoaXMuX2FycmF5LmdldFNpemUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9hcnJheTogY3NtVmVjdG9yPFZhbHVlPjsgLy8gSlNPTuimgee0oOOBruWApFxuICB9XG5cbiAgLyoqXG4gICAqIOODkeODvOOCueOBl+OBn0pTT07jga7opoHntKDjgpLjg57jg4Pjg5fjgajjgZfjgabmjIHjgaRcbiAgICovXG4gIGV4cG9ydCBjbGFzcyBKc29uTWFwIGV4dGVuZHMgVmFsdWUge1xuICAgIC8qKlxuICAgICAqIOOCs+ODs+OCueODiOODqeOCr+OCv1xuICAgICAqL1xuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHN1cGVyKCk7XG4gICAgICB0aGlzLl9tYXAgPSBuZXcgY3NtTWFwPHN0cmluZywgVmFsdWU+KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44OH44K544OI44Op44Kv44K/55u45b2T44Gu5Yem55CGXG4gICAgICovXG4gICAgcHVibGljIHJlbGVhc2UoKTogdm9pZCB7XG4gICAgICBjb25zdCBpdGU6IGNzbU1hcF9pdGVyYXRvcjxzdHJpbmcsIFZhbHVlPiA9IHRoaXMuX21hcC5iZWdpbigpO1xuXG4gICAgICB3aGlsZSAoaXRlLm5vdEVxdWFsKHRoaXMuX21hcC5lbmQoKSkpIHtcbiAgICAgICAgbGV0IHY6IFZhbHVlID0gaXRlLnB0cigpLnNlY29uZDtcblxuICAgICAgICBpZiAodiAmJiAhdi5pc1N0YXRpYygpKSB7XG4gICAgICAgICAgdiA9IHZvaWQgMDtcbiAgICAgICAgICB2ID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGl0ZS5wcmVJbmNyZW1lbnQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBWYWx1ZeOBruWApOOBjE1hcOWei+OBquOCiXRydWVcbiAgICAgKi9cbiAgICBwdWJsaWMgaXNNYXAoKTogYm9vbGVhbiB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDmt7vlrZfmvJTnrpflrZBbc3RyaW5nIHwgY3NtU3RyaW5nXVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRWYWx1ZUJ5U3RyaW5nKHM6IHN0cmluZyB8IGNzbVN0cmluZyk6IFZhbHVlIHtcbiAgICAgIGlmIChzIGluc3RhbmNlb2YgY3NtU3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IHJldDogVmFsdWUgPSB0aGlzLl9tYXAuZ2V0VmFsdWUocy5zKTtcbiAgICAgICAgaWYgKHJldCA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIFZhbHVlLm51bGxWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgfVxuXG4gICAgICBmb3IgKFxuICAgICAgICBsZXQgaXRlcjogY3NtTWFwX2l0ZXJhdG9yPHN0cmluZywgVmFsdWU+ID0gdGhpcy5fbWFwLmJlZ2luKCk7XG4gICAgICAgIGl0ZXIubm90RXF1YWwodGhpcy5fbWFwLmVuZCgpKTtcbiAgICAgICAgaXRlci5wcmVJbmNyZW1lbnQoKVxuICAgICAgKSB7XG4gICAgICAgIGlmIChpdGVyLnB0cigpLmZpcnN0ID09IHMpIHtcbiAgICAgICAgICBpZiAoaXRlci5wdHIoKS5zZWNvbmQgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIFZhbHVlLm51bGxWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGl0ZXIucHRyKCkuc2Vjb25kO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBWYWx1ZS5udWxsVmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5re75a2X5ryU566X5a2QW2luZGV4XVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRWYWx1ZUJ5SW5kZXgoaW5kZXg6IG51bWJlcik6IFZhbHVlIHtcbiAgICAgIHJldHVybiBWYWx1ZS5lcnJvclZhbHVlLnNldEVycm9yTm90Rm9yQ2xpZW50Q2FsbChcbiAgICAgICAgQ1NNX0pTT05fRVJST1JfVFlQRV9NSVNNQVRDSFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDopoHntKDjgpLmloflrZfliJfjgafov5TjgZkoY3NtU3RyaW5n5Z6LKVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRTdHJpbmcoZGVmYXVsdFZhbHVlOiBzdHJpbmcsIGluZGVudDogc3RyaW5nKSB7XG4gICAgICB0aGlzLl9zdHJpbmdCdWZmZXIgPSBpbmRlbnQgKyAne1xcbic7XG5cbiAgICAgIGNvbnN0IGl0ZTogY3NtTWFwX2l0ZXJhdG9yPHN0cmluZywgVmFsdWU+ID0gdGhpcy5fbWFwLmJlZ2luKCk7XG4gICAgICB3aGlsZSAoaXRlLm5vdEVxdWFsKHRoaXMuX21hcC5lbmQoKSkpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gaXRlLnB0cigpLmZpcnN0O1xuICAgICAgICBjb25zdCB2OiBWYWx1ZSA9IGl0ZS5wdHIoKS5zZWNvbmQ7XG5cbiAgICAgICAgdGhpcy5fc3RyaW5nQnVmZmVyICs9XG4gICAgICAgICAgaW5kZW50ICsgJyAnICsga2V5ICsgJyA6ICcgKyB2LmdldFN0cmluZyhpbmRlbnQgKyAnICAgJykgKyAnIFxcbic7XG4gICAgICAgIGl0ZS5wcmVJbmNyZW1lbnQoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fc3RyaW5nQnVmZmVyICs9IGluZGVudCArICd9XFxuJztcblxuICAgICAgcmV0dXJuIHRoaXMuX3N0cmluZ0J1ZmZlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDopoHntKDjgpJNYXDlnovjgafov5TjgZlcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0TWFwKGRlZmF1bHRWYWx1ZT86IGNzbU1hcDxzdHJpbmcsIFZhbHVlPik6IGNzbU1hcDxzdHJpbmcsIFZhbHVlPiB7XG4gICAgICByZXR1cm4gdGhpcy5fbWFwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1hcOOBq+imgee0oOOCkui/veWKoOOBmeOCi1xuICAgICAqL1xuICAgIHB1YmxpYyBwdXQoa2V5OiBzdHJpbmcsIHY6IFZhbHVlKTogdm9pZCB7XG4gICAgICB0aGlzLl9tYXAuc2V0VmFsdWUoa2V5LCB2KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNYXDjgYvjgonjgq3jg7zjga7jg6rjgrnjg4jjgpLlj5blvpfjgZnjgotcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0S2V5cygpOiBjc21WZWN0b3I8c3RyaW5nPiB7XG4gICAgICBpZiAoIXRoaXMuX2tleXMpIHtcbiAgICAgICAgdGhpcy5fa2V5cyA9IG5ldyBjc21WZWN0b3I8c3RyaW5nPigpO1xuXG4gICAgICAgIGNvbnN0IGl0ZTogY3NtTWFwX2l0ZXJhdG9yPHN0cmluZywgVmFsdWU+ID0gdGhpcy5fbWFwLmJlZ2luKCk7XG5cbiAgICAgICAgd2hpbGUgKGl0ZS5ub3RFcXVhbCh0aGlzLl9tYXAuZW5kKCkpKSB7XG4gICAgICAgICAgY29uc3Qga2V5OiBzdHJpbmcgPSBpdGUucHRyKCkuZmlyc3Q7XG4gICAgICAgICAgdGhpcy5fa2V5cy5wdXNoQmFjayhrZXkpO1xuICAgICAgICAgIGl0ZS5wcmVJbmNyZW1lbnQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX2tleXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWFw44Gu6KaB57Sg5pWw44KS5Y+W5b6X44GZ44KLXG4gICAgICovXG4gICAgcHVibGljIGdldFNpemUoKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiB0aGlzLl9rZXlzLmdldFNpemUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9tYXA6IGNzbU1hcDxzdHJpbmcsIFZhbHVlPjsgLy8gSlNPTuimgee0oOOBruWApFxuICAgIHByaXZhdGUgX2tleXM6IGNzbVZlY3RvcjxzdHJpbmc+OyAvLyBKU09O6KaB57Sg44Gu5YCkXG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUtBO0FBSUE7QUFBQTtBQVVBO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUdBO0FBS0E7QUFDQTtBQUdBO0FBT0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUFBO0FBNU1BO0FBdU5BO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBWUE7QUFNQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFXQTtBQU1BO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQVdBO0FBTUE7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFNQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBVUE7QUFNQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUE1ZUE7QUFpZkE7QUFBQTtBQUlBO0FBQUE7QUFHQTs7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQUE7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQWhFQTtBQXFFQTtBQUFBO0FBZ0RBO0FBQUE7QUFHQTs7QUFDQTtBQWhEQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBZUE7QUFBQTtBQTFEQTtBQStEQTtBQUFBO0FBTUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFsREE7QUF1REE7QUFBQTtBQW1CQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUF0QkE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFpQkE7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQXBDQTtBQXlDQTtBQUFBO0FBeUJBO0FBQUE7QUFHQTs7QUFDQTtBQXpCQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFVQTtBQUFBO0FBOUJBO0FBbUNBO0FBQUE7QUFJQTtBQUFBO0FBRUE7O0FBQ0E7QUFLQTtBQUNBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFHQTtBQUtBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQXpHQTtBQThHQTtBQUFBO0FBSUE7QUFBQTtBQUVBOztBQUNBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFHQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBSUE7QUFBQTtBQXJJQTtBQXNJQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Framework/src/utils/cubismjson.ts\n");

/***/ }),

/***/ "./node_modules/whatwg-fetch/fetch.js":
/*!********************************************!*\
  !*** ./node_modules/whatwg-fetch/fetch.js ***!
  \********************************************/
/*! exports provided: Headers, Request, Response, DOMException, fetch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Headers\", function() { return Headers; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Request\", function() { return Request; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Response\", function() { return Response; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DOMException\", function() { return DOMException; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fetch\", function() { return fetch; });\nvar support = {\n  searchParams: 'URLSearchParams' in self,\n  iterable: 'Symbol' in self && 'iterator' in Symbol,\n  blob:\n    'FileReader' in self &&\n    'Blob' in self &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in self,\n  arrayBuffer: 'ArrayBuffer' in self\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n    throw new TypeError('Invalid character in header field name')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nfunction Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nfunction Request(input, options) {\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n    var parts = line.split(':')\n    var key = parts.shift().trim()\n    if (key) {\n      var value = parts.join(':').trim()\n      headers.append(key, value)\n    }\n  })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nfunction Response(bodyInit, options) {\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = 'statusText' in options ? options.statusText : 'OK'\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nvar DOMException = self.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nfunction fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      resolve(new Response(body, options))\n    }\n\n    xhr.onerror = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.ontimeout = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.onabort = function() {\n      reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    xhr.open(request.method, request.url, true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr && support.blob) {\n      xhr.responseType = 'blob'\n    }\n\n    request.headers.forEach(function(value, name) {\n      xhr.setRequestHeader(name, value)\n    })\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!self.fetch) {\n  self.fetch = fetch\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvd2hhdHdnLWZldGNoL2ZldGNoLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3doYXR3Zy1mZXRjaC9mZXRjaC5qcz82ZDkzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBzdXBwb3J0ID0ge1xuICBzZWFyY2hQYXJhbXM6ICdVUkxTZWFyY2hQYXJhbXMnIGluIHNlbGYsXG4gIGl0ZXJhYmxlOiAnU3ltYm9sJyBpbiBzZWxmICYmICdpdGVyYXRvcicgaW4gU3ltYm9sLFxuICBibG9iOlxuICAgICdGaWxlUmVhZGVyJyBpbiBzZWxmICYmXG4gICAgJ0Jsb2InIGluIHNlbGYgJiZcbiAgICAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICBuZXcgQmxvYigpXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH0pKCksXG4gIGZvcm1EYXRhOiAnRm9ybURhdGEnIGluIHNlbGYsXG4gIGFycmF5QnVmZmVyOiAnQXJyYXlCdWZmZXInIGluIHNlbGZcbn1cblxuZnVuY3Rpb24gaXNEYXRhVmlldyhvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBEYXRhVmlldy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihvYmopXG59XG5cbmlmIChzdXBwb3J0LmFycmF5QnVmZmVyKSB7XG4gIHZhciB2aWV3Q2xhc3NlcyA9IFtcbiAgICAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgJ1tvYmplY3QgVWludDMyQXJyYXldJyxcbiAgICAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICAnW29iamVjdCBGbG9hdDY0QXJyYXldJ1xuICBdXG5cbiAgdmFyIGlzQXJyYXlCdWZmZXJWaWV3ID1cbiAgICBBcnJheUJ1ZmZlci5pc1ZpZXcgfHxcbiAgICBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgdmlld0NsYXNzZXMuaW5kZXhPZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSkgPiAtMVxuICAgIH1cbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplTmFtZShuYW1lKSB7XG4gIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICBuYW1lID0gU3RyaW5nKG5hbWUpXG4gIH1cbiAgaWYgKC9bXmEtejAtOVxcLSMkJSYnKisuXl9gfH5dL2kudGVzdChuYW1lKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgY2hhcmFjdGVyIGluIGhlYWRlciBmaWVsZCBuYW1lJylcbiAgfVxuICByZXR1cm4gbmFtZS50b0xvd2VyQ2FzZSgpXG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgdmFsdWUgPSBTdHJpbmcodmFsdWUpXG4gIH1cbiAgcmV0dXJuIHZhbHVlXG59XG5cbi8vIEJ1aWxkIGEgZGVzdHJ1Y3RpdmUgaXRlcmF0b3IgZm9yIHRoZSB2YWx1ZSBsaXN0XG5mdW5jdGlvbiBpdGVyYXRvckZvcihpdGVtcykge1xuICB2YXIgaXRlcmF0b3IgPSB7XG4gICAgbmV4dDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdmFsdWUgPSBpdGVtcy5zaGlmdCgpXG4gICAgICByZXR1cm4ge2RvbmU6IHZhbHVlID09PSB1bmRlZmluZWQsIHZhbHVlOiB2YWx1ZX1cbiAgICB9XG4gIH1cblxuICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICAgIGl0ZXJhdG9yW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBpdGVyYXRvclxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBpdGVyYXRvclxufVxuXG5leHBvcnQgZnVuY3Rpb24gSGVhZGVycyhoZWFkZXJzKSB7XG4gIHRoaXMubWFwID0ge31cblxuICBpZiAoaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMpIHtcbiAgICBoZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIHZhbHVlKVxuICAgIH0sIHRoaXMpXG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShoZWFkZXJzKSkge1xuICAgIGhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbihoZWFkZXIpIHtcbiAgICAgIHRoaXMuYXBwZW5kKGhlYWRlclswXSwgaGVhZGVyWzFdKVxuICAgIH0sIHRoaXMpXG4gIH0gZWxzZSBpZiAoaGVhZGVycykge1xuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgdGhpcy5hcHBlbmQobmFtZSwgaGVhZGVyc1tuYW1lXSlcbiAgICB9LCB0aGlzKVxuICB9XG59XG5cbkhlYWRlcnMucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gIG5hbWUgPSBub3JtYWxpemVOYW1lKG5hbWUpXG4gIHZhbHVlID0gbm9ybWFsaXplVmFsdWUodmFsdWUpXG4gIHZhciBvbGRWYWx1ZSA9IHRoaXMubWFwW25hbWVdXG4gIHRoaXMubWFwW25hbWVdID0gb2xkVmFsdWUgPyBvbGRWYWx1ZSArICcsICcgKyB2YWx1ZSA6IHZhbHVlXG59XG5cbkhlYWRlcnMucHJvdG90eXBlWydkZWxldGUnXSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgZGVsZXRlIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldXG59XG5cbkhlYWRlcnMucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSlcbiAgcmV0dXJuIHRoaXMuaGFzKG5hbWUpID8gdGhpcy5tYXBbbmFtZV0gOiBudWxsXG59XG5cbkhlYWRlcnMucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgcmV0dXJuIHRoaXMubWFwLmhhc093blByb3BlcnR5KG5vcm1hbGl6ZU5hbWUobmFtZSkpXG59XG5cbkhlYWRlcnMucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldID0gbm9ybWFsaXplVmFsdWUodmFsdWUpXG59XG5cbkhlYWRlcnMucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbihjYWxsYmFjaywgdGhpc0FyZykge1xuICBmb3IgKHZhciBuYW1lIGluIHRoaXMubWFwKSB7XG4gICAgaWYgKHRoaXMubWFwLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHRoaXMubWFwW25hbWVdLCBuYW1lLCB0aGlzKVxuICAgIH1cbiAgfVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24oKSB7XG4gIHZhciBpdGVtcyA9IFtdXG4gIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgIGl0ZW1zLnB1c2gobmFtZSlcbiAgfSlcbiAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGl0ZW1zID0gW11cbiAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaXRlbXMucHVzaCh2YWx1ZSlcbiAgfSlcbiAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24oKSB7XG4gIHZhciBpdGVtcyA9IFtdXG4gIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgIGl0ZW1zLnB1c2goW25hbWUsIHZhbHVlXSlcbiAgfSlcbiAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxufVxuXG5pZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICBIZWFkZXJzLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gSGVhZGVycy5wcm90b3R5cGUuZW50cmllc1xufVxuXG5mdW5jdGlvbiBjb25zdW1lZChib2R5KSB7XG4gIGlmIChib2R5LmJvZHlVc2VkKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpKVxuICB9XG4gIGJvZHkuYm9keVVzZWQgPSB0cnVlXG59XG5cbmZ1bmN0aW9uIGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJlc29sdmUocmVhZGVyLnJlc3VsdClcbiAgICB9XG4gICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJlamVjdChyZWFkZXIuZXJyb3IpXG4gICAgfVxuICB9KVxufVxuXG5mdW5jdGlvbiByZWFkQmxvYkFzQXJyYXlCdWZmZXIoYmxvYikge1xuICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICB2YXIgcHJvbWlzZSA9IGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG4gIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKVxuICByZXR1cm4gcHJvbWlzZVxufVxuXG5mdW5jdGlvbiByZWFkQmxvYkFzVGV4dChibG9iKSB7XG4gIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gIHZhciBwcm9taXNlID0gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcbiAgcmVhZGVyLnJlYWRBc1RleHQoYmxvYilcbiAgcmV0dXJuIHByb21pc2Vcbn1cblxuZnVuY3Rpb24gcmVhZEFycmF5QnVmZmVyQXNUZXh0KGJ1Zikge1xuICB2YXIgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1ZilcbiAgdmFyIGNoYXJzID0gbmV3IEFycmF5KHZpZXcubGVuZ3RoKVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdmlldy5sZW5ndGg7IGkrKykge1xuICAgIGNoYXJzW2ldID0gU3RyaW5nLmZyb21DaGFyQ29kZSh2aWV3W2ldKVxuICB9XG4gIHJldHVybiBjaGFycy5qb2luKCcnKVxufVxuXG5mdW5jdGlvbiBidWZmZXJDbG9uZShidWYpIHtcbiAgaWYgKGJ1Zi5zbGljZSkge1xuICAgIHJldHVybiBidWYuc2xpY2UoMClcbiAgfSBlbHNlIHtcbiAgICB2YXIgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1Zi5ieXRlTGVuZ3RoKVxuICAgIHZpZXcuc2V0KG5ldyBVaW50OEFycmF5KGJ1ZikpXG4gICAgcmV0dXJuIHZpZXcuYnVmZmVyXG4gIH1cbn1cblxuZnVuY3Rpb24gQm9keSgpIHtcbiAgdGhpcy5ib2R5VXNlZCA9IGZhbHNlXG5cbiAgdGhpcy5faW5pdEJvZHkgPSBmdW5jdGlvbihib2R5KSB7XG4gICAgdGhpcy5fYm9keUluaXQgPSBib2R5XG4gICAgaWYgKCFib2R5KSB7XG4gICAgICB0aGlzLl9ib2R5VGV4dCA9ICcnXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keVxuICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5ibG9iICYmIEJsb2IucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgIHRoaXMuX2JvZHlCbG9iID0gYm9keVxuICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5mb3JtRGF0YSAmJiBGb3JtRGF0YS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgdGhpcy5fYm9keUZvcm1EYXRhID0gYm9keVxuICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5zZWFyY2hQYXJhbXMgJiYgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHkudG9TdHJpbmcoKVxuICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiBzdXBwb3J0LmJsb2IgJiYgaXNEYXRhVmlldyhib2R5KSkge1xuICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keS5idWZmZXIpXG4gICAgICAvLyBJRSAxMC0xMSBjYW4ndCBoYW5kbGUgYSBEYXRhVmlldyBib2R5LlxuICAgICAgdGhpcy5fYm9keUluaXQgPSBuZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSlcbiAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIgJiYgKEFycmF5QnVmZmVyLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpIHx8IGlzQXJyYXlCdWZmZXJWaWV3KGJvZHkpKSkge1xuICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5ID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGJvZHkpXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKSkge1xuICAgICAgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAndGV4dC9wbGFpbjtjaGFyc2V0PVVURi04JylcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUJsb2IgJiYgdGhpcy5fYm9keUJsb2IudHlwZSkge1xuICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCB0aGlzLl9ib2R5QmxvYi50eXBlKVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LnNlYXJjaFBhcmFtcyAmJiBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04JylcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoc3VwcG9ydC5ibG9iKSB7XG4gICAgdGhpcy5ibG9iID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgIHJldHVybiByZWplY3RlZFxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QmxvYilcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pKVxuICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIGJsb2InKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keVRleHRdKSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmFycmF5QnVmZmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBjb25zdW1lZCh0aGlzKSB8fCBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUFycmF5QnVmZmVyKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmxvYigpLnRoZW4ocmVhZEJsb2JBc0FycmF5QnVmZmVyKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHRoaXMudGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG4gICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICByZXR1cm4gcmVqZWN0ZWRcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgIHJldHVybiByZWFkQmxvYkFzVGV4dCh0aGlzLl9ib2R5QmxvYilcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZWFkQXJyYXlCdWZmZXJBc1RleHQodGhpcy5fYm9keUFycmF5QnVmZmVyKSlcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIHRleHQnKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlUZXh0KVxuICAgIH1cbiAgfVxuXG4gIGlmIChzdXBwb3J0LmZvcm1EYXRhKSB7XG4gICAgdGhpcy5mb3JtRGF0YSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oZGVjb2RlKVxuICAgIH1cbiAgfVxuXG4gIHRoaXMuanNvbiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKEpTT04ucGFyc2UpXG4gIH1cblxuICByZXR1cm4gdGhpc1xufVxuXG4vLyBIVFRQIG1ldGhvZHMgd2hvc2UgY2FwaXRhbGl6YXRpb24gc2hvdWxkIGJlIG5vcm1hbGl6ZWRcbnZhciBtZXRob2RzID0gWydERUxFVEUnLCAnR0VUJywgJ0hFQUQnLCAnT1BUSU9OUycsICdQT1NUJywgJ1BVVCddXG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZU1ldGhvZChtZXRob2QpIHtcbiAgdmFyIHVwY2FzZWQgPSBtZXRob2QudG9VcHBlckNhc2UoKVxuICByZXR1cm4gbWV0aG9kcy5pbmRleE9mKHVwY2FzZWQpID4gLTEgPyB1cGNhc2VkIDogbWV0aG9kXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZXF1ZXN0KGlucHV0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gIHZhciBib2R5ID0gb3B0aW9ucy5ib2R5XG5cbiAgaWYgKGlucHV0IGluc3RhbmNlb2YgUmVxdWVzdCkge1xuICAgIGlmIChpbnB1dC5ib2R5VXNlZCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJylcbiAgICB9XG4gICAgdGhpcy51cmwgPSBpbnB1dC51cmxcbiAgICB0aGlzLmNyZWRlbnRpYWxzID0gaW5wdXQuY3JlZGVudGlhbHNcbiAgICBpZiAoIW9wdGlvbnMuaGVhZGVycykge1xuICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMoaW5wdXQuaGVhZGVycylcbiAgICB9XG4gICAgdGhpcy5tZXRob2QgPSBpbnB1dC5tZXRob2RcbiAgICB0aGlzLm1vZGUgPSBpbnB1dC5tb2RlXG4gICAgdGhpcy5zaWduYWwgPSBpbnB1dC5zaWduYWxcbiAgICBpZiAoIWJvZHkgJiYgaW5wdXQuX2JvZHlJbml0ICE9IG51bGwpIHtcbiAgICAgIGJvZHkgPSBpbnB1dC5fYm9keUluaXRcbiAgICAgIGlucHV0LmJvZHlVc2VkID0gdHJ1ZVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aGlzLnVybCA9IFN0cmluZyhpbnB1dClcbiAgfVxuXG4gIHRoaXMuY3JlZGVudGlhbHMgPSBvcHRpb25zLmNyZWRlbnRpYWxzIHx8IHRoaXMuY3JlZGVudGlhbHMgfHwgJ3NhbWUtb3JpZ2luJ1xuICBpZiAob3B0aW9ucy5oZWFkZXJzIHx8ICF0aGlzLmhlYWRlcnMpIHtcbiAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpXG4gIH1cbiAgdGhpcy5tZXRob2QgPSBub3JtYWxpemVNZXRob2Qob3B0aW9ucy5tZXRob2QgfHwgdGhpcy5tZXRob2QgfHwgJ0dFVCcpXG4gIHRoaXMubW9kZSA9IG9wdGlvbnMubW9kZSB8fCB0aGlzLm1vZGUgfHwgbnVsbFxuICB0aGlzLnNpZ25hbCA9IG9wdGlvbnMuc2lnbmFsIHx8IHRoaXMuc2lnbmFsXG4gIHRoaXMucmVmZXJyZXIgPSBudWxsXG5cbiAgaWYgKCh0aGlzLm1ldGhvZCA9PT0gJ0dFVCcgfHwgdGhpcy5tZXRob2QgPT09ICdIRUFEJykgJiYgYm9keSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0JvZHkgbm90IGFsbG93ZWQgZm9yIEdFVCBvciBIRUFEIHJlcXVlc3RzJylcbiAgfVxuICB0aGlzLl9pbml0Qm9keShib2R5KVxufVxuXG5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFJlcXVlc3QodGhpcywge2JvZHk6IHRoaXMuX2JvZHlJbml0fSlcbn1cblxuZnVuY3Rpb24gZGVjb2RlKGJvZHkpIHtcbiAgdmFyIGZvcm0gPSBuZXcgRm9ybURhdGEoKVxuICBib2R5XG4gICAgLnRyaW0oKVxuICAgIC5zcGxpdCgnJicpXG4gICAgLmZvckVhY2goZnVuY3Rpb24oYnl0ZXMpIHtcbiAgICAgIGlmIChieXRlcykge1xuICAgICAgICB2YXIgc3BsaXQgPSBieXRlcy5zcGxpdCgnPScpXG4gICAgICAgIHZhciBuYW1lID0gc3BsaXQuc2hpZnQoKS5yZXBsYWNlKC9cXCsvZywgJyAnKVxuICAgICAgICB2YXIgdmFsdWUgPSBzcGxpdC5qb2luKCc9JykucmVwbGFjZSgvXFwrL2csICcgJylcbiAgICAgICAgZm9ybS5hcHBlbmQoZGVjb2RlVVJJQ29tcG9uZW50KG5hbWUpLCBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpKVxuICAgICAgfVxuICAgIH0pXG4gIHJldHVybiBmb3JtXG59XG5cbmZ1bmN0aW9uIHBhcnNlSGVhZGVycyhyYXdIZWFkZXJzKSB7XG4gIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKVxuICAvLyBSZXBsYWNlIGluc3RhbmNlcyBvZiBcXHJcXG4gYW5kIFxcbiBmb2xsb3dlZCBieSBhdCBsZWFzdCBvbmUgc3BhY2Ugb3IgaG9yaXpvbnRhbCB0YWIgd2l0aCBhIHNwYWNlXG4gIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM3MjMwI3NlY3Rpb24tMy4yXG4gIHZhciBwcmVQcm9jZXNzZWRIZWFkZXJzID0gcmF3SGVhZGVycy5yZXBsYWNlKC9cXHI/XFxuW1xcdCBdKy9nLCAnICcpXG4gIHByZVByb2Nlc3NlZEhlYWRlcnMuc3BsaXQoL1xccj9cXG4vKS5mb3JFYWNoKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICB2YXIgcGFydHMgPSBsaW5lLnNwbGl0KCc6JylcbiAgICB2YXIga2V5ID0gcGFydHMuc2hpZnQoKS50cmltKClcbiAgICBpZiAoa2V5KSB7XG4gICAgICB2YXIgdmFsdWUgPSBwYXJ0cy5qb2luKCc6JykudHJpbSgpXG4gICAgICBoZWFkZXJzLmFwcGVuZChrZXksIHZhbHVlKVxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIGhlYWRlcnNcbn1cblxuQm9keS5jYWxsKFJlcXVlc3QucHJvdG90eXBlKVxuXG5leHBvcnQgZnVuY3Rpb24gUmVzcG9uc2UoYm9keUluaXQsIG9wdGlvbnMpIHtcbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHt9XG4gIH1cblxuICB0aGlzLnR5cGUgPSAnZGVmYXVsdCdcbiAgdGhpcy5zdGF0dXMgPSBvcHRpb25zLnN0YXR1cyA9PT0gdW5kZWZpbmVkID8gMjAwIDogb3B0aW9ucy5zdGF0dXNcbiAgdGhpcy5vayA9IHRoaXMuc3RhdHVzID49IDIwMCAmJiB0aGlzLnN0YXR1cyA8IDMwMFxuICB0aGlzLnN0YXR1c1RleHQgPSAnc3RhdHVzVGV4dCcgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc3RhdHVzVGV4dCA6ICdPSydcbiAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuICB0aGlzLnVybCA9IG9wdGlvbnMudXJsIHx8ICcnXG4gIHRoaXMuX2luaXRCb2R5KGJvZHlJbml0KVxufVxuXG5Cb2R5LmNhbGwoUmVzcG9uc2UucHJvdG90eXBlKVxuXG5SZXNwb25zZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBSZXNwb25zZSh0aGlzLl9ib2R5SW5pdCwge1xuICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgc3RhdHVzVGV4dDogdGhpcy5zdGF0dXNUZXh0LFxuICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKHRoaXMuaGVhZGVycyksXG4gICAgdXJsOiB0aGlzLnVybFxuICB9KVxufVxuXG5SZXNwb25zZS5lcnJvciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UobnVsbCwge3N0YXR1czogMCwgc3RhdHVzVGV4dDogJyd9KVxuICByZXNwb25zZS50eXBlID0gJ2Vycm9yJ1xuICByZXR1cm4gcmVzcG9uc2Vcbn1cblxudmFyIHJlZGlyZWN0U3RhdHVzZXMgPSBbMzAxLCAzMDIsIDMwMywgMzA3LCAzMDhdXG5cblJlc3BvbnNlLnJlZGlyZWN0ID0gZnVuY3Rpb24odXJsLCBzdGF0dXMpIHtcbiAgaWYgKHJlZGlyZWN0U3RhdHVzZXMuaW5kZXhPZihzdGF0dXMpID09PSAtMSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHN0YXR1cyBjb2RlJylcbiAgfVxuXG4gIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwge3N0YXR1czogc3RhdHVzLCBoZWFkZXJzOiB7bG9jYXRpb246IHVybH19KVxufVxuXG5leHBvcnQgdmFyIERPTUV4Y2VwdGlvbiA9IHNlbGYuRE9NRXhjZXB0aW9uXG50cnkge1xuICBuZXcgRE9NRXhjZXB0aW9uKClcbn0gY2F0Y2ggKGVycikge1xuICBET01FeGNlcHRpb24gPSBmdW5jdGlvbihtZXNzYWdlLCBuYW1lKSB7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZVxuICAgIHRoaXMubmFtZSA9IG5hbWVcbiAgICB2YXIgZXJyb3IgPSBFcnJvcihtZXNzYWdlKVxuICAgIHRoaXMuc3RhY2sgPSBlcnJvci5zdGFja1xuICB9XG4gIERPTUV4Y2VwdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSlcbiAgRE9NRXhjZXB0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IERPTUV4Y2VwdGlvblxufVxuXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2goaW5wdXQsIGluaXQpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoaW5wdXQsIGluaXQpXG5cbiAgICBpZiAocmVxdWVzdC5zaWduYWwgJiYgcmVxdWVzdC5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgcmV0dXJuIHJlamVjdChuZXcgRE9NRXhjZXB0aW9uKCdBYm9ydGVkJywgJ0Fib3J0RXJyb3InKSlcbiAgICB9XG5cbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcblxuICAgIGZ1bmN0aW9uIGFib3J0WGhyKCkge1xuICAgICAgeGhyLmFib3J0KClcbiAgICB9XG5cbiAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgaGVhZGVyczogcGFyc2VIZWFkZXJzKHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSB8fCAnJylcbiAgICAgIH1cbiAgICAgIG9wdGlvbnMudXJsID0gJ3Jlc3BvbnNlVVJMJyBpbiB4aHIgPyB4aHIucmVzcG9uc2VVUkwgOiBvcHRpb25zLmhlYWRlcnMuZ2V0KCdYLVJlcXVlc3QtVVJMJylcbiAgICAgIHZhciBib2R5ID0gJ3Jlc3BvbnNlJyBpbiB4aHIgPyB4aHIucmVzcG9uc2UgOiB4aHIucmVzcG9uc2VUZXh0XG4gICAgICByZXNvbHZlKG5ldyBSZXNwb25zZShib2R5LCBvcHRpb25zKSlcbiAgICB9XG5cbiAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcbiAgICB9XG5cbiAgICB4aHIub250aW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKVxuICAgIH1cblxuICAgIHhoci5vbmFib3J0ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZWplY3QobmV3IERPTUV4Y2VwdGlvbignQWJvcnRlZCcsICdBYm9ydEVycm9yJykpXG4gICAgfVxuXG4gICAgeGhyLm9wZW4ocmVxdWVzdC5tZXRob2QsIHJlcXVlc3QudXJsLCB0cnVlKVxuXG4gICAgaWYgKHJlcXVlc3QuY3JlZGVudGlhbHMgPT09ICdpbmNsdWRlJykge1xuICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHRydWVcbiAgICB9IGVsc2UgaWYgKHJlcXVlc3QuY3JlZGVudGlhbHMgPT09ICdvbWl0Jykge1xuICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKCdyZXNwb25zZVR5cGUnIGluIHhociAmJiBzdXBwb3J0LmJsb2IpIHtcbiAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYidcbiAgICB9XG5cbiAgICByZXF1ZXN0LmhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIobmFtZSwgdmFsdWUpXG4gICAgfSlcblxuICAgIGlmIChyZXF1ZXN0LnNpZ25hbCkge1xuICAgICAgcmVxdWVzdC5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBhYm9ydFhocilcblxuICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBET05FIChzdWNjZXNzIG9yIGZhaWx1cmUpXG4gICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICAgIHJlcXVlc3Quc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgYWJvcnRYaHIpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB4aHIuc2VuZCh0eXBlb2YgcmVxdWVzdC5fYm9keUluaXQgPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IHJlcXVlc3QuX2JvZHlJbml0KVxuICB9KVxufVxuXG5mZXRjaC5wb2x5ZmlsbCA9IHRydWVcblxuaWYgKCFzZWxmLmZldGNoKSB7XG4gIHNlbGYuZmV0Y2ggPSBmZXRjaFxuICBzZWxmLkhlYWRlcnMgPSBIZWFkZXJzXG4gIHNlbGYuUmVxdWVzdCA9IFJlcXVlc3RcbiAgc2VsZi5SZXNwb25zZSA9IFJlc3BvbnNlXG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/whatwg-fetch/fetch.js\n");

/***/ }),

/***/ "./src/lappdefine.ts":
/*!***************************!*\
  !*** ./src/lappdefine.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IsElectron = exports.RenderTargetHeight = exports.RenderTargetWidth = exports.CubismLoggingLevel = exports.DebugModelLogEnable = exports.DebugTouchLogEnable = exports.DebugLogEnable = exports.PriorityForce = exports.PriorityNormal = exports.PriorityIdle = exports.PriorityNone = exports.HitAreaNameBody = exports.HitAreaNameHead = exports.MotionGroupTapBody = exports.MotionGroupIdle = exports.ModelDirSize = exports.ModelDir = exports.PowerImageName = exports.GearImageName = exports.BackImageName = exports.ResourcesPath = exports.ViewLogicalMaxTop = exports.ViewLogicalMaxBottom = exports.ViewLogicalMaxRight = exports.ViewLogicalMaxLeft = exports.ViewLogicalRight = exports.ViewLogicalLeft = exports.ViewMinScale = exports.ViewMaxScale = void 0;\nvar live2dcubismframework_1 = __webpack_require__(/*! @framework/live2dcubismframework */ \"./Framework/src/live2dcubismframework.ts\");\nexports.ViewMaxScale = 2.0;\nexports.ViewMinScale = 0.1;\nexports.ViewLogicalLeft = -1.0;\nexports.ViewLogicalRight = 1.0;\nexports.ViewLogicalMaxLeft = -2.0;\nexports.ViewLogicalMaxRight = 2.0;\nexports.ViewLogicalMaxBottom = -2.0;\nexports.ViewLogicalMaxTop = 2.0;\nexports.ResourcesPath = '../../res/models/';\nexports.BackImageName = 'back_class_normal.png';\nexports.GearImageName = 'icon_gear.png';\nexports.PowerImageName = 'CloseNormal.png';\nexports.ModelDir = ['Senko', 'jinsechangzhifa', 'Rice', 'Hiyori', 'Haru', 'Mark', 'Natori'];\nexports.ModelDirSize = exports.ModelDir.length;\nexports.MotionGroupIdle = 'Idle';\nexports.MotionGroupTapBody = 'TapBody';\nexports.HitAreaNameHead = 'Head';\nexports.HitAreaNameBody = 'Body';\nexports.PriorityNone = 0;\nexports.PriorityIdle = 1;\nexports.PriorityNormal = 2;\nexports.PriorityForce = 3;\nexports.DebugLogEnable = true;\nexports.DebugTouchLogEnable = true;\nexports.DebugModelLogEnable = true;\nexports.CubismLoggingLevel = live2dcubismframework_1.LogLevel.LogLevel_Verbose;\nexports.RenderTargetWidth = window.innerWidth;\nexports.RenderTargetHeight = window.innerHeight;\nexports.IsElectron = true;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGFwcGRlZmluZS50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9sYXBwZGVmaW5lLnRzPzFjM2IiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTGl2ZTJEIE9wZW4gU29mdHdhcmUgbGljZW5zZVxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXG4gKi9cblxuaW1wb3J0IHsgTG9nTGV2ZWwgfSBmcm9tICdAZnJhbWV3b3JrL2xpdmUyZGN1YmlzbWZyYW1ld29yayc7XG5cbi8qKlxuICogU2FtcGxlIEFwcOOBp+S9v+eUqOOBmeOCi+WumuaVsFxuICovXG4vLyDnlLvpnaJcbmV4cG9ydCBjb25zdCBWaWV3TWF4U2NhbGUgPSAyLjA7XG5leHBvcnQgY29uc3QgVmlld01pblNjYWxlID0gMC4xO1xuXG5leHBvcnQgY29uc3QgVmlld0xvZ2ljYWxMZWZ0ID0gLTEuMDtcbmV4cG9ydCBjb25zdCBWaWV3TG9naWNhbFJpZ2h0ID0gMS4wO1xuXG5leHBvcnQgY29uc3QgVmlld0xvZ2ljYWxNYXhMZWZ0ID0gLTIuMDtcbmV4cG9ydCBjb25zdCBWaWV3TG9naWNhbE1heFJpZ2h0ID0gMi4wO1xuZXhwb3J0IGNvbnN0IFZpZXdMb2dpY2FsTWF4Qm90dG9tID0gLTIuMDtcbmV4cG9ydCBjb25zdCBWaWV3TG9naWNhbE1heFRvcCA9IDIuMDtcblxuLy8g55u45a++44OR44K5XG5leHBvcnQgY29uc3QgUmVzb3VyY2VzUGF0aCA9ICcuLi8uLi9yZXMvbW9kZWxzLyc7XG5cbi8vIOODouODh+ODq+OBruW+jOOCjeOBq+OBguOCi+iDjOaZr+OBrueUu+WDj+ODleOCoeOCpOODq1xuZXhwb3J0IGNvbnN0IEJhY2tJbWFnZU5hbWUgPSAnYmFja19jbGFzc19ub3JtYWwucG5nJztcblxuLy8g5q2v6LuKXG5leHBvcnQgY29uc3QgR2VhckltYWdlTmFtZSA9ICdpY29uX2dlYXIucG5nJztcblxuLy8g57WC5LqG44Oc44K/44OzXG5leHBvcnQgY29uc3QgUG93ZXJJbWFnZU5hbWUgPSAnQ2xvc2VOb3JtYWwucG5nJztcblxuLy8g44Oi44OH44Or5a6a576pLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyDjg6Ljg4fjg6vjgpLphY3nva7jgZfjgZ/jg4fjgqPjg6zjgq/jg4jjg6rlkI3jga7phY3liJdcbi8vIOODh+OCo+ODrOOCr+ODiOODquWQjeOBqG1vZGVsMy5qc29u44Gu5ZCN5YmN44KS5LiA6Ie044GV44Gb44Gm44GK44GP44GT44GoXG5leHBvcnQgbGV0IE1vZGVsRGlyOiBzdHJpbmdbXSA9IFsnU2Vua28nLCdqaW5zZWNoYW5nemhpZmEnLCdSaWNlJywnSGl5b3JpJywnSGFydScsICAnTWFyaycsICdOYXRvcmknXTtcbmV4cG9ydCBjb25zdCBNb2RlbERpclNpemU6IG51bWJlciA9IE1vZGVsRGlyLmxlbmd0aDtcblxuLy8g5aSW6YOo5a6a576p44OV44Kh44Kk44Or77yIanNvbu+8ieOBqOWQiOOCj+OBm+OCi1xuZXhwb3J0IGNvbnN0IE1vdGlvbkdyb3VwSWRsZSA9ICdJZGxlJzsgLy8g44Ki44Kk44OJ44Oq44Oz44KwXG5leHBvcnQgY29uc3QgTW90aW9uR3JvdXBUYXBCb2R5ID0gJ1RhcEJvZHknOyAvLyDkvZPjgpLjgr/jg4Pjg5fjgZfjgZ/jgajjgY1cblxuLy8g5aSW6YOo5a6a576p44OV44Kh44Kk44Or77yIanNvbu+8ieOBqOWQiOOCj+OBm+OCi1xuZXhwb3J0IGNvbnN0IEhpdEFyZWFOYW1lSGVhZCA9ICdIZWFkJztcbmV4cG9ydCBjb25zdCBIaXRBcmVhTmFtZUJvZHkgPSAnQm9keSc7XG5cbi8vIOODouODvOOCt+ODp+ODs+OBruWEquWFiOW6puWumuaVsFxuZXhwb3J0IGNvbnN0IFByaW9yaXR5Tm9uZSA9IDA7XG5leHBvcnQgY29uc3QgUHJpb3JpdHlJZGxlID0gMTtcbmV4cG9ydCBjb25zdCBQcmlvcml0eU5vcm1hbCA9IDI7XG5leHBvcnQgY29uc3QgUHJpb3JpdHlGb3JjZSA9IDM7XG5cbi8vIOODh+ODkOODg+OCsOeUqOODreOCsOOBruihqOekuuOCquODl+OCt+ODp+ODs1xuZXhwb3J0IGNvbnN0IERlYnVnTG9nRW5hYmxlID0gdHJ1ZTtcbmV4cG9ydCBjb25zdCBEZWJ1Z1RvdWNoTG9nRW5hYmxlID0gdHJ1ZTtcbmV4cG9ydCBjb25zdCBEZWJ1Z01vZGVsTG9nRW5hYmxlID0gdHJ1ZTtcblxuLy8gRnJhbWV3b3Jr44GL44KJ5Ye65Yqb44GZ44KL44Ot44Kw44Gu44Os44OZ44Or6Kit5a6aXG5leHBvcnQgY29uc3QgQ3ViaXNtTG9nZ2luZ0xldmVsOiBMb2dMZXZlbCA9IExvZ0xldmVsLkxvZ0xldmVsX1ZlcmJvc2U7XG5cbi8vIOODh+ODleOCqeODq+ODiOOBruODrOODs+ODgOODvOOCv+ODvOOCsuODg+ODiOOCteOCpOOCulxuZXhwb3J0IGNvbnN0IFJlbmRlclRhcmdldFdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG5leHBvcnQgY29uc3QgUmVuZGVyVGFyZ2V0SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuXG5leHBvcnQgY29uc3QgSXNFbGVjdHJvbiA9IHRydWU7XG4iXSwibWFwcGluZ3MiOiI7OztBQU9BO0FBTUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFHQTtBQUdBO0FBS0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBQ0E7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/lappdefine.ts\n");

/***/ }),

/***/ "./src/lappdelegate.ts":
/*!*****************************!*\
  !*** ./src/lappdelegate.ts ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hitModel = exports.LAppDelegate = exports.lAppDelegateEvent = exports.scale = exports.frameBuffer = exports.gl = exports.s_instance = exports.canvas = void 0;\nvar live2dcubismframework_1 = __webpack_require__(/*! @framework/live2dcubismframework */ \"./Framework/src/live2dcubismframework.ts\");\nvar Csm_CubismFramework = live2dcubismframework_1.Live2DCubismFramework.CubismFramework;\nvar lappview_1 = __webpack_require__(/*! ./lappview */ \"./src/lappview.ts\");\nvar lapppal_1 = __webpack_require__(/*! ./lapppal */ \"./src/lapppal.ts\");\nvar lapptexturemanager_1 = __webpack_require__(/*! ./lapptexturemanager */ \"./src/lapptexturemanager.ts\");\nvar lapplive2dmanager_1 = __webpack_require__(/*! ./lapplive2dmanager */ \"./src/lapplive2dmanager.ts\");\nvar LAppDefine = __importStar(__webpack_require__(/*! ./lappdefine */ \"./src/lappdefine.ts\"));\nvar lappdefine_1 = __webpack_require__(/*! ./lappdefine */ \"./src/lappdefine.ts\");\nexports.canvas = null;\nexports.s_instance = null;\nexports.gl = null;\nexports.frameBuffer = null;\nexports.scale = window.devicePixelRatio;\nexports.lAppDelegateEvent = null;\nvar lastCalledTime;\nvar fps;\nvar remote = __webpack_require__(/*! electron */ \"electron\").remote;\nvar curr_window = remote.getCurrentWindow();\nvar LAppDelegate = (function () {\n    function LAppDelegate() {\n        this._captured = false;\n        this._mouseX = 0.0;\n        this._mouseY = 0.0;\n        this._isEnd = false;\n        this._cubismOption = new live2dcubismframework_1.Option();\n        this._view = new lappview_1.LAppView();\n        this._textureManager = new lapptexturemanager_1.LAppTextureManager();\n    }\n    LAppDelegate.getInstance = function () {\n        if (exports.s_instance == null) {\n            exports.s_instance = new LAppDelegate();\n        }\n        return exports.s_instance;\n    };\n    LAppDelegate.releaseInstance = function () {\n        if (exports.s_instance != null) {\n            exports.s_instance.release();\n        }\n        exports.s_instance = null;\n    };\n    LAppDelegate.prototype.initialize = function () {\n        exports.canvas = document.createElement('canvas');\n        exports.canvas.width = LAppDefine.RenderTargetWidth;\n        exports.canvas.height = LAppDefine.RenderTargetHeight;\n        exports.canvas.style.width = exports.canvas.width + 'px';\n        exports.canvas.style.height = exports.canvas.height + 'px';\n        exports.canvas.width = exports.canvas.width * exports.scale;\n        exports.canvas.height = exports.canvas.height * exports.scale;\n        exports.gl = exports.canvas.getContext('webgl') || exports.canvas.getContext('experimental-webgl');\n        if (!exports.gl) {\n            alert('Cannot initialize WebGL. This browser does not support.');\n            exports.gl = null;\n            document.body.innerHTML =\n                'This browser does not support the <code>&lt;canvas&gt;</code> element.';\n            return false;\n        }\n        document.body.appendChild(exports.canvas);\n        if (!exports.frameBuffer) {\n            exports.frameBuffer = exports.gl.getParameter(exports.gl.FRAMEBUFFER_BINDING);\n        }\n        exports.gl.enable(exports.gl.BLEND);\n        exports.gl.blendFunc(exports.gl.SRC_ALPHA, exports.gl.ONE_MINUS_SRC_ALPHA);\n        var supportTouch = 'ontouchend' in exports.canvas;\n        if (supportTouch) {\n            exports.canvas.ontouchstart = onTouchBegan;\n            exports.canvas.ontouchmove = onTouchMoved;\n            exports.canvas.ontouchend = onTouchEnded;\n            exports.canvas.ontouchcancel = onTouchCancel;\n        }\n        else {\n            exports.canvas.onmousedown = onClickBegan;\n            exports.canvas.onmousemove = onMouseMoved;\n            exports.canvas.onmouseup = onClickEnded;\n            exports.canvas.onmouseenter = onMouseEnter;\n            exports.canvas.onmouseleave = onMouseLeave;\n        }\n        this._view.initialize();\n        this.initializeCubism();\n        return true;\n    };\n    LAppDelegate.prototype.release = function () {\n        this._textureManager.release();\n        this._textureManager = null;\n        this._view.release();\n        this._view = null;\n        lapplive2dmanager_1.LAppLive2DManager.releaseInstance();\n        Csm_CubismFramework.dispose();\n    };\n    LAppDelegate.prototype.run = function () {\n        var _this = this;\n        if (lappdefine_1.DebugLogEnable) {\n            var fps_element_1 = document.createElement('div');\n            fps_element_1.style.position = 'absolute';\n            fps_element_1.style.right = '0';\n            fps_element_1.style.top = '0';\n            fps_element_1.style.color = 'rebeccapurple';\n            document.body.appendChild(fps_element_1);\n            setInterval(function () {\n                fps_element_1.innerText = 'fps:' + fps.toFixed(2);\n            }, 1000);\n        }\n        var loop = function () {\n            if (exports.s_instance == null) {\n                return;\n            }\n            var delta = (Date.now() - lastCalledTime) / 1000;\n            lastCalledTime = Date.now();\n            fps = 1 / delta;\n            lapppal_1.LAppPal.updateTime();\n            exports.gl.clearColor(0.0, 0.0, 0.0, 0.0);\n            exports.gl.enable(exports.gl.DEPTH_TEST);\n            exports.gl.depthFunc(exports.gl.LEQUAL);\n            exports.gl.clear(exports.gl.COLOR_BUFFER_BIT | exports.gl.DEPTH_BUFFER_BIT);\n            exports.gl.clearDepth(1.0);\n            exports.gl.enable(exports.gl.BLEND);\n            exports.gl.blendFunc(exports.gl.SRC_ALPHA, exports.gl.ONE_MINUS_SRC_ALPHA);\n            _this._view.render();\n            requestAnimationFrame(loop);\n        };\n        loop();\n    };\n    LAppDelegate.prototype.createShader = function () {\n        var vertexShaderId = exports.gl.createShader(exports.gl.VERTEX_SHADER);\n        if (vertexShaderId == null) {\n            lapppal_1.LAppPal.printMessage('failed to create vertexShader');\n            return null;\n        }\n        var vertexShader = 'precision mediump float;' +\n            'attribute vec3 position;' +\n            'attribute vec2 uv;' +\n            'varying vec2 vuv;' +\n            'void main(void)' +\n            '{' +\n            '   gl_Position = vec4(position, 1.0);' +\n            '   vuv = uv;' +\n            '}';\n        exports.gl.shaderSource(vertexShaderId, vertexShader);\n        exports.gl.compileShader(vertexShaderId);\n        var fragmentShaderId = exports.gl.createShader(exports.gl.FRAGMENT_SHADER);\n        if (fragmentShaderId == null) {\n            lapppal_1.LAppPal.printMessage('failed to create fragmentShader');\n            return null;\n        }\n        var fragmentShader = 'precision mediump float;' +\n            'varying vec2 vuv;' +\n            'uniform sampler2D texture;' +\n            'void main(void)' +\n            '{' +\n            '   gl_FragColor = texture2D(texture, vuv);' +\n            '}';\n        exports.gl.shaderSource(fragmentShaderId, fragmentShader);\n        exports.gl.compileShader(fragmentShaderId);\n        var programId = exports.gl.createProgram();\n        exports.gl.attachShader(programId, vertexShaderId);\n        exports.gl.attachShader(programId, fragmentShaderId);\n        exports.gl.deleteShader(vertexShaderId);\n        exports.gl.deleteShader(fragmentShaderId);\n        exports.gl.linkProgram(programId);\n        exports.gl.useProgram(programId);\n        return programId;\n    };\n    LAppDelegate.prototype.getView = function () {\n        return this._view;\n    };\n    LAppDelegate.prototype.setLappModelEvent = function (call) {\n        exports.lAppDelegateEvent = call;\n    };\n    LAppDelegate.prototype.getTextureManager = function () {\n        return this._textureManager;\n    };\n    LAppDelegate.prototype.initializeCubism = function () {\n        this._cubismOption.logFunction = lapppal_1.LAppPal.printMessage;\n        this._cubismOption.loggingLevel = LAppDefine.CubismLoggingLevel;\n        Csm_CubismFramework.startUp(this._cubismOption);\n        Csm_CubismFramework.initialize();\n        lapplive2dmanager_1.LAppLive2DManager.getInstance();\n        lapppal_1.LAppPal.updateTime();\n        this._view.initializeSprite();\n    };\n    return LAppDelegate;\n}());\nexports.LAppDelegate = LAppDelegate;\nfunction onMouseLeave() {\n    lapppal_1.LAppPal.log(\"划出去\");\n    var live2DManager = lapplive2dmanager_1.LAppLive2DManager.getInstance();\n    live2DManager.onDrag(0.0, 0.0);\n}\nfunction onMouseEnter(e) {\n    e.preventDefault();\n    lapppal_1.LAppPal.log(\"划进来\");\n}\nfunction onClickBegan(e) {\n    lapppal_1.LAppPal.log('click_began');\n    if (!LAppDelegate.getInstance()._view) {\n        lapppal_1.LAppPal.printMessage('view notfound');\n        return;\n    }\n    LAppDelegate.getInstance()._captured = true;\n    var posX = e.pageX;\n    var posY = e.pageY;\n    posX *= exports.scale;\n    posY *= exports.scale;\n    LAppDelegate.getInstance()._view.onTouchesBegan(posX, posY);\n}\nfunction hitModel(posX, posY) {\n    var view = LAppDelegate.getInstance().getView();\n    var viewX = view.transformViewX(posX);\n    var viewY = view.transformViewY(posY);\n    return lapplive2dmanager_1.LAppLive2DManager.getInstance().hitModel(viewX, viewY);\n}\nexports.hitModel = hitModel;\nfunction onMouseMoved(e) {\n    if (!LAppDelegate.getInstance()._view) {\n        lapppal_1.LAppPal.printMessage('view notfound');\n        return;\n    }\n    var rect = e.target.getBoundingClientRect();\n    var posX = e.clientX - rect.left;\n    var posY = e.clientY - rect.top;\n    posX *= exports.scale;\n    posY *= exports.scale;\n    var hit = lapplive2dmanager_1.LAppLive2DManager.getInstance();\n    var hitstr = hit.isHit(posX, posY);\n    if (hitstr != \"\" && hit.move_hit) {\n        hit.move_hit(hitstr);\n    }\n    if (LAppDefine.IsElectron) {\n        if (!hitstr) {\n            curr_window.setIgnoreMouseEvents(true, { forward: true });\n            lapppal_1.LAppPal.log(true, 'move');\n        }\n        else {\n            curr_window.setIgnoreMouseEvents(false, { forward: true });\n            lapppal_1.LAppPal.log(false, 'move');\n        }\n    }\n    LAppDelegate.getInstance()._view.onTouchesMoved(posX, posY);\n}\nfunction onClickEnded(e) {\n    LAppDelegate.getInstance()._captured = false;\n    if (!LAppDelegate.getInstance()._view) {\n        lapppal_1.LAppPal.printMessage('view notfound');\n        return;\n    }\n    var rect = e.target.getBoundingClientRect();\n    var posX = e.clientX - rect.left;\n    var posY = e.clientY - rect.top;\n    posX *= exports.scale;\n    posY *= exports.scale;\n    lapppal_1.LAppPal.log('点击');\n    var hit = lapplive2dmanager_1.LAppLive2DManager.getInstance();\n    var hitstr = hit.isHit(posX, posY);\n    if (hitstr != \"\" && hit.click_hit) {\n        hit.click_hit(hitstr);\n    }\n    LAppDelegate.getInstance()._view.onTouchesEnded(posX, posY);\n}\nfunction onTouchBegan(e) {\n    if (!LAppDelegate.getInstance()._view) {\n        lapppal_1.LAppPal.printMessage('view notfound');\n        return;\n    }\n    LAppDelegate.getInstance()._captured = true;\n    var posX = e.changedTouches[0].pageX;\n    var posY = e.changedTouches[0].pageY;\n    posX *= exports.scale;\n    posY *= exports.scale;\n    LAppDelegate.getInstance()._view.onTouchesBegan(posX, posY);\n}\nfunction onTouchMoved(e) {\n    if (!LAppDelegate.getInstance()._captured) {\n        return;\n    }\n    if (!LAppDelegate.getInstance()._view) {\n        lapppal_1.LAppPal.printMessage('view notfound');\n        return;\n    }\n    var rect = e.target.getBoundingClientRect();\n    var posX = e.changedTouches[0].clientX - rect.left;\n    var posY = e.changedTouches[0].clientY - rect.top;\n    posX *= exports.scale;\n    posY *= exports.scale;\n    LAppDelegate.getInstance()._view.onTouchesMoved(posX, posY);\n}\nfunction onTouchEnded(e) {\n    LAppDelegate.getInstance()._captured = false;\n    if (!LAppDelegate.getInstance()._view) {\n        lapppal_1.LAppPal.printMessage('view notfound');\n        return;\n    }\n    var rect = e.target.getBoundingClientRect();\n    var posX = e.changedTouches[0].clientX - rect.left;\n    var posY = e.changedTouches[0].clientY - rect.top;\n    posX *= exports.scale;\n    posY *= exports.scale;\n    LAppDelegate.getInstance()._view.onTouchesEnded(posX, posY);\n}\nfunction onTouchCancel(e) {\n    LAppDelegate.getInstance()._captured = false;\n    if (!LAppDelegate.getInstance()._view) {\n        lapppal_1.LAppPal.printMessage('view notfound');\n        return;\n    }\n    var rect = e.target.getBoundingClientRect();\n    var posX = e.changedTouches[0].clientX - rect.left;\n    var posY = e.changedTouches[0].clientY - rect.top;\n    LAppDelegate.getInstance()._view.onTouchesEnded(posX, posY);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGFwcGRlbGVnYXRlLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2xhcHBkZWxlZ2F0ZS50cz82OTcxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0KGMpIExpdmUyRCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcbiAqIHRoYXQgY2FuIGJlIGZvdW5kIGF0IGh0dHBzOi8vd3d3LmxpdmUyZC5jb20vZXVsYS9saXZlMmQtb3Blbi1zb2Z0d2FyZS1saWNlbnNlLWFncmVlbWVudF9lbi5odG1sLlxuICovXG5cbmltcG9ydCB7XG4gICAgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGxpdmUyZGN1YmlzbWZyYW1ld29yayxcbiAgICBPcHRpb24gYXMgQ3NtX09wdGlvblxufSBmcm9tICdAZnJhbWV3b3JrL2xpdmUyZGN1YmlzbWZyYW1ld29yayc7XG5pbXBvcnQgQ3NtX0N1YmlzbUZyYW1ld29yayA9IGxpdmUyZGN1YmlzbWZyYW1ld29yay5DdWJpc21GcmFtZXdvcms7XG5pbXBvcnQge0xBcHBWaWV3fSBmcm9tICcuL2xhcHB2aWV3JztcbmltcG9ydCB7TEFwcFBhbH0gZnJvbSAnLi9sYXBwcGFsJztcbmltcG9ydCB7TEFwcFRleHR1cmVNYW5hZ2VyfSBmcm9tICcuL2xhcHB0ZXh0dXJlbWFuYWdlcic7XG5pbXBvcnQge0xBcHBMaXZlMkRNYW5hZ2VyfSBmcm9tICcuL2xhcHBsaXZlMmRtYW5hZ2VyJztcbmltcG9ydCAqIGFzIExBcHBEZWZpbmUgZnJvbSAnLi9sYXBwZGVmaW5lJztcbmltcG9ydCB7TEFwcE1vZGVsfSBmcm9tIFwiLi9sYXBwbW9kZWxcIjtcbmltcG9ydCB7IERlYnVnTG9nRW5hYmxlIH0gZnJvbSAnLi9sYXBwZGVmaW5lJztcblxuZXhwb3J0IGxldCBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50ID0gbnVsbDtcbmV4cG9ydCBsZXQgc19pbnN0YW5jZTogTEFwcERlbGVnYXRlID0gbnVsbDtcbmV4cG9ydCBsZXQgZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCA9IG51bGw7XG5leHBvcnQgbGV0IGZyYW1lQnVmZmVyOiBXZWJHTEZyYW1lYnVmZmVyID0gbnVsbDtcbmV4cG9ydCBsZXQgc2NhbGU6IG51bWJlciA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuZXhwb3J0IGxldCBsQXBwRGVsZWdhdGVFdmVudDpMQXBwRGVsZWdhdGVFdmVudCA9IG51bGw7XG5cbmxldCBsYXN0Q2FsbGVkVGltZTtcbmxldCBmcHM7XG5jb25zdCB7IHJlbW90ZSB9ID0gcmVxdWlyZSgnZWxlY3Ryb24nKVxubGV0IGN1cnJfd2luZG93ID0gcmVtb3RlLmdldEN1cnJlbnRXaW5kb3coKTtcblxuaW50ZXJmYWNlIExBcHBEZWxlZ2F0ZUV2ZW50IHtcbiAgICBtb2RlbENvbXBsZXRlU2V0dXAoKTtcbn1cblxuXG4vKipcbiAqIOOCouODl+ODquOCseODvOOCt+ODp+ODs+OCr+ODqeOCueOAglxuICogQ3ViaXNtIFNES+OBrueuoeeQhuOCkuihjOOBhuOAglxuICovXG5leHBvcnQgY2xhc3MgTEFwcERlbGVnYXRlIHtcbiAgICAvKipcbiAgICAgKiDjgq/jg6njgrnjga7jgqTjg7Pjgrnjgr/jg7PjgrnvvIjjgrfjg7PjgrDjg6vjg4jjg7PvvInjgpLov5TjgZnjgIJcbiAgICAgKiDjgqTjg7Pjgrnjgr/jg7PjgrnjgYznlJ/miJDjgZXjgozjgabjgYTjgarjgYTloLTlkIjjga/lhoXpg6jjgafjgqTjg7Pjgrnjgr/jg7PjgrnjgpLnlJ/miJDjgZnjgovjgIJcbiAgICAgKlxuICAgICAqIEByZXR1cm4g44Kv44Op44K544Gu44Kk44Oz44K544K/44Oz44K5XG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBMQXBwRGVsZWdhdGUge1xuICAgICAgICBpZiAoc19pbnN0YW5jZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBzX2luc3RhbmNlID0gbmV3IExBcHBEZWxlZ2F0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNfaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44Kv44Op44K544Gu44Kk44Oz44K544K/44Oz44K577yI44K344Oz44Kw44Or44OI44Oz77yJ44KS6Kej5pS+44GZ44KL44CCXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyByZWxlYXNlSW5zdGFuY2UoKTogdm9pZCB7XG4gICAgICAgIGlmIChzX2luc3RhbmNlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHNfaW5zdGFuY2UucmVsZWFzZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgc19pbnN0YW5jZSA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQVBQ44Gr5b+F6KaB44Gq54mp44KS5Yid5pyf5YyW44GZ44KL44CCXG4gICAgICovXG4gICAgcHVibGljIGluaXRpYWxpemUoKTogYm9vbGVhbiB7XG4gICAgICAgIC8vIOOCreODo+ODs+ODkOOCueOBruS9nOaIkFxuICAgICAgICBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgICAgICBjYW52YXMud2lkdGggPSBMQXBwRGVmaW5lLlJlbmRlclRhcmdldFdpZHRoO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gTEFwcERlZmluZS5SZW5kZXJUYXJnZXRIZWlnaHQ7XG5cbiAgICAgICAgY2FudmFzLnN0eWxlLndpZHRoID0gY2FudmFzLndpZHRoICsgJ3B4JztcbiAgICAgICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IGNhbnZhcy5oZWlnaHQgKyAncHgnO1xuXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IGNhbnZhcy53aWR0aCAqIHNjYWxlO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gY2FudmFzLmhlaWdodCAqIHNjYWxlO1xuXG4gICAgICAgIC8vIGNhbnZhcy5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywnd2lkdGg6JytMQXBwRGVmaW5lLlJlbmRlclRhcmdldFdpZHRoKydweDtoZWlnaHQ6JytMQXBwRGVmaW5lLlJlbmRlclRhcmdldEhlaWdodCsncHgnKTtcblxuICAgICAgICAvLyBnbOOCs+ODs+ODhuOCreOCueODiOOCkuWIneacn+WMllxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJykgfHwgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcpO1xuXG5cbiAgICAgICAgaWYgKCFnbCkge1xuICAgICAgICAgICAgYWxlcnQoJ0Nhbm5vdCBpbml0aWFsaXplIFdlYkdMLiBUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydC4nKTtcbiAgICAgICAgICAgIGdsID0gbnVsbDtcblxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5pbm5lckhUTUwgPVxuICAgICAgICAgICAgICAgICdUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgPGNvZGU+Jmx0O2NhbnZhcyZndDs8L2NvZGU+IGVsZW1lbnQuJztcblxuICAgICAgICAgICAgLy8gZ2zliJ3mnJ/ljJblpLHmlZdcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOOCreODo+ODs+ODkOOCueOCkiBET00g44Gr6L+95YqgXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FudmFzKTtcblxuICAgICAgICBpZiAoIWZyYW1lQnVmZmVyKSB7XG4gICAgICAgICAgICBmcmFtZUJ1ZmZlciA9IGdsLmdldFBhcmFtZXRlcihnbC5GUkFNRUJVRkZFUl9CSU5ESU5HKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOmAj+mBjuioreWumlxuICAgICAgICBnbC5lbmFibGUoZ2wuQkxFTkQpO1xuICAgICAgICBnbC5ibGVuZEZ1bmMoZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBKTtcblxuICAgICAgICBjb25zdCBzdXBwb3J0VG91Y2g6IGJvb2xlYW4gPSAnb250b3VjaGVuZCcgaW4gY2FudmFzO1xuXG4gICAgICAgIC8vIGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCdib2R5JylbMF0ub25cbiAgICAgICAgaWYgKHN1cHBvcnRUb3VjaCkge1xuICAgICAgICAgICAgLy8g44K/44OD44OB6Zai6YCj44Kz44O844Or44OQ44OD44Kv6Zai5pWw55m76YyyXG4gICAgICAgICAgICBjYW52YXMub250b3VjaHN0YXJ0ID0gb25Ub3VjaEJlZ2FuO1xuICAgICAgICAgICAgY2FudmFzLm9udG91Y2htb3ZlID0gb25Ub3VjaE1vdmVkO1xuICAgICAgICAgICAgY2FudmFzLm9udG91Y2hlbmQgPSBvblRvdWNoRW5kZWQ7XG4gICAgICAgICAgICBjYW52YXMub250b3VjaGNhbmNlbCA9IG9uVG91Y2hDYW5jZWw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyDjg57jgqbjgrnplqLpgKPjgrPjg7zjg6vjg5Djg4Pjgq/plqLmlbDnmbvpjLJcbiAgICAgICAgICAgIGNhbnZhcy5vbm1vdXNlZG93biA9IG9uQ2xpY2tCZWdhbjtcbiAgICAgICAgICAgIGNhbnZhcy5vbm1vdXNlbW92ZSA9IG9uTW91c2VNb3ZlZDtcbiAgICAgICAgICAgIGNhbnZhcy5vbm1vdXNldXAgPSBvbkNsaWNrRW5kZWQ7XG4gICAgICAgICAgICBjYW52YXMub25tb3VzZWVudGVyID0gb25Nb3VzZUVudGVyO1xuICAgICAgICAgICAgY2FudmFzLm9ubW91c2VsZWF2ZSA9IG9uTW91c2VMZWF2ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFwcFZpZXfjga7liJ3mnJ/ljJZcbiAgICAgICAgdGhpcy5fdmlldy5pbml0aWFsaXplKCk7XG5cbiAgICAgICAgLy8gQ3ViaXNtIFNES+OBruWIneacn+WMllxuICAgICAgICB0aGlzLmluaXRpYWxpemVDdWJpc20oKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDop6PmlL7jgZnjgovjgIJcbiAgICAgKi9cbiAgICBwdWJsaWMgcmVsZWFzZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fdGV4dHVyZU1hbmFnZXIucmVsZWFzZSgpO1xuICAgICAgICB0aGlzLl90ZXh0dXJlTWFuYWdlciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fdmlldy5yZWxlYXNlKCk7XG4gICAgICAgIHRoaXMuX3ZpZXcgPSBudWxsO1xuXG4gICAgICAgIC8vIOODquOCveODvOOCueOCkuino+aUvlxuICAgICAgICBMQXBwTGl2ZTJETWFuYWdlci5yZWxlYXNlSW5zdGFuY2UoKTtcblxuICAgICAgICAvLyBDdWJpc20gU0RL44Gu6Kej5pS+XG4gICAgICAgIENzbV9DdWJpc21GcmFtZXdvcmsuZGlzcG9zZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOWun+ihjOWHpueQhuOAglxuICAgICAqL1xuICAgIHB1YmxpYyBydW4oKTogdm9pZCB7XG4gICAgICAgIGlmIChEZWJ1Z0xvZ0VuYWJsZSl7XG4gICAgICAgICAgICBsZXQgZnBzX2VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGZwc19lbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgICAgIGZwc19lbGVtZW50LnN0eWxlLnJpZ2h0ID0gJzAnO1xuICAgICAgICAgICAgZnBzX2VsZW1lbnQuc3R5bGUudG9wID0gICcwJztcbiAgICAgICAgICAgIGZwc19lbGVtZW50LnN0eWxlLmNvbG9yID0gJ3JlYmVjY2FwdXJwbGUnO1xuXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZwc19lbGVtZW50KVxuICAgICAgICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGZwc19lbGVtZW50LmlubmVyVGV4dCA9ICdmcHM6JytmcHMudG9GaXhlZCgyKTtcbiAgICAgICAgICAgIH0sMTAwMClcbiAgICAgICAgfVxuXG5cbiAgICAgICAgLy8g44Oh44Kk44Oz44Or44O844OXXG4gICAgICAgIGNvbnN0IGxvb3AgPSAoKTogdm9pZCA9PiB7XG4gICAgICAgICAgICAvLyDjgqTjg7Pjgrnjgr/jg7Pjgrnjga7mnInnhKHjga7norroqo1cbiAgICAgICAgICAgIGlmIChzX2luc3RhbmNlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZighbGFzdENhbGxlZFRpbWUpIHtcbiAgICAgICAgICAgIC8vICAgICBsYXN0Q2FsbGVkVGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAvLyAgICAgZnBzID0gMDtcbiAgICAgICAgICAgIC8vICAgICByZXR1cm47XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICBsZXQgZGVsdGEgPSAoRGF0ZS5ub3coKSAtIGxhc3RDYWxsZWRUaW1lKS8xMDAwO1xuICAgICAgICAgICAgbGFzdENhbGxlZFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgZnBzID0gMS9kZWx0YTtcblxuICAgICAgICAgICAgLy8g5pmC6ZaT5pu05pawXG4gICAgICAgICAgICBMQXBwUGFsLnVwZGF0ZVRpbWUoKTtcblxuICAgICAgICAgICAgLy8g55S76Z2i44Gu5Yid5pyf5YyWXG4gICAgICAgICAgICBnbC5jbGVhckNvbG9yKDAuMCwgMC4wLCAwLjAsIDAuMCk7XG5cbiAgICAgICAgICAgIC8vIOa3seW6puODhuOCueODiOOCkuacieWKueWMllxuICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLkRFUFRIX1RFU1QpO1xuXG4gICAgICAgICAgICAvLyDov5HjgY/jgavjgYLjgovniankvZPjga/jgIHpgaDjgY/jgavjgYLjgovniankvZPjgpLopobjgYTpmqDjgZlcbiAgICAgICAgICAgIGdsLmRlcHRoRnVuYyhnbC5MRVFVQUwpO1xuXG4gICAgICAgICAgICAvLyDjgqvjg6njg7zjg5Djg4Pjg5XjgqHjgoTmt7Hluqbjg5Djg4Pjg5XjgqHjgpLjgq/jg6rjgqLjgZnjgotcbiAgICAgICAgICAgIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQgfCBnbC5ERVBUSF9CVUZGRVJfQklUKTtcblxuICAgICAgICAgICAgZ2wuY2xlYXJEZXB0aCgxLjApO1xuXG4gICAgICAgICAgICAvLyDpgI/pgY7oqK3lrppcbiAgICAgICAgICAgIGdsLmVuYWJsZShnbC5CTEVORCk7XG4gICAgICAgICAgICBnbC5ibGVuZEZ1bmMoZ2wuU1JDX0FMUEhBLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBKTtcblxuICAgICAgICAgICAgLy8g5o+P55S75pu05pawXG4gICAgICAgICAgICB0aGlzLl92aWV3LnJlbmRlcigpO1xuXG4gICAgICAgICAgICAvLyDlu7rnq4vlg4/ntKDpm4blkIgg6L+Z56eN5pa55byP5oCn6IO9Y2FudmFz57yT5Yay5Yy66LaK5aSn6LaK5beuXG4gICAgICAgICAgICAvLyBwaXhlbHMgID0gbmV3IFVpbnQ4QXJyYXkoIGNhbnZhcy53aWR0aCpjYW52YXMuaGVpZ2h0KjQpO1xuICAgICAgICAgICAgLy8gLy/ku47nvJPlhrLljLror7vlj5blg4/ntKDmlbDmja7vvIznhLblkI7lsIblhbboo4XliLDkuovlhYjlu7rnq4vlpb3nmoTlg4/ntKDpm4blkIjph4xcbiAgICAgICAgICAgIC8vIGdsLnJlYWRQaXhlbHMoMCwgMCxnbC5kcmF3aW5nQnVmZmVyV2lkdGgsIGdsLmRyYXdpbmdCdWZmZXJIZWlnaHQsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIHBpeGVscyk7XG5cbiAgICAgICAgICAgIC8vIOODq+ODvOODl+OBruOBn+OCgeOBq+WGjeW4sOWRvOOBs+WHuuOBl1xuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xuICAgICAgICB9O1xuICAgICAgICBsb29wKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog44K344Kn44O844OA44O844KS55m76Yyy44GZ44KL44CCXG4gICAgICovXG4gICAgcHVibGljIGNyZWF0ZVNoYWRlcigpOiBXZWJHTFByb2dyYW0ge1xuICAgICAgICAvLyDjg5Djg7zjg4bjg4Pjgq/jgrnjgrfjgqfjg7zjg4Djg7zjga7jgrPjg7Pjg5HjgqTjg6tcbiAgICAgICAgY29uc3QgdmVydGV4U2hhZGVySWQgPSBnbC5jcmVhdGVTaGFkZXIoZ2wuVkVSVEVYX1NIQURFUik7XG5cbiAgICAgICAgaWYgKHZlcnRleFNoYWRlcklkID09IG51bGwpIHtcbiAgICAgICAgICAgIExBcHBQYWwucHJpbnRNZXNzYWdlKCdmYWlsZWQgdG8gY3JlYXRlIHZlcnRleFNoYWRlcicpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB2ZXJ0ZXhTaGFkZXI6IHN0cmluZyA9XG4gICAgICAgICAgICAncHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7JyArXG4gICAgICAgICAgICAnYXR0cmlidXRlIHZlYzMgcG9zaXRpb247JyArXG4gICAgICAgICAgICAnYXR0cmlidXRlIHZlYzIgdXY7JyArXG4gICAgICAgICAgICAndmFyeWluZyB2ZWMyIHZ1djsnICtcbiAgICAgICAgICAgICd2b2lkIG1haW4odm9pZCknICtcbiAgICAgICAgICAgICd7JyArXG4gICAgICAgICAgICAnICAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uLCAxLjApOycgK1xuICAgICAgICAgICAgJyAgIHZ1diA9IHV2OycgK1xuICAgICAgICAgICAgJ30nO1xuXG4gICAgICAgIGdsLnNoYWRlclNvdXJjZSh2ZXJ0ZXhTaGFkZXJJZCwgdmVydGV4U2hhZGVyKTtcbiAgICAgICAgZ2wuY29tcGlsZVNoYWRlcih2ZXJ0ZXhTaGFkZXJJZCk7XG5cbiAgICAgICAgLy8g44OV44Op44Kw44Oh44Oz44OI44K344Kn44O844OA44Gu44Kz44Oz44OR44Kk44OrXG4gICAgICAgIGNvbnN0IGZyYWdtZW50U2hhZGVySWQgPSBnbC5jcmVhdGVTaGFkZXIoZ2wuRlJBR01FTlRfU0hBREVSKTtcblxuICAgICAgICBpZiAoZnJhZ21lbnRTaGFkZXJJZCA9PSBudWxsKSB7XG4gICAgICAgICAgICBMQXBwUGFsLnByaW50TWVzc2FnZSgnZmFpbGVkIHRvIGNyZWF0ZSBmcmFnbWVudFNoYWRlcicpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmcmFnbWVudFNoYWRlcjogc3RyaW5nID1cbiAgICAgICAgICAgICdwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsnICtcbiAgICAgICAgICAgICd2YXJ5aW5nIHZlYzIgdnV2OycgK1xuICAgICAgICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmU7JyArXG4gICAgICAgICAgICAndm9pZCBtYWluKHZvaWQpJyArXG4gICAgICAgICAgICAneycgK1xuICAgICAgICAgICAgJyAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh0ZXh0dXJlLCB2dXYpOycgK1xuICAgICAgICAgICAgJ30nO1xuXG4gICAgICAgIGdsLnNoYWRlclNvdXJjZShmcmFnbWVudFNoYWRlcklkLCBmcmFnbWVudFNoYWRlcik7XG4gICAgICAgIGdsLmNvbXBpbGVTaGFkZXIoZnJhZ21lbnRTaGFkZXJJZCk7XG5cbiAgICAgICAgLy8g44OX44Ot44Kw44Op44Og44Kq44OW44K444Kn44Kv44OI44Gu5L2c5oiQXG4gICAgICAgIGNvbnN0IHByb2dyYW1JZCA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcbiAgICAgICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW1JZCwgdmVydGV4U2hhZGVySWQpO1xuICAgICAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbUlkLCBmcmFnbWVudFNoYWRlcklkKTtcblxuICAgICAgICBnbC5kZWxldGVTaGFkZXIodmVydGV4U2hhZGVySWQpO1xuICAgICAgICBnbC5kZWxldGVTaGFkZXIoZnJhZ21lbnRTaGFkZXJJZCk7XG5cbiAgICAgICAgLy8g44Oq44Oz44KvXG4gICAgICAgIGdsLmxpbmtQcm9ncmFtKHByb2dyYW1JZCk7XG5cbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtSWQpO1xuXG4gICAgICAgIHJldHVybiBwcm9ncmFtSWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmlld+aDheWgseOCkuWPluW+l+OBmeOCi+OAglxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRWaWV3KCk6IExBcHBWaWV3IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZpZXc7XG4gICAgfVxuXG4gICAgcHVibGljIHNldExhcHBNb2RlbEV2ZW50KGNhbGw6TEFwcERlbGVnYXRlRXZlbnQpe1xuICAgICAgICBsQXBwRGVsZWdhdGVFdmVudCA9IGNhbGw7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFRleHR1cmVNYW5hZ2VyKCk6IExBcHBUZXh0dXJlTWFuYWdlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlTWFuYWdlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr9cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fY2FwdHVyZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fbW91c2VYID0gMC4wO1xuICAgICAgICB0aGlzLl9tb3VzZVkgPSAwLjA7XG4gICAgICAgIHRoaXMuX2lzRW5kID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fY3ViaXNtT3B0aW9uID0gbmV3IENzbV9PcHRpb24oKTtcbiAgICAgICAgdGhpcy5fdmlldyA9IG5ldyBMQXBwVmlldygpO1xuICAgICAgICB0aGlzLl90ZXh0dXJlTWFuYWdlciA9IG5ldyBMQXBwVGV4dHVyZU1hbmFnZXIoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDdWJpc20gU0RL44Gu5Yid5pyf5YyWXG4gICAgICovXG4gICAgcHVibGljIGluaXRpYWxpemVDdWJpc20oKTogdm9pZCB7XG4gICAgICAgIC8vIHNldHVwIGN1YmlzbVxuICAgICAgICB0aGlzLl9jdWJpc21PcHRpb24ubG9nRnVuY3Rpb24gPSBMQXBwUGFsLnByaW50TWVzc2FnZTtcbiAgICAgICAgdGhpcy5fY3ViaXNtT3B0aW9uLmxvZ2dpbmdMZXZlbCA9IExBcHBEZWZpbmUuQ3ViaXNtTG9nZ2luZ0xldmVsO1xuICAgICAgICBDc21fQ3ViaXNtRnJhbWV3b3JrLnN0YXJ0VXAodGhpcy5fY3ViaXNtT3B0aW9uKTtcblxuICAgICAgICAvLyBpbml0aWFsaXplIGN1YmlzbVxuICAgICAgICBDc21fQ3ViaXNtRnJhbWV3b3JrLmluaXRpYWxpemUoKTtcblxuICAgICAgICAvLyBsb2FkIG1vZGVsXG4gICAgICAgIExBcHBMaXZlMkRNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cbiAgICAgICAgTEFwcFBhbC51cGRhdGVUaW1lKCk7XG5cbiAgICAgICAgdGhpcy5fdmlldy5pbml0aWFsaXplU3ByaXRlKCk7XG4gICAgfVxuXG4gICAgX2N1YmlzbU9wdGlvbjogQ3NtX09wdGlvbjsgLy8gQ3ViaXNtIFNESyBPcHRpb25cbiAgICBfdmlldzogTEFwcFZpZXc7IC8vIFZpZXfmg4XloLFcbiAgICBfY2FwdHVyZWQ6IGJvb2xlYW47IC8vIOeCueWHu+S6huWQlz9cbiAgICBfbW91c2VYOiBudW1iZXI7IC8vIFjlnZDmoIdcbiAgICBfbW91c2VZOiBudW1iZXI7IC8vIOm8oOagh1nlnZDmoIdcbiAgICBfaXNFbmQ6IGJvb2xlYW47IC8vIEFQUOe1guS6huOBl+OBpuOBhOOCi+OBi1xuICAgIF90ZXh0dXJlTWFuYWdlcjogTEFwcFRleHR1cmVNYW5hZ2VyOyAvLyDjg4bjgq/jgrnjg4Hjg6Pjg57jg43jg7zjgrjjg6Pjg7xcbn1cblxuZnVuY3Rpb24gb25Nb3VzZUxlYXZlKCkge1xuICAgIExBcHBQYWwubG9nKFwi5YiS5Ye65Y67XCIpXG5cbiAgICBjb25zdCBsaXZlMkRNYW5hZ2VyOiBMQXBwTGl2ZTJETWFuYWdlciA9IExBcHBMaXZlMkRNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgbGl2ZTJETWFuYWdlci5vbkRyYWcoMC4wLCAwLjApO1xuXG59XG5cbmZ1bmN0aW9uIG9uTW91c2VFbnRlcihlOiBNb3VzZUV2ZW50KSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgTEFwcFBhbC5sb2coXCLliJLov5vmnaVcIilcblxufVxuXG4vKipcbiAqIOOCr+ODquODg+OCr+OBl+OBn+OBqOOBjeOBq+WRvOOBsOOCjOOCi+OAglxuICovXG5mdW5jdGlvbiBvbkNsaWNrQmVnYW4oZTogTW91c2VFdmVudCk6IHZvaWQge1xuICAgIExBcHBQYWwubG9nKCdjbGlja19iZWdhbicpXG4gICAgaWYgKCFMQXBwRGVsZWdhdGUuZ2V0SW5zdGFuY2UoKS5fdmlldykge1xuICAgICAgICBMQXBwUGFsLnByaW50TWVzc2FnZSgndmlldyBub3Rmb3VuZCcpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIExBcHBEZWxlZ2F0ZS5nZXRJbnN0YW5jZSgpLl9jYXB0dXJlZCA9IHRydWU7XG5cbiAgICBsZXQgcG9zWDogbnVtYmVyID0gZS5wYWdlWDtcbiAgICBsZXQgcG9zWTogbnVtYmVyID0gZS5wYWdlWTtcbiAgICBwb3NYICo9IHNjYWxlO1xuICAgIHBvc1kgKj0gc2NhbGU7XG5cbiAgICBMQXBwRGVsZWdhdGUuZ2V0SW5zdGFuY2UoKS5fdmlldy5vblRvdWNoZXNCZWdhbihwb3NYLCBwb3NZKTtcblxufVxuZXhwb3J0IGZ1bmN0aW9uIGhpdE1vZGVsKHBvc1gscG9zWSkge1xuICAgIGxldCB2aWV3ID0gTEFwcERlbGVnYXRlLmdldEluc3RhbmNlKCkuZ2V0VmlldygpXG4gICAgY29uc3Qgdmlld1g6IG51bWJlciA9IHZpZXcudHJhbnNmb3JtVmlld1gocG9zWCk7XG4gICAgY29uc3Qgdmlld1k6IG51bWJlciA9IHZpZXcudHJhbnNmb3JtVmlld1kocG9zWSk7XG4gICAgcmV0dXJuIExBcHBMaXZlMkRNYW5hZ2VyLmdldEluc3RhbmNlKCkuaGl0TW9kZWwodmlld1gsdmlld1kpXG4gICAgLy8gY29uc29sZS5sb2cocGl4ZWxzKSDphY3lkIhsb29w6YeM55qEcmVhZFBpeGVscyDomb3nhLbmgKfog73ovoPlt67vvIzkvYblj6/ku6XmjqfliLbnmoTngrnlvojlpJrvvIzmr5TlpoLlg4/ntKDpopzoibJcbiAgICAvLyByZXR1cm4gcGl4ZWxzWygocG9zWSAqIChjYW52YXMud2lkdGggKiA0KSkgKyAocG9zWCAqIDQpKSArIDNdID4gMDtcbn1cblxuLyoqXG4gKiDjg57jgqbjgrnjg53jgqTjg7Pjgr/jgYzli5XjgYTjgZ/jgonlkbzjgbDjgozjgovjgIJcbiAqL1xuZnVuY3Rpb24gb25Nb3VzZU1vdmVkKGU6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICAvLyBpZiAoIUxBcHBEZWxlZ2F0ZS5nZXRJbnN0YW5jZSgpLl9jYXB0dXJlZCkge1xuICAgIC8vICAgICByZXR1cm47XG4gICAgLy8gfVxuXG4gICAgaWYgKCFMQXBwRGVsZWdhdGUuZ2V0SW5zdGFuY2UoKS5fdmlldykge1xuICAgICAgICBMQXBwUGFsLnByaW50TWVzc2FnZSgndmlldyBub3Rmb3VuZCcpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcmVjdCA9IChlLnRhcmdldCBhcyBFbGVtZW50KS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgcG9zWDogbnVtYmVyID0gZS5jbGllbnRYIC0gcmVjdC5sZWZ0O1xuICAgIGxldCBwb3NZOiBudW1iZXIgPSBlLmNsaWVudFkgLSByZWN0LnRvcDtcbiAgICBwb3NYICo9IHNjYWxlO1xuICAgIHBvc1kgKj0gc2NhbGU7XG4gICAgbGV0IGhpdCAgPSBMQXBwTGl2ZTJETWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIGxldCBoaXRzdHIgPSBoaXQuaXNIaXQocG9zWCxwb3NZKTtcbiAgICBpZiAoaGl0c3RyICE9IFwiXCIgJiYgaGl0Lm1vdmVfaGl0KXtcbiAgICAgICAgaGl0Lm1vdmVfaGl0KGhpdHN0cilcbiAgICB9XG4gICAgaWYgKExBcHBEZWZpbmUuSXNFbGVjdHJvbil7XG4gICAgICAgIGlmICghaGl0c3RyKXtcbiAgICAgICAgICAgIC8v5pW05LiqYXBwIOW/veeVpeaJgOacieeCueWHu+S6i+S7tlxuICAgICAgICAgICAgY3Vycl93aW5kb3cuc2V0SWdub3JlTW91c2VFdmVudHModHJ1ZSwgeyBmb3J3YXJkOiB0cnVlIH0pXG4gICAgICAgICAgICBMQXBwUGFsLmxvZyh0cnVlLCdtb3ZlJylcbiAgICAgICAgfWVsc2V7XG5cbiAgICAgICAgICAgIGN1cnJfd2luZG93LnNldElnbm9yZU1vdXNlRXZlbnRzKGZhbHNlLHsgZm9yd2FyZDogdHJ1ZSB9KVxuICAgICAgICAgICAgTEFwcFBhbC5sb2coZmFsc2UsJ21vdmUnKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgTEFwcERlbGVnYXRlLmdldEluc3RhbmNlKCkuX3ZpZXcub25Ub3VjaGVzTW92ZWQocG9zWCwgcG9zWSk7XG5cbn1cblxuLyoqXG4gKiDjgq/jg6rjg4Pjgq/jgYzntYLkuobjgZfjgZ/jgonlkbzjgbDjgozjgovjgIJcbiAqL1xuZnVuY3Rpb24gb25DbGlja0VuZGVkKGU6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICBMQXBwRGVsZWdhdGUuZ2V0SW5zdGFuY2UoKS5fY2FwdHVyZWQgPSBmYWxzZTtcbiAgICBpZiAoIUxBcHBEZWxlZ2F0ZS5nZXRJbnN0YW5jZSgpLl92aWV3KSB7XG4gICAgICAgIExBcHBQYWwucHJpbnRNZXNzYWdlKCd2aWV3IG5vdGZvdW5kJyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCByZWN0ID0gKGUudGFyZ2V0IGFzIEVsZW1lbnQpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGxldCBwb3NYOiBudW1iZXIgPSBlLmNsaWVudFggLSByZWN0LmxlZnQ7XG4gICAgbGV0IHBvc1k6IG51bWJlciA9IGUuY2xpZW50WSAtIHJlY3QudG9wO1xuICAgIC8vIOino+WGs+aooeeziumXrumimFxuICAgIHBvc1ggKj0gc2NhbGU7XG4gICAgcG9zWSAqPSBzY2FsZTtcbiAgICBMQXBwUGFsLmxvZygn54K55Ye7JylcbiAgICBsZXQgaGl0ICA9IExBcHBMaXZlMkRNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgbGV0IGhpdHN0ciA9IGhpdC5pc0hpdChwb3NYLHBvc1kpO1xuICAgIGlmIChoaXRzdHIgIT0gXCJcIiYmaGl0LmNsaWNrX2hpdCl7XG4gICAgICAgIGhpdC5jbGlja19oaXQoaGl0c3RyKVxuICAgIH1cbiAgICBMQXBwRGVsZWdhdGUuZ2V0SW5zdGFuY2UoKS5fdmlldy5vblRvdWNoZXNFbmRlZChwb3NYLCBwb3NZKTtcbn1cblxuLyoqXG4gKiDjgr/jg4Pjg4HjgZfjgZ/jgajjgY3jgavlkbzjgbDjgozjgovjgIJcbiAqL1xuZnVuY3Rpb24gb25Ub3VjaEJlZ2FuKGU6IFRvdWNoRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAoIUxBcHBEZWxlZ2F0ZS5nZXRJbnN0YW5jZSgpLl92aWV3KSB7XG4gICAgICAgIExBcHBQYWwucHJpbnRNZXNzYWdlKCd2aWV3IG5vdGZvdW5kJyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBMQXBwRGVsZWdhdGUuZ2V0SW5zdGFuY2UoKS5fY2FwdHVyZWQgPSB0cnVlO1xuXG4gICAgbGV0IHBvc1ggPSBlLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYO1xuICAgIGxldCBwb3NZID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWTtcbiAgICBwb3NYICo9IHNjYWxlO1xuICAgIHBvc1kgKj0gc2NhbGU7XG4gICAgTEFwcERlbGVnYXRlLmdldEluc3RhbmNlKCkuX3ZpZXcub25Ub3VjaGVzQmVnYW4ocG9zWCwgcG9zWSk7XG59XG5cbi8qKlxuICog44K544Ov44Kk44OX44GZ44KL44Go5ZG844Gw44KM44KL44CCXG4gKi9cbmZ1bmN0aW9uIG9uVG91Y2hNb3ZlZChlOiBUb3VjaEV2ZW50KTogdm9pZCB7XG4gICAgaWYgKCFMQXBwRGVsZWdhdGUuZ2V0SW5zdGFuY2UoKS5fY2FwdHVyZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghTEFwcERlbGVnYXRlLmdldEluc3RhbmNlKCkuX3ZpZXcpIHtcbiAgICAgICAgTEFwcFBhbC5wcmludE1lc3NhZ2UoJ3ZpZXcgbm90Zm91bmQnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHJlY3QgPSAoZS50YXJnZXQgYXMgRWxlbWVudCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICBsZXQgcG9zWCA9IGUuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCAtIHJlY3QubGVmdDtcbiAgICBsZXQgcG9zWSA9IGUuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WSAtIHJlY3QudG9wO1xuICAgIHBvc1ggKj0gc2NhbGU7XG4gICAgcG9zWSAqPSBzY2FsZTtcbiAgICBMQXBwRGVsZWdhdGUuZ2V0SW5zdGFuY2UoKS5fdmlldy5vblRvdWNoZXNNb3ZlZChwb3NYLCBwb3NZKTtcbn1cblxuLyoqXG4gKiDjgr/jg4Pjg4HjgYzntYLkuobjgZfjgZ/jgonlkbzjgbDjgozjgovjgIJcbiAqL1xuZnVuY3Rpb24gb25Ub3VjaEVuZGVkKGU6IFRvdWNoRXZlbnQpOiB2b2lkIHtcbiAgICBMQXBwRGVsZWdhdGUuZ2V0SW5zdGFuY2UoKS5fY2FwdHVyZWQgPSBmYWxzZTtcblxuICAgIGlmICghTEFwcERlbGVnYXRlLmdldEluc3RhbmNlKCkuX3ZpZXcpIHtcbiAgICAgICAgTEFwcFBhbC5wcmludE1lc3NhZ2UoJ3ZpZXcgbm90Zm91bmQnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHJlY3QgPSAoZS50YXJnZXQgYXMgRWxlbWVudCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICBsZXQgcG9zWCA9IGUuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCAtIHJlY3QubGVmdDtcbiAgICBsZXQgcG9zWSA9IGUuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WSAtIHJlY3QudG9wO1xuICAgIHBvc1ggKj0gc2NhbGU7XG4gICAgcG9zWSAqPSBzY2FsZTtcbiAgICBMQXBwRGVsZWdhdGUuZ2V0SW5zdGFuY2UoKS5fdmlldy5vblRvdWNoZXNFbmRlZChwb3NYLCBwb3NZKTtcbn1cblxuLyoqXG4gKiDjgr/jg4Pjg4HjgYzjgq3jg6Pjg7Pjgrvjg6vjgZXjgozjgovjgajlkbzjgbDjgozjgovjgIJcbiAqL1xuZnVuY3Rpb24gb25Ub3VjaENhbmNlbChlOiBUb3VjaEV2ZW50KTogdm9pZCB7XG4gICAgTEFwcERlbGVnYXRlLmdldEluc3RhbmNlKCkuX2NhcHR1cmVkID0gZmFsc2U7XG5cbiAgICBpZiAoIUxBcHBEZWxlZ2F0ZS5nZXRJbnN0YW5jZSgpLl92aWV3KSB7XG4gICAgICAgIExBcHBQYWwucHJpbnRNZXNzYWdlKCd2aWV3IG5vdGZvdW5kJyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCByZWN0ID0gKGUudGFyZ2V0IGFzIEVsZW1lbnQpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgY29uc3QgcG9zWCA9IGUuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCAtIHJlY3QubGVmdDtcbiAgICBjb25zdCBwb3NZID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZIC0gcmVjdC50b3A7XG5cbiAgICBMQXBwRGVsZWdhdGUuZ2V0SW5zdGFuY2UoKS5fdmlldy5vblRvdWNoZXNFbmRlZChwb3NYLCBwb3NZKTtcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU9BO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQVdBO0FBdVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQXpRQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBTUE7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUdBO0FBQ0E7QUFLQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUdBO0FBR0E7QUFHQTtBQUVBO0FBR0E7QUFDQTtBQUdBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUVBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQW1CQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFFQTtBQUVBO0FBQ0E7QUFTQTtBQUFBO0FBN1NBO0FBK1NBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBUEE7QUFZQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/lappdelegate.ts\n");

/***/ }),

/***/ "./src/lapplive2dmanager.ts":
/*!**********************************!*\
  !*** ./src/lapplive2dmanager.ts ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LAppLive2DManager = exports.s_instance = void 0;\nvar cubismmatrix44_1 = __webpack_require__(/*! @framework/math/cubismmatrix44 */ \"./Framework/src/math/cubismmatrix44.ts\");\nvar csmvector_1 = __webpack_require__(/*! @framework/type/csmvector */ \"./Framework/src/type/csmvector.ts\");\nvar Csm_csmVector = csmvector_1.Live2DCubismFramework.csmVector;\nvar Csm_CubismMatrix44 = cubismmatrix44_1.Live2DCubismFramework.CubismMatrix44;\nvar lappmodel_1 = __webpack_require__(/*! ./lappmodel */ \"./src/lappmodel.ts\");\nvar lapppal_1 = __webpack_require__(/*! ./lapppal */ \"./src/lapppal.ts\");\nvar lappdelegate_1 = __webpack_require__(/*! ./lappdelegate */ \"./src/lappdelegate.ts\");\nvar LAppDefine = __importStar(__webpack_require__(/*! ./lappdefine */ \"./src/lappdefine.ts\"));\nexports.s_instance = null;\nvar LAppLive2DManager = (function () {\n    function LAppLive2DManager() {\n        this.click_hit = null;\n        this.move_hit = null;\n        this._finishedMotion = function (self) {\n            lapppal_1.LAppPal.printMessage('Motion Finished:');\n            console.log(self);\n        };\n        this._viewMatrix = new Csm_CubismMatrix44();\n        this._models = new Csm_csmVector();\n        this._sceneIndex = 0;\n        this.changeScene(this._sceneIndex);\n    }\n    LAppLive2DManager.getInstance = function () {\n        if (exports.s_instance == null) {\n            exports.s_instance = new LAppLive2DManager();\n        }\n        return exports.s_instance;\n    };\n    LAppLive2DManager.releaseInstance = function () {\n        if (exports.s_instance != null) {\n            exports.s_instance = void 0;\n        }\n        exports.s_instance = null;\n    };\n    LAppLive2DManager.prototype.getModel = function (no) {\n        if (no < this._models.getSize()) {\n            return this._models.at(no);\n        }\n        return null;\n    };\n    LAppLive2DManager.prototype.releaseAllModel = function () {\n        for (var i = 0; i < this._models.getSize(); i++) {\n            this._models.at(i).release();\n            this._models.set(i, null);\n        }\n        this._models.clear();\n    };\n    LAppLive2DManager.prototype.onDrag = function (x, y) {\n        for (var i = 0; i < this._models.getSize(); i++) {\n            var model = this.getModel(i);\n            if (model) {\n                model.setDragging(x, y);\n            }\n        }\n    };\n    LAppLive2DManager.prototype.onTap = function (x, y) {\n        if (LAppDefine.DebugLogEnable) {\n            lapppal_1.LAppPal.printMessage(\"[APP]tap point: {x: \" + x.toFixed(2) + \" y: \" + y.toFixed(2) + \"}\");\n        }\n        for (var i = 0; i < this._models.getSize(); i++) {\n            if (this._models.at(i).hitTest(LAppDefine.HitAreaNameHead, x, y)) {\n                if (LAppDefine.DebugLogEnable) {\n                    lapppal_1.LAppPal.printMessage(\"[APP]hit area: [\" + LAppDefine.HitAreaNameHead + \"]\");\n                }\n                this._models.at(i).setRandomExpression();\n            }\n            else if (this._models.at(i).hitTest(LAppDefine.HitAreaNameBody, x, y)) {\n                if (LAppDefine.DebugLogEnable) {\n                    lapppal_1.LAppPal.printMessage(\"[APP]hit area: [\" + LAppDefine.HitAreaNameBody + \"]\");\n                }\n                this._models\n                    .at(i)\n                    .startRandomMotion(LAppDefine.MotionGroupTapBody, LAppDefine.PriorityNormal, this._finishedMotion);\n            }\n        }\n    };\n    LAppLive2DManager.prototype.hitModel = function (x, y) {\n        for (var i = 0; i < this._models.getSize(); i++) {\n            if (this._models.at(i).hitTest(LAppDefine.HitAreaNameHead, x, y)) {\n                return true;\n            }\n            else if (this._models\n                .at(i)\n                .hitTest(LAppDefine.HitAreaNameBody, x, y)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    LAppLive2DManager.prototype.isHit = function (posX, posY) {\n        var view = lappdelegate_1.LAppDelegate.getInstance().getView();\n        var viewX = view.transformViewX(posX);\n        var viewY = view.transformViewY(posY);\n        var model = this._models.at(0).getModel();\n        for (var i = 0; i < model.getDrawableCount(); i++) {\n            if (this._models.at(0).isHit(model.getDrawableId(i), viewX, viewY)) {\n                return model.getDrawableId(i).getString().s;\n            }\n        }\n        return '';\n    };\n    LAppLive2DManager.prototype.onUpdate = function () {\n        var projection = new Csm_CubismMatrix44();\n        var width = lappdelegate_1.canvas.width, height = lappdelegate_1.canvas.height;\n        projection.scale(1.0, width / height);\n        if (this._viewMatrix != null) {\n            projection.multiplyByMatrix(this._viewMatrix);\n        }\n        var saveProjection = projection.clone();\n        var modelCount = this._models.getSize();\n        for (var i = 0; i < modelCount; ++i) {\n            var model = this.getModel(i);\n            projection = saveProjection.clone();\n            model.update();\n            model.draw(projection);\n        }\n    };\n    LAppLive2DManager.prototype.nextScene = function () {\n        var no = (this._sceneIndex + 1) % LAppDefine.ModelDirSize;\n        this.changeScene(no);\n    };\n    LAppLive2DManager.prototype.changeScene = function (index) {\n        this._sceneIndex = index;\n        if (LAppDefine.DebugLogEnable) {\n            lapppal_1.LAppPal.printMessage(\"[APP]model index: \" + this._sceneIndex);\n        }\n        var model = LAppDefine.ModelDir[index];\n        var modelPath = LAppDefine.ResourcesPath + model + '/';\n        var modelJsonName = LAppDefine.ModelDir[index];\n        modelJsonName += '.model3.json';\n        this.releaseAllModel();\n        this._models.pushBack(new lappmodel_1.LAppModel());\n        this._models.at(0).loadAssets(modelPath, modelJsonName);\n    };\n    return LAppLive2DManager;\n}());\nexports.LAppLive2DManager = LAppLive2DManager;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGFwcGxpdmUyZG1hbmFnZXIudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGFwcGxpdmUyZG1hbmFnZXIudHM/N2YyZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodChjKSBMaXZlMkQgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IHRoZSBMaXZlMkQgT3BlbiBTb2Z0d2FyZSBsaWNlbnNlXG4gKiB0aGF0IGNhbiBiZSBmb3VuZCBhdCBodHRwczovL3d3dy5saXZlMmQuY29tL2V1bGEvbGl2ZTJkLW9wZW4tc29mdHdhcmUtbGljZW5zZS1hZ3JlZW1lbnRfZW4uaHRtbC5cbiAqL1xuXG5pbXBvcnQge0xpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21tYXRyaXg0NH0gZnJvbSAnQGZyYW1ld29yay9tYXRoL2N1YmlzbW1hdHJpeDQ0JztcbmltcG9ydCB7TGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGNzbXZlY3Rvcn0gZnJvbSAnQGZyYW1ld29yay90eXBlL2NzbXZlY3Rvcic7XG5pbXBvcnQge0xpdmUyREN1YmlzbUZyYW1ld29yayBhcyBhY3ViaXNtbW90aW9ufSBmcm9tICdAZnJhbWV3b3JrL21vdGlvbi9hY3ViaXNtbW90aW9uJztcbmltcG9ydCB7TGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbWlkfSBmcm9tIFwiQGZyYW1ld29yay9pZC9jdWJpc21pZFwiO1xuXG5pbXBvcnQgQ3NtX2NzbVZlY3RvciA9IGNzbXZlY3Rvci5jc21WZWN0b3I7XG5pbXBvcnQgQ3NtX0N1YmlzbU1hdHJpeDQ0ID0gY3ViaXNtbWF0cml4NDQuQ3ViaXNtTWF0cml4NDQ7XG5pbXBvcnQgQUN1YmlzbU1vdGlvbiA9IGFjdWJpc21tb3Rpb24uQUN1YmlzbU1vdGlvbjtcbmltcG9ydCBDdWJpc21JZEhhbmRsZSA9IGN1YmlzbWlkLkN1YmlzbUlkSGFuZGxlO1xuXG5pbXBvcnQge0xBcHBNb2RlbH0gZnJvbSAnLi9sYXBwbW9kZWwnO1xuaW1wb3J0IHtMQXBwUGFsfSBmcm9tICcuL2xhcHBwYWwnO1xuaW1wb3J0IHtjYW52YXMsIExBcHBEZWxlZ2F0ZSwgbEFwcERlbGVnYXRlRXZlbnR9IGZyb20gJy4vbGFwcGRlbGVnYXRlJztcbmltcG9ydCAqIGFzIExBcHBEZWZpbmUgZnJvbSAnLi9sYXBwZGVmaW5lJztcblxuZXhwb3J0IGxldCBzX2luc3RhbmNlOiBMQXBwTGl2ZTJETWFuYWdlciA9IG51bGw7XG5cbi8qKlxuICog44K144Oz44OX44Or44Ki44OX44Oq44Kx44O844K344On44Oz44Gr44GK44GE44GmQ3ViaXNtTW9kZWzjgpLnrqHnkIbjgZnjgovjgq/jg6njgrlcbiAqIOODouODh+ODq+eUn+aIkOOBqOegtOajhOOAgeOCv+ODg+ODl+OCpOODmeODs+ODiOOBruWHpueQhuOAgeODouODh+ODq+WIh+OCiuabv+OBiOOCkuihjOOBhuOAglxuICovXG5leHBvcnQgY2xhc3MgTEFwcExpdmUyRE1hbmFnZXIge1xuICAgIHB1YmxpYyBjbGlja19oaXQ6RnVuY3Rpb24gPSBudWxsO1xuICAgIHB1YmxpYyBtb3ZlX2hpdDpGdW5jdGlvbiA9IG51bGw7XG4gICAgLyoqXG4gICAgICog44Kv44Op44K544Gu44Kk44Oz44K544K/44Oz44K577yI44K344Oz44Kw44Or44OI44Oz77yJ44KS6L+U44GZ44CCXG4gICAgICog44Kk44Oz44K544K/44Oz44K544GM55Sf5oiQ44GV44KM44Gm44GE44Gq44GE5aC05ZCI44Gv5YaF6YOo44Gn44Kk44Oz44K544K/44Oz44K544KS55Sf5oiQ44GZ44KL44CCXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIOOCr+ODqeOCueOBruOCpOODs+OCueOCv+ODs+OCuVxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogTEFwcExpdmUyRE1hbmFnZXIge1xuICAgICAgICBpZiAoc19pbnN0YW5jZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBzX2luc3RhbmNlID0gbmV3IExBcHBMaXZlMkRNYW5hZ2VyKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc19pbnN0YW5jZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjgq/jg6njgrnjga7jgqTjg7Pjgrnjgr/jg7PjgrnvvIjjgrfjg7PjgrDjg6vjg4jjg7PvvInjgpLop6PmlL7jgZnjgovjgIJcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIHJlbGVhc2VJbnN0YW5jZSgpOiB2b2lkIHtcbiAgICAgICAgaWYgKHNfaW5zdGFuY2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgc19pbnN0YW5jZSA9IHZvaWQgMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHNfaW5zdGFuY2UgPSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIOePvuWcqOOBruOCt+ODvOODs+OBp+S/neaMgeOBl+OBpuOBhOOCi+ODouODh+ODq+OCkui/lOOBmeOAglxuICAgICAqXG4gICAgICogQHBhcmFtIG5vIOODouODh+ODq+ODquOCueODiOOBruOCpOODs+ODh+ODg+OCr+OCueWApFxuICAgICAqIEByZXR1cm4g44Oi44OH44Or44Gu44Kk44Oz44K544K/44Oz44K544KS6L+U44GZ44CC44Kk44Oz44OH44OD44Kv44K55YCk44GM56+E5Zuy5aSW44Gu5aC05ZCI44GvTlVMTOOCkui/lOOBmeOAglxuICAgICAqL1xuICAgIHB1YmxpYyBnZXRNb2RlbChubzogbnVtYmVyKTogTEFwcE1vZGVsIHtcbiAgICAgICAgaWYgKG5vIDwgdGhpcy5fbW9kZWxzLmdldFNpemUoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vZGVscy5hdChubyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDnj77lnKjjga7jgrfjg7zjg7Pjgafkv53mjIHjgZfjgabjgYTjgovjgZnjgbnjgabjga7jg6Ljg4fjg6vjgpLop6PmlL7jgZnjgotcbiAgICAgKi9cbiAgICBwdWJsaWMgcmVsZWFzZUFsbE1vZGVsKCk6IHZvaWQge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX21vZGVscy5nZXRTaXplKCk7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5fbW9kZWxzLmF0KGkpLnJlbGVhc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX21vZGVscy5zZXQoaSwgbnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9tb2RlbHMuY2xlYXIoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDnlLvpnaLjgpLjg4njg6njg4PjgrDjgZfjgZ/mmYLjga7lh6bnkIZcbiAgICAgKlxuICAgICAqIEBwYXJhbSB4IOeUu+mdouOBrljluqfmqJlcbiAgICAgKiBAcGFyYW0geSDnlLvpnaLjga5Z5bqn5qiZXG4gICAgICovXG4gICAgcHVibGljIG9uRHJhZyh4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX21vZGVscy5nZXRTaXplKCk7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbW9kZWw6IExBcHBNb2RlbCA9IHRoaXMuZ2V0TW9kZWwoaSk7XG5cbiAgICAgICAgICAgIGlmIChtb2RlbCkge1xuICAgICAgICAgICAgICAgIG1vZGVsLnNldERyYWdnaW5nKHgsIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog55S76Z2i44KS44K/44OD44OX44GX44Gf5pmC44Gu5Yem55CGXG4gICAgICpcbiAgICAgKiBAcGFyYW0geCDnlLvpnaLjga5Y5bqn5qiZXG4gICAgICogQHBhcmFtIHkg55S76Z2i44GuWeW6p+aomVxuICAgICAqL1xuICAgIHB1YmxpYyBvblRhcCh4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBpZiAoTEFwcERlZmluZS5EZWJ1Z0xvZ0VuYWJsZSkge1xuICAgICAgICAgICAgTEFwcFBhbC5wcmludE1lc3NhZ2UoXG4gICAgICAgICAgICAgICAgYFtBUFBddGFwIHBvaW50OiB7eDogJHt4LnRvRml4ZWQoMil9IHk6ICR7eS50b0ZpeGVkKDIpfX1gXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9tb2RlbHMuZ2V0U2l6ZSgpOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tb2RlbHMuYXQoaSkuaGl0VGVzdChMQXBwRGVmaW5lLkhpdEFyZWFOYW1lSGVhZCwgeCwgeSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoTEFwcERlZmluZS5EZWJ1Z0xvZ0VuYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBMQXBwUGFsLnByaW50TWVzc2FnZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGBbQVBQXWhpdCBhcmVhOiBbJHtMQXBwRGVmaW5lLkhpdEFyZWFOYW1lSGVhZH1dYFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9tb2RlbHMuYXQoaSkuc2V0UmFuZG9tRXhwcmVzc2lvbigpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9tb2RlbHMuYXQoaSkuaGl0VGVzdChMQXBwRGVmaW5lLkhpdEFyZWFOYW1lQm9keSwgeCwgeSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoTEFwcERlZmluZS5EZWJ1Z0xvZ0VuYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBMQXBwUGFsLnByaW50TWVzc2FnZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGBbQVBQXWhpdCBhcmVhOiBbJHtMQXBwRGVmaW5lLkhpdEFyZWFOYW1lQm9keX1dYFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9tb2RlbHNcbiAgICAgICAgICAgICAgICAgICAgLmF0KGkpXG4gICAgICAgICAgICAgICAgICAgIC5zdGFydFJhbmRvbU1vdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgIExBcHBEZWZpbmUuTW90aW9uR3JvdXBUYXBCb2R5LFxuICAgICAgICAgICAgICAgICAgICAgICAgTEFwcERlZmluZS5Qcmlvcml0eU5vcm1hbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ZpbmlzaGVkTW90aW9uXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgaGl0TW9kZWwoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9tb2RlbHMuZ2V0U2l6ZSgpOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tb2RlbHMuYXQoaSkuaGl0VGVzdChMQXBwRGVmaW5lLkhpdEFyZWFOYW1lSGVhZCwgeCwgeSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fbW9kZWxzXG4gICAgICAgICAgICAgICAgLmF0KGkpXG4gICAgICAgICAgICAgICAgLmhpdFRlc3QoTEFwcERlZmluZS5IaXRBcmVhTmFtZUJvZHksIHgsIHkpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIGlzSGl0KCBwb3NYOiBudW1iZXIsIHBvc1k6IG51bWJlcik6IHN0cmluZyB7XG4gICAgICAgIGxldCB2aWV3ID0gTEFwcERlbGVnYXRlLmdldEluc3RhbmNlKCkuZ2V0VmlldygpXG4gICAgICAgIGNvbnN0IHZpZXdYOiBudW1iZXIgPSB2aWV3LnRyYW5zZm9ybVZpZXdYKHBvc1gpO1xuICAgICAgICBjb25zdCB2aWV3WTogbnVtYmVyID0gdmlldy50cmFuc2Zvcm1WaWV3WShwb3NZKTtcblxuICAgICAgICBsZXQgbW9kZWwgPSB0aGlzLl9tb2RlbHMuYXQoMCkuZ2V0TW9kZWwoKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1vZGVsLmdldERyYXdhYmxlQ291bnQoKTsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbW9kZWxzLmF0KDApLmlzSGl0KG1vZGVsLmdldERyYXdhYmxlSWQoaSksdmlld1gsdmlld1kpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vZGVsLmdldERyYXdhYmxlSWQoaSkuZ2V0U3RyaW5nKCkucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIOeUu+mdouOCkuabtOaWsOOBmeOCi+OBqOOBjeOBruWHpueQhlxuICAgICAqIOODouODh+ODq+OBruabtOaWsOWHpueQhuWPiuOBs+aPj+eUu+WHpueQhuOCkuihjOOBhlxuICAgICAqL1xuICAgIHB1YmxpYyBvblVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgbGV0IHByb2plY3Rpb246IENzbV9DdWJpc21NYXRyaXg0NCA9IG5ldyBDc21fQ3ViaXNtTWF0cml4NDQoKTtcblxuICAgICAgICBjb25zdCB7d2lkdGgsIGhlaWdodH0gPSBjYW52YXM7XG4gICAgICAgIHByb2plY3Rpb24uc2NhbGUoMS4wLCB3aWR0aCAvIGhlaWdodCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3ZpZXdNYXRyaXggIT0gbnVsbCkge1xuICAgICAgICAgICAgcHJvamVjdGlvbi5tdWx0aXBseUJ5TWF0cml4KHRoaXMuX3ZpZXdNYXRyaXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc2F2ZVByb2plY3Rpb246IENzbV9DdWJpc21NYXRyaXg0NCA9IHByb2plY3Rpb24uY2xvbmUoKTtcbiAgICAgICAgY29uc3QgbW9kZWxDb3VudDogbnVtYmVyID0gdGhpcy5fbW9kZWxzLmdldFNpemUoKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1vZGVsQ291bnQ7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgbW9kZWw6IExBcHBNb2RlbCA9IHRoaXMuZ2V0TW9kZWwoaSk7XG4gICAgICAgICAgICBwcm9qZWN0aW9uID0gc2F2ZVByb2plY3Rpb24uY2xvbmUoKTtcblxuICAgICAgICAgICAgbW9kZWwudXBkYXRlKCk7XG4gICAgICAgICAgICBtb2RlbC5kcmF3KHByb2plY3Rpb24pOyAvLyDlj4LnhafmuKHjgZfjgarjga7jgadwcm9qZWN0aW9u44Gv5aSJ6LOq44GZ44KL44CCXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDmrKHjga7jgrfjg7zjg7PjgavliIfjgorjgYvjgYjjgotcbiAgICAgKiDjgrXjg7Pjg5fjg6vjgqLjg5fjg6rjgrHjg7zjgrfjg6fjg7Pjgafjga/jg6Ljg4fjg6vjgrvjg4Pjg4jjga7liIfjgormm7/jgYjjgpLooYzjgYbjgIJcbiAgICAgKi9cbiAgICBwdWJsaWMgbmV4dFNjZW5lKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBubzogbnVtYmVyID0gKHRoaXMuX3NjZW5lSW5kZXggKyAxKSAlIExBcHBEZWZpbmUuTW9kZWxEaXJTaXplO1xuICAgICAgICB0aGlzLmNoYW5nZVNjZW5lKG5vKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjgrfjg7zjg7PjgpLliIfjgormm7/jgYjjgotcbiAgICAgKiDjgrXjg7Pjg5fjg6vjgqLjg5fjg6rjgrHjg7zjgrfjg6fjg7Pjgafjga/jg6Ljg4fjg6vjgrvjg4Pjg4jjga7liIfjgormm7/jgYjjgpLooYzjgYbjgIJcbiAgICAgKi9cbiAgICBwdWJsaWMgY2hhbmdlU2NlbmUoaW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLl9zY2VuZUluZGV4ID0gaW5kZXg7XG4gICAgICAgIGlmIChMQXBwRGVmaW5lLkRlYnVnTG9nRW5hYmxlKSB7XG4gICAgICAgICAgICBMQXBwUGFsLnByaW50TWVzc2FnZShgW0FQUF1tb2RlbCBpbmRleDogJHt0aGlzLl9zY2VuZUluZGV4fWApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTW9kZWxEaXJbXeOBq+S/neaMgeOBl+OBn+ODh+OCo+ODrOOCr+ODiOODquWQjeOBi+OCiVxuICAgICAgICAvLyBtb2RlbDMuanNvbuOBruODkeOCueOCkuaxuuWumuOBmeOCi+OAglxuICAgICAgICAvLyDjg4fjgqPjg6zjgq/jg4jjg6rlkI3jgahtb2RlbDMuanNvbuOBruWQjeWJjeOCkuS4gOiHtOOBleOBm+OBpuOBiuOBj+OBk+OBqOOAglxuICAgICAgICBjb25zdCBtb2RlbDogc3RyaW5nID0gTEFwcERlZmluZS5Nb2RlbERpcltpbmRleF07XG4gICAgICAgIGNvbnN0IG1vZGVsUGF0aDogc3RyaW5nID0gTEFwcERlZmluZS5SZXNvdXJjZXNQYXRoICsgbW9kZWwgKyAnLyc7XG4gICAgICAgIGxldCBtb2RlbEpzb25OYW1lOiBzdHJpbmcgPSBMQXBwRGVmaW5lLk1vZGVsRGlyW2luZGV4XTtcbiAgICAgICAgbW9kZWxKc29uTmFtZSArPSAnLm1vZGVsMy5qc29uJztcblxuICAgICAgICB0aGlzLnJlbGVhc2VBbGxNb2RlbCgpO1xuICAgICAgICB0aGlzLl9tb2RlbHMucHVzaEJhY2sobmV3IExBcHBNb2RlbCgpKTtcbiAgICAgICAgdGhpcy5fbW9kZWxzLmF0KDApLmxvYWRBc3NldHMobW9kZWxQYXRoLCBtb2RlbEpzb25OYW1lKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDjgrPjg7Pjgrnjg4jjg6njgq/jgr9cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fdmlld01hdHJpeCA9IG5ldyBDc21fQ3ViaXNtTWF0cml4NDQoKTtcbiAgICAgICAgdGhpcy5fbW9kZWxzID0gbmV3IENzbV9jc21WZWN0b3I8TEFwcE1vZGVsPigpO1xuICAgICAgICB0aGlzLl9zY2VuZUluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5jaGFuZ2VTY2VuZSh0aGlzLl9zY2VuZUluZGV4KTtcbiAgICB9XG5cbiAgICBfdmlld01hdHJpeDogQ3NtX0N1YmlzbU1hdHJpeDQ0OyAvLyDjg6Ljg4fjg6vmj4/nlLvjgavnlKjjgYTjgot2aWV36KGM5YiXXG4gICAgX21vZGVsczogQ3NtX2NzbVZlY3RvcjxMQXBwTW9kZWw+OyAvLyDjg6Ljg4fjg6vjgqTjg7Pjgrnjgr/jg7Pjgrnjga7jgrPjg7Pjg4bjg4pcbiAgICBfc2NlbmVJbmRleDogbnVtYmVyOyAvLyDooajnpLrjgZnjgovjgrfjg7zjg7Pjga7jgqTjg7Pjg4fjg4Pjgq/jgrnlgKRcbiAgICAvLyDjg6Ljg7zjgrfjg6fjg7Plho3nlJ/ntYLkuobjga7jgrPjg7zjg6vjg5Djg4Pjgq/plqLmlbBcbiAgICBfZmluaXNoZWRNb3Rpb24gPSAoc2VsZjogQUN1YmlzbU1vdGlvbik6IHZvaWQgPT4ge1xuICAgICAgICBMQXBwUGFsLnByaW50TWVzc2FnZSgnTW90aW9uIEZpbmlzaGVkOicpO1xuICAgICAgICBjb25zb2xlLmxvZyhzZWxmKTtcbiAgICB9O1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT0E7QUFDQTtBQUlBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFxTUE7QUFwTUE7QUFDQTtBQThNQTtBQUNBO0FBQ0E7QUFDQTtBQWJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFqTUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFvQkE7QUFBQTtBQXBOQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/lapplive2dmanager.ts\n");

/***/ }),

/***/ "./src/lappmodel.ts":
/*!**************************!*\
  !*** ./src/lappmodel.ts ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LAppModel = exports.LoadStep = void 0;\nvar live2dcubismframework_1 = __webpack_require__(/*! @framework/live2dcubismframework */ \"./Framework/src/live2dcubismframework.ts\");\nvar cubismusermodel_1 = __webpack_require__(/*! @framework/model/cubismusermodel */ \"./Framework/src/model/cubismusermodel.ts\");\nvar cubismmodelsettingjson_1 = __webpack_require__(/*! @framework/cubismmodelsettingjson */ \"./Framework/src/cubismmodelsettingjson.ts\");\nvar cubismdefaultparameterid_1 = __webpack_require__(/*! @framework/cubismdefaultparameterid */ \"./Framework/src/cubismdefaultparameterid.ts\");\nvar acubismmotion_1 = __webpack_require__(/*! @framework/motion/acubismmotion */ \"./Framework/src/motion/acubismmotion.ts\");\nvar cubismeyeblink_1 = __webpack_require__(/*! @framework/effect/cubismeyeblink */ \"./Framework/src/effect/cubismeyeblink.ts\");\nvar cubismbreath_1 = __webpack_require__(/*! @framework/effect/cubismbreath */ \"./Framework/src/effect/cubismbreath.ts\");\nvar csmvector_1 = __webpack_require__(/*! @framework/type/csmvector */ \"./Framework/src/type/csmvector.ts\");\nvar csmmap_1 = __webpack_require__(/*! @framework/type/csmmap */ \"./Framework/src/type/csmmap.ts\");\nvar cubismmotionqueuemanager_1 = __webpack_require__(/*! @framework/motion/cubismmotionqueuemanager */ \"./Framework/src/motion/cubismmotionqueuemanager.ts\");\nvar cubismdebug_1 = __webpack_require__(/*! @framework/utils/cubismdebug */ \"./Framework/src/utils/cubismdebug.ts\");\nvar InvalidMotionQueueEntryHandleValue = cubismmotionqueuemanager_1.Live2DCubismFramework.InvalidMotionQueueEntryHandleValue;\nvar csmMap = csmmap_1.Live2DCubismFramework.csmMap;\nvar csmVector = csmvector_1.Live2DCubismFramework.csmVector;\nvar CubismBreath = cubismbreath_1.Live2DCubismFramework.CubismBreath;\nvar BreathParameterData = cubismbreath_1.Live2DCubismFramework.BreathParameterData;\nvar CubismEyeBlink = cubismeyeblink_1.Live2DCubismFramework.CubismEyeBlink;\nvar ACubismMotion = acubismmotion_1.Live2DCubismFramework.ACubismMotion;\nvar CubismFramework = live2dcubismframework_1.Live2DCubismFramework.CubismFramework;\nvar CubismUserModel = cubismusermodel_1.Live2DCubismFramework.CubismUserModel;\nvar CubismModelSettingJson = cubismmodelsettingjson_1.Live2DCubismFramework.CubismModelSettingJson;\nvar CubismDefaultParameterId = cubismdefaultparameterid_1.Live2DCubismFramework;\nvar lapppal_1 = __webpack_require__(/*! ./lapppal */ \"./src/lapppal.ts\");\nvar lappdelegate_1 = __webpack_require__(/*! ./lappdelegate */ \"./src/lappdelegate.ts\");\nvar LAppDefine = __importStar(__webpack_require__(/*! ./lappdefine */ \"./src/lappdefine.ts\"));\n__webpack_require__(/*! whatwg-fetch */ \"./node_modules/whatwg-fetch/fetch.js\");\nvar lappdefine_1 = __webpack_require__(/*! ./lappdefine */ \"./src/lappdefine.ts\");\nvar LoadStep;\n(function (LoadStep) {\n    LoadStep[LoadStep[\"LoadAssets\"] = 0] = \"LoadAssets\";\n    LoadStep[LoadStep[\"LoadModel\"] = 1] = \"LoadModel\";\n    LoadStep[LoadStep[\"WaitLoadModel\"] = 2] = \"WaitLoadModel\";\n    LoadStep[LoadStep[\"LoadExpression\"] = 3] = \"LoadExpression\";\n    LoadStep[LoadStep[\"WaitLoadExpression\"] = 4] = \"WaitLoadExpression\";\n    LoadStep[LoadStep[\"LoadPhysics\"] = 5] = \"LoadPhysics\";\n    LoadStep[LoadStep[\"WaitLoadPhysics\"] = 6] = \"WaitLoadPhysics\";\n    LoadStep[LoadStep[\"LoadPose\"] = 7] = \"LoadPose\";\n    LoadStep[LoadStep[\"WaitLoadPose\"] = 8] = \"WaitLoadPose\";\n    LoadStep[LoadStep[\"SetupEyeBlink\"] = 9] = \"SetupEyeBlink\";\n    LoadStep[LoadStep[\"SetupBreath\"] = 10] = \"SetupBreath\";\n    LoadStep[LoadStep[\"LoadUserData\"] = 11] = \"LoadUserData\";\n    LoadStep[LoadStep[\"WaitLoadUserData\"] = 12] = \"WaitLoadUserData\";\n    LoadStep[LoadStep[\"SetupEyeBlinkIds\"] = 13] = \"SetupEyeBlinkIds\";\n    LoadStep[LoadStep[\"SetupLipSyncIds\"] = 14] = \"SetupLipSyncIds\";\n    LoadStep[LoadStep[\"SetupLayout\"] = 15] = \"SetupLayout\";\n    LoadStep[LoadStep[\"LoadMotion\"] = 16] = \"LoadMotion\";\n    LoadStep[LoadStep[\"WaitLoadMotion\"] = 17] = \"WaitLoadMotion\";\n    LoadStep[LoadStep[\"CompleteInitialize\"] = 18] = \"CompleteInitialize\";\n    LoadStep[LoadStep[\"CompleteSetupModel\"] = 19] = \"CompleteSetupModel\";\n    LoadStep[LoadStep[\"LoadTexture\"] = 20] = \"LoadTexture\";\n    LoadStep[LoadStep[\"WaitLoadTexture\"] = 21] = \"WaitLoadTexture\";\n    LoadStep[LoadStep[\"CompleteSetup\"] = 22] = \"CompleteSetup\";\n})(LoadStep = exports.LoadStep || (exports.LoadStep = {}));\nvar LAppModel = (function (_super) {\n    __extends(LAppModel, _super);\n    function LAppModel() {\n        var _this = _super.call(this) || this;\n        _this._debugMode = lappdefine_1.DebugModelLogEnable;\n        _this._modelSetting = null;\n        _this._modelHomeDir = null;\n        _this._userTimeSeconds = 0.0;\n        _this._eyeBlinkIds = new csmVector();\n        _this._lipSyncIds = new csmVector();\n        _this._motions = new csmMap();\n        _this._expressions = new csmMap();\n        _this._hitArea = new csmVector();\n        _this._userArea = new csmVector();\n        _this._idParamAngleX = CubismFramework.getIdManager().getId(CubismDefaultParameterId.ParamAngleX);\n        _this._idParamAngleY = CubismFramework.getIdManager().getId(CubismDefaultParameterId.ParamAngleY);\n        _this._idParamAngleZ = CubismFramework.getIdManager().getId(CubismDefaultParameterId.ParamAngleZ);\n        _this._idParamEyeBallX = CubismFramework.getIdManager().getId(CubismDefaultParameterId.ParamEyeBallX);\n        _this._idParamEyeBallY = CubismFramework.getIdManager().getId(CubismDefaultParameterId.ParamEyeBallY);\n        _this._idParamBodyAngleX = CubismFramework.getIdManager().getId(CubismDefaultParameterId.ParamBodyAngleX);\n        _this._state = LoadStep.LoadAssets;\n        _this._expressionCount = 0;\n        _this._textureCount = 0;\n        _this._motionCount = 0;\n        _this._allMotionCount = 0;\n        return _this;\n    }\n    LAppModel.prototype.loadAssets = function (dir, fileName) {\n        var _this = this;\n        this._modelHomeDir = dir;\n        fetch(this._modelHomeDir + \"/\" + fileName)\n            .then(function (response) { return response.arrayBuffer(); })\n            .then(function (arrayBuffer) {\n            var setting = new CubismModelSettingJson(arrayBuffer, arrayBuffer.byteLength);\n            _this._state = LoadStep.LoadModel;\n            _this.setupModel(setting);\n        });\n    };\n    LAppModel.prototype.setupModel = function (setting) {\n        var _this = this;\n        this._updating = true;\n        this._initialized = false;\n        this._modelSetting = setting;\n        if (this._modelSetting.getModelFileName() != '') {\n            var modelFileName = this._modelSetting.getModelFileName();\n            fetch(this._modelHomeDir + \"/\" + modelFileName)\n                .then(function (response) { return response.arrayBuffer(); })\n                .then(function (arrayBuffer) {\n                _this.loadModel(arrayBuffer);\n                _this._state = LoadStep.LoadExpression;\n                loadCubismExpression();\n            });\n            this._state = LoadStep.WaitLoadModel;\n        }\n        else {\n            lapppal_1.LAppPal.printMessage('Model data does not exist.');\n        }\n        var loadCubismExpression = function () {\n            if (_this._modelSetting.getExpressionCount() > 0) {\n                var count_1 = _this._modelSetting.getExpressionCount();\n                var _loop_1 = function (i) {\n                    var expressionName = _this._modelSetting.getExpressionName(i);\n                    var expressionFileName = _this._modelSetting.getExpressionFileName(i);\n                    fetch(_this._modelHomeDir + \"/\" + expressionFileName)\n                        .then(function (response) { return response.arrayBuffer(); })\n                        .then(function (arrayBuffer) {\n                        var motion = _this.loadExpression(arrayBuffer, arrayBuffer.byteLength, expressionName);\n                        if (_this._expressions.getValue(expressionName) != null) {\n                            ACubismMotion.delete(_this._expressions.getValue(expressionName));\n                            _this._expressions.setValue(expressionName, null);\n                        }\n                        _this._expressions.setValue(expressionName, motion);\n                        _this._expressionCount++;\n                        if (_this._expressionCount >= count_1) {\n                            _this._state = LoadStep.LoadPhysics;\n                            loadCubismPhysics();\n                        }\n                    });\n                };\n                for (var i = 0; i < count_1; i++) {\n                    _loop_1(i);\n                }\n                _this._state = LoadStep.WaitLoadExpression;\n            }\n            else {\n                _this._state = LoadStep.LoadPhysics;\n                loadCubismPhysics();\n            }\n        };\n        var loadCubismPhysics = function () {\n            if (_this._modelSetting.getPhysicsFileName() != '') {\n                var physicsFileName = _this._modelSetting.getPhysicsFileName();\n                fetch(_this._modelHomeDir + \"/\" + physicsFileName)\n                    .then(function (response) { return response.arrayBuffer(); })\n                    .then(function (arrayBuffer) {\n                    _this.loadPhysics(arrayBuffer, arrayBuffer.byteLength);\n                    _this._state = LoadStep.LoadPose;\n                    loadCubismPose();\n                });\n                _this._state = LoadStep.WaitLoadPhysics;\n            }\n            else {\n                _this._state = LoadStep.LoadPose;\n                loadCubismPose();\n            }\n        };\n        var loadCubismPose = function () {\n            if (_this._modelSetting.getPoseFileName() != '') {\n                var poseFileName = _this._modelSetting.getPoseFileName();\n                fetch(_this._modelHomeDir + \"/\" + poseFileName)\n                    .then(function (response) { return response.arrayBuffer(); })\n                    .then(function (arrayBuffer) {\n                    _this.loadPose(arrayBuffer, arrayBuffer.byteLength);\n                    _this._state = LoadStep.SetupEyeBlink;\n                    setupEyeBlink();\n                });\n                _this._state = LoadStep.WaitLoadPose;\n            }\n            else {\n                _this._state = LoadStep.SetupEyeBlink;\n                setupEyeBlink();\n            }\n        };\n        var setupEyeBlink = function () {\n            if (_this._modelSetting.getEyeBlinkParameterCount() > 0) {\n                _this._eyeBlink = CubismEyeBlink.create(_this._modelSetting);\n                _this._state = LoadStep.SetupBreath;\n            }\n            setupBreath();\n        };\n        var setupBreath = function () {\n            _this._breath = CubismBreath.create();\n            var breathParameters = new csmVector();\n            breathParameters.pushBack(new BreathParameterData(_this._idParamAngleX, 0.0, 15.0, 6.5345, 0.5));\n            breathParameters.pushBack(new BreathParameterData(_this._idParamAngleY, 0.0, 8.0, 3.5345, 0.5));\n            breathParameters.pushBack(new BreathParameterData(_this._idParamAngleZ, 0.0, 10.0, 5.5345, 0.5));\n            breathParameters.pushBack(new BreathParameterData(_this._idParamBodyAngleX, 0.0, 4.0, 15.5345, 0.5));\n            breathParameters.pushBack(new BreathParameterData(CubismFramework.getIdManager().getId(CubismDefaultParameterId.ParamBreath), 0.0, 0.5, 3.2345, 0.5));\n            _this._breath.setParameters(breathParameters);\n            _this._state = LoadStep.LoadUserData;\n            loadUserData();\n        };\n        var loadUserData = function () {\n            if (_this._modelSetting.getUserDataFile() != '') {\n                var userDataFile = _this._modelSetting.getUserDataFile();\n                fetch(_this._modelHomeDir + \"/\" + userDataFile)\n                    .then(function (response) { return response.arrayBuffer(); })\n                    .then(function (arrayBuffer) {\n                    _this.loadUserData(arrayBuffer, arrayBuffer.byteLength);\n                    _this._state = LoadStep.SetupEyeBlinkIds;\n                    setupEyeBlinkIds();\n                });\n                _this._state = LoadStep.WaitLoadUserData;\n            }\n            else {\n                _this._state = LoadStep.SetupEyeBlinkIds;\n                setupEyeBlinkIds();\n            }\n        };\n        var setupEyeBlinkIds = function () {\n            var eyeBlinkIdCount = _this._modelSetting.getEyeBlinkParameterCount();\n            for (var i = 0; i < eyeBlinkIdCount; ++i) {\n                _this._eyeBlinkIds.pushBack(_this._modelSetting.getEyeBlinkParameterId(i));\n            }\n            _this._state = LoadStep.SetupLipSyncIds;\n            setupLipSyncIds();\n        };\n        var setupLipSyncIds = function () {\n            var lipSyncIdCount = _this._modelSetting.getLipSyncParameterCount();\n            for (var i = 0; i < lipSyncIdCount; ++i) {\n                _this._lipSyncIds.pushBack(_this._modelSetting.getLipSyncParameterId(i));\n            }\n            _this._state = LoadStep.SetupLayout;\n            setupLayout();\n        };\n        var setupLayout = function () {\n            var layout = new csmMap();\n            _this._modelSetting.getLayoutMap(layout);\n            _this._modelMatrix.setupFromLayout(layout);\n            _this._state = LoadStep.LoadMotion;\n            loadCubismMotion();\n        };\n        var loadCubismMotion = function () {\n            _this._state = LoadStep.WaitLoadMotion;\n            _this._model.saveParameters();\n            _this._allMotionCount = 0;\n            _this._motionCount = 0;\n            var group = [];\n            var motionGroupCount = _this._modelSetting.getMotionGroupCount();\n            for (var i = 0; i < motionGroupCount; i++) {\n                group[i] = _this._modelSetting.getMotionGroupName(i);\n                _this._allMotionCount += _this._modelSetting.getMotionCount(group[i]);\n            }\n            for (var i = 0; i < motionGroupCount; i++) {\n                _this.preLoadMotionGroup(group[i]);\n            }\n            if (motionGroupCount == 0) {\n                _this._state = LoadStep.LoadTexture;\n                _this._motionManager.stopAllMotions();\n                _this._updating = false;\n                _this._initialized = true;\n                _this.createRenderer();\n                _this.setupTextures();\n                _this.getRenderer().startUp(lappdelegate_1.gl);\n            }\n        };\n    };\n    LAppModel.prototype.setupTextures = function () {\n        var _this = this;\n        var usePremultiply = true;\n        if (this._state == LoadStep.LoadTexture) {\n            var textureCount_1 = this._modelSetting.getTextureCount();\n            var _loop_2 = function (modelTextureNumber) {\n                if (this_1._modelSetting.getTextureFileName(modelTextureNumber) == '') {\n                    console.log('getTextureFileName null');\n                    return \"continue\";\n                }\n                var texturePath = this_1._modelSetting.getTextureFileName(modelTextureNumber);\n                texturePath = this_1._modelHomeDir + texturePath;\n                var onLoad = function (textureInfo) {\n                    _this.getRenderer().bindTexture(modelTextureNumber, textureInfo.id);\n                    _this._textureCount++;\n                    if (_this._textureCount >= textureCount_1) {\n                        _this._state = LoadStep.CompleteSetup;\n                        lappdelegate_1.lAppDelegateEvent.modelCompleteSetup();\n                    }\n                };\n                lappdelegate_1.LAppDelegate.getInstance()\n                    .getTextureManager()\n                    .createTextureFromPngFile(texturePath, usePremultiply, onLoad);\n                this_1.getRenderer().setIsPremultipliedAlpha(usePremultiply);\n            };\n            var this_1 = this;\n            for (var modelTextureNumber = 0; modelTextureNumber < textureCount_1; modelTextureNumber++) {\n                _loop_2(modelTextureNumber);\n            }\n            this._state = LoadStep.WaitLoadTexture;\n        }\n    };\n    LAppModel.prototype.reloadRenderer = function () {\n        this.deleteRenderer();\n        this.createRenderer();\n        this.setupTextures();\n    };\n    LAppModel.prototype.update = function () {\n        if (this._state != LoadStep.CompleteSetup)\n            return;\n        var deltaTimeSeconds = lapppal_1.LAppPal.getDeltaTime();\n        this._userTimeSeconds += deltaTimeSeconds;\n        this._dragManager.update(deltaTimeSeconds);\n        this._dragX = this._dragManager.getX();\n        this._dragY = this._dragManager.getY();\n        var motionUpdated = false;\n        this._model.loadParameters();\n        if (this._motionManager.isFinished()) {\n            this.startRandomMotion(LAppDefine.MotionGroupIdle, LAppDefine.PriorityIdle);\n        }\n        else {\n            motionUpdated = this._motionManager.updateMotion(this._model, deltaTimeSeconds);\n        }\n        this._model.saveParameters();\n        if (!motionUpdated) {\n            if (this._eyeBlink != null) {\n                this._eyeBlink.updateParameters(this._model, deltaTimeSeconds);\n            }\n        }\n        if (this._expressionManager != null) {\n            this._expressionManager.updateMotion(this._model, deltaTimeSeconds);\n        }\n        this._model.addParameterValueById(this._idParamAngleX, this._dragX * 30);\n        this._model.addParameterValueById(this._idParamAngleY, this._dragY * 30);\n        this._model.addParameterValueById(this._idParamAngleZ, this._dragX * this._dragY * -30);\n        this._model.addParameterValueById(this._idParamBodyAngleX, this._dragX * 10);\n        this._model.addParameterValueById(this._idParamEyeBallX, this._dragX);\n        this._model.addParameterValueById(this._idParamEyeBallY, this._dragY);\n        if (this._breath != null) {\n            this._breath.updateParameters(this._model, deltaTimeSeconds);\n        }\n        if (this._physics != null) {\n            this._physics.evaluate(this._model, deltaTimeSeconds);\n        }\n        if (this._lipsync) {\n            var value = 0;\n            for (var i = 0; i < this._lipSyncIds.getSize(); ++i) {\n                this._model.addParameterValueById(this._lipSyncIds.at(i), value, 0.8);\n            }\n        }\n        if (this._pose != null) {\n            this._pose.updateParameters(this._model, deltaTimeSeconds);\n        }\n        this._model.update();\n    };\n    LAppModel.prototype.startMotion = function (group, no, priority, onFinishedMotionHandler) {\n        var _this = this;\n        if (priority == LAppDefine.PriorityForce) {\n            this._motionManager.setReservePriority(priority);\n        }\n        else if (!this._motionManager.reserveMotion(priority)) {\n            if (this._debugMode) {\n                lapppal_1.LAppPal.printMessage(\"[APP]can't start motion.\");\n            }\n            return InvalidMotionQueueEntryHandleValue;\n        }\n        var motionFileName = this._modelSetting.getMotionFileName(group, no);\n        var name = group + \"_\" + no;\n        var motion = this._motions.getValue(name);\n        var autoDelete = false;\n        if (motion == null) {\n            fetch(this._modelHomeDir + \"/\" + motionFileName)\n                .then(function (response) { return response.arrayBuffer(); })\n                .then(function (arrayBuffer) {\n                motion = _this.loadMotion(arrayBuffer, arrayBuffer.byteLength, null, onFinishedMotionHandler);\n                var fadeTime = _this._modelSetting.getMotionFadeInTimeValue(group, no);\n                if (fadeTime >= 0.0) {\n                    motion.setFadeInTime(fadeTime);\n                }\n                fadeTime = _this._modelSetting.getMotionFadeOutTimeValue(group, no);\n                if (fadeTime >= 0.0) {\n                    motion.setFadeOutTime(fadeTime);\n                }\n                motion.setEffectIds(_this._eyeBlinkIds, _this._lipSyncIds);\n                autoDelete = true;\n            });\n        }\n        else {\n            motion.setFinishedMotionHandler(onFinishedMotionHandler);\n        }\n        if (this._debugMode) {\n            lapppal_1.LAppPal.printMessage(\"[APP]start motion: [\" + group + \"_\" + no);\n        }\n        return this._motionManager.startMotionPriority(motion, autoDelete, priority);\n    };\n    LAppModel.prototype.startRandomMotion = function (group, priority, onFinishedMotionHandler) {\n        if (this._modelSetting.getMotionCount(group) == 0) {\n            return InvalidMotionQueueEntryHandleValue;\n        }\n        var no = Math.floor(Math.random() * this._modelSetting.getMotionCount(group));\n        return this.startMotion(group, no, priority, onFinishedMotionHandler);\n    };\n    LAppModel.prototype.setExpression = function (expressionId) {\n        var motion = this._expressions.getValue(expressionId);\n        if (this._debugMode) {\n            lapppal_1.LAppPal.printMessage(\"[APP]expression: [\" + expressionId + \"]\");\n        }\n        if (motion != null) {\n            this._expressionManager.startMotionPriority(motion, false, LAppDefine.PriorityForce);\n        }\n        else {\n            if (this._debugMode) {\n                lapppal_1.LAppPal.printMessage(\"[APP]expression[\" + expressionId + \"] is null\");\n            }\n        }\n    };\n    LAppModel.prototype.setRandomExpression = function () {\n        if (this._expressions.getSize() == 0) {\n            return;\n        }\n        var no = Math.floor(Math.random() * this._expressions.getSize());\n        for (var i = 0; i < this._expressions.getSize(); i++) {\n            if (i == no) {\n                var name_1 = this._expressions._keyValues[i].first;\n                this.setExpression(name_1);\n                return;\n            }\n        }\n    };\n    LAppModel.prototype.motionEventFired = function (eventValue) {\n        cubismdebug_1.CubismLogInfo('{0} is fired on LAppModel!!', eventValue.s);\n    };\n    LAppModel.prototype.hitTest = function (hitArenaName, x, y) {\n        if (this._opacity < 1) {\n            return false;\n        }\n        var count = this._modelSetting.getHitAreasCount();\n        for (var i = 0; i < count; i++) {\n            if (this._modelSetting.getHitAreaName(i) == hitArenaName) {\n                var drawId = this._modelSetting.getHitAreaId(i);\n                return this.isHit(drawId, x, y);\n            }\n        }\n        return false;\n    };\n    LAppModel.prototype.preLoadMotionGroup = function (group) {\n        var _this = this;\n        var _loop_3 = function (i) {\n            var motionFileName = this_2._modelSetting.getMotionFileName(group, i);\n            var name_2 = group + \"_\" + i;\n            if (this_2._debugMode) {\n                lapppal_1.LAppPal.printMessage(\"[APP]load motion: \" + motionFileName + \" => [\" + name_2 + \"]\");\n            }\n            fetch(this_2._modelHomeDir + \"/\" + motionFileName)\n                .then(function (response) { return response.arrayBuffer(); })\n                .then(function (arrayBuffer) {\n                var tmpMotion = _this.loadMotion(arrayBuffer, arrayBuffer.byteLength, name_2);\n                var fadeTime = _this._modelSetting.getMotionFadeInTimeValue(group, i);\n                if (fadeTime >= 0.0) {\n                    tmpMotion.setFadeInTime(fadeTime);\n                }\n                fadeTime = _this._modelSetting.getMotionFadeOutTimeValue(group, i);\n                if (fadeTime >= 0.0) {\n                    tmpMotion.setFadeOutTime(fadeTime);\n                }\n                tmpMotion.setEffectIds(_this._eyeBlinkIds, _this._lipSyncIds);\n                if (_this._motions.getValue(name_2) != null) {\n                    ACubismMotion.delete(_this._motions.getValue(name_2));\n                }\n                _this._motions.setValue(name_2, tmpMotion);\n                _this._motionCount++;\n                if (_this._motionCount >= _this._allMotionCount) {\n                    _this._state = LoadStep.LoadTexture;\n                    _this._motionManager.stopAllMotions();\n                    _this._updating = false;\n                    _this._initialized = true;\n                    _this.createRenderer();\n                    _this.setupTextures();\n                    _this.getRenderer().startUp(lappdelegate_1.gl);\n                }\n            });\n        };\n        var this_2 = this;\n        for (var i = 0; i < this._modelSetting.getMotionCount(group); i++) {\n            _loop_3(i);\n        }\n    };\n    LAppModel.prototype.releaseMotions = function () {\n        this._motions.clear();\n    };\n    LAppModel.prototype.releaseExpressions = function () {\n        this._expressions.clear();\n    };\n    LAppModel.prototype.doDraw = function () {\n        if (this._model == null)\n            return;\n        var viewport = [0, 0, lappdelegate_1.canvas.width, lappdelegate_1.canvas.height];\n        this.getRenderer().setRenderState(lappdelegate_1.frameBuffer, viewport);\n        this.getRenderer().drawModel();\n    };\n    LAppModel.prototype.draw = function (matrix) {\n        if (this._model == null) {\n            return;\n        }\n        if (this._state == LoadStep.CompleteSetup) {\n            matrix.multiplyByMatrix(this._modelMatrix);\n            this.getRenderer().setMvpMatrix(matrix);\n            this.doDraw();\n        }\n    };\n    return LAppModel;\n}(CubismUserModel));\nexports.LAppModel = LAppModel;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGFwcG1vZGVsLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2xhcHBtb2RlbC50cz8xOGNmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0KGMpIExpdmUyRCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcbiAqIHRoYXQgY2FuIGJlIGZvdW5kIGF0IGh0dHBzOi8vd3d3LmxpdmUyZC5jb20vZXVsYS9saXZlMmQtb3Blbi1zb2Z0d2FyZS1saWNlbnNlLWFncmVlbWVudF9lbi5odG1sLlxuICovXG5cbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBsaXZlMmRjdWJpc21mcmFtZXdvcmsgfSBmcm9tICdAZnJhbWV3b3JrL2xpdmUyZGN1YmlzbWZyYW1ld29yayc7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtaWQgfSBmcm9tICdAZnJhbWV3b3JrL2lkL2N1YmlzbWlkJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc211c2VybW9kZWwgfSBmcm9tICdAZnJhbWV3b3JrL21vZGVsL2N1YmlzbXVzZXJtb2RlbCc7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgaWN1YmlzbW1vZGVsc2V0dGluZyB9IGZyb20gJ0BmcmFtZXdvcmsvaWN1YmlzbW1vZGVsc2V0dGluZyc7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtbW9kZWxzZXR0aW5nanNvbiB9IGZyb20gJ0BmcmFtZXdvcmsvY3ViaXNtbW9kZWxzZXR0aW5nanNvbic7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtZGVmYXVsdHBhcmFtZXRlcmlkIH0gZnJvbSAnQGZyYW1ld29yay9jdWJpc21kZWZhdWx0cGFyYW1ldGVyaWQnO1xuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGFjdWJpc21tb3Rpb24gfSBmcm9tICdAZnJhbWV3b3JrL21vdGlvbi9hY3ViaXNtbW90aW9uJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21leWVibGluayB9IGZyb20gJ0BmcmFtZXdvcmsvZWZmZWN0L2N1YmlzbWV5ZWJsaW5rJztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21icmVhdGggfSBmcm9tICdAZnJhbWV3b3JrL2VmZmVjdC9jdWJpc21icmVhdGgnO1xuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGNzbXZlY3RvciB9IGZyb20gJ0BmcmFtZXdvcmsvdHlwZS9jc212ZWN0b3InO1xuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGNzbW1hcCB9IGZyb20gJ0BmcmFtZXdvcmsvdHlwZS9jc21tYXAnO1xuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbW1hdHJpeDQ0IH0gZnJvbSAnQGZyYW1ld29yay9tYXRoL2N1YmlzbW1hdHJpeDQ0JztcbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjdWJpc21tb3Rpb24gfSBmcm9tICdAZnJhbWV3b3JrL21vdGlvbi9jdWJpc21tb3Rpb24nO1xuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbW1vdGlvbnF1ZXVlbWFuYWdlciB9IGZyb20gJ0BmcmFtZXdvcmsvbW90aW9uL2N1YmlzbW1vdGlvbnF1ZXVlbWFuYWdlcic7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3Ntc3RyaW5nIH0gZnJvbSAnQGZyYW1ld29yay90eXBlL2NzbXN0cmluZyc7XG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3NtcmVjdCB9IGZyb20gJ0BmcmFtZXdvcmsvdHlwZS9jc21yZWN0Zic7XG5pbXBvcnQgeyBDdWJpc21Mb2dJbmZvIH0gZnJvbSAnQGZyYW1ld29yay91dGlscy9jdWJpc21kZWJ1Zyc7XG5pbXBvcnQgY3NtUmVjdCA9IGNzbXJlY3QuY3NtUmVjdDtcbmltcG9ydCBjc21TdHJpbmcgPSBjc21zdHJpbmcuY3NtU3RyaW5nO1xuaW1wb3J0IEludmFsaWRNb3Rpb25RdWV1ZUVudHJ5SGFuZGxlVmFsdWUgPSBjdWJpc21tb3Rpb25xdWV1ZW1hbmFnZXIuSW52YWxpZE1vdGlvblF1ZXVlRW50cnlIYW5kbGVWYWx1ZTtcbmltcG9ydCBDdWJpc21Nb3Rpb25RdWV1ZUVudHJ5SGFuZGxlID0gY3ViaXNtbW90aW9ucXVldWVtYW5hZ2VyLkN1YmlzbU1vdGlvblF1ZXVlRW50cnlIYW5kbGU7XG5pbXBvcnQgQ3ViaXNtTW90aW9uID0gY3ViaXNtbW90aW9uLkN1YmlzbU1vdGlvbjtcbmltcG9ydCBDdWJpc21NYXRyaXg0NCA9IGN1YmlzbW1hdHJpeDQ0LkN1YmlzbU1hdHJpeDQ0O1xuaW1wb3J0IGNzbU1hcCA9IGNzbW1hcC5jc21NYXA7XG5pbXBvcnQgY3NtVmVjdG9yID0gY3NtdmVjdG9yLmNzbVZlY3RvcjtcbmltcG9ydCBDdWJpc21CcmVhdGggPSBjdWJpc21icmVhdGguQ3ViaXNtQnJlYXRoO1xuaW1wb3J0IEJyZWF0aFBhcmFtZXRlckRhdGEgPSBjdWJpc21icmVhdGguQnJlYXRoUGFyYW1ldGVyRGF0YTtcbmltcG9ydCBDdWJpc21FeWVCbGluayA9IGN1YmlzbWV5ZWJsaW5rLkN1YmlzbUV5ZUJsaW5rO1xuaW1wb3J0IEFDdWJpc21Nb3Rpb24gPSBhY3ViaXNtbW90aW9uLkFDdWJpc21Nb3Rpb247XG5pbXBvcnQgRmluaXNoZWRNb3Rpb25DYWxsYmFjayA9IGFjdWJpc21tb3Rpb24uRmluaXNoZWRNb3Rpb25DYWxsYmFjaztcbmltcG9ydCBDdWJpc21GcmFtZXdvcmsgPSBsaXZlMmRjdWJpc21mcmFtZXdvcmsuQ3ViaXNtRnJhbWV3b3JrO1xuaW1wb3J0IEN1YmlzbUlkSGFuZGxlID0gY3ViaXNtaWQuQ3ViaXNtSWRIYW5kbGU7XG5pbXBvcnQgQ3ViaXNtVXNlck1vZGVsID0gY3ViaXNtdXNlcm1vZGVsLkN1YmlzbVVzZXJNb2RlbDtcbmltcG9ydCBJQ3ViaXNtTW9kZWxTZXR0aW5nID0gaWN1YmlzbW1vZGVsc2V0dGluZy5JQ3ViaXNtTW9kZWxTZXR0aW5nO1xuaW1wb3J0IEN1YmlzbU1vZGVsU2V0dGluZ0pzb24gPSBjdWJpc21tb2RlbHNldHRpbmdqc29uLkN1YmlzbU1vZGVsU2V0dGluZ0pzb247XG5pbXBvcnQgQ3ViaXNtRGVmYXVsdFBhcmFtZXRlcklkID0gY3ViaXNtZGVmYXVsdHBhcmFtZXRlcmlkO1xuXG5pbXBvcnQgeyBMQXBwUGFsIH0gZnJvbSAnLi9sYXBwcGFsJztcbmltcG9ydCB7Z2wsIGNhbnZhcywgZnJhbWVCdWZmZXIsIExBcHBEZWxlZ2F0ZSwgbEFwcERlbGVnYXRlRXZlbnR9IGZyb20gJy4vbGFwcGRlbGVnYXRlJztcbmltcG9ydCB7IFRleHR1cmVJbmZvIH0gZnJvbSAnLi9sYXBwdGV4dHVyZW1hbmFnZXInO1xuaW1wb3J0ICogYXMgTEFwcERlZmluZSBmcm9tICcuL2xhcHBkZWZpbmUnO1xuaW1wb3J0ICd3aGF0d2ctZmV0Y2gnO1xuaW1wb3J0IHtEZWJ1Z01vZGVsTG9nRW5hYmxlfSBmcm9tIFwiLi9sYXBwZGVmaW5lXCI7XG5cbmV4cG9ydCBlbnVtIExvYWRTdGVwIHtcbiAgTG9hZEFzc2V0cyxcbiAgTG9hZE1vZGVsLFxuICBXYWl0TG9hZE1vZGVsLFxuICBMb2FkRXhwcmVzc2lvbixcbiAgV2FpdExvYWRFeHByZXNzaW9uLFxuICBMb2FkUGh5c2ljcyxcbiAgV2FpdExvYWRQaHlzaWNzLFxuICBMb2FkUG9zZSxcbiAgV2FpdExvYWRQb3NlLFxuICBTZXR1cEV5ZUJsaW5rLFxuICBTZXR1cEJyZWF0aCxcbiAgTG9hZFVzZXJEYXRhLFxuICBXYWl0TG9hZFVzZXJEYXRhLFxuICBTZXR1cEV5ZUJsaW5rSWRzLFxuICBTZXR1cExpcFN5bmNJZHMsXG4gIFNldHVwTGF5b3V0LFxuICBMb2FkTW90aW9uLFxuICBXYWl0TG9hZE1vdGlvbixcbiAgQ29tcGxldGVJbml0aWFsaXplLFxuICBDb21wbGV0ZVNldHVwTW9kZWwsXG4gIExvYWRUZXh0dXJlLFxuICBXYWl0TG9hZFRleHR1cmUsXG4gIENvbXBsZXRlU2V0dXBcbn1cblxuLyoqXG4gKiDjg6bjg7zjgrbjg7zjgYzlrp/pmpvjgavkvb/nlKjjgZnjgovjg6Ljg4fjg6vjga7lrp/oo4Xjgq/jg6njgrk8YnI+XG4gKiDjg6Ljg4fjg6vnlJ/miJDjgIHmqZ/og73jgrPjg7Pjg53jg7zjg43jg7Pjg4jnlJ/miJDjgIHmm7TmlrDlh6bnkIbjgajjg6zjg7Pjg4Djg6rjg7PjgrDjga7lkbzjgbPlh7rjgZfjgpLooYzjgYbjgIJcbiAqL1xuZXhwb3J0IGNsYXNzIExBcHBNb2RlbCBleHRlbmRzIEN1YmlzbVVzZXJNb2RlbCB7XG4gIC8qKlxuICAgKiBtb2RlbDMuanNvbuOBjOe9ruOBi+OCjOOBn+ODh+OCo+ODrOOCr+ODiOODquOBqOODleOCoeOCpOODq+ODkeOCueOBi+OCieODouODh+ODq+OCkueUn+aIkOOBmeOCi1xuICAgKiBAcGFyYW0gZGlyXG4gICAqIEBwYXJhbSBmaWxlTmFtZVxuICAgKi9cbiAgcHVibGljIGxvYWRBc3NldHMoZGlyOiBzdHJpbmcsIGZpbGVOYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLl9tb2RlbEhvbWVEaXIgPSBkaXI7XG4gICAgZmV0Y2goYCR7dGhpcy5fbW9kZWxIb21lRGlyfS8ke2ZpbGVOYW1lfWApXG4gICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5hcnJheUJ1ZmZlcigpKVxuICAgICAgLnRoZW4oYXJyYXlCdWZmZXIgPT4ge1xuICAgICAgICBjb25zdCBzZXR0aW5nOiBJQ3ViaXNtTW9kZWxTZXR0aW5nID0gbmV3IEN1YmlzbU1vZGVsU2V0dGluZ0pzb24oXG4gICAgICAgICAgYXJyYXlCdWZmZXIsXG4gICAgICAgICAgYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aFxuICAgICAgICApO1xuXG4gICAgICAgIC8vIOOCueODhuODvOODiOOCkuabtOaWsFxuICAgICAgICB0aGlzLl9zdGF0ZSA9IExvYWRTdGVwLkxvYWRNb2RlbDtcblxuICAgICAgICAvLyDntZDmnpzjgpLkv53lrZhcbiAgICAgICAgdGhpcy5zZXR1cE1vZGVsKHNldHRpbmcpO1xuICAgICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogbW9kZWwzLmpzb27jgYvjgonjg6Ljg4fjg6vjgpLnlJ/miJDjgZnjgovjgIJcbiAgICogbW9kZWwzLmpzb27jga7oqJjov7DjgavlvpPjgaPjgabjg6Ljg4fjg6vnlJ/miJDjgIHjg6Ljg7zjgrfjg6fjg7PjgIHniannkIbmvJTnrpfjgarjganjga7jgrPjg7Pjg53jg7zjg43jg7Pjg4jnlJ/miJDjgpLooYzjgYbjgIJcbiAgICpcbiAgICogQHBhcmFtIHNldHRpbmcgSUN1YmlzbU1vZGVsU2V0dGluZ+OBruOCpOODs+OCueOCv+ODs+OCuVxuICAgKi9cbiAgcHJpdmF0ZSBzZXR1cE1vZGVsKHNldHRpbmc6IElDdWJpc21Nb2RlbFNldHRpbmcpOiB2b2lkIHtcbiAgICB0aGlzLl91cGRhdGluZyA9IHRydWU7XG4gICAgdGhpcy5faW5pdGlhbGl6ZWQgPSBmYWxzZTtcblxuICAgIHRoaXMuX21vZGVsU2V0dGluZyA9IHNldHRpbmc7XG5cbiAgICAvLyBDdWJpc21Nb2RlbFxuICAgIGlmICh0aGlzLl9tb2RlbFNldHRpbmcuZ2V0TW9kZWxGaWxlTmFtZSgpICE9ICcnKSB7XG4gICAgICBjb25zdCBtb2RlbEZpbGVOYW1lID0gdGhpcy5fbW9kZWxTZXR0aW5nLmdldE1vZGVsRmlsZU5hbWUoKTtcblxuICAgICAgZmV0Y2goYCR7dGhpcy5fbW9kZWxIb21lRGlyfS8ke21vZGVsRmlsZU5hbWV9YClcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuYXJyYXlCdWZmZXIoKSlcbiAgICAgICAgLnRoZW4oYXJyYXlCdWZmZXIgPT4ge1xuICAgICAgICAgIHRoaXMubG9hZE1vZGVsKGFycmF5QnVmZmVyKTtcbiAgICAgICAgICB0aGlzLl9zdGF0ZSA9IExvYWRTdGVwLkxvYWRFeHByZXNzaW9uO1xuXG4gICAgICAgICAgLy8gY2FsbGJhY2tcbiAgICAgICAgICBsb2FkQ3ViaXNtRXhwcmVzc2lvbigpO1xuICAgICAgICB9KTtcblxuICAgICAgdGhpcy5fc3RhdGUgPSBMb2FkU3RlcC5XYWl0TG9hZE1vZGVsO1xuICAgIH0gZWxzZSB7XG4gICAgICBMQXBwUGFsLnByaW50TWVzc2FnZSgnTW9kZWwgZGF0YSBkb2VzIG5vdCBleGlzdC4nKTtcbiAgICB9XG5cbiAgICAvLyBFeHByZXNzaW9uXG4gICAgY29uc3QgbG9hZEN1YmlzbUV4cHJlc3Npb24gPSAoKTogdm9pZCA9PiB7XG4gICAgICBpZiAodGhpcy5fbW9kZWxTZXR0aW5nLmdldEV4cHJlc3Npb25Db3VudCgpID4gMCkge1xuICAgICAgICBjb25zdCBjb3VudDogbnVtYmVyID0gdGhpcy5fbW9kZWxTZXR0aW5nLmdldEV4cHJlc3Npb25Db3VudCgpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGV4cHJlc3Npb25OYW1lID0gdGhpcy5fbW9kZWxTZXR0aW5nLmdldEV4cHJlc3Npb25OYW1lKGkpO1xuICAgICAgICAgIGNvbnN0IGV4cHJlc3Npb25GaWxlTmFtZSA9IHRoaXMuX21vZGVsU2V0dGluZy5nZXRFeHByZXNzaW9uRmlsZU5hbWUoXG4gICAgICAgICAgICBpXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGZldGNoKGAke3RoaXMuX21vZGVsSG9tZURpcn0vJHtleHByZXNzaW9uRmlsZU5hbWV9YClcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmFycmF5QnVmZmVyKCkpXG4gICAgICAgICAgICAudGhlbihhcnJheUJ1ZmZlciA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IG1vdGlvbjogQUN1YmlzbU1vdGlvbiA9IHRoaXMubG9hZEV4cHJlc3Npb24oXG4gICAgICAgICAgICAgICAgYXJyYXlCdWZmZXIsXG4gICAgICAgICAgICAgICAgYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aCxcbiAgICAgICAgICAgICAgICBleHByZXNzaW9uTmFtZVxuICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgIGlmICh0aGlzLl9leHByZXNzaW9ucy5nZXRWYWx1ZShleHByZXNzaW9uTmFtZSkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIEFDdWJpc21Nb3Rpb24uZGVsZXRlKFxuICAgICAgICAgICAgICAgICAgdGhpcy5fZXhwcmVzc2lvbnMuZ2V0VmFsdWUoZXhwcmVzc2lvbk5hbWUpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9leHByZXNzaW9ucy5zZXRWYWx1ZShleHByZXNzaW9uTmFtZSwgbnVsbCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB0aGlzLl9leHByZXNzaW9ucy5zZXRWYWx1ZShleHByZXNzaW9uTmFtZSwgbW90aW9uKTtcblxuICAgICAgICAgICAgICB0aGlzLl9leHByZXNzaW9uQ291bnQrKztcblxuICAgICAgICAgICAgICBpZiAodGhpcy5fZXhwcmVzc2lvbkNvdW50ID49IGNvdW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSBMb2FkU3RlcC5Mb2FkUGh5c2ljcztcblxuICAgICAgICAgICAgICAgIC8vIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgbG9hZEN1YmlzbVBoeXNpY3MoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3RhdGUgPSBMb2FkU3RlcC5XYWl0TG9hZEV4cHJlc3Npb247XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9zdGF0ZSA9IExvYWRTdGVwLkxvYWRQaHlzaWNzO1xuXG4gICAgICAgIC8vIGNhbGxiYWNrXG4gICAgICAgIGxvYWRDdWJpc21QaHlzaWNzKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIFBoeXNpY3NcbiAgICBjb25zdCBsb2FkQ3ViaXNtUGh5c2ljcyA9ICgpOiB2b2lkID0+IHtcbiAgICAgIGlmICh0aGlzLl9tb2RlbFNldHRpbmcuZ2V0UGh5c2ljc0ZpbGVOYW1lKCkgIT0gJycpIHtcbiAgICAgICAgY29uc3QgcGh5c2ljc0ZpbGVOYW1lID0gdGhpcy5fbW9kZWxTZXR0aW5nLmdldFBoeXNpY3NGaWxlTmFtZSgpO1xuXG4gICAgICAgIGZldGNoKGAke3RoaXMuX21vZGVsSG9tZURpcn0vJHtwaHlzaWNzRmlsZU5hbWV9YClcbiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5hcnJheUJ1ZmZlcigpKVxuICAgICAgICAgIC50aGVuKGFycmF5QnVmZmVyID0+IHtcbiAgICAgICAgICAgIHRoaXMubG9hZFBoeXNpY3MoYXJyYXlCdWZmZXIsIGFycmF5QnVmZmVyLmJ5dGVMZW5ndGgpO1xuXG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IExvYWRTdGVwLkxvYWRQb3NlO1xuXG4gICAgICAgICAgICAvLyBjYWxsYmFja1xuICAgICAgICAgICAgbG9hZEN1YmlzbVBvc2UoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBMb2FkU3RlcC5XYWl0TG9hZFBoeXNpY3M7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9zdGF0ZSA9IExvYWRTdGVwLkxvYWRQb3NlO1xuXG4gICAgICAgIC8vIGNhbGxiYWNrXG4gICAgICAgIGxvYWRDdWJpc21Qb3NlKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIFBvc2VcbiAgICBjb25zdCBsb2FkQ3ViaXNtUG9zZSA9ICgpOiB2b2lkID0+IHtcbiAgICAgIGlmICh0aGlzLl9tb2RlbFNldHRpbmcuZ2V0UG9zZUZpbGVOYW1lKCkgIT0gJycpIHtcbiAgICAgICAgY29uc3QgcG9zZUZpbGVOYW1lID0gdGhpcy5fbW9kZWxTZXR0aW5nLmdldFBvc2VGaWxlTmFtZSgpO1xuXG4gICAgICAgIGZldGNoKGAke3RoaXMuX21vZGVsSG9tZURpcn0vJHtwb3NlRmlsZU5hbWV9YClcbiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5hcnJheUJ1ZmZlcigpKVxuICAgICAgICAgIC50aGVuKGFycmF5QnVmZmVyID0+IHtcbiAgICAgICAgICAgIHRoaXMubG9hZFBvc2UoYXJyYXlCdWZmZXIsIGFycmF5QnVmZmVyLmJ5dGVMZW5ndGgpO1xuXG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IExvYWRTdGVwLlNldHVwRXllQmxpbms7XG5cbiAgICAgICAgICAgIC8vIGNhbGxiYWNrXG4gICAgICAgICAgICBzZXR1cEV5ZUJsaW5rKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3N0YXRlID0gTG9hZFN0ZXAuV2FpdExvYWRQb3NlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBMb2FkU3RlcC5TZXR1cEV5ZUJsaW5rO1xuXG4gICAgICAgIC8vIGNhbGxiYWNrXG4gICAgICAgIHNldHVwRXllQmxpbmsoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRXllQmxpbmtcbiAgICBjb25zdCBzZXR1cEV5ZUJsaW5rID0gKCk6IHZvaWQgPT4ge1xuICAgICAgaWYgKHRoaXMuX21vZGVsU2V0dGluZy5nZXRFeWVCbGlua1BhcmFtZXRlckNvdW50KCkgPiAwKSB7XG4gICAgICAgIHRoaXMuX2V5ZUJsaW5rID0gQ3ViaXNtRXllQmxpbmsuY3JlYXRlKHRoaXMuX21vZGVsU2V0dGluZyk7XG4gICAgICAgIHRoaXMuX3N0YXRlID0gTG9hZFN0ZXAuU2V0dXBCcmVhdGg7XG4gICAgICB9XG5cbiAgICAgIC8vIGNhbGxiYWNrXG4gICAgICBzZXR1cEJyZWF0aCgpO1xuICAgIH07XG5cbiAgICAvLyBCcmVhdGhcbiAgICBjb25zdCBzZXR1cEJyZWF0aCA9ICgpOiB2b2lkID0+IHtcbiAgICAgIHRoaXMuX2JyZWF0aCA9IEN1YmlzbUJyZWF0aC5jcmVhdGUoKTtcblxuICAgICAgY29uc3QgYnJlYXRoUGFyYW1ldGVyczogY3NtVmVjdG9yPEJyZWF0aFBhcmFtZXRlckRhdGE+ID0gbmV3IGNzbVZlY3RvcigpO1xuICAgICAgYnJlYXRoUGFyYW1ldGVycy5wdXNoQmFjayhcbiAgICAgICAgbmV3IEJyZWF0aFBhcmFtZXRlckRhdGEodGhpcy5faWRQYXJhbUFuZ2xlWCwgMC4wLCAxNS4wLCA2LjUzNDUsIDAuNSlcbiAgICAgICk7XG4gICAgICBicmVhdGhQYXJhbWV0ZXJzLnB1c2hCYWNrKFxuICAgICAgICBuZXcgQnJlYXRoUGFyYW1ldGVyRGF0YSh0aGlzLl9pZFBhcmFtQW5nbGVZLCAwLjAsIDguMCwgMy41MzQ1LCAwLjUpXG4gICAgICApO1xuICAgICAgYnJlYXRoUGFyYW1ldGVycy5wdXNoQmFjayhcbiAgICAgICAgbmV3IEJyZWF0aFBhcmFtZXRlckRhdGEodGhpcy5faWRQYXJhbUFuZ2xlWiwgMC4wLCAxMC4wLCA1LjUzNDUsIDAuNSlcbiAgICAgICk7XG4gICAgICBicmVhdGhQYXJhbWV0ZXJzLnB1c2hCYWNrKFxuICAgICAgICBuZXcgQnJlYXRoUGFyYW1ldGVyRGF0YSh0aGlzLl9pZFBhcmFtQm9keUFuZ2xlWCwgMC4wLCA0LjAsIDE1LjUzNDUsIDAuNSlcbiAgICAgICk7XG4gICAgICBicmVhdGhQYXJhbWV0ZXJzLnB1c2hCYWNrKFxuICAgICAgICBuZXcgQnJlYXRoUGFyYW1ldGVyRGF0YShcbiAgICAgICAgICBDdWJpc21GcmFtZXdvcmsuZ2V0SWRNYW5hZ2VyKCkuZ2V0SWQoXG4gICAgICAgICAgICBDdWJpc21EZWZhdWx0UGFyYW1ldGVySWQuUGFyYW1CcmVhdGhcbiAgICAgICAgICApLFxuICAgICAgICAgIDAuMCxcbiAgICAgICAgICAwLjUsXG4gICAgICAgICAgMy4yMzQ1LFxuICAgICAgICAgIDAuNVxuICAgICAgICApXG4gICAgICApO1xuXG4gICAgICB0aGlzLl9icmVhdGguc2V0UGFyYW1ldGVycyhicmVhdGhQYXJhbWV0ZXJzKTtcbiAgICAgIHRoaXMuX3N0YXRlID0gTG9hZFN0ZXAuTG9hZFVzZXJEYXRhO1xuXG4gICAgICAvLyBjYWxsYmFja1xuICAgICAgbG9hZFVzZXJEYXRhKCk7XG4gICAgfTtcblxuICAgIC8vIFVzZXJEYXRhXG4gICAgY29uc3QgbG9hZFVzZXJEYXRhID0gKCk6IHZvaWQgPT4ge1xuICAgICAgaWYgKHRoaXMuX21vZGVsU2V0dGluZy5nZXRVc2VyRGF0YUZpbGUoKSAhPSAnJykge1xuICAgICAgICBjb25zdCB1c2VyRGF0YUZpbGUgPSB0aGlzLl9tb2RlbFNldHRpbmcuZ2V0VXNlckRhdGFGaWxlKCk7XG5cbiAgICAgICAgZmV0Y2goYCR7dGhpcy5fbW9kZWxIb21lRGlyfS8ke3VzZXJEYXRhRmlsZX1gKVxuICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmFycmF5QnVmZmVyKCkpXG4gICAgICAgICAgLnRoZW4oYXJyYXlCdWZmZXIgPT4ge1xuICAgICAgICAgICAgdGhpcy5sb2FkVXNlckRhdGEoYXJyYXlCdWZmZXIsIGFycmF5QnVmZmVyLmJ5dGVMZW5ndGgpO1xuXG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IExvYWRTdGVwLlNldHVwRXllQmxpbmtJZHM7XG5cbiAgICAgICAgICAgIC8vIGNhbGxiYWNrXG4gICAgICAgICAgICBzZXR1cEV5ZUJsaW5rSWRzKCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fc3RhdGUgPSBMb2FkU3RlcC5XYWl0TG9hZFVzZXJEYXRhO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBMb2FkU3RlcC5TZXR1cEV5ZUJsaW5rSWRzO1xuXG4gICAgICAgIC8vIGNhbGxiYWNrXG4gICAgICAgIHNldHVwRXllQmxpbmtJZHMoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRXllQmxpbmtJZHNcbiAgICBjb25zdCBzZXR1cEV5ZUJsaW5rSWRzID0gKCk6IHZvaWQgPT4ge1xuICAgICAgY29uc3QgZXllQmxpbmtJZENvdW50OiBudW1iZXIgPSB0aGlzLl9tb2RlbFNldHRpbmcuZ2V0RXllQmxpbmtQYXJhbWV0ZXJDb3VudCgpO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV5ZUJsaW5rSWRDb3VudDsgKytpKSB7XG4gICAgICAgIHRoaXMuX2V5ZUJsaW5rSWRzLnB1c2hCYWNrKFxuICAgICAgICAgIHRoaXMuX21vZGVsU2V0dGluZy5nZXRFeWVCbGlua1BhcmFtZXRlcklkKGkpXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3N0YXRlID0gTG9hZFN0ZXAuU2V0dXBMaXBTeW5jSWRzO1xuXG4gICAgICAvLyBjYWxsYmFja1xuICAgICAgc2V0dXBMaXBTeW5jSWRzKCk7XG4gICAgfTtcblxuICAgIC8vIExpcFN5bmNJZHNcbiAgICBjb25zdCBzZXR1cExpcFN5bmNJZHMgPSAoKTogdm9pZCA9PiB7XG4gICAgICBjb25zdCBsaXBTeW5jSWRDb3VudCA9IHRoaXMuX21vZGVsU2V0dGluZy5nZXRMaXBTeW5jUGFyYW1ldGVyQ291bnQoKTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXBTeW5jSWRDb3VudDsgKytpKSB7XG4gICAgICAgIHRoaXMuX2xpcFN5bmNJZHMucHVzaEJhY2sodGhpcy5fbW9kZWxTZXR0aW5nLmdldExpcFN5bmNQYXJhbWV0ZXJJZChpKSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9zdGF0ZSA9IExvYWRTdGVwLlNldHVwTGF5b3V0O1xuXG4gICAgICAvLyBjYWxsYmFja1xuICAgICAgc2V0dXBMYXlvdXQoKTtcbiAgICB9O1xuXG4gICAgLy8gTGF5b3V0XG4gICAgY29uc3Qgc2V0dXBMYXlvdXQgPSAoKTogdm9pZCA9PiB7XG4gICAgICBjb25zdCBsYXlvdXQ6IGNzbU1hcDxzdHJpbmcsIG51bWJlcj4gPSBuZXcgY3NtTWFwPHN0cmluZywgbnVtYmVyPigpO1xuICAgICAgdGhpcy5fbW9kZWxTZXR0aW5nLmdldExheW91dE1hcChsYXlvdXQpO1xuICAgICAgdGhpcy5fbW9kZWxNYXRyaXguc2V0dXBGcm9tTGF5b3V0KGxheW91dCk7XG4gICAgICB0aGlzLl9zdGF0ZSA9IExvYWRTdGVwLkxvYWRNb3Rpb247XG5cbiAgICAgIC8vIGNhbGxiYWNrXG4gICAgICBsb2FkQ3ViaXNtTW90aW9uKCk7XG4gICAgfTtcblxuICAgIC8vIE1vdGlvblxuICAgIGNvbnN0IGxvYWRDdWJpc21Nb3Rpb24gPSAoKTogdm9pZCA9PiB7XG4gICAgICB0aGlzLl9zdGF0ZSA9IExvYWRTdGVwLldhaXRMb2FkTW90aW9uO1xuICAgICAgdGhpcy5fbW9kZWwuc2F2ZVBhcmFtZXRlcnMoKTtcbiAgICAgIHRoaXMuX2FsbE1vdGlvbkNvdW50ID0gMDtcbiAgICAgIHRoaXMuX21vdGlvbkNvdW50ID0gMDtcbiAgICAgIGNvbnN0IGdyb3VwOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgICBjb25zdCBtb3Rpb25Hcm91cENvdW50OiBudW1iZXIgPSB0aGlzLl9tb2RlbFNldHRpbmcuZ2V0TW90aW9uR3JvdXBDb3VudCgpO1xuXG4gICAgICAvLyDjg6Ljg7zjgrfjg6fjg7Pjga7nt4/mlbDjgpLmsYLjgoHjgotcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbW90aW9uR3JvdXBDb3VudDsgaSsrKSB7XG4gICAgICAgIGdyb3VwW2ldID0gdGhpcy5fbW9kZWxTZXR0aW5nLmdldE1vdGlvbkdyb3VwTmFtZShpKTtcbiAgICAgICAgdGhpcy5fYWxsTW90aW9uQ291bnQgKz0gdGhpcy5fbW9kZWxTZXR0aW5nLmdldE1vdGlvbkNvdW50KGdyb3VwW2ldKTtcbiAgICAgIH1cblxuICAgICAgLy8g44Oi44O844K344On44Oz44Gu6Kqt44G/6L6844G/XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1vdGlvbkdyb3VwQ291bnQ7IGkrKykge1xuICAgICAgICB0aGlzLnByZUxvYWRNb3Rpb25Hcm91cChncm91cFtpXSk7XG4gICAgICB9XG5cbiAgICAgIC8vIOODouODvOOCt+ODp+ODs+OBjOOBquOBhOWgtOWQiFxuICAgICAgaWYgKG1vdGlvbkdyb3VwQ291bnQgPT0gMCkge1xuICAgICAgICB0aGlzLl9zdGF0ZSA9IExvYWRTdGVwLkxvYWRUZXh0dXJlO1xuXG4gICAgICAgIC8vIOWFqOOBpuOBruODouODvOOCt+ODp+ODs+OCkuWBnOatouOBmeOCi1xuICAgICAgICB0aGlzLl9tb3Rpb25NYW5hZ2VyLnN0b3BBbGxNb3Rpb25zKCk7XG5cbiAgICAgICAgdGhpcy5fdXBkYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMuY3JlYXRlUmVuZGVyZXIoKTtcbiAgICAgICAgdGhpcy5zZXR1cFRleHR1cmVzKCk7XG4gICAgICAgIHRoaXMuZ2V0UmVuZGVyZXIoKS5zdGFydFVwKGdsKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIOODhuOCr+OCueODgeODo+ODpuODi+ODg+ODiOOBq+ODhuOCr+OCueODgeODo+OCkuODreODvOODieOBmeOCi1xuICAgKi9cbiAgcHJpdmF0ZSBzZXR1cFRleHR1cmVzKCk6IHZvaWQge1xuICAgIC8vIGlQaG9uZeOBp+OBruOCouODq+ODleOCoeWTgeizquWQkeS4iuOBruOBn+OCgVR5cGVzY3JpcHTjgafjga9wcmVtdWx0aXBsaWVkQWxwaGHjgpLmjqHnlKhcbiAgICBjb25zdCB1c2VQcmVtdWx0aXBseSA9IHRydWU7XG5cbiAgICBpZiAodGhpcy5fc3RhdGUgPT0gTG9hZFN0ZXAuTG9hZFRleHR1cmUpIHtcbiAgICAgIC8vIOODhuOCr+OCueODgeODo+iqreOBv+i+vOOBv+eUqFxuICAgICAgY29uc3QgdGV4dHVyZUNvdW50OiBudW1iZXIgPSB0aGlzLl9tb2RlbFNldHRpbmcuZ2V0VGV4dHVyZUNvdW50KCk7XG5cbiAgICAgIGZvciAoXG4gICAgICAgIGxldCBtb2RlbFRleHR1cmVOdW1iZXIgPSAwO1xuICAgICAgICBtb2RlbFRleHR1cmVOdW1iZXIgPCB0ZXh0dXJlQ291bnQ7XG4gICAgICAgIG1vZGVsVGV4dHVyZU51bWJlcisrXG4gICAgICApIHtcbiAgICAgICAgLy8g44OG44Kv44K544OB44Oj5ZCN44GM56m65paH5a2X44Gg44Gj44Gf5aC05ZCI44Gv44Ot44O844OJ44O744OQ44Kk44Oz44OJ5Yem55CG44KS44K544Kt44OD44OXXG4gICAgICAgIGlmICh0aGlzLl9tb2RlbFNldHRpbmcuZ2V0VGV4dHVyZUZpbGVOYW1lKG1vZGVsVGV4dHVyZU51bWJlcikgPT0gJycpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnZ2V0VGV4dHVyZUZpbGVOYW1lIG51bGwnKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdlYkdM44Gu44OG44Kv44K544OB44Oj44Om44OL44OD44OI44Gr44OG44Kv44K544OB44Oj44KS44Ot44O844OJ44GZ44KLXG4gICAgICAgIGxldCB0ZXh0dXJlUGF0aCA9IHRoaXMuX21vZGVsU2V0dGluZy5nZXRUZXh0dXJlRmlsZU5hbWUoXG4gICAgICAgICAgbW9kZWxUZXh0dXJlTnVtYmVyXG4gICAgICAgICk7XG4gICAgICAgIHRleHR1cmVQYXRoID0gdGhpcy5fbW9kZWxIb21lRGlyICsgdGV4dHVyZVBhdGg7XG5cbiAgICAgICAgLy8g6LSf6L295a6M5oiQ5pe26LCD55So55qE5Zue5Y+r5Ye95pWwXG4gICAgICAgIGNvbnN0IG9uTG9hZCA9ICh0ZXh0dXJlSW5mbzogVGV4dHVyZUluZm8pOiB2b2lkID0+IHtcbiAgICAgICAgICB0aGlzLmdldFJlbmRlcmVyKCkuYmluZFRleHR1cmUobW9kZWxUZXh0dXJlTnVtYmVyLCB0ZXh0dXJlSW5mby5pZCk7XG5cbiAgICAgICAgICB0aGlzLl90ZXh0dXJlQ291bnQrKztcblxuICAgICAgICAgIGlmICh0aGlzLl90ZXh0dXJlQ291bnQgPj0gdGV4dHVyZUNvdW50KSB7XG4gICAgICAgICAgICAvLyDjg63jg7zjg4nlrozkuoZcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gTG9hZFN0ZXAuQ29tcGxldGVTZXR1cDtcbiAgICAgICAgICAgIGxBcHBEZWxlZ2F0ZUV2ZW50Lm1vZGVsQ29tcGxldGVTZXR1cCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyDoqq3jgb/ovrzjgb9cbiAgICAgICAgTEFwcERlbGVnYXRlLmdldEluc3RhbmNlKClcbiAgICAgICAgICAuZ2V0VGV4dHVyZU1hbmFnZXIoKVxuICAgICAgICAgIC5jcmVhdGVUZXh0dXJlRnJvbVBuZ0ZpbGUodGV4dHVyZVBhdGgsIHVzZVByZW11bHRpcGx5LCBvbkxvYWQpO1xuICAgICAgICB0aGlzLmdldFJlbmRlcmVyKCkuc2V0SXNQcmVtdWx0aXBsaWVkQWxwaGEodXNlUHJlbXVsdGlwbHkpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9zdGF0ZSA9IExvYWRTdGVwLldhaXRMb2FkVGV4dHVyZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog44Os44Oz44OA44Op44KS5YaN5qeL56+J44GZ44KLXG4gICAqL1xuICBwdWJsaWMgcmVsb2FkUmVuZGVyZXIoKTogdm9pZCB7XG4gICAgdGhpcy5kZWxldGVSZW5kZXJlcigpO1xuICAgIHRoaXMuY3JlYXRlUmVuZGVyZXIoKTtcbiAgICB0aGlzLnNldHVwVGV4dHVyZXMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDmm7TmlrBcbiAgICovXG4gIHB1YmxpYyB1cGRhdGUoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX3N0YXRlICE9IExvYWRTdGVwLkNvbXBsZXRlU2V0dXApIHJldHVybjtcblxuICAgIGNvbnN0IGRlbHRhVGltZVNlY29uZHM6IG51bWJlciA9IExBcHBQYWwuZ2V0RGVsdGFUaW1lKCk7XG4gICAgdGhpcy5fdXNlclRpbWVTZWNvbmRzICs9IGRlbHRhVGltZVNlY29uZHM7XG5cbiAgICB0aGlzLl9kcmFnTWFuYWdlci51cGRhdGUoZGVsdGFUaW1lU2Vjb25kcyk7XG4gICAgdGhpcy5fZHJhZ1ggPSB0aGlzLl9kcmFnTWFuYWdlci5nZXRYKCk7XG4gICAgdGhpcy5fZHJhZ1kgPSB0aGlzLl9kcmFnTWFuYWdlci5nZXRZKCk7XG5cbiAgICAvLyDjg6Ljg7zjgrfjg6fjg7Pjgavjgojjgovjg5Hjg6njg6Hjg7zjgr/mm7TmlrDjga7mnInnhKFcbiAgICBsZXQgbW90aW9uVXBkYXRlZCA9IGZhbHNlO1xuXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIHRoaXMuX21vZGVsLmxvYWRQYXJhbWV0ZXJzKCk7IC8vIOWKoOi9veS4iuasoeiiq+S/neWtmOeahOeKtuaAgVxuICAgIGlmICh0aGlzLl9tb3Rpb25NYW5hZ2VyLmlzRmluaXNoZWQoKSkge1xuICAgICAgLy8g5aaC5p6c5rKh5pyJ5Yqo5L2c5Zue5pS+77yM5YiZ5LuO562J5b6F5Yqo5L2c5Lit6ZqP5py65Zue5pS+XG4gICAgICB0aGlzLnN0YXJ0UmFuZG9tTW90aW9uKFxuICAgICAgICBMQXBwRGVmaW5lLk1vdGlvbkdyb3VwSWRsZSxcbiAgICAgICAgTEFwcERlZmluZS5Qcmlvcml0eUlkbGVcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1vdGlvblVwZGF0ZWQgPSB0aGlzLl9tb3Rpb25NYW5hZ2VyLnVwZGF0ZU1vdGlvbihcbiAgICAgICAgdGhpcy5fbW9kZWwsXG4gICAgICAgIGRlbHRhVGltZVNlY29uZHNcbiAgICAgICk7IC8vIOabtOaWsOWKqOS9nFxuICAgIH1cbiAgICB0aGlzLl9tb2RlbC5zYXZlUGFyYW1ldGVycygpOyAvLyDnirbmhYvjgpLkv53lrZhcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvLyDjgb7jgbDjgZ/jgY1cbiAgICBpZiAoIW1vdGlvblVwZGF0ZWQpIHtcbiAgICAgIGlmICh0aGlzLl9leWVCbGluayAhPSBudWxsKSB7XG4gICAgICAgIC8vIOODoeOCpOODs+ODouODvOOCt+ODp+ODs+OBruabtOaWsOOBjOOBquOBhOOBqOOBjVxuICAgICAgICB0aGlzLl9leWVCbGluay51cGRhdGVQYXJhbWV0ZXJzKHRoaXMuX21vZGVsLCBkZWx0YVRpbWVTZWNvbmRzKTsgLy8g55uu44OR44OBXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2V4cHJlc3Npb25NYW5hZ2VyICE9IG51bGwpIHtcbiAgICAgIHRoaXMuX2V4cHJlc3Npb25NYW5hZ2VyLnVwZGF0ZU1vdGlvbih0aGlzLl9tb2RlbCwgZGVsdGFUaW1lU2Vjb25kcyk7IC8vIOihqOaDheOBp+ODkeODqeODoeODvOOCv+abtOaWsO+8iOebuOWvvuWkieWMlu+8iVxuICAgIH1cblxuICAgIC8vIG1vZGVs5bim5p2l55qE5Y+Y5YyWXG4gICAgLy8g6YCa6L+HbW9kZWzosIPmlbTohLjpg6jnmoTmlrnlkJFcbiAgICB0aGlzLl9tb2RlbC5hZGRQYXJhbWV0ZXJWYWx1ZUJ5SWQodGhpcy5faWRQYXJhbUFuZ2xlWCwgdGhpcy5fZHJhZ1ggKiAzMCk7IC8vIC0zMOOBi+OCiTMw44Gu5YCk44KS5Yqg44GI44KLXG4gICAgdGhpcy5fbW9kZWwuYWRkUGFyYW1ldGVyVmFsdWVCeUlkKHRoaXMuX2lkUGFyYW1BbmdsZVksIHRoaXMuX2RyYWdZICogMzApO1xuICAgIHRoaXMuX21vZGVsLmFkZFBhcmFtZXRlclZhbHVlQnlJZChcbiAgICAgIHRoaXMuX2lkUGFyYW1BbmdsZVosXG4gICAgICB0aGlzLl9kcmFnWCAqIHRoaXMuX2RyYWdZICogLTMwXG4gICAgKTtcblxuICAgIC8vIOmAmui/h+avkuWTgeiwg+aVtOi6q+S9k+eahOaWueWQkVxuICAgIHRoaXMuX21vZGVsLmFkZFBhcmFtZXRlclZhbHVlQnlJZChcbiAgICAgIHRoaXMuX2lkUGFyYW1Cb2R5QW5nbGVYLFxuICAgICAgdGhpcy5fZHJhZ1ggKiAxMFxuICAgICk7IC8vIC0xMOOBi+OCiTEw44Gu5YCk44KS5Yqg44GI44KLXG5cbiAgICAvLyDjg4njg6njg4PjgrDjgavjgojjgovnm67jga7lkJHjgY3jga7oqr/mlbRcbiAgICB0aGlzLl9tb2RlbC5hZGRQYXJhbWV0ZXJWYWx1ZUJ5SWQodGhpcy5faWRQYXJhbUV5ZUJhbGxYLCB0aGlzLl9kcmFnWCk7IC8vIC0x44GL44KJMeOBruWApOOCkuWKoOOBiOOCi1xuICAgIHRoaXMuX21vZGVsLmFkZFBhcmFtZXRlclZhbHVlQnlJZCh0aGlzLl9pZFBhcmFtRXllQmFsbFksIHRoaXMuX2RyYWdZKTtcblxuICAgIC8vIOWRvOWQuOOBquOBqVxuICAgIGlmICh0aGlzLl9icmVhdGggIT0gbnVsbCkge1xuICAgICAgdGhpcy5fYnJlYXRoLnVwZGF0ZVBhcmFtZXRlcnModGhpcy5fbW9kZWwsIGRlbHRhVGltZVNlY29uZHMpO1xuICAgIH1cblxuICAgIC8vIOeJqeeQhua8lOeul+OBruioreWumlxuICAgIGlmICh0aGlzLl9waHlzaWNzICE9IG51bGwpIHtcbiAgICAgIHRoaXMuX3BoeXNpY3MuZXZhbHVhdGUodGhpcy5fbW9kZWwsIGRlbHRhVGltZVNlY29uZHMpO1xuICAgIH1cblxuICAgIC8vIOODquODg+ODl+OCt+ODs+OCr+OBruioreWumlxuICAgIGlmICh0aGlzLl9saXBzeW5jKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IDA7IC8vIOODquOCouODq+OCv+OCpOODoOOBp+ODquODg+ODl+OCt+ODs+OCr+OCkuihjOOBhuWgtOWQiOOAgeOCt+OCueODhuODoOOBi+OCiemfs+mHj+OCkuWPluW+l+OBl+OBpuOAgTB+MeOBruevhOWbsuOBp+WApOOCkuWFpeWKm+OBl+OBvuOBmeOAglxuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2xpcFN5bmNJZHMuZ2V0U2l6ZSgpOyArK2kpIHtcbiAgICAgICAgdGhpcy5fbW9kZWwuYWRkUGFyYW1ldGVyVmFsdWVCeUlkKHRoaXMuX2xpcFN5bmNJZHMuYXQoaSksIHZhbHVlLCAwLjgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIOODneODvOOCuuOBruioreWumlxuICAgIGlmICh0aGlzLl9wb3NlICE9IG51bGwpIHtcbiAgICAgIHRoaXMuX3Bvc2UudXBkYXRlUGFyYW1ldGVycyh0aGlzLl9tb2RlbCwgZGVsdGFUaW1lU2Vjb25kcyk7XG4gICAgfVxuXG4gICAgdGhpcy5fbW9kZWwudXBkYXRlKCk7XG4gIH1cblxuICAvKipcbiAgICog5byV5pWw44Gn5oyH5a6a44GX44Gf44Oi44O844K344On44Oz44Gu5YaN55Sf44KS6ZaL5aeL44GZ44KLXG4gICAqIEBwYXJhbSBncm91cCDjg6Ljg7zjgrfjg6fjg7PjgrDjg6vjg7zjg5flkI1cbiAgICogQHBhcmFtIG5vIOOCsOODq+ODvOODl+WGheOBrueVquWPt1xuICAgKiBAcGFyYW0gcHJpb3JpdHkg5YSq5YWI5bqmXG4gICAqIEBwYXJhbSBvbkZpbmlzaGVkTW90aW9uSGFuZGxlciDjg6Ljg7zjgrfjg6fjg7Plho3nlJ/ntYLkuobmmYLjgavlkbzjgbPlh7rjgZXjgozjgovjgrPjg7zjg6vjg5Djg4Pjgq/plqLmlbBcbiAgICogQHJldHVybiDplovlp4vjgZfjgZ/jg6Ljg7zjgrfjg6fjg7Pjga7orZjliKXnlarlj7fjgpLov5TjgZnjgILlgIvliKXjga7jg6Ljg7zjgrfjg6fjg7PjgYzntYLkuobjgZfjgZ/jgYvlkKbjgYvjgpLliKTlrprjgZnjgotpc0ZpbmlzaGVkKCnjga7lvJXmlbDjgafkvb/nlKjjgZnjgovjgILplovlp4vjgafjgY3jgarjgYTmmYLjga9bLTFdXG4gICAqL1xuICBwdWJsaWMgc3RhcnRNb3Rpb24oXG4gICAgZ3JvdXA6IHN0cmluZyxcbiAgICBubzogbnVtYmVyLFxuICAgIHByaW9yaXR5OiBudW1iZXIsXG4gICAgb25GaW5pc2hlZE1vdGlvbkhhbmRsZXI/OiBGaW5pc2hlZE1vdGlvbkNhbGxiYWNrXG4gICk6IEN1YmlzbU1vdGlvblF1ZXVlRW50cnlIYW5kbGUge1xuICAgIGlmIChwcmlvcml0eSA9PSBMQXBwRGVmaW5lLlByaW9yaXR5Rm9yY2UpIHtcbiAgICAgIHRoaXMuX21vdGlvbk1hbmFnZXIuc2V0UmVzZXJ2ZVByaW9yaXR5KHByaW9yaXR5KTtcbiAgICB9IGVsc2UgaWYgKCF0aGlzLl9tb3Rpb25NYW5hZ2VyLnJlc2VydmVNb3Rpb24ocHJpb3JpdHkpKSB7XG4gICAgICBpZiAodGhpcy5fZGVidWdNb2RlKSB7XG4gICAgICAgIExBcHBQYWwucHJpbnRNZXNzYWdlKFwiW0FQUF1jYW4ndCBzdGFydCBtb3Rpb24uXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIEludmFsaWRNb3Rpb25RdWV1ZUVudHJ5SGFuZGxlVmFsdWU7XG4gICAgfVxuXG4gICAgY29uc3QgbW90aW9uRmlsZU5hbWUgPSB0aGlzLl9tb2RlbFNldHRpbmcuZ2V0TW90aW9uRmlsZU5hbWUoZ3JvdXAsIG5vKTtcblxuICAgIC8vIGV4KSBpZGxlXzBcbiAgICBjb25zdCBuYW1lID0gYCR7Z3JvdXB9XyR7bm99YDtcbiAgICBsZXQgbW90aW9uOiBDdWJpc21Nb3Rpb24gPSB0aGlzLl9tb3Rpb25zLmdldFZhbHVlKG5hbWUpIGFzIEN1YmlzbU1vdGlvbjtcbiAgICBsZXQgYXV0b0RlbGV0ZSA9IGZhbHNlO1xuXG4gICAgaWYgKG1vdGlvbiA9PSBudWxsKSB7XG4gICAgICBmZXRjaChgJHt0aGlzLl9tb2RlbEhvbWVEaXJ9LyR7bW90aW9uRmlsZU5hbWV9YClcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuYXJyYXlCdWZmZXIoKSlcbiAgICAgICAgLnRoZW4oYXJyYXlCdWZmZXIgPT4ge1xuICAgICAgICAgIG1vdGlvbiA9IHRoaXMubG9hZE1vdGlvbihcbiAgICAgICAgICAgIGFycmF5QnVmZmVyLFxuICAgICAgICAgICAgYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aCxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBvbkZpbmlzaGVkTW90aW9uSGFuZGxlclxuICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IGZhZGVUaW1lOiBudW1iZXIgPSB0aGlzLl9tb2RlbFNldHRpbmcuZ2V0TW90aW9uRmFkZUluVGltZVZhbHVlKFxuICAgICAgICAgICAgZ3JvdXAsXG4gICAgICAgICAgICBub1xuICAgICAgICAgICk7XG5cbiAgICAgICAgICBpZiAoZmFkZVRpbWUgPj0gMC4wKSB7XG4gICAgICAgICAgICBtb3Rpb24uc2V0RmFkZUluVGltZShmYWRlVGltZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZmFkZVRpbWUgPSB0aGlzLl9tb2RlbFNldHRpbmcuZ2V0TW90aW9uRmFkZU91dFRpbWVWYWx1ZShncm91cCwgbm8pO1xuICAgICAgICAgIGlmIChmYWRlVGltZSA+PSAwLjApIHtcbiAgICAgICAgICAgIG1vdGlvbi5zZXRGYWRlT3V0VGltZShmYWRlVGltZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbW90aW9uLnNldEVmZmVjdElkcyh0aGlzLl9leWVCbGlua0lkcywgdGhpcy5fbGlwU3luY0lkcyk7XG4gICAgICAgICAgYXV0b0RlbGV0ZSA9IHRydWU7IC8vIOe1guS6huaZguOBq+ODoeODouODquOBi+OCieWJiumZpFxuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbW90aW9uLnNldEZpbmlzaGVkTW90aW9uSGFuZGxlcihvbkZpbmlzaGVkTW90aW9uSGFuZGxlcik7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2RlYnVnTW9kZSkge1xuICAgICAgTEFwcFBhbC5wcmludE1lc3NhZ2UoYFtBUFBdc3RhcnQgbW90aW9uOiBbJHtncm91cH1fJHtub31gKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX21vdGlvbk1hbmFnZXIuc3RhcnRNb3Rpb25Qcmlvcml0eShcbiAgICAgIG1vdGlvbixcbiAgICAgIGF1dG9EZWxldGUsXG4gICAgICBwcmlvcml0eVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICog44Op44Oz44OA44Og44Gr6YG444Gw44KM44Gf44Oi44O844K344On44Oz44Gu5YaN55Sf44KS6ZaL5aeL44GZ44KL44CCXG4gICAqIEBwYXJhbSBncm91cCDjg6Ljg7zjgrfjg6fjg7PjgrDjg6vjg7zjg5flkI1cbiAgICogQHBhcmFtIHByaW9yaXR5IOWEquWFiOW6plxuICAgKiBAcGFyYW0gb25GaW5pc2hlZE1vdGlvbkhhbmRsZXIg44Oi44O844K344On44Oz5YaN55Sf57WC5LqG5pmC44Gr5ZG844Gz5Ye644GV44KM44KL44Kz44O844Or44OQ44OD44Kv6Zai5pWwXG4gICAqIEByZXR1cm4g6ZaL5aeL44GX44Gf44Oi44O844K344On44Oz44Gu6K2Y5Yil55Wq5Y+344KS6L+U44GZ44CC5YCL5Yil44Gu44Oi44O844K344On44Oz44GM57WC5LqG44GX44Gf44GL5ZCm44GL44KS5Yik5a6a44GZ44KLaXNGaW5pc2hlZCgp44Gu5byV5pWw44Gn5L2/55So44GZ44KL44CC6ZaL5aeL44Gn44GN44Gq44GE5pmC44GvWy0xXVxuICAgKi9cbiAgcHVibGljIHN0YXJ0UmFuZG9tTW90aW9uKFxuICAgIGdyb3VwOiBzdHJpbmcsXG4gICAgcHJpb3JpdHk6IG51bWJlcixcbiAgICBvbkZpbmlzaGVkTW90aW9uSGFuZGxlcj86IEZpbmlzaGVkTW90aW9uQ2FsbGJhY2tcbiAgKTogQ3ViaXNtTW90aW9uUXVldWVFbnRyeUhhbmRsZSB7XG4gICAgaWYgKHRoaXMuX21vZGVsU2V0dGluZy5nZXRNb3Rpb25Db3VudChncm91cCkgPT0gMCkge1xuICAgICAgcmV0dXJuIEludmFsaWRNb3Rpb25RdWV1ZUVudHJ5SGFuZGxlVmFsdWU7XG4gICAgfVxuXG4gICAgY29uc3Qgbm86IG51bWJlciA9IE1hdGguZmxvb3IoXG4gICAgICBNYXRoLnJhbmRvbSgpICogdGhpcy5fbW9kZWxTZXR0aW5nLmdldE1vdGlvbkNvdW50KGdyb3VwKVxuICAgICk7XG5cbiAgICByZXR1cm4gdGhpcy5zdGFydE1vdGlvbihncm91cCwgbm8sIHByaW9yaXR5LCBvbkZpbmlzaGVkTW90aW9uSGFuZGxlcik7XG4gIH1cblxuICAvKipcbiAgICog5byV5pWw44Gn5oyH5a6a44GX44Gf6KGo5oOF44Oi44O844K344On44Oz44KS44K744OD44OI44GZ44KLXG4gICAqXG4gICAqIEBwYXJhbSBleHByZXNzaW9uSWQg6KGo5oOF44Oi44O844K344On44Oz44GuSURcbiAgICovXG4gIHB1YmxpYyBzZXRFeHByZXNzaW9uKGV4cHJlc3Npb25JZDogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgbW90aW9uOiBBQ3ViaXNtTW90aW9uID0gdGhpcy5fZXhwcmVzc2lvbnMuZ2V0VmFsdWUoZXhwcmVzc2lvbklkKTtcblxuICAgIGlmICh0aGlzLl9kZWJ1Z01vZGUpIHtcbiAgICAgIExBcHBQYWwucHJpbnRNZXNzYWdlKGBbQVBQXWV4cHJlc3Npb246IFske2V4cHJlc3Npb25JZH1dYCk7XG4gICAgfVxuXG4gICAgaWYgKG1vdGlvbiAhPSBudWxsKSB7XG4gICAgICB0aGlzLl9leHByZXNzaW9uTWFuYWdlci5zdGFydE1vdGlvblByaW9yaXR5KFxuICAgICAgICBtb3Rpb24sXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBMQXBwRGVmaW5lLlByaW9yaXR5Rm9yY2VcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLl9kZWJ1Z01vZGUpIHtcbiAgICAgICAgTEFwcFBhbC5wcmludE1lc3NhZ2UoYFtBUFBdZXhwcmVzc2lvblske2V4cHJlc3Npb25JZH1dIGlzIG51bGxgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog44Op44Oz44OA44Og44Gr6YG444Gw44KM44Gf6KGo5oOF44Oi44O844K344On44Oz44KS44K744OD44OI44GZ44KLXG4gICAqL1xuICBwdWJsaWMgc2V0UmFuZG9tRXhwcmVzc2lvbigpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5fZXhwcmVzc2lvbnMuZ2V0U2l6ZSgpID09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBubzogbnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5fZXhwcmVzc2lvbnMuZ2V0U2l6ZSgpKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fZXhwcmVzc2lvbnMuZ2V0U2l6ZSgpOyBpKyspIHtcbiAgICAgIGlmIChpID09IG5vKSB7XG4gICAgICAgIGNvbnN0IG5hbWU6IHN0cmluZyA9IHRoaXMuX2V4cHJlc3Npb25zLl9rZXlWYWx1ZXNbaV0uZmlyc3Q7XG4gICAgICAgIHRoaXMuc2V0RXhwcmVzc2lvbihuYW1lKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDjgqTjg5njg7Pjg4jjga7nmbrngavjgpLlj5fjgZHlj5bjgotcbiAgICovXG4gIHB1YmxpYyBtb3Rpb25FdmVudEZpcmVkKGV2ZW50VmFsdWU6IGNzbVN0cmluZyk6IHZvaWQge1xuICAgIEN1YmlzbUxvZ0luZm8oJ3swfSBpcyBmaXJlZCBvbiBMQXBwTW9kZWwhIScsIGV2ZW50VmFsdWUucyk7XG4gIH1cblxuICAvKipcbiAgICog5Yik5a6a5rWL6K+VXG4gICAqIOS7juaMh+WumklE55qE6aG254K55YiX6KGo6K6h566X55+p5b2i77yM56Gu5a6a5Z2Q5qCH5piv5ZCm5Zyo55+p5b2i6IyD5Zu05YaF44CCXG4gICAqXG4gICAqIEBwYXJhbSBoaXRBcmVuYU5hbWUgIOW9k+OBn+OCiuWIpOWumuOCkuODhuOCueODiOOBmeOCi+WvvuixoeOBrklEXG4gICAqIEBwYXJhbSB4ICAgICAgICAgICAgIOWIpOWumuOCkuihjOOBhljluqfmqJlcbiAgICogQHBhcmFtIHkgICAgICAgICAgICAg5Yik5a6a44KS6KGM44GGWeW6p+aomVxuICAgKi9cbiAgcHVibGljIGhpdFRlc3QoaGl0QXJlbmFOYW1lOiBzdHJpbmcsIHg6IG51bWJlciwgeTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgLy8g6YCP5piO5pmC44Gv5b2T44Gf44KK5Yik5a6a54Sh44GX44CCXG4gICAgaWYgKHRoaXMuX29wYWNpdHkgPCAxKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgY291bnQ6IG51bWJlciA9IHRoaXMuX21vZGVsU2V0dGluZy5nZXRIaXRBcmVhc0NvdW50KCk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgIGlmICh0aGlzLl9tb2RlbFNldHRpbmcuZ2V0SGl0QXJlYU5hbWUoaSkgPT0gaGl0QXJlbmFOYW1lKSB7XG4gICAgICAgIGNvbnN0IGRyYXdJZDogQ3ViaXNtSWRIYW5kbGUgPSB0aGlzLl9tb2RlbFNldHRpbmcuZ2V0SGl0QXJlYUlkKGkpO1xuICAgICAgICByZXR1cm4gdGhpcy5pc0hpdChkcmF3SWQsIHgsIHkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiDjg6Ljg7zjgrfjg6fjg7Pjg4fjg7zjgr/jgpLjgrDjg6vjg7zjg5flkI3jgYvjgonkuIDmi6zjgafjg63jg7zjg4njgZnjgovjgIJcbiAgICog44Oi44O844K344On44Oz44OH44O844K/44Gu5ZCN5YmN44Gv5YaF6YOo44GnTW9kZWxTZXR0aW5n44GL44KJ5Y+W5b6X44GZ44KL44CCXG4gICAqXG4gICAqIEBwYXJhbSBncm91cCDjg6Ljg7zjgrfjg6fjg7Pjg4fjg7zjgr/jga7jgrDjg6vjg7zjg5flkI1cbiAgICovXG4gIHB1YmxpYyBwcmVMb2FkTW90aW9uR3JvdXAoZ3JvdXA6IHN0cmluZyk6IHZvaWQge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fbW9kZWxTZXR0aW5nLmdldE1vdGlvbkNvdW50KGdyb3VwKTsgaSsrKSB7XG4gICAgICBjb25zdCBtb3Rpb25GaWxlTmFtZSA9IHRoaXMuX21vZGVsU2V0dGluZy5nZXRNb3Rpb25GaWxlTmFtZShncm91cCwgaSk7XG5cbiAgICAgIC8vIGV4KSBpZGxlXzBcbiAgICAgIGNvbnN0IG5hbWUgPSBgJHtncm91cH1fJHtpfWA7XG4gICAgICBpZiAodGhpcy5fZGVidWdNb2RlKSB7XG4gICAgICAgIExBcHBQYWwucHJpbnRNZXNzYWdlKFxuICAgICAgICAgIGBbQVBQXWxvYWQgbW90aW9uOiAke21vdGlvbkZpbGVOYW1lfSA9PiBbJHtuYW1lfV1gXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGZldGNoKGAke3RoaXMuX21vZGVsSG9tZURpcn0vJHttb3Rpb25GaWxlTmFtZX1gKVxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5hcnJheUJ1ZmZlcigpKVxuICAgICAgICAudGhlbihhcnJheUJ1ZmZlciA9PiB7XG4gICAgICAgICAgY29uc3QgdG1wTW90aW9uOiBDdWJpc21Nb3Rpb24gPSB0aGlzLmxvYWRNb3Rpb24oXG4gICAgICAgICAgICBhcnJheUJ1ZmZlcixcbiAgICAgICAgICAgIGFycmF5QnVmZmVyLmJ5dGVMZW5ndGgsXG4gICAgICAgICAgICBuYW1lXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGxldCBmYWRlVGltZSA9IHRoaXMuX21vZGVsU2V0dGluZy5nZXRNb3Rpb25GYWRlSW5UaW1lVmFsdWUoZ3JvdXAsIGkpO1xuICAgICAgICAgIGlmIChmYWRlVGltZSA+PSAwLjApIHtcbiAgICAgICAgICAgIHRtcE1vdGlvbi5zZXRGYWRlSW5UaW1lKGZhZGVUaW1lKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmYWRlVGltZSA9IHRoaXMuX21vZGVsU2V0dGluZy5nZXRNb3Rpb25GYWRlT3V0VGltZVZhbHVlKGdyb3VwLCBpKTtcbiAgICAgICAgICBpZiAoZmFkZVRpbWUgPj0gMC4wKSB7XG4gICAgICAgICAgICB0bXBNb3Rpb24uc2V0RmFkZU91dFRpbWUoZmFkZVRpbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0bXBNb3Rpb24uc2V0RWZmZWN0SWRzKHRoaXMuX2V5ZUJsaW5rSWRzLCB0aGlzLl9saXBTeW5jSWRzKTtcblxuICAgICAgICAgIGlmICh0aGlzLl9tb3Rpb25zLmdldFZhbHVlKG5hbWUpICE9IG51bGwpIHtcbiAgICAgICAgICAgIEFDdWJpc21Nb3Rpb24uZGVsZXRlKHRoaXMuX21vdGlvbnMuZ2V0VmFsdWUobmFtZSkpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuX21vdGlvbnMuc2V0VmFsdWUobmFtZSwgdG1wTW90aW9uKTtcblxuICAgICAgICAgIHRoaXMuX21vdGlvbkNvdW50Kys7XG4gICAgICAgICAgaWYgKHRoaXMuX21vdGlvbkNvdW50ID49IHRoaXMuX2FsbE1vdGlvbkNvdW50KSB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IExvYWRTdGVwLkxvYWRUZXh0dXJlO1xuXG4gICAgICAgICAgICAvLyDlhajjgabjga7jg6Ljg7zjgrfjg6fjg7PjgpLlgZzmraLjgZnjgotcbiAgICAgICAgICAgIHRoaXMuX21vdGlvbk1hbmFnZXIuc3RvcEFsbE1vdGlvbnMoKTtcblxuICAgICAgICAgICAgdGhpcy5fdXBkYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgdGhpcy5jcmVhdGVSZW5kZXJlcigpO1xuICAgICAgICAgICAgdGhpcy5zZXR1cFRleHR1cmVzKCk7XG4gICAgICAgICAgICB0aGlzLmdldFJlbmRlcmVyKCkuc3RhcnRVcChnbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog44GZ44G544Gm44Gu44Oi44O844K344On44Oz44OH44O844K/44KS6Kej5pS+44GZ44KL44CCXG4gICAqL1xuICBwdWJsaWMgcmVsZWFzZU1vdGlvbnMoKTogdm9pZCB7XG4gICAgdGhpcy5fbW90aW9ucy5jbGVhcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIOWFqOOBpuOBruihqOaDheODh+ODvOOCv+OCkuino+aUvuOBmeOCi+OAglxuICAgKi9cbiAgcHVibGljIHJlbGVhc2VFeHByZXNzaW9ucygpOiB2b2lkIHtcbiAgICB0aGlzLl9leHByZXNzaW9ucy5jbGVhcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIOODouODh+ODq+OCkuaPj+eUu+OBmeOCi+WHpueQhuOAguODouODh+ODq+OCkuaPj+eUu+OBmeOCi+epuumWk+OBrlZpZXctUHJvamVjdGlvbuihjOWIl+OCkua4oeOBmeOAglxuICAgKi9cbiAgcHVibGljIGRvRHJhdygpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5fbW9kZWwgPT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgLy8g44Kt44Oj44Oz44OQ44K544K144Kk44K644KS5rih44GZXG4gICAgY29uc3Qgdmlld3BvcnQ6IG51bWJlcltdID0gWzAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodF07XG5cbiAgICB0aGlzLmdldFJlbmRlcmVyKCkuc2V0UmVuZGVyU3RhdGUoZnJhbWVCdWZmZXIsIHZpZXdwb3J0KTtcbiAgICB0aGlzLmdldFJlbmRlcmVyKCkuZHJhd01vZGVsKCk7XG4gIH1cblxuICAvKipcbiAgICog44Oi44OH44Or44KS5o+P55S744GZ44KL5Yem55CG44CC44Oi44OH44Or44KS5o+P55S744GZ44KL56m66ZaT44GuVmlldy1Qcm9qZWN0aW9u6KGM5YiX44KS5rih44GZ44CCXG4gICAqL1xuICBwdWJsaWMgZHJhdyhtYXRyaXg6IEN1YmlzbU1hdHJpeDQ0KTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX21vZGVsID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyDlkIToqq3jgb/ovrzjgb/ntYLkuoblvoxcbiAgICBpZiAodGhpcy5fc3RhdGUgPT0gTG9hZFN0ZXAuQ29tcGxldGVTZXR1cCkge1xuICAgICAgbWF0cml4Lm11bHRpcGx5QnlNYXRyaXgodGhpcy5fbW9kZWxNYXRyaXgpO1xuXG4gICAgICB0aGlzLmdldFJlbmRlcmVyKCkuc2V0TXZwTWF0cml4KG1hdHJpeCk7XG5cbiAgICAgIHRoaXMuZG9EcmF3KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOOCs+ODs+OCueODiOODqeOCr+OCv1xuICAgKi9cbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fZGVidWdNb2RlID0gRGVidWdNb2RlbExvZ0VuYWJsZTtcblxuICAgIHRoaXMuX21vZGVsU2V0dGluZyA9IG51bGw7XG4gICAgdGhpcy5fbW9kZWxIb21lRGlyID0gbnVsbDtcbiAgICB0aGlzLl91c2VyVGltZVNlY29uZHMgPSAwLjA7XG5cbiAgICB0aGlzLl9leWVCbGlua0lkcyA9IG5ldyBjc21WZWN0b3I8Q3ViaXNtSWRIYW5kbGU+KCk7XG4gICAgdGhpcy5fbGlwU3luY0lkcyA9IG5ldyBjc21WZWN0b3I8Q3ViaXNtSWRIYW5kbGU+KCk7XG5cbiAgICB0aGlzLl9tb3Rpb25zID0gbmV3IGNzbU1hcDxzdHJpbmcsIEFDdWJpc21Nb3Rpb24+KCk7XG4gICAgdGhpcy5fZXhwcmVzc2lvbnMgPSBuZXcgY3NtTWFwPHN0cmluZywgQUN1YmlzbU1vdGlvbj4oKTtcblxuICAgIHRoaXMuX2hpdEFyZWEgPSBuZXcgY3NtVmVjdG9yPGNzbVJlY3Q+KCk7XG4gICAgdGhpcy5fdXNlckFyZWEgPSBuZXcgY3NtVmVjdG9yPGNzbVJlY3Q+KCk7XG5cbiAgICB0aGlzLl9pZFBhcmFtQW5nbGVYID0gQ3ViaXNtRnJhbWV3b3JrLmdldElkTWFuYWdlcigpLmdldElkKFxuICAgICAgQ3ViaXNtRGVmYXVsdFBhcmFtZXRlcklkLlBhcmFtQW5nbGVYXG4gICAgKTtcbiAgICB0aGlzLl9pZFBhcmFtQW5nbGVZID0gQ3ViaXNtRnJhbWV3b3JrLmdldElkTWFuYWdlcigpLmdldElkKFxuICAgICAgQ3ViaXNtRGVmYXVsdFBhcmFtZXRlcklkLlBhcmFtQW5nbGVZXG4gICAgKTtcbiAgICB0aGlzLl9pZFBhcmFtQW5nbGVaID0gQ3ViaXNtRnJhbWV3b3JrLmdldElkTWFuYWdlcigpLmdldElkKFxuICAgICAgQ3ViaXNtRGVmYXVsdFBhcmFtZXRlcklkLlBhcmFtQW5nbGVaXG4gICAgKTtcbiAgICB0aGlzLl9pZFBhcmFtRXllQmFsbFggPSBDdWJpc21GcmFtZXdvcmsuZ2V0SWRNYW5hZ2VyKCkuZ2V0SWQoXG4gICAgICBDdWJpc21EZWZhdWx0UGFyYW1ldGVySWQuUGFyYW1FeWVCYWxsWFxuICAgICk7XG4gICAgdGhpcy5faWRQYXJhbUV5ZUJhbGxZID0gQ3ViaXNtRnJhbWV3b3JrLmdldElkTWFuYWdlcigpLmdldElkKFxuICAgICAgQ3ViaXNtRGVmYXVsdFBhcmFtZXRlcklkLlBhcmFtRXllQmFsbFlcbiAgICApO1xuICAgIHRoaXMuX2lkUGFyYW1Cb2R5QW5nbGVYID0gQ3ViaXNtRnJhbWV3b3JrLmdldElkTWFuYWdlcigpLmdldElkKFxuICAgICAgQ3ViaXNtRGVmYXVsdFBhcmFtZXRlcklkLlBhcmFtQm9keUFuZ2xlWFxuICAgICk7XG5cbiAgICB0aGlzLl9zdGF0ZSA9IExvYWRTdGVwLkxvYWRBc3NldHM7XG4gICAgdGhpcy5fZXhwcmVzc2lvbkNvdW50ID0gMDtcbiAgICB0aGlzLl90ZXh0dXJlQ291bnQgPSAwO1xuICAgIHRoaXMuX21vdGlvbkNvdW50ID0gMDtcbiAgICB0aGlzLl9hbGxNb3Rpb25Db3VudCA9IDA7XG4gIH1cblxuICBfbW9kZWxTZXR0aW5nOiBJQ3ViaXNtTW9kZWxTZXR0aW5nOyAvLyDjg6Ljg4fjg6vjgrvjg4Pjg4bjgqPjg7PjgrDmg4XloLFcbiAgX21vZGVsSG9tZURpcjogc3RyaW5nOyAvLyDjg6Ljg4fjg6vjgrvjg4Pjg4bjgqPjg7PjgrDjgYznva7jgYvjgozjgZ/jg4fjgqPjg6zjgq/jg4jjg6pcbiAgX3VzZXJUaW1lU2Vjb25kczogbnVtYmVyOyAvLyDjg4fjg6vjgr/mmYLplpPjga7nqY3nrpflgKRb56eSXVxuXG4gIF9leWVCbGlua0lkczogY3NtVmVjdG9yPEN1YmlzbUlkSGFuZGxlPjsgLy8g44Oi44OH44Or44Gr6Kit5a6a44GV44KM44Gf556s44GN5qmf6IO955So44OR44Op44Oh44O844K/SURcbiAgX2xpcFN5bmNJZHM6IGNzbVZlY3RvcjxDdWJpc21JZEhhbmRsZT47IC8vIOODouODh+ODq+OBq+ioreWumuOBleOCjOOBn+ODquODg+ODl+OCt+ODs+OCr+apn+iDveeUqOODkeODqeODoeODvOOCv0lEXG5cbiAgX21vdGlvbnM6IGNzbU1hcDxzdHJpbmcsIEFDdWJpc21Nb3Rpb24+OyAvLyDoqq3jgb/ovrzjgb7jgozjgabjgYTjgovjg6Ljg7zjgrfjg6fjg7Pjga7jg6rjgrnjg4hcbiAgX2V4cHJlc3Npb25zOiBjc21NYXA8c3RyaW5nLCBBQ3ViaXNtTW90aW9uPjsgLy8g6Kqt44G/6L6844G+44KM44Gm44GE44KL6KGo5oOF44Gu44Oq44K544OIXG5cbiAgX2hpdEFyZWE6IGNzbVZlY3Rvcjxjc21SZWN0PjtcbiAgX3VzZXJBcmVhOiBjc21WZWN0b3I8Y3NtUmVjdD47XG5cbiAgX2lkUGFyYW1BbmdsZVg6IEN1YmlzbUlkSGFuZGxlOyAvLyDjg5Hjg6njg6Hjg7zjgr9JRDogUGFyYW1BbmdsZVhcbiAgX2lkUGFyYW1BbmdsZVk6IEN1YmlzbUlkSGFuZGxlOyAvLyDjg5Hjg6njg6Hjg7zjgr9JRDogUGFyYW1BbmdsZVlcbiAgX2lkUGFyYW1BbmdsZVo6IEN1YmlzbUlkSGFuZGxlOyAvLyDjg5Hjg6njg6Hjg7zjgr9JRDogUGFyYW1BbmdsZVpcbiAgX2lkUGFyYW1FeWVCYWxsWDogQ3ViaXNtSWRIYW5kbGU7IC8vIOODkeODqeODoeODvOOCv0lEOiBQYXJhbUV5ZUJhbGxYXG4gIF9pZFBhcmFtRXllQmFsbFk6IEN1YmlzbUlkSGFuZGxlOyAvLyDjg5Hjg6njg6Hjg7zjgr9JRDogUGFyYW1FeWVCQWxsWVxuICBfaWRQYXJhbUJvZHlBbmdsZVg6IEN1YmlzbUlkSGFuZGxlOyAvLyDjg5Hjg6njg6Hjg7zjgr9JRDogUGFyYW1Cb2R5QW5nbGVYXG5cbiAgX3N0YXRlOiBudW1iZXI7IC8vIOePvuWcqOOBruOCueODhuODvOOCv+OCueeuoeeQhueUqFxuICBfZXhwcmVzc2lvbkNvdW50OiBudW1iZXI7IC8vIOihqOaDheODh+ODvOOCv+OCq+OCpuODs+ODiFxuICBfdGV4dHVyZUNvdW50OiBudW1iZXI7IC8vIOODhuOCr+OCueODgeODo+OCq+OCpuODs+ODiFxuICBfbW90aW9uQ291bnQ6IG51bWJlcjsgLy8g44Oi44O844K344On44Oz44OH44O844K/44Kr44Km44Oz44OIXG4gIF9hbGxNb3Rpb25Db3VudDogbnVtYmVyOyAvLyDjg6Ljg7zjgrfjg6fjg7Pnt4/mlbBcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBR0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFBQTtBQTh0QkE7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFHQTtBQUdBO0FBR0E7QUFHQTtBQUdBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQWp3QkE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUdBO0FBQ0E7QUFDQTtBQVFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBOztBQWhDQTtBQUFBO0FBaUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUdBO0FBR0E7QUFHQTtBQVlBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFFQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFFQTtBQUVBO0FBRUE7QUFHQTtBQUtBO0FBQ0E7O0FBRUE7QUFHQTtBQUdBO0FBR0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBOzs7QUFsQ0E7QUFDQTtBQWtDQTtBQUVBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBRUE7QUFJQTtBQUFBO0FBQ0E7QUFJQTtBQUNBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQU1BO0FBTUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFVQTtBQUFBO0FBTUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQVNBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBT0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBVUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFRQTtBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQW5EQTtBQUFBO0FBb0RBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQUE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBeUVBO0FBQUE7QUFseUJBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/lappmodel.ts\n");

/***/ }),

/***/ "./src/lapppal.ts":
/*!************************!*\
  !*** ./src/lapppal.ts ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LAppPal = void 0;\nvar LAppPal = (function () {\n    function LAppPal() {\n    }\n    LAppPal.loadFileAsBytes = function (filePath, callback) {\n        fetch(filePath)\n            .then(function (response) { return response.arrayBuffer(); })\n            .then(function (arrayBuffer) { return callback(arrayBuffer, arrayBuffer.byteLength); });\n    };\n    LAppPal.getDeltaTime = function () {\n        return this.s_deltaTime;\n    };\n    LAppPal.updateTime = function () {\n        this.s_currentFrame = Date.now();\n        this.s_deltaTime = (this.s_currentFrame - this.s_lastFrame) / 1000;\n        this.s_lastFrame = this.s_currentFrame;\n    };\n    LAppPal.printMessage = function (message) {\n        console.log(message);\n    };\n    LAppPal.log = function (any, tag) {\n        if (tag === void 0) { tag = \"info\"; }\n        console.log(any, tag);\n    };\n    LAppPal.getName = function (fun) {\n        return typeof fun === 'function' ?\n            undefined :\n            fun.name || /function (.+)\\(/.exec(fun + '')[1];\n    };\n    LAppPal.lastUpdate = Date.now();\n    LAppPal.s_currentFrame = 0.0;\n    LAppPal.s_lastFrame = 0.0;\n    LAppPal.s_deltaTime = 0.0;\n    return LAppPal;\n}());\nexports.LAppPal = LAppPal;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGFwcHBhbC50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9sYXBwcGFsLnRzP2QzNzAiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTGl2ZTJEIE9wZW4gU29mdHdhcmUgbGljZW5zZVxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXG4gKi9cblxuLyoqXG4gKiDjg5fjg6njg4Pjg4jjg5Xjgqnjg7zjg6Dkvp3lrZjmqZ/og73jgpLmir3osaHljJbjgZnjgosgQ3ViaXNtIFBsYXRmb3JtIEFic3RyYWN0aW9uIExheWVyLlxuICpcbiAqIOODleOCoeOCpOODq+iqreOBv+i+vOOBv+OChOaZguWIu+WPluW+l+etieOBruODl+ODqeODg+ODiOODleOCqeODvOODoOOBq+S+neWtmOOBmeOCi+mWouaVsOOCkuOBvuOBqOOCgeOCi+OAglxuICovXG4vLyDlo7DmmI7kuIDkuKrlhajlsYDnmoRsb2fmlrnms5XvvIznlKjmnaXmiZNsb2dcblxuZXhwb3J0IGNsYXNzIExBcHBQYWwge1xuICAvKipcbiAgICog44OV44Kh44Kk44Or44KS44OQ44Kk44OI44OH44O844K/44Go44GX44Gm6Kqt44G/44GT44KAXG4gICAqXG4gICAqIEBwYXJhbSBmaWxlUGF0aCDoqq3jgb/ovrzjgb/lr77osaHjg5XjgqHjgqTjg6vjga7jg5HjgrlcbiAgICogQHJldHVyblxuICAgKiB7XG4gICAqICAgICAgYnVmZmVyLCAgIOiqreOBv+i+vOOCk+OBoOODkOOCpOODiOODh+ODvOOCv1xuICAgKiAgICAgIHNpemUgICAgICAgIOODleOCoeOCpOODq+OCteOCpOOCulxuICAgKiB9XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGxvYWRGaWxlQXNCeXRlcyhcbiAgICBmaWxlUGF0aDogc3RyaW5nLFxuICAgIGNhbGxiYWNrOiAoYXJyYXlCdWZmZXI6IEFycmF5QnVmZmVyLCBzaXplOiBudW1iZXIpID0+IHZvaWRcbiAgKTogdm9pZCB7XG4gICAgZmV0Y2goZmlsZVBhdGgpXG4gICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5hcnJheUJ1ZmZlcigpKVxuICAgICAgLnRoZW4oYXJyYXlCdWZmZXIgPT4gY2FsbGJhY2soYXJyYXlCdWZmZXIsIGFycmF5QnVmZmVyLmJ5dGVMZW5ndGgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDjg4fjg6vjgr/mmYLplpPvvIjliY3lm57jg5Xjg6zjg7zjg6Djgajjga7lt67liIbvvInjgpLlj5blvpfjgZnjgotcbiAgICogQHJldHVybiDjg4fjg6vjgr/mmYLplpNbbXNdXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGdldERlbHRhVGltZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnNfZGVsdGFUaW1lO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyB1cGRhdGVUaW1lKCk6IHZvaWQge1xuICAgIHRoaXMuc19jdXJyZW50RnJhbWUgPSBEYXRlLm5vdygpO1xuICAgIHRoaXMuc19kZWx0YVRpbWUgPSAodGhpcy5zX2N1cnJlbnRGcmFtZSAtIHRoaXMuc19sYXN0RnJhbWUpIC8gMTAwMDtcbiAgICB0aGlzLnNfbGFzdEZyYW1lID0gdGhpcy5zX2N1cnJlbnRGcmFtZTtcbiAgfVxuXG4gIC8qKlxuICAgKiDjg6Hjg4Pjgrvjg7zjgrjjgpLlh7rlipvjgZnjgotcbiAgICogQHBhcmFtIG1lc3NhZ2Ug5paH5a2X5YiXXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIHByaW50TWVzc2FnZShtZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgbG9nKGFueTphbnksdGFnOnN0cmluZyA9IFwiaW5mb1wiKTp2b2lke1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBjb25zb2xlLmxvZyhhbnksdGFnKTtcbiAgfVxuICBwdWJsaWMgc3RhdGljIGdldE5hbWUoZnVuKXtcbiAgICByZXR1cm4gdHlwZW9mIGZ1bj09PSdmdW5jdGlvbic/XG4gICAgICAgIHVuZGVmaW5lZDpcbiAgICAgICAgZnVuLm5hbWV8fC9mdW5jdGlvbiAoLispXFwoLy5leGVjKGZ1biArICcnKVsxXTtcbiAgfVxuXG5cbiAgc3RhdGljIGxhc3RVcGRhdGUgPSBEYXRlLm5vdygpO1xuXG4gIHN0YXRpYyBzX2N1cnJlbnRGcmFtZSA9IDAuMDtcbiAgc3RhdGljIHNfbGFzdEZyYW1lID0gMC4wO1xuICBzdGF0aWMgc19kZWx0YVRpbWUgPSAwLjA7XG59XG4iXSwibWFwcGluZ3MiOiI7OztBQWNBO0FBQUE7QUEwREE7QUEvQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUExREE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/lapppal.ts\n");

/***/ }),

/***/ "./src/lapptexturemanager.ts":
/*!***********************************!*\
  !*** ./src/lapptexturemanager.ts ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TextureInfo = exports.LAppTextureManager = void 0;\nvar csmvector_1 = __webpack_require__(/*! @framework/type/csmvector */ \"./Framework/src/type/csmvector.ts\");\nvar Csm_csmVector = csmvector_1.Live2DCubismFramework.csmVector;\nvar lappdelegate_1 = __webpack_require__(/*! ./lappdelegate */ \"./src/lappdelegate.ts\");\nvar LAppTextureManager = (function () {\n    function LAppTextureManager() {\n        this._textures = new Csm_csmVector();\n    }\n    LAppTextureManager.prototype.release = function () {\n        for (var ite = this._textures.begin(); ite.notEqual(this._textures.end()); ite.preIncrement()) {\n            lappdelegate_1.gl.deleteTexture(ite.ptr().id);\n        }\n        this._textures = null;\n    };\n    LAppTextureManager.prototype.createTextureFromPngFile = function (fileName, usePremultiply, callback) {\n        var _this = this;\n        var _loop_1 = function (ite) {\n            if (ite.ptr().fileName == fileName &&\n                ite.ptr().usePremultply == usePremultiply) {\n                ite.ptr().img = new Image();\n                ite.ptr().img.onload = function () { return callback(ite.ptr()); };\n                ite.ptr().img.src = fileName;\n                return { value: void 0 };\n            }\n        };\n        for (var ite = this._textures.begin(); ite.notEqual(this._textures.end()); ite.preIncrement()) {\n            var state_1 = _loop_1(ite);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n        var img = new Image();\n        img.onload = function () {\n            var tex = lappdelegate_1.gl.createTexture();\n            lappdelegate_1.gl.bindTexture(lappdelegate_1.gl.TEXTURE_2D, tex);\n            lappdelegate_1.gl.texParameteri(lappdelegate_1.gl.TEXTURE_2D, lappdelegate_1.gl.TEXTURE_MIN_FILTER, lappdelegate_1.gl.LINEAR_MIPMAP_LINEAR);\n            lappdelegate_1.gl.texParameteri(lappdelegate_1.gl.TEXTURE_2D, lappdelegate_1.gl.TEXTURE_MAG_FILTER, lappdelegate_1.gl.LINEAR);\n            if (usePremultiply) {\n                lappdelegate_1.gl.pixelStorei(lappdelegate_1.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, 1);\n            }\n            lappdelegate_1.gl.texImage2D(lappdelegate_1.gl.TEXTURE_2D, 0, lappdelegate_1.gl.RGBA, lappdelegate_1.gl.RGBA, lappdelegate_1.gl.UNSIGNED_BYTE, img);\n            lappdelegate_1.gl.generateMipmap(lappdelegate_1.gl.TEXTURE_2D);\n            lappdelegate_1.gl.bindTexture(lappdelegate_1.gl.TEXTURE_2D, null);\n            var textureInfo = new TextureInfo();\n            if (textureInfo != null) {\n                textureInfo.fileName = fileName;\n                textureInfo.width = img.width;\n                textureInfo.height = img.height;\n                textureInfo.id = tex;\n                textureInfo.img = img;\n                textureInfo.usePremultply = usePremultiply;\n                _this._textures.pushBack(textureInfo);\n            }\n            callback(textureInfo);\n        };\n        img.src = fileName;\n    };\n    LAppTextureManager.prototype.releaseTextures = function () {\n        for (var i = 0; i < this._textures.getSize(); i++) {\n            this._textures.set(i, null);\n        }\n        this._textures.clear();\n    };\n    LAppTextureManager.prototype.releaseTextureByTexture = function (texture) {\n        for (var i = 0; i < this._textures.getSize(); i++) {\n            if (this._textures.at(i).id != texture) {\n                continue;\n            }\n            this._textures.set(i, null);\n            this._textures.remove(i);\n            break;\n        }\n    };\n    LAppTextureManager.prototype.releaseTextureByFilePath = function (fileName) {\n        for (var i = 0; i < this._textures.getSize(); i++) {\n            if (this._textures.at(i).fileName == fileName) {\n                this._textures.set(i, null);\n                this._textures.remove(i);\n                break;\n            }\n        }\n    };\n    return LAppTextureManager;\n}());\nexports.LAppTextureManager = LAppTextureManager;\nvar TextureInfo = (function () {\n    function TextureInfo() {\n        this.id = null;\n        this.width = 0;\n        this.height = 0;\n    }\n    return TextureInfo;\n}());\nexports.TextureInfo = TextureInfo;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGFwcHRleHR1cmVtYW5hZ2VyLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2xhcHB0ZXh0dXJlbWFuYWdlci50cz8yYzBhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0KGMpIExpdmUyRCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcbiAqIHRoYXQgY2FuIGJlIGZvdW5kIGF0IGh0dHBzOi8vd3d3LmxpdmUyZC5jb20vZXVsYS9saXZlMmQtb3Blbi1zb2Z0d2FyZS1saWNlbnNlLWFncmVlbWVudF9lbi5odG1sLlxuICovXG5cbmltcG9ydCB7IExpdmUyREN1YmlzbUZyYW1ld29yayBhcyBjc212ZWN0b3IgfSBmcm9tICdAZnJhbWV3b3JrL3R5cGUvY3NtdmVjdG9yJztcbmltcG9ydCBDc21fY3NtVmVjdG9yID0gY3NtdmVjdG9yLmNzbVZlY3RvcjtcbmltcG9ydCBjc21WZWN0b3JfaXRlcmF0b3IgPSBjc212ZWN0b3IuaXRlcmF0b3I7XG5pbXBvcnQgeyBnbCB9IGZyb20gJy4vbGFwcGRlbGVnYXRlJztcblxuLyoqXG4gKiDjg4bjgq/jgrnjg4Hjg6PnrqHnkIbjgq/jg6njgrlcbiAqIOeUu+WDj+iqreOBv+i+vOOBv+OAgeeuoeeQhuOCkuihjOOBhuOCr+ODqeOCueOAglxuICovXG5leHBvcnQgY2xhc3MgTEFwcFRleHR1cmVNYW5hZ2VyIHtcbiAgLyoqXG4gICAqIOOCs+ODs+OCueODiOODqeOCr+OCv1xuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fdGV4dHVyZXMgPSBuZXcgQ3NtX2NzbVZlY3RvcjxUZXh0dXJlSW5mbz4oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDop6PmlL7jgZnjgovjgIJcbiAgICovXG4gIHB1YmxpYyByZWxlYXNlKCk6IHZvaWQge1xuICAgIGZvciAoXG4gICAgICBsZXQgaXRlOiBjc21WZWN0b3JfaXRlcmF0b3I8VGV4dHVyZUluZm8+ID0gdGhpcy5fdGV4dHVyZXMuYmVnaW4oKTtcbiAgICAgIGl0ZS5ub3RFcXVhbCh0aGlzLl90ZXh0dXJlcy5lbmQoKSk7XG4gICAgICBpdGUucHJlSW5jcmVtZW50KClcbiAgICApIHtcbiAgICAgIGdsLmRlbGV0ZVRleHR1cmUoaXRlLnB0cigpLmlkKTtcbiAgICB9XG4gICAgdGhpcy5fdGV4dHVyZXMgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIOeUu+WDj+iqreOBv+i+vOOBv1xuICAgKlxuICAgKiBAcGFyYW0gZmlsZU5hbWUg6Kqt44G/6L6844KA55S75YOP44OV44Kh44Kk44Or44OR44K55ZCNXG4gICAqIEBwYXJhbSB1c2VQcmVtdWx0aXBseSBQcmVtdWx05Yem55CG44KS5pyJ5Yq544Gr44GZ44KL44GLXG4gICAqIEByZXR1cm4g55S75YOP5oOF5aCx44CB6Kqt44G/6L6844G/5aSx5pWX5pmC44GvbnVsbOOCkui/lOOBmVxuICAgKi9cbiAgcHVibGljIGNyZWF0ZVRleHR1cmVGcm9tUG5nRmlsZShcbiAgICBmaWxlTmFtZTogc3RyaW5nLFxuICAgIHVzZVByZW11bHRpcGx5OiBib29sZWFuLFxuICAgIGNhbGxiYWNrOiAodGV4dHVyZUluZm86IFRleHR1cmVJbmZvKSA9PiB2b2lkXG4gICk6IHZvaWQge1xuICAgIC8vIHNlYXJjaCBsb2FkZWQgdGV4dHVyZSBhbHJlYWR5XG4gICAgZm9yIChcbiAgICAgIGxldCBpdGU6IGNzbVZlY3Rvcl9pdGVyYXRvcjxUZXh0dXJlSW5mbz4gPSB0aGlzLl90ZXh0dXJlcy5iZWdpbigpO1xuICAgICAgaXRlLm5vdEVxdWFsKHRoaXMuX3RleHR1cmVzLmVuZCgpKTtcbiAgICAgIGl0ZS5wcmVJbmNyZW1lbnQoKVxuICAgICkge1xuICAgICAgaWYgKFxuICAgICAgICBpdGUucHRyKCkuZmlsZU5hbWUgPT0gZmlsZU5hbWUgJiZcbiAgICAgICAgaXRlLnB0cigpLnVzZVByZW11bHRwbHkgPT0gdXNlUHJlbXVsdGlwbHlcbiAgICAgICkge1xuICAgICAgICAvLyAy5Zue55uu5Lul6ZmN44Gv44Kt44Oj44OD44K344Ol44GM5L2/55So44GV44KM44KLKOW+heOBoeaZgumWk+OBquOBlylcbiAgICAgICAgLy8gV2ViS2l044Gn44Gv5ZCM44GYSW1hZ2Xjga5vbmxvYWTjgpLlho3luqblkbzjgbbjgavjga/lho3jgqTjg7Pjgrnjgr/jg7PjgrnjgYzlv4XopoFcbiAgICAgICAgLy8g6Kmz57Sw77yaaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzUwMjQxODFcbiAgICAgICAgaXRlLnB0cigpLmltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBpdGUucHRyKCkuaW1nLm9ubG9hZCA9ICgpOiB2b2lkID0+IGNhbGxiYWNrKGl0ZS5wdHIoKSk7XG4gICAgICAgIGl0ZS5wdHIoKS5pbWcuc3JjID0gZmlsZU5hbWU7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyDjg4fjg7zjgr/jga7jgqrjg7Pjg63jg7zjg4njgpLjg4jjg6rjgqzjg7zjgavjgZnjgotcbiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICBpbWcub25sb2FkID0gKCk6IHZvaWQgPT4ge1xuICAgICAgLy8g44OG44Kv44K544OB44Oj44Kq44OW44K444Kn44Kv44OI44Gu5L2c5oiQXG4gICAgICBjb25zdCB0ZXg6IFdlYkdMVGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcblxuICAgICAgLy8g44OG44Kv44K544OB44Oj44KS6YG45oqeXG4gICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXgpO1xuXG4gICAgICAvLyDjg4bjgq/jgrnjg4Hjg6Pjgavjg5Tjgq/jgrvjg6vjgpLmm7jjgY3ovrzjgoBcbiAgICAgIGdsLnRleFBhcmFtZXRlcmkoXG4gICAgICAgIGdsLlRFWFRVUkVfMkQsXG4gICAgICAgIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUixcbiAgICAgICAgZ2wuTElORUFSX01JUE1BUF9MSU5FQVJcbiAgICAgICk7XG4gICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTElORUFSKTtcblxuICAgICAgLy8gUHJlbXVsdOWHpueQhuOCkuihjOOCj+OBm+OCi1xuICAgICAgaWYgKHVzZVByZW11bHRpcGx5KSB7XG4gICAgICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwgMSk7XG4gICAgICB9XG5cbiAgICAgIC8vIOODhuOCr+OCueODgeODo+OBq+ODlOOCr+OCu+ODq+OCkuabuOOBjei+vOOCgFxuICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBpbWcpO1xuXG4gICAgICAvLyDjg5/jg4Pjg5fjg57jg4Pjg5fjgpLnlJ/miJBcbiAgICAgIGdsLmdlbmVyYXRlTWlwbWFwKGdsLlRFWFRVUkVfMkQpO1xuXG4gICAgICAvLyDjg4bjgq/jgrnjg4Hjg6PjgpLjg5DjgqTjg7Pjg4lcbiAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIG51bGwpO1xuXG4gICAgICBjb25zdCB0ZXh0dXJlSW5mbzogVGV4dHVyZUluZm8gPSBuZXcgVGV4dHVyZUluZm8oKTtcbiAgICAgIGlmICh0ZXh0dXJlSW5mbyAhPSBudWxsKSB7XG4gICAgICAgIHRleHR1cmVJbmZvLmZpbGVOYW1lID0gZmlsZU5hbWU7XG4gICAgICAgIHRleHR1cmVJbmZvLndpZHRoID0gaW1nLndpZHRoO1xuICAgICAgICB0ZXh0dXJlSW5mby5oZWlnaHQgPSBpbWcuaGVpZ2h0O1xuICAgICAgICB0ZXh0dXJlSW5mby5pZCA9IHRleDtcbiAgICAgICAgdGV4dHVyZUluZm8uaW1nID0gaW1nO1xuICAgICAgICB0ZXh0dXJlSW5mby51c2VQcmVtdWx0cGx5ID0gdXNlUHJlbXVsdGlwbHk7XG4gICAgICAgIHRoaXMuX3RleHR1cmVzLnB1c2hCYWNrKHRleHR1cmVJbmZvKTtcbiAgICAgIH1cblxuICAgICAgY2FsbGJhY2sodGV4dHVyZUluZm8pO1xuICAgIH07XG4gICAgaW1nLnNyYyA9IGZpbGVOYW1lO1xuICB9XG5cbiAgLyoqXG4gICAqIOeUu+WDj+OBruino+aUvlxuICAgKlxuICAgKiDphY3liJfjgavlrZjlnKjjgZnjgovnlLvlg4/lhajjgabjgpLop6PmlL7jgZnjgovjgIJcbiAgICovXG4gIHB1YmxpYyByZWxlYXNlVGV4dHVyZXMoKTogdm9pZCB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl90ZXh0dXJlcy5nZXRTaXplKCk7IGkrKykge1xuICAgICAgdGhpcy5fdGV4dHVyZXMuc2V0KGksIG51bGwpO1xuICAgIH1cblxuICAgIHRoaXMuX3RleHR1cmVzLmNsZWFyKCk7XG4gIH1cblxuICAvKipcbiAgICog55S75YOP44Gu6Kej5pS+XG4gICAqXG4gICAqIOaMh+WumuOBl+OBn+ODhuOCr+OCueODgeODo+OBrueUu+WDj+OCkuino+aUvuOBmeOCi+OAglxuICAgKiBAcGFyYW0gdGV4dHVyZSDop6PmlL7jgZnjgovjg4bjgq/jgrnjg4Hjg6NcbiAgICovXG4gIHB1YmxpYyByZWxlYXNlVGV4dHVyZUJ5VGV4dHVyZSh0ZXh0dXJlOiBXZWJHTFRleHR1cmUpOiB2b2lkIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3RleHR1cmVzLmdldFNpemUoKTsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5fdGV4dHVyZXMuYXQoaSkuaWQgIT0gdGV4dHVyZSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fdGV4dHVyZXMuc2V0KGksIG51bGwpO1xuICAgICAgdGhpcy5fdGV4dHVyZXMucmVtb3ZlKGkpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOeUu+WDj+OBruino+aUvlxuICAgKlxuICAgKiDmjIflrprjgZfjgZ/lkI3liY3jga7nlLvlg4/jgpLop6PmlL7jgZnjgovjgIJcbiAgICogQHBhcmFtIGZpbGVOYW1lIOino+aUvuOBmeOCi+eUu+WDj+ODleOCoeOCpOODq+ODkeOCueWQjVxuICAgKi9cbiAgcHVibGljIHJlbGVhc2VUZXh0dXJlQnlGaWxlUGF0aChmaWxlTmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl90ZXh0dXJlcy5nZXRTaXplKCk7IGkrKykge1xuICAgICAgaWYgKHRoaXMuX3RleHR1cmVzLmF0KGkpLmZpbGVOYW1lID09IGZpbGVOYW1lKSB7XG4gICAgICAgIHRoaXMuX3RleHR1cmVzLnNldChpLCBudWxsKTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZXMucmVtb3ZlKGkpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfdGV4dHVyZXM6IENzbV9jc21WZWN0b3I8VGV4dHVyZUluZm8+O1xufVxuXG4vKipcbiAqIOeUu+WDj+aDheWgseani+mAoOS9k1xuICovXG5leHBvcnQgY2xhc3MgVGV4dHVyZUluZm8ge1xuICBpbWc6IEhUTUxJbWFnZUVsZW1lbnQ7IC8vIOeUu+WDj1xuICBpZDogV2ViR0xUZXh0dXJlID0gbnVsbDsgLy8g44OG44Kv44K544OB44OjXG4gIHdpZHRoID0gMDsgLy8g5qiq5bmFXG4gIGhlaWdodCA9IDA7IC8vIOmrmOOBlVxuICB1c2VQcmVtdWx0cGx5OiBib29sZWFuOyAvLyBQcmVtdWx05Yem55CG44KS5pyJ5Yq544Gr44GZ44KL44GLXG4gIGZpbGVOYW1lOiBzdHJpbmc7IC8vIOODleOCoeOCpOODq+WQjVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7QUFPQTtBQUNBO0FBRUE7QUFNQTtBQUlBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBQUE7QUFPQTtBQUlBO0FBRUE7QUFLQTtBQUNBO0FBQ0E7O0FBRUE7O0FBaEJBO0FBQ0E7OztBQWdCQTtBQUdBO0FBQ0E7QUFFQTtBQUdBO0FBR0E7QUFLQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFySkE7QUEwSkE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFBQTtBQVBBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/lapptexturemanager.ts\n");

/***/ }),

/***/ "./src/lappview.ts":
/*!*************************!*\
  !*** ./src/lappview.ts ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LAppView = void 0;\nvar cubismmatrix44_1 = __webpack_require__(/*! @framework/math/cubismmatrix44 */ \"./Framework/src/math/cubismmatrix44.ts\");\nvar cubismviewmatrix_1 = __webpack_require__(/*! @framework/math/cubismviewmatrix */ \"./Framework/src/math/cubismviewmatrix.ts\");\nvar Csm_CubismViewMatrix = cubismviewmatrix_1.Live2DCubismFramework.CubismViewMatrix;\nvar Csm_CubismMatrix44 = cubismmatrix44_1.Live2DCubismFramework.CubismMatrix44;\nvar touchmanager_1 = __webpack_require__(/*! ./touchmanager */ \"./src/touchmanager.ts\");\nvar lapplive2dmanager_1 = __webpack_require__(/*! ./lapplive2dmanager */ \"./src/lapplive2dmanager.ts\");\nvar lappdelegate_1 = __webpack_require__(/*! ./lappdelegate */ \"./src/lappdelegate.ts\");\nvar lapppal_1 = __webpack_require__(/*! ./lapppal */ \"./src/lapppal.ts\");\nvar LAppDefine = __importStar(__webpack_require__(/*! ./lappdefine */ \"./src/lappdefine.ts\"));\nvar LAppView = (function () {\n    function LAppView() {\n        this._num = 0.8;\n        this._programId = null;\n        this._back = null;\n        this._gear = null;\n        this._next_random_motion = null;\n        this._touchManager = new touchmanager_1.TouchManager();\n        this._deviceToScreen = new Csm_CubismMatrix44();\n        this._viewMatrix = new Csm_CubismViewMatrix();\n    }\n    LAppView.prototype.initialize = function () {\n        var width = lappdelegate_1.canvas.width, height = lappdelegate_1.canvas.height;\n        var ratio = height / width;\n        var left = LAppDefine.ViewLogicalLeft;\n        var right = LAppDefine.ViewLogicalRight;\n        var bottom = -ratio;\n        var top = ratio;\n        this._viewMatrix.setScreenRect(left, right, bottom, top);\n        var screenW = Math.abs(left - right);\n        this._deviceToScreen.scaleRelative(screenW / width, -screenW / width);\n        this._deviceToScreen.translateRelative(-width * 0.5, -height * 0.5);\n        this._viewMatrix.setMaxScale(LAppDefine.ViewMaxScale);\n        this._viewMatrix.setMinScale(LAppDefine.ViewMinScale);\n        this._viewMatrix.setMaxScreenRect(LAppDefine.ViewLogicalMaxLeft, LAppDefine.ViewLogicalMaxRight, LAppDefine.ViewLogicalMaxBottom, LAppDefine.ViewLogicalMaxTop);\n    };\n    LAppView.prototype.release = function () {\n        this._viewMatrix = null;\n        this._touchManager = null;\n        this._deviceToScreen = null;\n        this._gear.release();\n        this._gear = null;\n        this._back.release();\n        this._back = null;\n        lappdelegate_1.gl.deleteProgram(this._programId);\n        this._programId = null;\n    };\n    LAppView.prototype.render = function () {\n        lappdelegate_1.gl.useProgram(this._programId);\n        if (this._back) {\n            this._back.render(this._programId);\n        }\n        if (this._gear) {\n            this._gear.render(this._programId);\n        }\n        if (this._next_random_motion) {\n            this._next_random_motion.render(this._programId);\n        }\n        lappdelegate_1.gl.flush();\n        var live2DManager = lapplive2dmanager_1.LAppLive2DManager.getInstance();\n        live2DManager.onUpdate();\n    };\n    LAppView.prototype.initializeSprite = function () {\n        var width = lappdelegate_1.canvas.width;\n        var height = lappdelegate_1.canvas.height;\n        var textureManager = lappdelegate_1.LAppDelegate.getInstance().getTextureManager();\n        var resourcesPath = LAppDefine.ResourcesPath;\n        var imageName = '';\n        imageName = LAppDefine.BackImageName;\n        if (this._programId == null) {\n            this._programId = lappdelegate_1.LAppDelegate.getInstance().createShader();\n        }\n    };\n    LAppView.prototype.onTouchesBegan = function (pointX, pointY) {\n        this._touchManager.touchesBegan(pointX, pointY);\n    };\n    LAppView.prototype.onTouchesMoved = function (pointX, pointY) {\n        var viewX = this.transformViewX(this._touchManager.getX());\n        var viewY = this.transformViewY(this._touchManager.getY());\n        this._touchManager.touchesMoved(pointX, pointY);\n        var live2DManager = lapplive2dmanager_1.LAppLive2DManager.getInstance();\n        live2DManager.onDrag(viewX, viewY);\n    };\n    LAppView.prototype.onTouchesEnded = function (pointX, pointY) {\n        var live2DManager = lapplive2dmanager_1.LAppLive2DManager.getInstance();\n        live2DManager.onDrag(0.0, 0.0);\n        {\n            var x = this._deviceToScreen.transformX(this._touchManager.getX());\n            var y = this._deviceToScreen.transformY(this._touchManager.getY());\n            if (LAppDefine.DebugTouchLogEnable) {\n                lapppal_1.LAppPal.printMessage(\"[APP]touchesEnded x: \" + x + \" y: \" + y + \" pointX:\" + pointX + \" pointY:\" + pointY);\n            }\n            live2DManager.onTap(x, y);\n        }\n    };\n    LAppView.prototype.transformViewX = function (deviceX) {\n        var screenX = this._deviceToScreen.transformX(deviceX);\n        return this._viewMatrix.invertTransformX(screenX);\n    };\n    LAppView.prototype.transformViewY = function (deviceY) {\n        var screenY = this._deviceToScreen.transformY(deviceY);\n        return this._viewMatrix.invertTransformY(screenY);\n    };\n    LAppView.prototype.transformScreenX = function (deviceX) {\n        return this._deviceToScreen.transformX(deviceX);\n    };\n    LAppView.prototype.transformScreenY = function (deviceY) {\n        return this._deviceToScreen.transformY(deviceY);\n    };\n    return LAppView;\n}());\nexports.LAppView = LAppView;\n;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGFwcHZpZXcudHMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbGFwcHZpZXcudHM/YzA2MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodChjKSBMaXZlMkQgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IHRoZSBMaXZlMkQgT3BlbiBTb2Z0d2FyZSBsaWNlbnNlXG4gKiB0aGF0IGNhbiBiZSBmb3VuZCBhdCBodHRwczovL3d3dy5saXZlMmQuY29tL2V1bGEvbGl2ZTJkLW9wZW4tc29mdHdhcmUtbGljZW5zZS1hZ3JlZW1lbnRfZW4uaHRtbC5cbiAqL1xuXG5pbXBvcnQgeyBMaXZlMkRDdWJpc21GcmFtZXdvcmsgYXMgY3ViaXNtTWF0cml4NDQgfSBmcm9tICdAZnJhbWV3b3JrL21hdGgvY3ViaXNtbWF0cml4NDQnO1xuaW1wb3J0IHsgTGl2ZTJEQ3ViaXNtRnJhbWV3b3JrIGFzIGN1YmlzbXZpZXdtYXRyaXggfSBmcm9tICdAZnJhbWV3b3JrL21hdGgvY3ViaXNtdmlld21hdHJpeCc7XG5pbXBvcnQgQ3NtX0N1YmlzbVZpZXdNYXRyaXggPSBjdWJpc212aWV3bWF0cml4LkN1YmlzbVZpZXdNYXRyaXg7XG5pbXBvcnQgQ3NtX0N1YmlzbU1hdHJpeDQ0ID0gY3ViaXNtTWF0cml4NDQuQ3ViaXNtTWF0cml4NDQ7XG5pbXBvcnQgeyBUb3VjaE1hbmFnZXIgfSBmcm9tICcuL3RvdWNobWFuYWdlcic7XG5pbXBvcnQgeyBMQXBwTGl2ZTJETWFuYWdlciB9IGZyb20gJy4vbGFwcGxpdmUyZG1hbmFnZXInO1xuaW1wb3J0IHsgTEFwcERlbGVnYXRlLCBjYW52YXMsIGdsIH0gZnJvbSAnLi9sYXBwZGVsZWdhdGUnO1xuaW1wb3J0IHsgTEFwcFNwcml0ZSB9IGZyb20gJy4vbGFwcHNwcml0ZSc7XG5pbXBvcnQgeyBUZXh0dXJlSW5mbyB9IGZyb20gJy4vbGFwcHRleHR1cmVtYW5hZ2VyJztcbmltcG9ydCB7IExBcHBQYWwgfSBmcm9tICcuL2xhcHBwYWwnO1xuaW1wb3J0ICogYXMgTEFwcERlZmluZSBmcm9tICcuL2xhcHBkZWZpbmUnO1xuXG5cblxuLyoqXG4gKiDmj4/nlLvjgq/jg6njgrnjgIJcbiAqL1xuZXhwb3J0IGNsYXNzIExBcHBWaWV3IHtcblxuICBfdG91Y2hNYW5hZ2VyOiBUb3VjaE1hbmFnZXI7IC8vIOOCv+ODg+ODgeODnuODjeODvOOCuOODo+ODvFxuICBfZGV2aWNlVG9TY3JlZW46IENzbV9DdWJpc21NYXRyaXg0NDsgLy8g44OH44OQ44Kk44K544GL44KJ44K544Kv44Oq44O844Oz44G444Gu6KGM5YiXXG4gIF92aWV3TWF0cml4OiBDc21fQ3ViaXNtVmlld01hdHJpeDsgLy8gdmlld01hdHJpeFxuICBfcHJvZ3JhbUlkOiBXZWJHTFByb2dyYW07IC8vIOOCt+OCp+ODvOODgElEXG4gIF9iYWNrOiBMQXBwU3ByaXRlOyAvLyDog4zmma/nlLvlg49cbiAgX2dlYXI6IExBcHBTcHJpdGU7IC8vIOOCruOCoueUu+WDj1xuICBfY2hhbmdlTW9kZWw6IGJvb2xlYW47IC8vIOODouODh+ODq+WIh+OCiuabv+OBiOODleODqeOCsFxuICBfaXNDbGljazogYm9vbGVhbjsgLy8g44Kv44Oq44OD44Kv5LitXG4gIF9uZXh0X3JhbmRvbV9tb3Rpb246IExBcHBTcHJpdGU7IC8vIOmaj+acuuS4gOS4quWKqOS9nFxuICBfbnVtID0gMC44O1xuICAvKipcbiAgICog44Kz44Oz44K544OI44Op44Kv44K/XG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9wcm9ncmFtSWQgPSBudWxsO1xuICAgIHRoaXMuX2JhY2sgPSBudWxsO1xuICAgIHRoaXMuX2dlYXIgPSBudWxsO1xuICAgIHRoaXMuX25leHRfcmFuZG9tX21vdGlvbiA9IG51bGw7XG5cbiAgICAvLyDjgr/jg4Pjg4HplqLkv4Ljga7jgqTjg5njg7Pjg4jnrqHnkIZcbiAgICB0aGlzLl90b3VjaE1hbmFnZXIgPSBuZXcgVG91Y2hNYW5hZ2VyKCk7XG5cbiAgICAvLyDjg4fjg5DjgqTjgrnluqfmqJnjgYvjgonjgrnjgq/jg6rjg7zjg7PluqfmqJnjgavlpInmj5vjgZnjgovjgZ/jgoHjga5cbiAgICB0aGlzLl9kZXZpY2VUb1NjcmVlbiA9IG5ldyBDc21fQ3ViaXNtTWF0cml4NDQoKTtcblxuICAgIC8vIOeUu+mdouOBruihqOekuuOBruaLoeWkp+e4ruWwj+OChOenu+WLleOBruWkieaPm+OCkuihjOOBhuihjOWIl1xuICAgIHRoaXMuX3ZpZXdNYXRyaXggPSBuZXcgQ3NtX0N1YmlzbVZpZXdNYXRyaXgoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDliJ3mnJ/ljJbjgZnjgovjgIJcbiAgICovXG4gIHB1YmxpYyBpbml0aWFsaXplKCk6IHZvaWQge1xuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gY2FudmFzO1xuXG4gICAgY29uc3QgcmF0aW86IG51bWJlciA9IGhlaWdodCAvIHdpZHRoO1xuICAgIGNvbnN0IGxlZnQ6IG51bWJlciA9IExBcHBEZWZpbmUuVmlld0xvZ2ljYWxMZWZ0O1xuICAgIGNvbnN0IHJpZ2h0OiBudW1iZXIgPSBMQXBwRGVmaW5lLlZpZXdMb2dpY2FsUmlnaHQ7XG4gICAgY29uc3QgYm90dG9tOiBudW1iZXIgPSAtcmF0aW87XG4gICAgY29uc3QgdG9wOiBudW1iZXIgPSByYXRpbztcblxuICAgIHRoaXMuX3ZpZXdNYXRyaXguc2V0U2NyZWVuUmVjdChsZWZ0LCByaWdodCwgYm90dG9tLCB0b3ApOyAvLyDjg4fjg5DjgqTjgrnjgavlr77lv5zjgZnjgovnlLvpnaLjga7nr4Tlm7LjgIIgWOOBruW3puerr+OAgVjjga7lj7Pnq6/jgIFZ44Gu5LiL56uv44CBWeOBruS4iuerr1xuXG4gICAgY29uc3Qgc2NyZWVuVzogbnVtYmVyID0gTWF0aC5hYnMobGVmdCAtIHJpZ2h0KTtcbiAgICB0aGlzLl9kZXZpY2VUb1NjcmVlbi5zY2FsZVJlbGF0aXZlKHNjcmVlblcgLyB3aWR0aCwgLXNjcmVlblcgLyB3aWR0aCk7XG4gICAgdGhpcy5fZGV2aWNlVG9TY3JlZW4udHJhbnNsYXRlUmVsYXRpdmUoLXdpZHRoICogMC41LCAtaGVpZ2h0ICogMC41KTtcblxuICAgIC8vIOihqOekuuevhOWbsuOBruioreWumlxuICAgIHRoaXMuX3ZpZXdNYXRyaXguc2V0TWF4U2NhbGUoTEFwcERlZmluZS5WaWV3TWF4U2NhbGUpOyAvLyDpmZDnlYzmi6HlvLXnjodcbiAgICB0aGlzLl92aWV3TWF0cml4LnNldE1pblNjYWxlKExBcHBEZWZpbmUuVmlld01pblNjYWxlKTsgLy8g6ZmQ55WM57iu5bCP546HXG5cbiAgICAvLyDooajnpLrjgafjgY3jgovmnIDlpKfnr4Tlm7JcbiAgICB0aGlzLl92aWV3TWF0cml4LnNldE1heFNjcmVlblJlY3QoXG4gICAgICAgIExBcHBEZWZpbmUuVmlld0xvZ2ljYWxNYXhMZWZ0LFxuICAgICAgICBMQXBwRGVmaW5lLlZpZXdMb2dpY2FsTWF4UmlnaHQsXG4gICAgICAgIExBcHBEZWZpbmUuVmlld0xvZ2ljYWxNYXhCb3R0b20sXG4gICAgICAgIExBcHBEZWZpbmUuVmlld0xvZ2ljYWxNYXhUb3BcbiAgICApO1xuXG4gIH1cbiAgLyoqXG4gICAqIOino+aUvuOBmeOCi1xuICAgKi9cbiAgcHVibGljIHJlbGVhc2UoKTogdm9pZCB7XG4gICAgdGhpcy5fdmlld01hdHJpeCA9IG51bGw7XG4gICAgdGhpcy5fdG91Y2hNYW5hZ2VyID0gbnVsbDtcbiAgICB0aGlzLl9kZXZpY2VUb1NjcmVlbiA9IG51bGw7XG5cbiAgICB0aGlzLl9nZWFyLnJlbGVhc2UoKTtcbiAgICB0aGlzLl9nZWFyID0gbnVsbDtcblxuICAgIHRoaXMuX2JhY2sucmVsZWFzZSgpO1xuICAgIHRoaXMuX2JhY2sgPSBudWxsO1xuXG4gICAgZ2wuZGVsZXRlUHJvZ3JhbSh0aGlzLl9wcm9ncmFtSWQpO1xuICAgIHRoaXMuX3Byb2dyYW1JZCA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICog5o+P55S744GZ44KL44CCXG4gICAqL1xuICBwdWJsaWMgcmVuZGVyKCk6IHZvaWQge1xuICAgIGdsLnVzZVByb2dyYW0odGhpcy5fcHJvZ3JhbUlkKTtcblxuICAgIGlmICh0aGlzLl9iYWNrKSB7XG4gICAgICB0aGlzLl9iYWNrLnJlbmRlcih0aGlzLl9wcm9ncmFtSWQpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fZ2Vhcikge1xuICAgICAgdGhpcy5fZ2Vhci5yZW5kZXIodGhpcy5fcHJvZ3JhbUlkKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX25leHRfcmFuZG9tX21vdGlvbikge1xuICAgICAgdGhpcy5fbmV4dF9yYW5kb21fbW90aW9uLnJlbmRlcih0aGlzLl9wcm9ncmFtSWQpO1xuICAgIH1cblxuICAgIGdsLmZsdXNoKCk7XG5cbiAgICBjb25zdCBsaXZlMkRNYW5hZ2VyOiBMQXBwTGl2ZTJETWFuYWdlciA9IExBcHBMaXZlMkRNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cbiAgICBsaXZlMkRNYW5hZ2VyLm9uVXBkYXRlKCk7XG4gIH1cblxuICAvKipcbiAgICog55S75YOP44Gu5Yid5pyf5YyW44KS6KGM44GG44CCXG4gICAqL1xuICBwdWJsaWMgaW5pdGlhbGl6ZVNwcml0ZSgpOiB2b2lkIHtcbiAgICBjb25zdCB3aWR0aDogbnVtYmVyID0gY2FudmFzLndpZHRoO1xuICAgIGNvbnN0IGhlaWdodDogbnVtYmVyID0gY2FudmFzLmhlaWdodDtcblxuICAgIGNvbnN0IHRleHR1cmVNYW5hZ2VyID0gTEFwcERlbGVnYXRlLmdldEluc3RhbmNlKCkuZ2V0VGV4dHVyZU1hbmFnZXIoKTtcbiAgICBjb25zdCByZXNvdXJjZXNQYXRoID0gTEFwcERlZmluZS5SZXNvdXJjZXNQYXRoO1xuXG4gICAgbGV0IGltYWdlTmFtZSA9ICcnO1xuXG4gICAgLy8g6IOM5pmv55S75YOP5Yid5pyf5YyWXG4gICAgaW1hZ2VOYW1lID0gTEFwcERlZmluZS5CYWNrSW1hZ2VOYW1lO1xuXG4gICAgLy8g6Z2e5ZCM5pyf44Gq44Gu44Gn44Kz44O844Or44OQ44OD44Kv6Zai5pWw44KS5L2c5oiQXG4gICAgLy8gY29uc3QgaW5pdEJhY2tHcm91bmRUZXh0dXJlID0gKHRleHR1cmVJbmZvOiBUZXh0dXJlSW5mbyk6IHZvaWQgPT4ge1xuICAgIC8vICAgY29uc3QgeDogbnVtYmVyID0gd2lkdGggKiAwLjU7XG4gICAgLy8gICBjb25zdCB5OiBudW1iZXIgPSBoZWlnaHQgKiAwLjU7XG5cbiAgICAvLyAgIGNvbnN0IGZ3aWR0aCA9IHRleHR1cmVJbmZvLndpZHRoICogMi4wO1xuICAgIC8vICAgY29uc3QgZmhlaWdodCA9IGhlaWdodCAqIDAuOTU7XG4gICAgLy8gICB0aGlzLl9iYWNrID0gbmV3IExBcHBTcHJpdGUoeCwgeSwgZndpZHRoLCBmaGVpZ2h0LCB0ZXh0dXJlSW5mby5pZCk7XG4gICAgLy8gfTtcblxuICAgIC8vIHRleHR1cmVNYW5hZ2VyLmNyZWF0ZVRleHR1cmVGcm9tUG5nRmlsZShcbiAgICAvLyAgIHJlc291cmNlc1BhdGggKyBpbWFnZU5hbWUsXG4gICAgLy8gICBmYWxzZSxcbiAgICAvLyAgIGluaXRCYWNrR3JvdW5kVGV4dHVyZVxuICAgIC8vICk7XG5cbiAgICAvLyDmra/ou4rnlLvlg4/liJ3mnJ/ljJZcbiAgICAvLyBpbWFnZU5hbWUgPSBMQXBwRGVmaW5lLkdlYXJJbWFnZU5hbWU7XG4gICAgLy8gY29uc3QgaW5pdEdlYXJUZXh0dXJlID0gKHRleHR1cmVJbmZvOiBUZXh0dXJlSW5mbyk6IHZvaWQgPT4ge1xuICAgIC8vICAgY29uc3QgeCA9IHdpZHRoIC0gdGV4dHVyZUluZm8ud2lkdGggKiAwLjU7XG4gICAgLy8gICBjb25zdCB5ID0gaGVpZ2h0IC0gdGV4dHVyZUluZm8uaGVpZ2h0ICogMC41O1xuICAgIC8vICAgY29uc3QgZndpZHRoID0gdGV4dHVyZUluZm8ud2lkdGg7XG4gICAgLy8gICBjb25zdCBmaGVpZ2h0ID0gdGV4dHVyZUluZm8uaGVpZ2h0O1xuICAgIC8vICAgdGhpcy5fZ2VhciA9IG5ldyBMQXBwU3ByaXRlKHgsIHksIGZ3aWR0aCwgZmhlaWdodCwgdGV4dHVyZUluZm8uaWQpO1xuICAgIC8vIH07XG4gICAgLy9cbiAgICAvLyB0ZXh0dXJlTWFuYWdlci5jcmVhdGVUZXh0dXJlRnJvbVBuZ0ZpbGUoXG4gICAgLy8gICAgIHJlc291cmNlc1BhdGggKyBpbWFnZU5hbWUsXG4gICAgLy8gICAgIGZhbHNlLFxuICAgIC8vICAgICBpbml0R2VhclRleHR1cmVcbiAgICAvLyApO1xuICAgIC8vIOOCt+OCp+ODvOODgOODvOOCkuS9nOaIkFxuICAgIGlmICh0aGlzLl9wcm9ncmFtSWQgPT0gbnVsbCkge1xuICAgICAgdGhpcy5fcHJvZ3JhbUlkID0gTEFwcERlbGVnYXRlLmdldEluc3RhbmNlKCkuY3JlYXRlU2hhZGVyKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOiiq+inpuaRuOeahOaXtuWAmeiiq+WPq+OAglxuICAgKlxuICAgKiBAcGFyYW0gcG9pbnRYIOWxj+W5lVjlnZDmoIdcbiAgICogQHBhcmFtIHBvaW50WSDlsY/luZVZ5Z2Q5qCHXG4gICAqL1xuICBwdWJsaWMgb25Ub3VjaGVzQmVnYW4ocG9pbnRYOiBudW1iZXIsIHBvaW50WTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5fdG91Y2hNYW5hZ2VyLnRvdWNoZXNCZWdhbihwb2ludFgsIHBvaW50WSk7XG4gIH1cblxuICAvKipcbiAgICog6Kem5pG455qE5pe25YCZ5aaC5p6c5oyH6ZKI56e75Yqo55qE6K+d5bCx5Lya6KKr5Y+r44CCXG4gICAqXG4gICAqIEBwYXJhbSBwb2ludFgg44K544Kv44Oq44O844OzWOW6p+aomVxuICAgKiBAcGFyYW0gcG9pbnRZIOOCueOCr+ODquODvOODs1nluqfmqJlcbiAgICovXG4gIHB1YmxpYyBvblRvdWNoZXNNb3ZlZChwb2ludFg6IG51bWJlciwgcG9pbnRZOiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCB2aWV3WDogbnVtYmVyID0gdGhpcy50cmFuc2Zvcm1WaWV3WCh0aGlzLl90b3VjaE1hbmFnZXIuZ2V0WCgpKTtcbiAgICBjb25zdCB2aWV3WTogbnVtYmVyID0gdGhpcy50cmFuc2Zvcm1WaWV3WSh0aGlzLl90b3VjaE1hbmFnZXIuZ2V0WSgpKTtcblxuICAgIHRoaXMuX3RvdWNoTWFuYWdlci50b3VjaGVzTW92ZWQocG9pbnRYLCBwb2ludFkpO1xuICAgIGNvbnN0IGxpdmUyRE1hbmFnZXI6IExBcHBMaXZlMkRNYW5hZ2VyID0gTEFwcExpdmUyRE1hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICBsaXZlMkRNYW5hZ2VyLm9uRHJhZyh2aWV3WCwgdmlld1kpO1xuICB9XG5cbiAgLyoqXG4gICAqIOOCv+ODg+ODgeOBjOe1guS6huOBl+OBn+OCieWRvOOBsOOCjOOCi+OAglxuICAgKlxuICAgKiBAcGFyYW0gcG9pbnRYIOOCueOCr+ODquODvOODs1jluqfmqJlcbiAgICogQHBhcmFtIHBvaW50WSDjgrnjgq/jg6rjg7zjg7NZ5bqn5qiZXG4gICAqL1xuICBwdWJsaWMgb25Ub3VjaGVzRW5kZWQocG9pbnRYOiBudW1iZXIsIHBvaW50WTogbnVtYmVyKTogdm9pZCB7XG4gICAgLy8gY29uc3QgeyByZW1vdGUgfSA9IHJlcXVpcmUoJ2VsZWN0cm9uJylcbiAgICAvLyBsZXQgY3Vycl93aW5kb3cgPSByZW1vdGUuZ2V0Q3VycmVudFdpbmRvdygpO1xuICAgIC8vIC8v5pW05LiqYXBwIOW/veeVpeaJgOacieeCueWHu+S6i+S7tlxuICAgIC8vIGN1cnJfd2luZG93LnNldElnbm9yZU1vdXNlRXZlbnRzKHRydWUsIHsgZm9yd2FyZDogdHJ1ZSB9KVxuXG4gICAgLy8g6Kem5pG457uT5p2fXG4gICAgY29uc3QgbGl2ZTJETWFuYWdlcjogTEFwcExpdmUyRE1hbmFnZXIgPSBMQXBwTGl2ZTJETWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIGxpdmUyRE1hbmFnZXIub25EcmFnKDAuMCwgMC4wKTtcblxuICAgIHtcbiAgICAgIC8vIOOCt+ODs+OCsOODq+OCv+ODg+ODl1xuICAgICAgY29uc3QgeDogbnVtYmVyID0gdGhpcy5fZGV2aWNlVG9TY3JlZW4udHJhbnNmb3JtWChcbiAgICAgICAgICB0aGlzLl90b3VjaE1hbmFnZXIuZ2V0WCgpXG4gICAgICApOyAvLyDoq5bnkIbluqfmqJnlpInmj5vjgZfjgZ/luqfmqJnjgpLlj5blvpfjgIJcbiAgICAgIGNvbnN0IHk6IG51bWJlciA9IHRoaXMuX2RldmljZVRvU2NyZWVuLnRyYW5zZm9ybVkoXG4gICAgICAgICAgdGhpcy5fdG91Y2hNYW5hZ2VyLmdldFkoKVxuICAgICAgKTsgLy8g6KuW55CG5bqn5qiZ5aSJ5YyW44GX44Gf5bqn5qiZ44KS5Y+W5b6X44CCXG5cbiAgICAgIGlmIChMQXBwRGVmaW5lLkRlYnVnVG91Y2hMb2dFbmFibGUpIHtcbiAgICAgICAgTEFwcFBhbC5wcmludE1lc3NhZ2UoYFtBUFBddG91Y2hlc0VuZGVkIHg6ICR7eH0geTogJHt5fSBwb2ludFg6JHtwb2ludFh9IHBvaW50WToke3BvaW50WX1gKTtcbiAgICAgIH1cbiAgICAgIGxpdmUyRE1hbmFnZXIub25UYXAoeCwgeSk7XG4gICAgfVxuXG4gICAgLy8gY3Vycl93aW5kb3cuc2V0SWdub3JlTW91c2VFdmVudHMoZmFsc2UpXG5cbiAgfVxuXG4gIC8qKlxuICAgKiDlsIZY5Z2Q5qCH6L2s5o2i5Li6Vmlld+WdkOagh+OAglxuICAgKlxuICAgKiBAcGFyYW0gZGV2aWNlWCDjg4fjg5DjgqTjgrlY5bqn5qiZXG4gICAqL1xuICBwdWJsaWMgdHJhbnNmb3JtVmlld1goZGV2aWNlWDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBjb25zdCBzY3JlZW5YOiBudW1iZXIgPSB0aGlzLl9kZXZpY2VUb1NjcmVlbi50cmFuc2Zvcm1YKGRldmljZVgpOyAvLyDoq5bnkIbluqfmqJnlpInmj5vjgZfjgZ/luqfmqJnjgpLlj5blvpfjgIJcbiAgICByZXR1cm4gdGhpcy5fdmlld01hdHJpeC5pbnZlcnRUcmFuc2Zvcm1YKHNjcmVlblgpOyAvLyDmi6HlpKfjgIHnuK7lsI/jgIHnp7vli5Xlvozjga7lgKTjgIJcbiAgfVxuXG4gIC8qKlxuICAgKiBZ5bqn5qiZ44KSVmlld+W6p+aomeOBq+WkieaPm+OBmeOCi+OAglxuICAgKlxuICAgKiBAcGFyYW0gZGV2aWNlWSDjg4fjg5DjgqTjgrlZ5bqn5qiZXG4gICAqL1xuICBwdWJsaWMgdHJhbnNmb3JtVmlld1koZGV2aWNlWTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBjb25zdCBzY3JlZW5ZOiBudW1iZXIgPSB0aGlzLl9kZXZpY2VUb1NjcmVlbi50cmFuc2Zvcm1ZKGRldmljZVkpOyAvLyDoq5bnkIbluqfmqJnlpInmj5vjgZfjgZ/luqfmqJnjgpLlj5blvpfjgIJcbiAgICByZXR1cm4gdGhpcy5fdmlld01hdHJpeC5pbnZlcnRUcmFuc2Zvcm1ZKHNjcmVlblkpO1xuICB9XG5cbiAgLyoqXG4gICAqIOWwhljlnZDmoIflj5jmjaLkuLpTY3JlZW7lnZDmoIfjgIJcbiAgICogQHBhcmFtIGRldmljZVgg44OH44OQ44Kk44K5WOW6p+aomVxuICAgKi9cbiAgcHVibGljIHRyYW5zZm9ybVNjcmVlblgoZGV2aWNlWDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fZGV2aWNlVG9TY3JlZW4udHJhbnNmb3JtWChkZXZpY2VYKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBZ5bqn5qiZ44KSU2NyZWVu5bqn5qiZ44Gr5aSJ5o+b44GZ44KL44CCXG4gICAqXG4gICAqIEBwYXJhbSBkZXZpY2VZIOODh+ODkOOCpOOCuVnluqfmqJlcbiAgICovXG4gIHB1YmxpYyB0cmFuc2Zvcm1TY3JlZW5ZKGRldmljZVk6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX2RldmljZVRvU2NyZWVuLnRyYW5zZm9ybVkoZGV2aWNlWSk7XG4gIH1cblxuXG59OyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQU9BO0FBZUE7QUFKQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUdBO0FBQ0E7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUdBO0FBT0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBR0E7QUFrQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBT0E7QUFDQTtBQUVBO0FBRUE7QUFHQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBN1BBO0FBNlBBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/lappview.ts\n");

/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar lappdelegate_1 = __webpack_require__(/*! ./lappdelegate */ \"./src/lappdelegate.ts\");\nvar lapplive2dmanager_1 = __webpack_require__(/*! ./lapplive2dmanager */ \"./src/lapplive2dmanager.ts\");\nconsole.log('live2d_onload 加载准备');\nwindow[\"live2d_onload\"] = function (config) {\n    lappdelegate_1.LAppDelegate.getInstance().setLappModelEvent({\n        modelCompleteSetup: function () {\n            window[\"live2d\"] = lapplive2dmanager_1.LAppLive2DManager.getInstance();\n            config.loadModelComplete();\n        }\n    });\n    if (lappdelegate_1.LAppDelegate.getInstance().initialize() == false) {\n        return;\n    }\n    lappdelegate_1.LAppDelegate.getInstance().run();\n};\nwindow.onbeforeunload = function () { return lappdelegate_1.LAppDelegate.releaseInstance(); };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbWFpbi50cy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9tYWluLnRzP2NkNDkiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQoYykgTGl2ZTJEIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSB0aGUgTGl2ZTJEIE9wZW4gU29mdHdhcmUgbGljZW5zZVxuICogdGhhdCBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly93d3cubGl2ZTJkLmNvbS9ldWxhL2xpdmUyZC1vcGVuLXNvZnR3YXJlLWxpY2Vuc2UtYWdyZWVtZW50X2VuLmh0bWwuXG4gKi9cblxuaW1wb3J0IHtMQXBwRGVsZWdhdGUsIGxBcHBEZWxlZ2F0ZUV2ZW50fSBmcm9tICcuL2xhcHBkZWxlZ2F0ZSc7XG5pbXBvcnQge0xBcHBMaXZlMkRNYW5hZ2VyfSBmcm9tIFwiLi9sYXBwbGl2ZTJkbWFuYWdlclwiO1xuaW1wb3J0IHtMQXBwTW9kZWwsIExvYWRTdGVwfSBmcm9tIFwiLi9sYXBwbW9kZWxcIjtcbmltcG9ydCB7TEFwcFBhbH0gZnJvbSBcIi4vbGFwcHBhbFwiO1xuaW50ZXJmYWNlIGNvbmZpZ3tcbiAgICBsb2FkTW9kZWxDb21wbGV0ZSgpOnZvaWQ7XG4gICAgbGl2ZTJkX2NvbmZpZzp7fTtcbn1cbmNvbnNvbGUubG9nKCdsaXZlMmRfb25sb2FkIOWKoOi9veWHhuWkhycpO1xud2luZG93W1wibGl2ZTJkX29ubG9hZFwiXSAgPSAoY29uZmlnOmNvbmZpZyk6IHZvaWQgPT4ge1xuICAgIExBcHBEZWxlZ2F0ZS5nZXRJbnN0YW5jZSgpLnNldExhcHBNb2RlbEV2ZW50KHtcbiAgICAgICAgbW9kZWxDb21wbGV0ZVNldHVwKCl7XG4gICAgICAgICAgICB3aW5kb3dbXCJsaXZlMmRcIl0gPSBMQXBwTGl2ZTJETWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgICAgICAgY29uZmlnLmxvYWRNb2RlbENvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9KVxuICAgIC8vIGNyZWF0ZSB0aGUgYXBwbGljYXRpb24gaW5zdGFuY2VcbiAgICBpZiAoTEFwcERlbGVnYXRlLmdldEluc3RhbmNlKCkuaW5pdGlhbGl6ZSgpID09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBMQXBwRGVsZWdhdGUuZ2V0SW5zdGFuY2UoKS5ydW4oKTtcbn07XG5cbi8qKlxuICog57WC5LqG5pmC44Gu5Yem55CGXG4gKi9cbndpbmRvdy5vbmJlZm9yZXVubG9hZCA9ICgpOiB2b2lkID0+IExBcHBEZWxlZ2F0ZS5yZWxlYXNlSW5zdGFuY2UoKTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFPQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/main.ts\n");

/***/ }),

/***/ "./src/touchmanager.ts":
/*!*****************************!*\
  !*** ./src/touchmanager.ts ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TouchManager = void 0;\nvar TouchManager = (function () {\n    function TouchManager() {\n        this._startX = 0.0;\n        this._startY = 0.0;\n        this._lastX = 0.0;\n        this._lastY = 0.0;\n        this._lastX1 = 0.0;\n        this._lastY1 = 0.0;\n        this._lastX2 = 0.0;\n        this._lastY2 = 0.0;\n        this._lastTouchDistance = 0.0;\n        this._deltaX = 0.0;\n        this._deltaY = 0.0;\n        this._scale = 0.5;\n        this._touchSingle = false;\n        this._flipAvailable = false;\n    }\n    TouchManager.prototype.getCenterX = function () {\n        return this._lastX;\n    };\n    TouchManager.prototype.getCenterY = function () {\n        return this._lastY;\n    };\n    TouchManager.prototype.getDeltaX = function () {\n        return this._deltaX;\n    };\n    TouchManager.prototype.getDeltaY = function () {\n        return this._deltaY;\n    };\n    TouchManager.prototype.getStartX = function () {\n        return this._startX;\n    };\n    TouchManager.prototype.getStartY = function () {\n        return this._startY;\n    };\n    TouchManager.prototype.getScale = function () {\n        return this._scale;\n    };\n    TouchManager.prototype.getX = function () {\n        return this._lastX;\n    };\n    TouchManager.prototype.getY = function () {\n        return this._lastY;\n    };\n    TouchManager.prototype.getX1 = function () {\n        return this._lastX1;\n    };\n    TouchManager.prototype.getY1 = function () {\n        return this._lastY1;\n    };\n    TouchManager.prototype.getX2 = function () {\n        return this._lastX2;\n    };\n    TouchManager.prototype.getY2 = function () {\n        return this._lastY2;\n    };\n    TouchManager.prototype.isSingleTouch = function () {\n        return this._touchSingle;\n    };\n    TouchManager.prototype.isFlickAvailable = function () {\n        return this._flipAvailable;\n    };\n    TouchManager.prototype.disableFlick = function () {\n        this._flipAvailable = false;\n    };\n    TouchManager.prototype.touchesBegan = function (deviceX, deviceY) {\n        this._lastX = deviceX;\n        this._lastY = deviceY;\n        this._startX = deviceX;\n        this._startY = deviceY;\n        this._lastTouchDistance = -1.0;\n        this._flipAvailable = true;\n        this._touchSingle = true;\n    };\n    TouchManager.prototype.touchesMoved = function (deviceX, deviceY) {\n        this._lastX = deviceX;\n        this._lastY = deviceY;\n        this._lastTouchDistance = -1.0;\n        this._touchSingle = true;\n    };\n    TouchManager.prototype.getFlickDistance = function () {\n        return this.calculateDistance(this._startX, this._startY, this._lastX, this._lastY);\n    };\n    TouchManager.prototype.calculateDistance = function (x1, y1, x2, y2) {\n        return Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));\n    };\n    TouchManager.prototype.calculateMovingAmount = function (v1, v2) {\n        if (v1 > 0.0 != v2 > 0.0) {\n            return 0.0;\n        }\n        var sign = v1 > 0.0 ? 1.0 : -1.0;\n        var absoluteValue1 = Math.abs(v1);\n        var absoluteValue2 = Math.abs(v2);\n        return (sign * (absoluteValue1 < absoluteValue2 ? absoluteValue1 : absoluteValue2));\n    };\n    return TouchManager;\n}());\nexports.TouchManager = TouchManager;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdG91Y2htYW5hZ2VyLnRzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3RvdWNobWFuYWdlci50cz9hMmVhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0KGMpIExpdmUyRCBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIExpdmUyRCBPcGVuIFNvZnR3YXJlIGxpY2Vuc2VcbiAqIHRoYXQgY2FuIGJlIGZvdW5kIGF0IGh0dHBzOi8vd3d3LmxpdmUyZC5jb20vZXVsYS9saXZlMmQtb3Blbi1zb2Z0d2FyZS1saWNlbnNlLWFncmVlbWVudF9lbi5odG1sLlxuICovXG5cbmV4cG9ydCBjbGFzcyBUb3VjaE1hbmFnZXIge1xuICAvKipcbiAgICog44Kz44Oz44K544OI44Op44Kv44K/XG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9zdGFydFggPSAwLjA7XG4gICAgdGhpcy5fc3RhcnRZID0gMC4wO1xuICAgIHRoaXMuX2xhc3RYID0gMC4wO1xuICAgIHRoaXMuX2xhc3RZID0gMC4wO1xuICAgIHRoaXMuX2xhc3RYMSA9IDAuMDtcbiAgICB0aGlzLl9sYXN0WTEgPSAwLjA7XG4gICAgdGhpcy5fbGFzdFgyID0gMC4wO1xuICAgIHRoaXMuX2xhc3RZMiA9IDAuMDtcbiAgICB0aGlzLl9sYXN0VG91Y2hEaXN0YW5jZSA9IDAuMDtcbiAgICB0aGlzLl9kZWx0YVggPSAwLjA7XG4gICAgdGhpcy5fZGVsdGFZID0gMC4wO1xuICAgIHRoaXMuX3NjYWxlID0gMC41O1xuICAgIHRoaXMuX3RvdWNoU2luZ2xlID0gZmFsc2U7XG4gICAgdGhpcy5fZmxpcEF2YWlsYWJsZSA9IGZhbHNlO1xuICB9XG5cbiAgcHVibGljIGdldENlbnRlclgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fbGFzdFg7XG4gIH1cblxuICBwdWJsaWMgZ2V0Q2VudGVyWSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9sYXN0WTtcbiAgfVxuXG4gIHB1YmxpYyBnZXREZWx0YVgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fZGVsdGFYO1xuICB9XG5cbiAgcHVibGljIGdldERlbHRhWSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9kZWx0YVk7XG4gIH1cblxuICBwdWJsaWMgZ2V0U3RhcnRYKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX3N0YXJ0WDtcbiAgfVxuXG4gIHB1YmxpYyBnZXRTdGFydFkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fc3RhcnRZO1xuICB9XG5cbiAgcHVibGljIGdldFNjYWxlKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX3NjYWxlO1xuICB9XG5cbiAgcHVibGljIGdldFgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fbGFzdFg7XG4gIH1cblxuICBwdWJsaWMgZ2V0WSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9sYXN0WTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRYMSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9sYXN0WDE7XG4gIH1cblxuICBwdWJsaWMgZ2V0WTEoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fbGFzdFkxO1xuICB9XG5cbiAgcHVibGljIGdldFgyKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX2xhc3RYMjtcbiAgfVxuXG4gIHB1YmxpYyBnZXRZMigpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9sYXN0WTI7XG4gIH1cblxuICBwdWJsaWMgaXNTaW5nbGVUb3VjaCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5fdG91Y2hTaW5nbGU7XG4gIH1cblxuICBwdWJsaWMgaXNGbGlja0F2YWlsYWJsZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5fZmxpcEF2YWlsYWJsZTtcbiAgfVxuXG4gIHB1YmxpYyBkaXNhYmxlRmxpY2soKTogdm9pZCB7XG4gICAgdGhpcy5fZmxpcEF2YWlsYWJsZSA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIOOCv+ODg+ODgemWi+Wni+aZguOCpOODmeODs+ODiFxuICAgKiBAcGFyYW0gZGV2aWNlWCDjgr/jg4Pjg4HjgZfjgZ/nlLvpnaLjga5444Gu5YCkXG4gICAqIEBwYXJhbSBkZXZpY2VZIOOCv+ODg+ODgeOBl+OBn+eUu+mdouOBrnnjga7lgKRcbiAgICovXG4gIHB1YmxpYyB0b3VjaGVzQmVnYW4oZGV2aWNlWDogbnVtYmVyLCBkZXZpY2VZOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLl9sYXN0WCA9IGRldmljZVg7XG4gICAgdGhpcy5fbGFzdFkgPSBkZXZpY2VZO1xuICAgIHRoaXMuX3N0YXJ0WCA9IGRldmljZVg7XG4gICAgdGhpcy5fc3RhcnRZID0gZGV2aWNlWTtcbiAgICB0aGlzLl9sYXN0VG91Y2hEaXN0YW5jZSA9IC0xLjA7XG4gICAgdGhpcy5fZmxpcEF2YWlsYWJsZSA9IHRydWU7XG4gICAgdGhpcy5fdG91Y2hTaW5nbGUgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIOODieODqeODg+OCsOaZguOBruOCpOODmeODs+ODiFxuICAgKiBAcGFyYW0gZGV2aWNlWCDjgr/jg4Pjg4HjgZfjgZ/nlLvpnaLjga5444Gu5YCkXG4gICAqIEBwYXJhbSBkZXZpY2VZIOOCv+ODg+ODgeOBl+OBn+eUu+mdouOBrnnjga7lgKRcbiAgICovXG4gIHB1YmxpYyB0b3VjaGVzTW92ZWQoZGV2aWNlWDogbnVtYmVyLCBkZXZpY2VZOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLl9sYXN0WCA9IGRldmljZVg7XG4gICAgdGhpcy5fbGFzdFkgPSBkZXZpY2VZO1xuICAgIHRoaXMuX2xhc3RUb3VjaERpc3RhbmNlID0gLTEuMDtcbiAgICB0aGlzLl90b3VjaFNpbmdsZSA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICog44OV44Oq44OD44Kv44Gu6Led6Zui5ris5a6aXG4gICAqIEByZXR1cm4g44OV44Oq44OD44Kv6Led6ZuiXG4gICAqL1xuICBwdWJsaWMgZ2V0RmxpY2tEaXN0YW5jZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmNhbGN1bGF0ZURpc3RhbmNlKFxuICAgICAgdGhpcy5fc3RhcnRYLFxuICAgICAgdGhpcy5fc3RhcnRZLFxuICAgICAgdGhpcy5fbGFzdFgsXG4gICAgICB0aGlzLl9sYXN0WVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICog54K577yR44GL44KJ54K577yS44G444Gu6Led6Zui44KS5rGC44KB44KLXG4gICAqXG4gICAqIEBwYXJhbSB4MSDvvJHjgaTnm67jga7jgr/jg4Pjg4HjgZfjgZ/nlLvpnaLjga5444Gu5YCkXG4gICAqIEBwYXJhbSB5MSDvvJHjgaTnm67jga7jgr/jg4Pjg4HjgZfjgZ/nlLvpnaLjga5544Gu5YCkXG4gICAqIEBwYXJhbSB4MiDvvJLjgaTnm67jga7jgr/jg4Pjg4HjgZfjgZ/nlLvpnaLjga5444Gu5YCkXG4gICAqIEBwYXJhbSB5MiDvvJLjgaTnm67jga7jgr/jg4Pjg4HjgZfjgZ/nlLvpnaLjga5544Gu5YCkXG4gICAqL1xuICBwdWJsaWMgY2FsY3VsYXRlRGlzdGFuY2UoXG4gICAgeDE6IG51bWJlcixcbiAgICB5MTogbnVtYmVyLFxuICAgIHgyOiBudW1iZXIsXG4gICAgeTI6IG51bWJlclxuICApOiBudW1iZXIge1xuICAgIHJldHVybiBNYXRoLnNxcnQoKHgxIC0geDIpICogKHgxIC0geDIpICsgKHkxIC0geTIpICogKHkxIC0geTIpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDvvJLjgaTnm67jga7lgKTjgYvjgonjgIHnp7vli5Xph4/jgpLmsYLjgoHjgovjgIJcbiAgICog6YGV44GG5pa55ZCR44Gu5aC05ZCI44Gv56e75YuV6YeP77yQ44CC5ZCM44GY5pa55ZCR44Gu5aC05ZCI44Gv44CB57W25a++5YCk44GM5bCP44GV44GE5pa544Gu5YCk44KS5Y+C54Wn44GZ44KL44CCXG4gICAqXG4gICAqIEBwYXJhbSB2MSDvvJHjgaTnm67jga7np7vli5Xph49cbiAgICogQHBhcmFtIHYyIO+8kuOBpOebruOBruenu+WLlemHj1xuICAgKlxuICAgKiBAcmV0dXJuIOWwj+OBleOBhOaWueOBruenu+WLlemHj1xuICAgKi9cbiAgcHVibGljIGNhbGN1bGF0ZU1vdmluZ0Ftb3VudCh2MTogbnVtYmVyLCB2MjogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBpZiAodjEgPiAwLjAgIT0gdjIgPiAwLjApIHtcbiAgICAgIHJldHVybiAwLjA7XG4gICAgfVxuXG4gICAgY29uc3Qgc2lnbjogbnVtYmVyID0gdjEgPiAwLjAgPyAxLjAgOiAtMS4wO1xuICAgIGNvbnN0IGFic29sdXRlVmFsdWUxID0gTWF0aC5hYnModjEpO1xuICAgIGNvbnN0IGFic29sdXRlVmFsdWUyID0gTWF0aC5hYnModjIpO1xuICAgIHJldHVybiAoXG4gICAgICBzaWduICogKGFic29sdXRlVmFsdWUxIDwgYWJzb2x1dGVWYWx1ZTIgPyBhYnNvbHV0ZVZhbHVlMSA6IGFic29sdXRlVmFsdWUyKVxuICAgICk7XG4gIH1cblxuICBfc3RhcnRZOiBudW1iZXI7IC8vIOOCv+ODg+ODgeOCkumWi+Wni+OBl+OBn+aZguOBrnjjga7lgKRcbiAgX3N0YXJ0WDogbnVtYmVyOyAvLyDjgr/jg4Pjg4HjgpLplovlp4vjgZfjgZ/mmYLjga5544Gu5YCkXG4gIF9sYXN0WDogbnVtYmVyOyAvLyDjgrfjg7PjgrDjg6vjgr/jg4Pjg4HmmYLjga5444Gu5YCkXG4gIF9sYXN0WTogbnVtYmVyOyAvLyDjgrfjg7PjgrDjg6vjgr/jg4Pjg4HmmYLjga5544Gu5YCkXG4gIF9sYXN0WDE6IG51bWJlcjsgLy8g44OA44OW44Or44K/44OD44OB5pmC44Gu5LiA44Gk55uu44GueOOBruWApFxuICBfbGFzdFkxOiBudW1iZXI7IC8vIOODgOODluODq+OCv+ODg+ODgeaZguOBruS4gOOBpOebruOBrnnjga7lgKRcbiAgX2xhc3RYMjogbnVtYmVyOyAvLyDjg4Djg5bjg6vjgr/jg4Pjg4HmmYLjga7kuozjgaTnm67jga5444Gu5YCkXG4gIF9sYXN0WTI6IG51bWJlcjsgLy8g44OA44OW44Or44K/44OD44OB5pmC44Gu5LqM44Gk55uu44GueeOBruWApFxuICBfbGFzdFRvdWNoRGlzdGFuY2U6IG51bWJlcjsgLy8gMuacrOS7peS4iuOBp+OCv+ODg+ODgeOBl+OBn+OBqOOBjeOBruaMh+OBrui3nembolxuICBfZGVsdGFYOiBudW1iZXI7IC8vIOWJjeWbnuOBruWApOOBi+OCieS7iuWbnuOBruWApOOBuOOBrnjjga7np7vli5Xot53pm6LjgIJcbiAgX2RlbHRhWTogbnVtYmVyOyAvLyDliY3lm57jga7lgKTjgYvjgonku4rlm57jga7lgKTjgbjjga5544Gu56e75YuV6Led6Zui44CCXG4gIF9zY2FsZTogbnVtYmVyOyAvLyDlnKjov5nkuKrmoYbmnrbkuIrnm7jkuZjnmoTmlL7lpKfnjofjgILmianlpKfmk43kvZzkuK3ku6XlpJYx44CCXG4gIF90b3VjaFNpbmdsZTogYm9vbGVhbjsgLy8g44K344Oz44Kw44Or44K/44OD44OB5pmC44GvdHJ1ZVxuICBfZmxpcEF2YWlsYWJsZTogYm9vbGVhbjsgLy8g44OV44Oq44OD44OX44GM5pyJ5Yq544GL44Gp44GG44GLXG59XG4iXSwibWFwcGluZ3MiOiI7OztBQU9BO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBTUE7QUFVQTtBQU1BO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFnQkE7QUFBQTtBQWxMQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/touchmanager.ts\n");

/***/ }),

/***/ "electron":
/*!***************************!*\
  !*** external "electron" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"electron\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWxlY3Ryb24uanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJlbGVjdHJvblwiPzA0ZjMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZWxlY3Ryb25cIik7Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///electron\n");

/***/ })

/******/ });